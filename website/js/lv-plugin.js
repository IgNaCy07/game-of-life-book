var eb="function"==typeof Object.defineProperties?Object.defineProperty:function(d,k,p){d!=Array.prototype&&d!=Object.prototype&&(d[k]=p.value)};function gb(d){d=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,d];for(var k=0;k<d.length;++k){var p=d[k];if(p&&p.Math==Math)return p}return globalThis}var hb=gb(this);
function ib(d,k){if(k){var p=hb;d=d.split(".");for(var h=0;h<d.length-1;h++){var t=d[h];t in p||(p[t]={});p=p[t]}d=d[d.length-1];h=p[d];k=k(h);k!=h&&null!=k&&eb(p,d,{configurable:!0,writable:!0,value:k})}}ib("Array.prototype.fill",function(d){return d?d:function(k,p,h){var t=this.length||0;0>p&&(p=Math.max(0,t+p));if(null==h||h>t)h=t;h=Number(h);0>h&&(h=Math.max(0,t+h));for(p=Number(p||0);p<h;p++)this[p]=k;return this}});
ib("Array.prototype.copyWithin",function(d){function k(p){p=Number(p);return Infinity===p||-Infinity===p?p:p|0}return d?d:function(p,h,t){var a=this.length;p=k(p);h=k(h);t=void 0===t?a:k(t);p=0>p?Math.max(a+p,0):Math.min(p,a);h=0>h?Math.max(a+h,0):Math.min(h,a);t=0>t?Math.max(a+t,0):Math.min(t,a);if(p<h)for(;h<t;)h in this?this[p++]=this[h++]:(delete this[p++],h++);else for(t=Math.min(t,a+h-p),p+=t-h;t>h;)--t in this?this[--p]=this[t]:delete this[--p];return this}});
window.LifeViewerLoaded||(window.LifeViewerLoaded=!0,function(){var d=null,k=null;window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.JL||performance.KL||performance.ML||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);
window.cancelRequestAnimationFrame||(window.cancelRequestAnimationFrame=window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame);window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Int32Array||(window.Int32Array=
Array);window.Int16Array||(window.Int16Array=Array);window.Int8Array||(window.Int8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=Array);window.Float32Array||(window.Float32Array=Array);window.Float64Array||(window.Float64Array=Array);window.Uint32Array.prototype.fill?window.arrayFill=!0:(window.arrayFill=!1,window.Uint32Array.prototype.fill=function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=p});window.Uint16Array.prototype.fill||(window.Uint16Array.prototype.fill=
function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=p});window.Uint8Array.prototype.fill||(window.Uint8Array.prototype.fill=function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=p});window.Uint8ClampedArray.prototype.fill||(window.Uint8ClampedArray.prototype.fill=function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=p});window.Int32Array.prototype.fill||(window.Int32Array.prototype.fill=function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=
p});window.Int16Array.prototype.fill||(window.Int16Array.prototype.fill=function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=p});window.Int8Array.prototype.fill||(window.Int8Array.prototype.fill=function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=p});window.Float32Array.prototype.fill||(window.Float32Array.prototype.fill=function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=p});window.Float64Array.prototype.fill||(window.Float64Array.prototype.fill=
function(p,h,t){void 0===t&&(t=this.length);for(h=0;h<t;h+=1)this[h]=p});window.Int32Array.prototype.slice?window.arraySlice=!0:(window.arraySlice=!1,window.Int32Array.prototype.slice=function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Int32Array(t);for(h=0;h<t;h+=1)a[h]=this[p+h];return a});window.Int16Array.prototype.slice||(window.Int16Array.prototype.slice=function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Int16Array(t);for(h=0;h<t;h+=1)a[h]=this[p+h];return a});window.Int8Array.prototype.slice||
(window.Int8Array.prototype.slice=function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Int8Array(t);for(h=0;h<t;h+=1)a[h]=this[p+h];return a});window.Uint32Array.prototype.slice||(window.Uint32Array.prototype.slice=function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Uint32Array(t);for(h=0;h<t;h+=1)a[h]=this[p+h];return a});window.Uint16Array.prototype.slice||(window.Uint16Array.prototype.slice=function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Uint16Array(t);for(h=0;h<
t;h+=1)a[h]=this[p+h];return a});window.Uint8Array.prototype.slice||(window.Uint8Array.prototype.slice=function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Uint8Array(t);for(h=0;h<t;h+=1)a[h]=this[p+h];return a});window.Uint8ClampedArray.prototype.slice||(window.Uint8ClampedArray.prototype.slice=function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Uint8ClampedArray(t);for(h=0;h<t;h+=1)a[h]=this[p+h];return a});window.Float32Array.prototype.slice||(window.Float32Array.prototype.slice=
function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Float32Array(t);for(h=0;h<t;h+=1)a[h]=this[p+h];return a});window.Float64Array.prototype.slice||(window.Float64Array.prototype.slice=function(p,h){void 0===h&&(h=this.length);var t=h-p;var a=new Float64Array(t);for(h=0;h<t;h+=1)a[h]=this[p+h];return a});k=new Uint32Array(1);k[0]=4660;d=new Uint8Array(k.buffer);window.littleEndian=52===d[0]?!0:!1;k.copyWithin?window.copyWithin=!0:(window.Uint32Array.prototype.copyWithin=function(p,h,t){var a=
!1;void 0===t&&(t=this.length);var e=t-h;if(h!==p)if((p>=h&&p<=t||p+e>=h&&p+e<=t)&&p>h&&(a=!0),a)for(t=e-1;0<=t;--t)this[p+t]=this[h+t];else for(t=0;t<e;t+=1)this[p+t]=this[h+t];return this},window.copyWithin=!1);window.registerEvent=function(p,h,t,a){p.addEventListener?p.addEventListener(h,t,a):p.attachEvent("on"+h,t)}}(),function(){function d(h,t,a){this.type=h;this.name=a;this.elements=t;this.size=t*p.hp(h);this.Jo=1}function k(){this.Zg=[];this.Rn=this.Tq=this.Qn=this.Rq=0}var p={Zv:8,$v:40,Xv:9,
Yv:10,Kv:0,Iv:1,Jv:2,Cv:18,Dv:19,hp:function(h){return 1<<(h&7)},dL:function(h){var t=(0!==(h&16)?"Float":0!==(h&8)?"Uint":"Int")+8*(1<<(h&7));0!==(h&32)&&(t+="Clamped");return t}};k.prototype.xG=function(h){var t="";0<=h&&h<this.Zg.length&&(h=this.Zg[h],t=p.dL(h.type)+"\t"+h.elements+"\t"+h.name+"\t"+h.Jo);return t};k.prototype.j=function(h,t,a){for(var e=0,c=!1,g;e<this.Zg.length&&!c;)g=this.Zg[e],a===g.name?(c=!0,this.Tq+=1,this.Rn+=g.elements*p.hp(g.type)):e+=1;c?(this.Zg[e].type=h,this.Zg[e].elements=
t,this.Zg[e].Jo+=1,this.Zg[e].size=t*p.hp(h)):(e=this.Zg.length,this.Zg[e]=new d(h,t,a));this.Rq+=1;this.Qn+=t*p.hp(h)};k.prototype.UA=function(h,t,a,e,c){h=h.buffer;e*=p.hp(t);switch(t){case p.Zv:a=new Uint8Array(h,e,a);break;case p.$v:a=new Uint8Array(h,e,a);break;case p.Xv:a=new Uint16Array(h,e,a);break;case p.Yv:a=new Uint32Array(h,e,a);break;case p.Kv:a=new Int8Array(h,e,a);break;case p.Iv:a=new Int16Array(h,e,a);break;case p.Jv:a=new Int32Array(h,e,a);break;case p.Cv:a=new Float32Array(h,e,
a);break;case p.Dv:a=new Float64Array(h,e,a);break;default:a=null,alert("Illegal type specified to allocator.typedView for "+c+": "+t)}return a};k.prototype.A=function(h,t,a){switch(h){case p.Zv:t=new Uint8Array(t);break;case p.$v:t=new Uint8Array(t);break;case p.Xv:t=new Uint16Array(t);break;case p.Yv:t=new Uint32Array(t);break;case p.Kv:t=new Int8Array(t);break;case p.Iv:t=new Int16Array(t);break;case p.Jv:t=new Int32Array(t);break;case p.Cv:t=new Float32Array(t);break;case p.Dv:t=new Float64Array(t);
break;default:t=null,alert("Illegal type specified to allocator.typedMemory for "+a+": "+h)}return t};k.prototype.I=function(h,t,a){var e=null;0<t&&(e=this.A(h,t,a));(e||0===t)&&this.j(h,t,a);return e};k.prototype.wG=function(h,t,a,e){var c=null;0<t&&(c=this.A(h,t,a));(c||0===t)&&this.j(h,t*e,a);return c};Array.ea=function(h,t,a,e,c,g){var n=0,m=[];m.m=c;m.type=h;m.Ya=null;var r=c.I(h,t*a,g);m.Ya=r;if(0<a){for(;n<t;)m[n]=c.UA(r,h,a,n*a,g),n+=1;0!==e&&r.fill(e)}return m};Array.vp=function(h,t){t=h.m.wG(h.type,
h[0].length,t,h.length+1);h[h.length]=t};Array.yi=function(h,t){t.Ya.set(h.Ya)};Array.zc=function(h,t,a){var e,c=t.length,g=[],n=t.m,m=t[0].length/p.hp(h);for(e=0;e<c;e+=1)g[e]=n.UA(t.Ya,h,m,e*m,a);return g};Array.ey=function(h,t,a){var e,c=h.length,g=h.m,n=h.type,m=h[0].length;for(e=0;e<c;e+=1)g.UA(h.Ya,n,m-t,e*m+t,a)};window.Allocator=k;window.Uint8=p.Zv;window.Uint8Clamped=p.$v;window.Uint16=p.Xv;window.Uint32=p.Yv;window.Int8=p.Kv;window.Int16=p.Iv;window.Int32=p.Jv;window.Float32=p.Cv;window.Float64=
p.Dv}(),function(){window.AliasManager={Ad:[],Sz:[],Ye:function(){var d;this.Ad=[];this.Sz=[];var k=this.Ad;var p=this.Sz;p.push("1D");k.push(["Wolfram 1D",""]);k.push(["Brownian motion","W54"]);k.push(["Fishing-net","W110"]);k.push(["Heavy triangles","W22"]);k.push(["Linear A","W90"]);k.push(["Linear B","W150"]);k.push(["Pascal's Triangle","W18"]);k.push(["Randomizer 1","W30"]);k.push(["Randomizer 2","W45"]);k.push(["Wolfram 22","W22"]);k.push(["Wolfram 30","W30"]);k.push(["Wolfram 110","W110"]);
p.push("Margolus");k.push(["Margolus",""]);k.push(["BBM","M0,8,4,3,2,5,9,7,1,6,10,11,12,13,14,15"]);k.push(["BounceGas","M0,8,4,3,2,5,9,14,1,6,10,13,12,11,7,15"]);k.push(["BounceGasII","M0,8,4,12,2,10,9,7,1,6,5,11,3,13,14,15"]);k.push(["Critters","M15,14,13,3,11,5,6,1,7,9,10,2,12,4,8,0"]);k.push(["HPP_Gas","M0,8,4,12,2,10,9,14,1,6,5,13,3,11,7,15"]);k.push(["MargSingRot","M0,2,8,3,1,5,6,7,4,9,10,11,12,13,14,15"]);k.push(["Rotations","M0,2,8,12,1,10,9,11,4,6,5,14,3,7,13,15"]);k.push(["RotationsII",
"M0,2,8,12,1,10,9,13,4,6,5,7,3,14,11,15"]);k.push(["RotationsIII","M0,4,1,10,8,3,9,11,2,6,12,14,5,7,13,15"]);k.push(["RotationsIV","M0,4,1,12,8,10,6,14,2,9,5,13,3,11,7,15"]);k.push(["Sand","M0,4,8,12,4,12,12,13,8,12,12,14,12,13,14,15"]);k.push(["StringThing","M0,1,2,12,4,10,9,7,8,6,5,11,3,13,14,15"]);k.push(["StringThingII","M0,1,2,12,4,10,6,7,8,9,5,11,3,13,14,15"]);k.push(["SwapOnDiag","M0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15"]);k.push(["Tron","M15,1,2,3,4,5,6,7,8,9,10,11,12,13,14,0"]);p.push("PCA");
k.push(["PCA",""]);k.push(["Model_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);k.push(["PCA_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);k.push(["PCA_2","2PCA4,0,2,4,3,8,10,6,7,1,9,5,11,12,13,14,15"]);k.push(["PCA_3","2PCA4,0,8,1,3,2,5,6,7,4,9,10,11,12,13,14,15"]);k.push(["PCA_4","2PCA4,0,2,4,12,8,5,9,7,1,6,10,11,3,13,14,15"]);k.push(["Model_2","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);k.push(["PCA_5","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);k.push(["PCA_6","2PCA4,0,2,4,3,8,10,6,14,1,9,5,7,12,11,13,15"]);
k.push(["PCA_7","2PCA4,0,2,4,12,8,5,9,14,1,6,10,7,3,11,13,15"]);k.push(["PCA_8","2PCA4,0,2,4,12,8,10,9,14,1,6,5,7,3,11,13,15"]);k.push(["PCA_9","2PCA4,0,2,4,12,8,10,9,13,1,6,5,14,3,7,11,15"]);k.push(["PCA_10","2PCA4,0,1,2,3,4,5,6,13,8,9,10,14,12,7,11,15"]);k.push(["PCA_11","2PCA4,0,4,8,3,1,10,6,11,2,9,5,11,13,12,14,15"]);k.push(["PCA_12","2PCA4,0,4,2,3,14,6,11,5,8,7,9,13,10,12,1,15"]);p.push("OT vN");k.push(["Outer-Totalistic von Neumann",""]);k.push(["Fredkin2","B13/S024V"]);k.push(["Parity","B13/S13V"]);
p.push("OT Hex");k.push(["Outer-Totalistic Hex",""]);k.push(["HexParity","B135/S0246H"]);k.push(["Hexagonal Life","B2/S34H"]);k.push(["HighHexLife","B25/S34H"]);k.push(["Replicator Hex","B135/S135H"]);p.push("OT M");k.push(["Outer-Totalistic Moore",""]);k.push(["","B3/S23"]);k.push(["2x2","B36/S125"]);k.push(["2x2 2","B3678/S1258"]);k.push(["34 Life","B34/S34"]);k.push(["3-4 Life","B34/S34"]);k.push(["Amoeba","B357/S1358"]);k.push(["Anneal","B4678/S35678"]);k.push(["AntiLife","B0123478/S01234678"]);
k.push(["Assimilation","B345/S4567"]);k.push(["Bacteria","B34/S456"]);k.push(["Blinkers","B345/S2"]);k.push(["Bugs","B3567/S15678"]);k.push(["Castles","B3678/S135678"]);k.push(["Cheerios","B35678/S34567"]);k.push(["Christmas Life","B1/S012345678"]);k.push(["Coagulations","B378/S235678"]);k.push(["Conway's Game of Life","B3/S23"]);k.push(["Conway's Life","B3/S23"]);k.push(["Coral","B3/S45678"]);k.push(["Corrosion of Conformity","B3/S124"]);k.push(["Dance","B34/S35"]);k.push(["Day & Night","B3678/S34678"]);
k.push(["Day and Night","B3678/S34678"]);k.push(["Diamoeba","B35678/S5678"]);k.push(["DotLife","B3/S023"]);k.push(["DrighLife","B367/S23"]);k.push(["DryFlock","B37/S12"]);k.push(["DryLife","B37/S23"]);k.push(["DryLife without Death","B37/S012345678"]);k.push(["EightFlock","B3/S128"]);k.push(["EightLife","B3/S238"]);k.push(["Electrified Maze","B45/S12345"]);k.push(["Eppstein","B35/S236"]);k.push(["Feux","B1358/S0247"]);k.push(["Flakes","B3/S012345678"]);k.push(["Flock","B3/S12"]);k.push(["Forest of Ls",
"B168/S236"]);k.push(["Fredkin","B1357/S02468"]);k.push(["Fuzz","B1/S014567"]);k.push(["Gems Minor","B34578/S456"]);k.push(["Gems","B3457/S4568"]);k.push(["Geology","B3578/S24678"]);k.push(["Gnarl","B1/S1"]);k.push(["H-Trees","B1/S012345678"]);k.push(["HighFlock","B36/S12"]);k.push(["HighLife","B36/S23"]);k.push(["HighLife without Death","B36/S012345678"]);k.push(["Holstein","B35678/S4678"]);k.push(["HoneyFlock","B38/S128"]);k.push(["HoneyLife","B38/S238"]);k.push(["Iceballs","B25678/S5678"]);k.push(["InverseLife",
"B012345678/S34678"]);k.push(["Invertamaze","B028/S0124"]);k.push(["IronFlock","B36/S128"]);k.push(["IronLife","B36/S238"]);k.push(["Land Rush","B36/S234578"]);k.push(["Life SkyHigh","B368/S236"]);k.push(["Life without Death","B3/S012345678"]);k.push(["Life","B3/S23"]);k.push(["Live Free or Die","B2/S0"]);k.push(["Logarithmic replicator rule","B36/S245"]);k.push(["LongLife","B345/S5"]);k.push(["Long Life","B345/S5"]);k.push(["LowDeath without death","B368/S012345678"]);k.push(["LowDeath","B368/S238"]);
k.push(["LowFlockDeath","B368/S128"]);k.push(["LowLife","B3/S13"]);k.push(["Majority","B45678/S5678"]);k.push(["Maze","B3/S12345"]);k.push(["Maze with Mice","B37/S12345"]);k.push(["Mazectric","B3/S1234"]);k.push(["Mazectric with Mice","B37/S1234"]);k.push(["Morley","B368/S245"]);k.push(["Move","B368/S245"]);k.push(["Neon Blobs","B08/S4"]);k.push(["Never happy","B345/S0456"]);k.push(["Oscillators Rule","B45/S1235"]);k.push(["Pedestrian Flock","B38/S12"]);k.push(["Pedestrian Life","B38/S23"]);k.push(["Pedestrian Life without Death",
"B38/S012345678"]);k.push(["Persian Rug","B234/S"]);k.push(["Plow World","B378/S012345678"]);k.push(["Pseudo Life","B357/S238"]);k.push(["Pulsar Life","B3/S238"]);k.push(["Replicator","B1357/S1357"]);k.push(["Replicator 2","B1357/S02468"]);k.push(["Rings 'n' Slugs","B56/S14568"]);k.push(["Seeds","B2/S"]);k.push(["Serviettes","B234/S"]);k.push(["Shoots and Roots","B3/S245678"]);k.push(["Slow Blob","B367/S125678"]);k.push(["Snakeskin","B1/S134567"]);k.push(["Solid islands grow amongst static","B12678/S15678"]);
k.push(["SnowLife","B3/S1237"]);k.push(["Stains","B3678/S235678"]);k.push(["Star Trek","B3/S0248"]);k.push(["Virus","B36/S235"]);k.push(["Vote","B5678/S45678"]);k.push(["Vote 4/5","B4678/S35678"]);k.push(["Walled Cities","B45678/S2345"]);p.push("OT Tri");k.push(["Outer-Totalistic Triangular",""]);k.push(["Rule 1246","B456/S12L"]);k.push(["Life 2333","B3/S23L"]);k.push(["Life 2345","B45/S23L"]);k.push(["Life 2346","B456/S23L"]);k.push(["Life 3445","B45/S34L"]);k.push(["Life 3446","B456/S34L"]);k.push(["Rule 3544",
"B4/S345L"]);k.push(["Life 4546","B456/S45L"]);k.push(["Life 4644","B4/S456L"]);p.push("OT M G");k.push(["Outer-Totalistic Generations Moore",""]);k.push(["9:43 at Knight","237/34578/4"]);k.push(["Banners","2367/3457/5"]);k.push(["BelZhab","23/23/8"]);k.push(["BelZhab Sediment","145678/23/8"]);k.push(["Bloomerang","234/34678/24"]);k.push(["Bombers","345/24/25"]);k.push(["Brain 5","/2/5"]);k.push(["Brain 6","6/246/3"]);k.push(["Brian's Brain","/2/3"]);k.push(["Burst","0235678/3468/9"]);k.push(["BurstII",
"235678/3468/9"]);k.push(["Caterpillars","124567/378/4"]);k.push(["Chenille","05678/24567/6"]);k.push(["Circuit Genesis","2345/1234/8"]);k.push(["Constellations","/23/3"]);k.push(["Cooties","23/2/8"]);k.push(["Diamonds and Spaceships","34578/257/16"]);k.push(["Ebb&Flow","012478/36/18"]);k.push(["Ebb&Flow II","012468/37/18"]);k.push(["Faders","2/2/25"]);k.push(["Fireballs","346/2/4"]);k.push(["Fireworks","2/13/21"]);k.push(["Flaming Starbows","347/23/8"]);k.push(["Free Star","0345/2/10"]);k.push(["Frogs",
"12/34/3"]);k.push(["Frozen spirals","356/23/6"]);k.push(["Glisserati","035678/245678/7"]);k.push(["Glissergy","035678/245678/5"]);k.push(["Lava","12345/45678/8"]);k.push(["Lines","012345/458/3"]);k.push(["LivingOn TheEdge","345/3/6"]);k.push(["Meteor Guns","01245678/3/8"]);k.push(["Nova","45678/2478/25"]);k.push(["OrthoGo","3/2/4"]);k.push(["Prairie on fire","345/34/6"]);k.push(["RainZha","2/23/8"]);k.push(["Rake","3467/2678/6"]);k.push(["SediMental","45678/25678/4"]);k.push(["Snake","03467/25/6"]);
k.push(["SoftFreeze","13458/38/6"]);k.push(["Spirals","2/234/5"]);k.push(["Star Wars","345/2/4"]);k.push(["Sticks","3456/2/6"]);k.push(["Swirl","23/34/8"]);k.push(["Tadpoles","0125678/345678/64"]);k.push(["ThrillGrill","1234/34/48"]);k.push(["Transers","345/26/5"]);k.push(["TransersII","0345/26/6"]);k.push(["Transers 2","0345/26/6"]);k.push(["Transers 3","0345/26/7"]);k.push(["Wallplicators","345/25678/7"]);k.push(["Wanderers","345/34678/5"]);k.push(["Worms","3467/25/6"]);k.push(["Xtasy","1456/2356/16"]);
p.push("INT Hex");k.push(["Isotropic Non-Totalistic Hex",""]);k.push(["Hex Life","B2o3m56/S2-p4oH"]);k.push(["22da","B2/S2-mH"]);k.push(["Hexrule b2o","B2o/S2m34H"]);p.push("INT M");k.push(["Isotropic Non-Totalistic Moore",""]);k.push(["15Life","B34r/S23-q4et"]);k.push(["104life","B34ky5cy/S23-a4ity6c7"]);k.push(["22k","B2-k/S2-k"]);k.push(["2diagonal","B2n3/S23"]);k.push(["2xpand2","B3/S123eik4ce"]);k.push(["3x3","B35cky68/S0245-c6n"]);k.push(["38life","B35y/S2-n35k6ci"]);k.push(["4diagonal","B34c/S23"]);
k.push(["4life","B34jy/S23"]);k.push(["4life2","B34j/S23"]);k.push(["57life","B34tyz5cy/S23-a4it5ej"]);k.push(["acnelife","B34/S2eik3"]);k.push(["aLife","B3/S234iw"]);k.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);k.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);k.push(["Artillery","B3-y7/S2-i3-c4kqt"]);k.push(["Atomic","B2ei3i/S1c2-n3jr4an5i6c"]);k.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);k.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);k.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);
k.push(["Beaecsizae","B34ce/S12-a3"]);k.push(["Ben's rule","B2-ak3einqy4e/S1c2ak3inqy4e"]);k.push(["Best Friends","B2ce3aiy/S12aei3r"]);k.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);k.push(["Billiard","B36-e/S12345"]);k.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);k.push(["blockandglider","B3/S234cw7c"]);k.push(["BoatLife","B3-knqy/S2-n3-ey4akwy5aik6kn"]);k.push(["boatLife","B3ainqy4aeq5ejn8/S2-in3-aek4aciq5ae6-c7c8"]);k.push(["bpuff","B3/S23-cky4k7e8"]);k.push(["Breps",
"B34cqy5c/S23-y4y"]);k.push(["Breps-2","B3aeijn4n8/S234iqz"]);k.push(["Bricks","B2ak5c/S2cn3inqy4aikqtwz5inqy"]);k.push(["Bubbles","B3ai4-a/S23"]);k.push(["Butterfly","B2i34e6i7c/S2-i36n"]);k.push(["butterflyb7","B2i34e6i7/S2-i36n"]);k.push(["Buzz","B2i35-n/S2-ci36k8"]);k.push(["CapLife","B36c/S23"]);k.push(["CarrierLife","B2e3aceik/S23"]);k.push(["Cataverters","B3-cen/S234eijkrw5cry6ik"]);k.push(["CB2","B2ae4i/S1e2in"]);k.push(["cetlife","B34cet/S234jkwyz"]);k.push(["Clouds","B2e3aceij/S23-a4"]);
k.push(["Cloudsdale","B2kn3-ekqr4i5eq6n8/S23-aeny4cikqr5ek6ace7c"]);k.push(["CommonRepl","B3/S23-ac4eiy6"]);k.push(["Conquerors and Colonizers","B2ace3acei4ace5acei6ace/S"]);k.push(["Conway++","B3/S234c"]);k.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);k.push(["Conway+-2","B3/S2-ak34aikqtwz5inqy"]);k.push(["Conway--","B3/S2-ei3"]);k.push(["crawl","B37e/S2-i34y8"]);k.push(["Creperie","B2ikn3aijn/S23-ckqy"]);k.push(["CrossLife","B3/S234et"]);k.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);k.push(["Diamoeral",
"B2n3ai4a78/S35678"]);k.push(["Diamonds","B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);k.push(["DLife","B3-n/S23"]);k.push(["dolife","B2-ak3acei4ceqz5y/S234ce5ceky78"]);k.push(["dolife2","B2-a3acei4ceqz5y/S234ce5ceky78"]);k.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);k.push(["Dry15Life","B34r7/S23-q4et"]);k.push(["DryGoats","B2in37/S123a"]);k.push(["Dustclouds01","B2ce3-ai/S01"]);k.push(["EasyHighLife","B36-i/S23"]);k.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);k.push(["Eatsplosion IV",
"B2n3-q4aqz6n8/S2-in3-q4iz7c8"]);k.push(["EightGoats","B2in3/S123a8"]);k.push(["Einstein","B2ein3cijn4cnrwy5cnq6e/S1c2-ai3acny4anqy5c6ek8b2ein3cijn4cnrwy5cnq6es1c2-ai3acny4anqy5c6ek8"]);k.push(["ElectrumLife","B367c/S2-i34q"]);k.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);k.push(["Extension","B2cei3-ijnr4-a6i/S12-cn"]);k.push(["fakePiShipLife","B3-ck4e5k6i/S2-in35i6c8"]);k.push(["FalseB5","B35ce/S234jqtyz6k8"]);k.push(["FattyLife","B3-n4nt5qr6i/S23"]);k.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);
k.push(["FlashLife","B2kn3-n4e/S23"]);k.push(["Flowflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k7e"]);k.push(["Flying Life","B3-k5r/S236n7e"]);k.push(["FogLife","B35eq7/S2-i34q"]);k.push(["Fuzey","B2-ae3aej4ez/S03ac4aikqryz78"]);k.push(["Gentle relative","B2cen3ek4jkw5-aein6a7e/S12an3-eijq4enrty5e6k"]);k.push(["GlideLife","B34ek5ak/S2-c34z"]);k.push(["GlideLife2","B34ek5ak/S2-c34iz5y"]);k.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);k.push(["GliderRROLife","B2e3einy4ak5ijq7c/S1c2-ai3-ceky4ejny5ceqr6ak"]);
k.push(["glife","B3/S237c"]);k.push(["Glimmering Garden","B3-jknr4ity5ijk6i8/S23-a4city6c7c"]);k.push(["GMO snowflakes","B34c6n/S2-n3-ck4cijqtwy5y6n"]);k.push(["Goat Flock","B2in3/S123a"]);k.push(["Goats","B2in3/S123a"]);k.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);k.push(["gp","B2ei3-a4ce5y6i/S234i7e"]);k.push(["Growflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k"]);k.push(["guntlife","B35j6a/S2-i34q"]);k.push(["Half as Interesting","B2ce3i/S23"]);k.push(["hassl8life","B34k5e7c/S23-a4iyz"]);
k.push(["hatlife","B35y/S23"]);k.push(["hedgehog","B3/S1c2-a35r6i"]);k.push(["HeptaFish","B3-e4i5i/S234e"]);k.push(["High15Life","B34r6/S23-q4et"]);k.push(["HighGoats","B2in36/S123a"]);k.push(["Hive","B3-ry4ckn/S2-in3-cjn4it5aiky6-a7e8"]);k.push(["hlife","B3/S234ce6k"]);k.push(["hlife2","B3/S2-in34nr"]);k.push(["hlife3","B3/S2-in34iw"]);k.push(["HoneyGoats","B2in38/S123a8"]);k.push(["HouseLife","B2i3/S23-r"]);k.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);k.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);
k.push(["ilife","B3/S235i"]);k.push(["Immortalife","B3-cqy4j/S2-n34i"]);k.push(["IneticLife","B2-an3-k/S2ac"]);k.push(["IronGoats","B2in36/S123a8"]);k.push(["Ising","B3e4ejr5cinqy6-ei78/S2ei3aejkr4-cny5-e678"]);k.push(["Just Friends","B2-a/S12"]);k.push(["Kgdm","B3/S2-c3-en4ceitz"]);k.push(["KineticLife","B2-an3/S2ac"]);k.push(["klife","B34n/S23"]);k.push(["Knyght","B2e3/S23-jq"]);k.push(["ktlife","B3/S2-i34nq"]);k.push(["LambdaLife","B3-k/S2-i3-k4cen"]);k.push(["LifeWithoutGliders","B35n/S23"]);
k.push(["Linea","B2-a3-i/S23-a"]);k.push(["LoafLife","B2n3-q/S23"]);k.push(["longlast","B3/S234ce8"]);k.push(["lotsofdots","B2ikn34e/S023-a4ce"]);k.push(["MaritimeLife","B2i34c6cen7c8/S2-i3-q4c5a6e8"]);k.push(["maze2","B3/S234-acew"]);k.push(["Migrating Bookends","B2ein3inry/S12-n3ce"]);k.push(["Mooselife","B34kz5e7c/S23-a4ityz5k"]);k.push(["move_rep","B3-r4e5e6-n/S23cr457e"]);k.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);k.push(["MoveIt","B368/S23cy45-j6n"]);k.push(["movetub","B34e68/S245"]);
k.push(["movev","B35y68/S245"]);k.push(["Movostill","B2i3acijk6i/S23-a4"]);k.push(["Movostill 2","B3acijk/S23-a4"]);k.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);k.push(["MuddyLife","B3/S234k"]);k.push(["nonlife","B3-n/S234iz"]);k.push(["notlife","B3-q7c/S2-i3-q4q"]);k.push(["notlife (Wright)","B2k3-k/S23-a"]);k.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);k.push(["olife","B2in3/S2-in3"]);k.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);k.push(["Orthogonable","B2e3aiknr4q/S1c2-in3aijry4a"]);
k.push(["Particles","B2ce3i/S1c2cek"]);k.push(["Patchworks","B2-an3aiy/S2-in3cijky4-nqrz5k"]);k.push(["Pedestrian Goats","B2in38/S123a"]);k.push(["Pentadecathlife","B34e5y6cn8/S234c5e"]);k.push(["Photics I","B2ae4c678/S01e4aeqrtw5678"]);k.push(["Photics II","B2ae4cw5y6i/S01e2i4q"]);k.push(["Pi-plicator","B3-ckq/S2-c34ci"]);k.push(["PiLife","B37e/S23"]);k.push(["plasma1","B012-in3-cky4ar5cjnr6ae/S05aijnr6n"]);k.push(["plife","B35j/S2-i3"]);k.push(["plife2","B35j6i/S2-i3"]);k.push(["PondLife","B36i/S2-i35i"]);
k.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);k.push(["Prismatika Crystallios","B2ae3r/S1e"]);k.push(["PlasmaLife","B34-air/S234-air"]);k.push(["Puffers","B3-nqr6/S235-nqr"]);k.push(["PuffLife","B34-i5-a6-a/S2-an34-akrw"]);k.push(["qlife","B3-q/S23"]);k.push(["quadraticlife","B34j/S23"]);k.push(["Quasilinear Collisions","B2-ak3-jnqr/S15678"]);k.push(["Rakelife","B3aij/S2-i3ajnr4arz56-a7e"]);k.push(["Rainflakes","B2-ac3aei4ey5n6n8/S02-n3aceir4ceyz5e6k"]);k.push(["replife","B34jy6n/S2-i3"]);
k.push(["reptlife","B36-k/S2-i34q"]);k.push(["rgun","B34t/S2-i35a7e"]);k.push(["Rule X3VI","B2c3aei4ajnr5acn/S2-ci3-ck4in5jkq6c7c"]);k.push(["RustyLife","B34-ai/S24-air5-a"]);k.push(["Salad","B2i34c/S2-i3"]);k.push(["Savanna","B2e3aeiy4ce5i6c7e/S2-n3-a4artz5aeny6cn"]);k.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);k.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);k.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);k.push(["SilverLife","B367/S2-i34q"]);k.push(["SimpleInverseFire","B2-ak4568/S156ak78"]);
k.push(["SLHassleLife","B3-y5cr/S234w6n"]);k.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);k.push(["SolarWorld","B2ce3ci4iyz5ce6c/S12ce3ae"]);k.push(["SmokingLife","B2i34cj6a7c8/S2-i3-a4ceit6in"]);k.push(["Smorgasbord","B2e3aijr4q/S1c23-a5"]);k.push(["snotlife","B2k3-kn/S23"]);k.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);k.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);k.push(["SparkLife","B36i/S234j"]);k.push(["SparseMethuseLife","B35y/S1e2-ci3-a5i"]);k.push(["StairWorld",
"B2-a3i4aijk/S2a3-i4"]);k.push(["Stars","B2e3-ceny4einqwz5-cikr6cei/S1c2e3aijky4aceijrz5-cejk6-ak7c8"]);k.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);k.push(["Switches","B2ei3ij4ajnr6ci/S12ce3ajn4qtz5ijnqy6c"]);k.push(["Symmetristic","B2-ak3-jnqr4ceiqtwz5-jnqr6-ak/S2-ak3-jnqr4ceiqtwz5-jnqr6-ak"]);k.push(["t4life","B34jy/S2-i3"]);k.push(["TableLife","B3/S23-ai4anq6n"]);k.push(["TauLife","B3-nr/S2-i34-aij"]);k.push(["tceclife","B36ce7c/S2-i34q"]);k.push(["tDryFlock","B37/S12-i4q"]);
k.push(["tDryLife","B37/S2-i34q"]);k.push(["TearfulLife","B34e5c6n/S23-q"]);k.push(["tEightLife","B3/S2-i34q8"]);k.push(["testlife","B36a/S23"]);k.push(["tflock","B3/S12-i4q"]);k.push(["tHighFlock","B36/S12-i4q"]);k.push(["tHighLife","B36/S2-i34q"]);k.push(["ThisLife","B36i/S23-ce5q"]);k.push(["tlife","B3/S2-i34q"]);k.push(["tosc","B3/S234wz"]);k.push(["tosc2","B36in/S234cw"]);k.push(["tPedestrianFlock","B38/S12-i4q"]);k.push(["tPedestrianLife","B38/S2-i34q"]);k.push(["tq6","B2i34e/S023-a4ce"]);k.push(["Train",
"B34t6k8/S2-i35a7e"]);k.push(["Trilobites","B3aijn4w5nq/S2ae3aijr4irz5y"]);k.push(["triship","B2a3e/S012-ai3-i45-i678"]);k.push(["Trycogene","B2ce3aijn/S2ak3-aijn4jkqty5cekr6ce8"]);k.push(["Turro","B2-a3c/S12-i"]);k.push(["Two-dots rule 1","B2ei3ci4aerw5acky6i8/S012-an3eiknq4qrty5aeik6ik8"]);k.push(["Two-dots rule 2","B2-ak3aen4cenrtw5iq6e/S02ac3aenqy4ejqtwy5ak6acn7"]);k.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);k.push(["Virus_v2","B3-nqr6/S235"]);k.push(["Wartlife","B3aijnq6n/S2-cn3-ceky4i"]);k.push(["WetLife",
"B34r/S23"]);k.push(["Whichlife","B2in3aeijn/S234e"]);k.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);k.push(["wlife","B34w/S23"]);k.push(["Worms 0","B01c2n5a/S3a5i"]);k.push(["WSScentral","B3-n45qr6i/S2eik3"]);k.push(["X-rule-pre","B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);k.push(["xtdbee","B3-k/S23"]);k.push(["xvaLifeg","B2e3/S23"]);k.push(["Ylife","B2e3ai4ar/S23-a4a"]);k.push(["zigzag","B3/S2-k34q"]);k.push(["ZombieLife","B3-nqy4aqz5cn6n8/S2-i3-a4inqz7c8"]);p.push("INT M G");
k.push(["Isotropic Non-Totalistic Generations Moore",""]);k.push(["Jellyfish","2ak34-a5-i/2c36k7/4"]);k.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);k.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);p.push("LtL M");k.push(["Larger than Life Moore",""]);k.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);k.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);k.push(["Bosco Analogue","R5,C2,M1,S34..53,B31..42,NM"]);k.push(["Bugs R3","R3,C2,M1,S14..23,B14..18,NM"]);k.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);
k.push(["Bugs R6","R6,C2,M1,S47..81,B47..63,NM"]);k.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);k.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);k.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);k.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);k.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);k.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);k.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);k.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);
k.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);k.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);k.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);k.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);k.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);k.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);k.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);k.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);k.push(["Quadratic Bugs","R6,C2,M1,S47..81,B47..61,NM"]);k.push(["Rasta Bugs",
"R5,C2,M1,S41..59,B32..50,NM"]);k.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);k.push(["Stones","R5,C2,M1,S29..58,B38..61,NM"]);k.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);k.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);k.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);k.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);p.push("LtL M G");k.push(["Generations Larger than Life Moore",""]);k.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);k.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);
k.push(["ModernArt","R10,C255,M1,S2..3,B3..3,NM"]);p.push("HROT vN");k.push(["Higher-Range Outer-Totalistic von Neumann",""]);k.push(["Fredkin2 R2","R2,C2,S0,2,4,6,8,10,12,B1,3,5,7,9,11,NN"]);k.push(["Parity R2","R2,C2,S1,3,5,7,9,11,B1,3,5,7,9,11,NN"]);p.push("HROT M");k.push(["Higher-Range Outer-Totalistic Moore",""]);k.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);k.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
k.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);k.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);k.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
k.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);p.push("MAP NINT");k.push(["MAP Non-Isotropic",""]);k.push(["2CellSlug","MAPBTDe/yAA9/8AAP//AAD//yAA/78AAP//AID//wAA//8AAP//AAD/2wAA//8AgP//AAD//4AA//+AAH//AAD//w"]);k.push(["BLAHTWOCELLGUN","MAPAMB/vwAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);
k.push(["FoxLife","MAPARYXfhZofugWaH7oaIFoxBZofuhogOiAaIFoxIAAgAAWaH7oaIFoxGiA6ICAAIAAaIFoxIAAgACAAIAAAAAAAA"]);k.push(["MovingStrings","MAPARH+/wMT//8BEf7/AxP//wER/v8DE///AREAAAMTAAABEf7/AxP//wER/v8DE///AREAAAMTAAABEQAAAxMAAA"]);k.push(["MuzikThing","MAPACD//wAA3/8AgH//AAD//wCAf/8AAP//AAD//wAA//8AAH//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//w"]);k.push(["MyEntry","MAPIAD/7wgA/f8AAP//AAD//wAA//8AAP//AAD/fwAA//8AAP//AAD//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);k.push(["OLife","MAPABD/vgIB//8AAP//AAD//wAA/78AAN3/AJB/vwAAf/8AAP//AABd/wAA//8AAP//AAD//4IA//8AAP//AIB//w"]);
k.push(["Rhufo","MAPARH//wMA//8AAP9/AAD//wAA//8AAP9/AAD//wAA//8AAP//AAB//wAA//8AAP//AAD//wAA//8AAH9/AAB//w"]);k.push(["Rhufo2","MAPARH//wMA//8AAH9/AAD//wAAX/8AAP9/AAB/7wAA//8AAH//AAB//wAA//8AAP//AAB//wAA/f8AAH8/AAB3/w"]);k.push(["SemiFelineLife","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaICatGiA6ICAAIAAaICatIAAgACAAIAAAAAAAA"]);k.push(["Simple_Weird_Ships","MAPABHs/wMA//8AAP//AAD//wAA/38AAP//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);k.push(["Socrates","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaIDogGiA6ICAAIAAaIDogIAAg00IAmSocrateg"]);
p.push("Alt OT M");k.push(["Alternating Outer-Totalistic Moore",""]);k.push(["alternlife","B13/S012345678|B/S15"]);k.push(["comb395","B3/S1237|B2/S"]);k.push(["comb625","B3/S348|B2/S356"]);k.push(["Dotlesslife","B3/S23|B/S12345678"]);k.push(["Fizzler","B13/S3|B/S345678"]);k.push(["Jelly","B3/S135|B2/S5"]);k.push(["Phoenix","B24/S|B35/S"]);p.push("Alt INT M");k.push(["Alternating Non-Totalistic Moore",""]);k.push(["SparklessLife","B3/S23|B/S1c2345678"]);k.push(["Unidim1","B134578/S02345678|B6i7/S268"]);
k.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);k.push(["Unidim3","B12ci34578/S02345678|B6i7/S268"]);this.Ad[0][2]=!1;for(p=1;p<this.Ad.length;p+=1)for(k=this.Ad[p][1],this.Ad[p][2]=!1,d=0;d<p;d+=1)this.Ad[d][1]===k&&(this.Ad[d][2]=!0,this.Ad[p][2]=!0,d=p)},AC:function(d){for(var k=null,p=0;p<this.Ad.length&&null===k;)""!==this.Ad[p][1]&&this.Ad[p][0]===d&&(k=this.Ad[p][1]),p+=1;if(!k)for(d=d.toLowerCase(),p=0;p<this.Ad.length&&null===k;)""!==this.Ad[p][1]&&this.Ad[p][0].toLowerCase()===d&&(k=
this.Ad[p][1]),p+=1;return k},eq:function(d){for(var k=null,p=0;p<this.Ad.length&&null===k;)""!==this.Ad[p][1]&&this.Ad[p][1]===d&&(k=this.Ad[p][0]),p+=1;return k}}}(),function(){function d(c,g,n,m,r){this.s=r;this.La=c;this.Na=g;this.rb=n;this.message="";this.fa=c;this.na=g;this.fb=n;this.Jj="";this.K=this.A=!1;this.context=m;this.ab=!1;this.Aa=this.W=0;this.vg="rgb(32,255,255)";this.vE="white";this.j=0;this.animate=!1;this.dc=this.lc="black";this.enabled=!1;this.scale=1}function k(c,g,n,m){this.name=
c;this.width=g;this.height=n;this.Jo=m}function p(c,g){this.context=g;this.K=c;this.height=this.width=0;this.na=this.fa=this.A=this.j=null;this.W=[];this.Bu=!0;this.Az=-1;this.HC=0;this.Ye=!1;this.scale=1}function h(c,g,n,m,r,u,x,y,v,B,b,l,f,q,w,z,A,C,D,E){this.id=c;this.A=E;this.w="";this.Kl=-1;this.c=this.tt=!1;this.Ab=g;this.caller=n;this.icon=D;this.x=r;this.y=u;this.im=r;this.j=u;this.position=m;this.width=x;this.height=y;this.ur=x;this.Cz=y;this.border=q;this.type=l;f===e.rw?this.orientation=
x>=y?e.Ce:e.vertical:this.orientation=f;this.Mr=this.orientation;this.lower=v;this.upper=B;l===e.ed?this.current=[b,b]:this.current=b;this.$A=w;this.Ma=z;this.mz=A;this.fixed=C;this.It=!1;this.ZC=this.YC=-1;this.textAlign=e.RB;this.enabled=!0;this.locked=!1;this.Ag=[];if(this.type===e.list)for(c=0;c<v.length;c+=1)this.Ag[c]=!1;this.Rr=[];this.au=0;this.yI=!1;this.Nc=E.Nc;this.ye=E.ye;if(l===e.list)for(this.Im=[],c=0;c<v.length;c+=1)this.Im[c]=this.Nc;this.Kf=E.Kf;this.dg=E.dg;this.Sh=E.Sh;this.rk=
E.rk;this.lm=E.lm;this.Fn=E.Fn;this.Bg=E.Bg;this.Bj=E.Bj;this.Eh=E.Eh;this.ck=E.ck;this.border=E.border;this.fontSize=parseInt(E.hk.substr(0,E.hk.indexOf("px")),10);this.fontFamily=E.hk.substr(E.hk.indexOf("px")+3)}function t(c,g,n,m,r,u){this.P=c;this.context=r;this.zh=this.ff=1;this.hk=u;this.locked=this.c=!1;this.Fj=this.hh=-1;this.Lm=this.bd=!1;this.fa=6;this.Ab=g;this.ne=[];this.Ac=0;this.Nc="";this.ye=0;this.Kf="";this.dg=0;this.Sh="";this.rk=0;this.lm="";this.Fn=0;this.Bg="";this.Bj=0;this.Eh=
"";this.border=this.ck=0;this.A=e.rw;this.Vl=this.fl=-1;this.cx=this.kB=null;this.js=n;this.caller=m;this.O=null;this.Jw=this.Ks=this.K="auto"}function a(c,g,n,m,r,u){var x=this,y=0;this.ef=1;this.Ix=this.nz=!0;this.La=this.Na=40;this.bL=50;this.aj=0;this.W=this.fa=this.Aa=-1;this.un=!1;this.caller=r;this.$i=this.hb=this.zk=this.Ic=!1;this.se=4;this.xC=u;this.hasFocus=this.Cw=!1;this.Bp=!0;this.Zr=!1;this.Cm=1;this.Nc="black";this.ye=.7;this.Kf="white";this.dg=1;this.Sh="rgb(0,240,32)";this.rk=.7;
this.lm="blue";this.Fn=.7;this.Bg="grey";this.Bj=1;this.Eh="rgb(32,255,255)";this.border=this.ck=1;this.QB=function(v){return function(){v.lc(v)}}(this);this.O=m;this.Oc=c;this.uc=g;this.bd=!1;this.yk=this.xk=-1;this.Dl=!1;this.Ih=-1;this.wc=null;this.hk=n;this.nm=this.Mk=!1;this.Jt=performance.now();this.tn=5;this.Qr=0;this.Zx=[];this.cy=[];this.Yx=[];for(y=0;5>y;y+=1)this.Zx[y]=0,this.cy[y]=0,this.Yx[y]=0;this.Lq=null;this.uh=!1;this.notification=new d(25,100,25,g,this);this.$x=performance.now();
this.Lm=this.ZA=!1;this.K=[];this.j=this.A=0;registerEvent(c,"mousedown",function(v){x.ab(x,v)},!1);registerEvent(c,"mousemove",function(v){x.fb(x,v)},!1);registerEvent(c,"mouseup",function(v){x.dc(x,v)},!1);registerEvent(c,"mouseover",function(v){x.Fb(x,v)},!1);registerEvent(c,"mouseout",function(v){x.rb(x,v)},!1);registerEvent(c,"touchstart",function(v){x.na(x,v)},!1);registerEvent(c,"touchmove",function(v){x.na(x,v)},!1);registerEvent(c,"touchend",function(v){x.na(x,v)},!1);registerEvent(c,"touchcancel",
function(v){x.na(x,v)},!1)}d.prototype.Um=function(){var c=!1;if(""!==this.message||""!==this.Jj)c=!0;return c};d.prototype.clear=function(c,g){c?""!==this.Jj&&(g||this.K?(this.Jj="",this.K=!1):(this.Aa=performance.now()-(this.fa+this.na),this.K=!0)):""!==this.message&&(g||this.A?(this.A=!1,this.message=""):(this.W=performance.now()-(this.La+this.Na),this.A=!0))};d.prototype.L=function(c,g,n){this.enabled&&(n?this.Jj!==c&&(this.Jj=c,this.fa=240,this.na=16*g,this.fb=240,this.Aa=performance.now(),this.K=
!1,this.j=0,this.animate=!1):(this.message=c,this.La=240,this.Na=16*g,this.rb=240,this.W=performance.now(),this.A=!1))};d.prototype.Vm=function(c,g,n){var m=this.context.measureText(c).width>>1;if(this.ab){this.context.fillStyle=this.dc;var r=this.context.globalAlpha;this.context.globalAlpha=.5*r;this.context.fillRect(-m-20,-n,2*m+40,2*n);this.context.globalAlpha=r}this.context.fillStyle=this.lc;this.context.fillText(c,-m+2,2);g?this.animate?(this.context.fillStyle=128>this.j?"rgb("+2*this.j+","+
2*this.j+",255)":"rgb("+2*(256-this.j)+","+2*(256-this.j)+",255)",this.j=this.j+4&255):this.context.fillStyle=this.vE:this.context.fillStyle=this.vg;this.context.fillText(c,-m,0)};d.prototype.Fb=function(c,g,n,m,r,u,x){var y=30*this.scale,v=32*this.scale,B=this.s.se,b=60*this.scale,l=!0;this.s.Ic?(b=0,u=this.context.canvas.height/2,this.ab=!0):this.ab=!1;""!==c&&(l=!1,r=performance.now()-r,this.context.save(),this.s.hb&&(x?(b=0,u=this.context.canvas.height/2):(y/=B,v=v/B|0,u=u/B|0,b=b/B|0)),this.context.font=
(y|0)+"px Arial",this.context.translate(this.context.canvas.width/2-1,b+u),r<=g?(u=r/g,u*=u,this.context.globalAlpha=u,this.context.scale(u,u)):r>g+n&&r<=g+n+m&&(u=(m-(r-(g+n)))/m,u*=u,this.context.globalAlpha=u,this.context.scale(u,u)),r>g+n+m?l=!0:(g=c.indexOf("\\n"),-1===g?this.Vm(c,x,v):(this.Vm(c.substr(0,g),x,v),this.context.translate(0,v),this.Vm(c.substr(g+2),x,v))),this.context.restore());return l};d.prototype.update=function(){var c=this.s.wc.zh;this.Fb(this.message,this.La,this.Na,this.rb,
this.W,81*c,!1)&&(this.message="");this.s.hb&&"Expand"!==this.Jj&&"Launch"!==this.Jj||!this.Fb(this.Jj,this.fa,this.na,this.fb,this.Aa,45*c,!0)||(this.Jj="")};p.prototype.HK=function(c){this.scale=c};p.prototype.Vm=function(c,g,n,m){var r;if(0<this.K.width){this.Ye||(this.width=this.K.width,this.height=this.K.height,this.j=document.createElement("canvas"),this.j.width=this.width,this.j.height=this.height,this.A=this.j.getContext("2d"),this.fa=new Image,this.na=new Image);if(this.Bu){this.A.drawImage(this.K,
0,0);var u=this.A.getImageData(0,0,this.j.width,this.j.height);var x=new Uint32Array(u.data.buffer);for(r=0;r<x.length;r+=1)4294967295===x[r]&&(x[r]=this.HC);this.A.putImageData(u,0,0);this.na.src=this.j.toDataURL("image/png");this.A.drawImage(this.K,0,0);u=this.A.getImageData(0,0,this.j.width,this.j.height);x=new Uint32Array(u.data.buffer);for(r=0;r<x.length;r+=1)4294967295===x[r]&&(x[r]=this.Az);this.A.putImageData(u,0,0);this.Ye=this.Bu=!1}this.Ye||(this.fa.src=this.j.toDataURL("image/png"),this.Ye=
!0);1!==this.scale&&(this.context.save(),this.context.translate(g,n),this.context.scale(this.scale,this.scale),this.context.imageSmoothingEnabled=!0,n=g=0);m?this.context.drawImage(this.na,c.Jo*c.width,0,c.width,c.height,g,n,c.width,c.height):this.context.drawImage(this.fa,c.Jo*c.width,0,c.width,c.height,g,n,c.width,c.height);1!==this.scale&&(this.context.restore(),this.context.imageSmoothingEnabled=!1)}};p.prototype.length=function(){return this.W.length};p.prototype.icon=function(c){var g,n=this.W,
m=this.length(),r=null;for(g=0;g<m&&!r;)n[g].name===c?r=n[g]:g+=1;return r};p.prototype.add=function(c,g,n){var m=this.W.length;c=new k(c,g,n,m);this.W[m]=c};var e={rw:0,Ce:1,vertical:2,ed:0,button:1,toggle:2,Og:3,list:4,label:5,pm:0,Ia:1,left:0,RB:1,right:2,ka:0,mc:1,ix:2,gb:3,kp:4,Wi:5,oB:6,od:7,Bb:8};h.prototype.bg=function(c){!this.c&&c&&(this.c=!0)};h.prototype.Oa=function(c){this.fontSize=parseInt(c.substr(0,c.indexOf("px")),10);this.fontFamily=c.substr(c.indexOf("px")+3)};h.prototype.Br=function(c,
g,n,m,r,u){this.Kf=c;this.Nc=g;this.Sh=n;this.lm=m;this.Bg=r;this.Eh=u;if(this.type===e.list)for(this.Im=[],c=0;c<this.lower.length;c+=1)this.Im[c]=this.Nc};h.prototype.Nj=function(c){this.ur=c};h.prototype.BK=function(c){this.Cz=c};h.prototype.Hn=function(c){this.im=c};h.prototype.NK=function(c){this.j=c};h.prototype.setPosition=function(c,g,n){this.position=c;this.im=g;this.j=n};h.prototype.LG=function(c,g){var n=this.A.ff,m=this.A.zh,r=this.im*n,u=this.j*m;n=this.ur*n;m=this.Cz*m;this.x=r;this.y=
u;this.width=n;this.height=m;switch(this.position){case e.ka:this.x=(c-n>>1)+r;break;case e.mc:this.x=c+r;break;case e.ix:this.y=(g-m>>1)+u;this.x=c+r;break;case e.gb:this.x=c+r;this.y=g+u;break;case e.kp:this.x=(c-n>>1)+r;this.y=g+u;break;case e.Wi:this.y=g+u;break;case e.oB:this.y=(g-m>>1)+u;break;case e.Bb:this.x=(c-n>>1)+r,this.y=(g-m>>1)+u}};h.prototype.yB=function(c,g){var n=this.au;this.Rr[n]=[c,g];this.au=n+1};h.prototype.ks=function(c){var g=[],n;var m=c.length;for(n=0;n<m;n+=1)c[n].yB(this,
!0);m=g.length;for(n=0;n<m;n+=1)g[n].yB(this,!1)};h.prototype.XI=function(c,g){var n=!1;this.enabled&&c>=this.x&&c<this.x+this.width&&g>=this.y&&g<this.y+this.height&&(n=!0);return n};t.prototype.gK=function(c){this.zh=this.ff=c;this.P.notification.scale=c};t.prototype.Br=function(c,g,n,m,r,u){var x;this.Kf=c;this.Nc=g;this.Sh=n;this.Bg=r;this.Eh=u;for(x=0;x<this.ne.length;x+=1)this.ne[x].Br(c,g,n,m,r,u)};t.prototype.W=function(c,g){var n=!1,m=c.au;c.type===e.list&&c.upper===e.Ia?n=c.current[0]:n=
c.current===c.upper;c.yI&&(n=!n);if(n&&g)for(g=0;g<m;g+=1)n=n&&this.W(c.Rr[g][0],c.Rr[g][1]);return n};t.prototype.iF=function(c){var g,n=c.au;var m=!0;for(g=0;g<n;g+=1)m=m&&this.W(c.Rr[g][0],c.Rr[g][1]);c.enabled=m};t.prototype.Ye=function(){var c;for(c=0;c<this.Ac;c+=1){var g=this.ne[c];g.enabled=!0;switch(g.type){case e.toggle:g.Ab&&(g.current=g.Ab(g.current===g.upper,!1,this.caller)?g.upper:g.lower);break;case e.ed:g.Ab&&(g.current=g.Ab(g.current,!1,this.caller));break;case e.list:g.Ab&&(g.current=
g.Ab(g.current,!1,this.caller))}this.iF(g)}};t.prototype.cb=function(c,g,n,m,r,u,x,y,v){this.ne[this.Ac]=new h(this.Ac,c,this.caller,g,n,m,r,u,x,v,y,e.list,this.A,this.border,!0,"","",-1,[],this);this.Ac+=1;return this.ne[this.Ac-1]};t.prototype.nj=function(c,g,n,m,r,u,x,y,v,B,b,l){this.ne[this.Ac]=new h(this.Ac,c,this.caller,g,n,m,r,u,x,y,v,e.ed,this.A,this.border,!0,B,b,l,null,this);this.Ac+=1;return this.ne[this.Ac-1]};t.prototype.xa=function(c,g,n,m,r,u){this.ne[this.Ac]=new h(this.Ac,null,null,
c,g,n,m,r,0,0,0,e.label,this.A,this.border,!0,u,"",-1,null,this);this.Ac+=1;return this.ne[this.Ac-1]};t.prototype.Fa=function(c,g,n,m,r,u){this.ne[this.Ac]=new h(this.Ac,c,this.caller,g,n,m,r,40,0,0,0,e.button,this.A,this.border,!0,u,"",-1,null,this);this.Ac+=1;return this.ne[this.Ac-1]};t.prototype.pG=function(){this.ne[this.Ac]=new h(this.Ac,null,null,Menu.Wi,0,-40,100,40,0,100,0,e.Og,this.A,this.border,!1,"","",0,null,this);this.Ac+=1;return this.ne[this.Ac-1]};t.prototype.j=function(c,g,n){var m;
c+=String();if(""!==c){this.context.save();this.context.translate(g.x+g.width/2,g.y+g.height/2);this.context.font=(g.fontSize*this.ff|0)+"px "+g.fontFamily;g.Mr===e.vertical&&this.context.rotate(.5*Math.PI);var r=this.context.measureText(c).width;var u=g.Mr===e.vertical?g.height:g.width;if(r>=u-6){if(m=c.length){do{--m;var x=c.substr(0,m)+"...";r=this.context.measureText(x).width}while(1<m&&r>=u-6)}c=x}switch(g.textAlign){case e.left:var y=g.width/2-2;break;case e.RB:y=r/2;break;case e.right:y=r/
2-(g.width-r)/2+4}this.context.fillStyle=g.Nc;n&&this.context.fillRect(2-y,2,r,2);this.context.fillText(c,2-y+.5,2.5);this.context.fillStyle=g.locked||this.locked?g.Bg:g.Kf;this.context.fillText(c,-y+.5,.5);n&&this.context.fillRect(-y,0,r,2);this.context.restore()}};t.prototype.La=function(c){this.context.globalAlpha=this.dg;this.j(c.Ma,c,!1)};t.prototype.na=function(c){this.context.globalAlpha=this.dg;this.j(c.Ma,c,!1)};t.prototype.ab=function(c){var g=(c.current-c.lower)/(c.upper-c.lower);this.context.globalAlpha=
c.ye;this.context.fillStyle=c.Kf;c.orientation===e.Ce?(g*=c.width-3,this.context.fillRect(c.x+(g+1|0),c.y,1,c.height)):(g*=c.height-3,this.context.fillRect(c.x,c.y+(g+1|0),c.width,1));g=c.Ma;c.$A&&(g=-1!==c.fixed?g+c.current.toFixed(c.fixed):g+c.current,g+=c.mz);""!==g&&(this.context.globalAlpha=c.dg,this.j(g,c,!1))};t.prototype.fb=function(c,g){var n=(c.current[0]-c.lower)/(c.upper-c.lower);var m=this.fa;c.orientation===e.Ce?(n*=c.width-3,n=n+1|0,g&&(this.context.fillStyle=c.Sh,this.context.globalAlpha=
c.rk,this.context.fillRect(c.x+n-m,c.y,m,c.height),this.context.fillRect(c.x+n+1,c.y,m,c.height)),c.locked||this.locked?(this.context.fillStyle=c.Bg,this.context.globalAlpha=c.Bj):(this.context.fillStyle=c.Kf,this.context.globalAlpha=c.dg),this.context.fillRect(c.x+n,c.y,1,c.height)):(n*=c.height-3,n=n+1|0,g&&(this.context.fillStyle=c.Sh,this.context.globalAlpha=c.rk,this.context.fillRect(c.x,c.y+n-m,c.width,m),this.context.fillRect(c.x,c.y+n+1,c.width,m)),c.locked||this.locked?(this.context.fillStyle=
c.Bg,this.context.globalAlpha=c.Bj):(this.context.fillStyle=c.Kf,this.context.globalAlpha=c.dg),this.context.fillRect(c.x,c.y+n,c.width,1));g=c.Ma;c.$A&&(g=0<=c.fixed?g+c.current[1].toFixed(c.fixed):g+c.current[1]);g+=c.mz;""!==g&&(this.context.globalAlpha=this.dg,this.j(g,c,!1))};t.prototype.rb=function(c){this.context.globalAlpha=this.dg;var g="-"===c.lower&&""===c.upper&&c.current===c.lower;var n=c.Ma;c.$A&&!g&&(n+=c.current);n+=c.mz;this.j(n,c,g)};t.prototype.Na=function(c,g){var n=c.x;var m=
c.y;var r=c.width;var u=c.height;var x=c.orientation;var y=c.current;var v=c.lower;var B=v.length;var b=c.orientation===e.Ce?r/B:u/B;this.context.globalAlpha=c.Fn;this.context.fillStyle=c.lm;if(c.upper===e.pm){var l=c.current;0<=l&&l<B&&(c.orientation===e.Ce?this.context.fillRect(n+l*b+1,m+1,b-2,u-2):this.context.fillRect(n+1,m+1+l*b,r-2,b-2))}else if(c.orientation===e.Ce)for(l=0;l<B;l+=1)y[l]&&this.context.fillRect(n+l*b+1,m+1,b-2,u-2);else for(l=0;l<B;l+=1)y[l]&&this.context.fillRect(n+1,m+1+l*
b,r-2,b-2);c.tt=!1;g?(this.context.globalAlpha=c.rk,this.context.fillStyle=c.Sh,c.orientation===e.Ce?(l=(this.hh-n)/r*B|0,0<=l&&l<B&&(c.Ag[l]?c.tt=!0:this.context.fillRect(n+l*b+.5,m+.5,b-1,u-1))):(l=(this.Fj-m)/u*B|0,0<=l&&l<B&&(c.Ag[l]?c.tt=!0:this.context.fillRect(n+.5,m+.5+l*b,r-1,b-1))),c.Kl=l):c.Kl=-1;this.context.globalAlpha=this.dg;if(c.orientation===e.Ce)for(l=0;l<B;l+=1)c.icon[l]&&this.O.Vm(c.icon[l],c.x+b*l,c.y,this.locked||c.locked||c.Ag[l]);else for(l=0;l<B;l+=1)c.icon[l]&&this.O.Vm(c.icon[l],
c.x,c.y+b*l,this.locked||c.locked||c.Ag[l]);this.context.globalAlpha=c.dg;this.context.fillStyle=c.Kf;if(x===e.Ce)for(l=0;l<B;l+=1)n=v[l],""!==n&&(this.context.save(),this.context.translate((.5+(l-B/2))*b,0),this.j(n,c,!1),this.context.restore());else for(l=0;l<B;l+=1)n=v[l],""!==n&&(this.context.save(),this.context.translate(0,(.5+(l-B/2))*b),this.j(n,c,!1),this.context.restore())};t.prototype.Aa=function(c,g,n,m,r){var u=!0;g&&!this.bd&&r&&(u=!1);u&&(n===m||-1===m&&g)&&(c.type===e.button||c.type===
e.toggle)?(this.context.fillStyle=c.Sh,this.context.globalAlpha=c.rk):(this.context.fillStyle=c.Nc,this.context.globalAlpha=c.ye);switch(c.type){case e.Og:r=(c.current-c.lower)/(c.upper-c.lower);this.context.fillStyle=c.lm;this.context.globalAlpha=c.Fn;c.orientation===e.Ce?(r*=c.width-3,r=r+1|0,this.context.fillRect(c.x,c.y,r,c.height),this.context.fillStyle=c.Nc,this.context.globalAlpha=c.ye,this.context.fillRect(c.x+r,c.y,c.width-r,c.height)):(r*=c.height-3,r=r+1|0,this.context.fillRect(c.x,c.y,
c.width,r),this.context.fillStyle=c.Nc,this.context.fillRect(c.x,c.y+r,c.width,c.height-r));break;case e.ed:r=(c.current[0]-c.lower)/(c.upper-c.lower);if(n===m||-1===m&&g){var x=this.fa;if(c.orientation===e.Ce){r*=c.width-3;r=r+1|0;var y=r-x;0<y&&this.context.fillRect(c.x,c.y,y,c.height);y=1+r+x;y<c.width&&this.context.fillRect(c.x+y,c.y,c.width-y,c.height)}else r*=c.height-3,r=r+1|0,y=r-x,0<y&&this.context.fillRect(c.x,c.y,c.width,y),y=1+r+x,y<c.height&&this.context.fillRect(c.x,c.y+y,c.width,c.height-
y)}else this.context.fillRect(c.x,c.y,c.width,c.height);break;case e.list:x=c.lower.length;if(c.orientation===e.Ce)for(y=c.width/x,r=0;r<x;r+=1)this.context.fillStyle=c.Im[r],this.context.fillRect(c.x+r*y+1,c.y+1,y-2,c.height-2);else for(y=c.height/x,r=0;r<x;r+=1)this.context.fillStyle=c.Im[r],this.context.fillRect(c.x+1,c.y+1+r*y,c.width-2,y-2);break;default:this.context.fillRect(c.x,c.y,c.width,c.height)}c.type!==e.list&&c.icon&&(this.context.globalAlpha=c.dg,this.O.Vm(c.icon,c.x,c.y,this.locked||
c.locked));if(0<c.border)switch(c.locked||this.locked?(this.context.strokeStyle=c.Bg,this.context.globalAlpha=c.Bj):(this.context.strokeStyle=c.Eh,this.context.globalAlpha=c.ck),this.context.lineWidth=c.border,c.type){case e.label:break;case e.list:x=c.lower.length;if(c.orientation===e.Ce)for(y=c.width/x,r=0;r<x;r+=1)this.locked||c.locked||c.Ag[r]?(this.context.strokeStyle=c.Bg,this.context.globalAlpha=c.Bj):(this.context.strokeStyle=c.Eh,this.context.globalAlpha=c.ck),this.context.strokeRect(c.x+
.5+r*y,c.y+.5,y-1,c.height-1);else for(y=c.height/x,r=0;r<x;r+=1)this.locked||c.locked||c.Ag[r]?(this.context.strokeStyle=c.Bg,this.context.globalAlpha=c.Bj):(this.context.strokeStyle=c.Eh,this.context.globalAlpha=c.ck),this.context.strokeRect(c.x+.5,c.y+.5+r*y,c.width-1,y-1);break;default:this.context.strokeRect(c.x+.5,c.y+.5,c.width-1,c.height-1)}switch(c.type){case e.button:this.na(c);break;case e.label:this.La(c);break;case e.ed:this.fb(c,u&&(n===m||-1===m&&g));break;case e.toggle:this.rb(c);
break;case e.Og:this.ab(c);break;case e.list:this.Na(c,u&&(n===m||-1===m&&g))}if(n===m)switch(c.type){case e.ed:u=this.Fj,c.orientation===e.vertical?(u<c.y?u=c.y:u>=c.y+c.height&&(u=c.y+c.height-1),c.current[0]=(u-c.y)/(c.height-1)*(c.upper-c.lower)+c.lower):(u=this.hh,u<c.x?u=c.x:u>=c.x+c.width&&(u=c.x+c.width-1),c.current[0]=(u-c.x)/(c.width-1)*(c.upper-c.lower)+c.lower),c.Ab&&(c.current=c.Ab(c.current,!0,c.caller))}if(g&&!this.bd&&c.It)switch(c.type){case e.button:c.Ab&&c.Ab(c.caller);break;case e.toggle:c.current=
c.current===c.upper?c.lower:c.upper;c.Ab&&c.Ab(c.current===c.upper,!0,c.caller);break;case e.list:x=c.lower.length,y=c.orientation===e.Ce?(this.hh-c.x)/c.width*x|0:(this.Fj-c.y)/c.height*x|0,c.upper===e.pm?c.Ag[y]||(c.Ab?c.current=c.Ab(y,!0,c.caller):c.current=y):c.Ag[y]||(c.current[y]=!c.current[y],c.Ab&&c.Ab(c.current,!0,c.caller))}g&&n===m?(c.It=this.bd,c.YC=this.hh,c.ZC=this.Fj):(c.It=!1,c.YC=-1,c.ZC=-1)};t.prototype.Ou=function(c){this.K=c};t.prototype.hx=function(){var c,g=!1,n=this.context.canvas.width,
m=this.context.canvas.height,r=-1;var u=!1;this.Vl=-1;if(this.c)this.bd?this.fl=-2:(-2===this.fl&&this.kB&&this.kB(this.hh,this.Fj,this.bd,this.caller),this.bd||(this.fl=-1));else{var x=this.fl;this.context.textAlign="left";for(c=0;c<this.Ac;c+=1){var y=this.ne[c];if(!y.c){y.LG(n,m);var v=!1;y.XI(this.hh,this.Fj)&&(r=c,y.locked||this.locked?g=!0:v=!0);v&&!this.bd&&(this.Vl=c);(this.bd&&-1===x&&v||v&&this.Lm)&&y.type!==e.label&&(x=c,this.Lm&&(y.It=!0));c===x&&(y.locked||this.locked)&&(x=-1,v=!1);y.enabled&&
this.Aa(y,v,c,x,this.P.Dl)}}0<=x&&!this.bd&&(u=!0);this.bd&&-1===x&&!g&&(x=-2);-2===x&&this.cx&&!this.locked&&this.cx(this.hh,this.Fj,this.bd,this.caller);this.bd||(x=-1);this.fl=x;this.context.globalAlpha=1}0<=r?this.Ks=this.ne[r].type===e.ed?this.ne[r].orientation===e.rw||this.ne[r].orientation===e.Ce?"ew-resize":"ns-resize":"auto":this.Ks=this.K;return u};a.prototype.GE=function(){this.K=[];this.j=this.A=0};a.prototype.tG=function(){var c=0;0<this.j&&(c=this.A/this.j);this.K[this.K.length]=c;this.j=
this.A=0};a.prototype.gI=function(c){var g=-1;0<=c&&c<this.K.length&&(g=this.K[c]);return g};a.prototype.Br=function(c,g,n,m,r,u){this.Kf=c;this.Nc=g;this.Sh=n;this.Bg=r;this.Eh=u;this.wc&&this.wc.Br(c,g,n,m,r,u)};a.prototype.lH=function(c,g,n){c=new t(this,c,g,n,this.uc,this.hk);c.Kf=this.Kf;c.dg=this.dg;c.Nc=this.Nc;c.ye=this.ye;c.Sh=this.Sh;c.rk=this.rk;c.lm=this.lm;c.Fn=this.Fn;c.Bg=this.Bg;c.Bj=this.Bj;c.Eh=this.Eh;c.ck=this.ck;c.border=this.border;return c};a.prototype.MH=function(){var c=this.wc,
g=c.ff,n=this.uc,m="";var r=1;if(-1!==c.fl||-1===c.fl&&-1===c.Vl)this.W=c.fl;if(-1===c.Vl||-1!==this.W&&this.W===c.Vl){if(-1!==c.Vl){var u=c.ne[c.Vl];u.id===this.Aa&&u.Kl!==this.fa&&(this.W=-1)}50>this.aj&&(this.aj+=1)}else{u=c.ne[c.Vl];u.id!==this.Aa||u.id===this.Aa&&u.Kl!==this.fa?(this.Aa=u.id,this.fa=u.Kl,50>this.aj&&(this.aj+=1)):0<=this.aj&&--this.aj;c=-1!==this.fa?u.w[this.fa]:u.w;var x=c.indexOf("\n");if(""!==c&&-1===this.aj&&!u.tt){this.W=-1;var y=u.x;var v=u.y;var B=u.width;var b=u.height;
-1!==u.Kl&&(u.orientation===e.Ce?(y+=B/u.lower.length*u.Kl,B/=u.lower.length):(v+=b/u.lower.length*u.Kl,b/=u.lower.length));var l=18*g;n.font=(l|0)+"px Arial";var f=4*g;var q=n.measureText(c).width;g=Math.round(y+B/2);v=Math.round(v+b/2);g-=q/2;g<f+1?g=f+1:g+q+f>n.canvas.width&&(g=n.canvas.width-q-f-1);b>B?(-1!==this.La&&B<this.La&&(B=this.La),g>n.canvas.width/2?g=y-q-B/2:g=y+u.width+B/2):(-1!==this.Na&&b<this.Na&&(b=this.Na),v>n.canvas.height/2?v-=b:v+=b);if(q>n.canvas.width){m=(q>>1)+l+f;m>n.canvas.width&&
(m=n.canvas.width);for(r=1;n.measureText(c.substr(0,r)).width<m;)r+=1;for(q=r-1;q>r-5;)m=c[q]," "===m||","===m||"/"===m||"|"===m?(r=q+2,q=r-5):--q;m=c.substr(r-1);c=c.substr(0,r-1);q=n.measureText(c).width;r=n.measureText(m).width;r>q&&(q=r);r=2}else-1!==x&&(m=c.substr(x+1),r=n.measureText(m).width,c=c.substr(0,x),q=n.measureText(c).width,r>q&&(q=r),r=2);x=l*r+2*f;2===r&&v>n.canvas.height/2&&(v-=l+f,x+=f);n.globalAlpha=this.ye;n.fillStyle=this.Nc;n.fillRect((g-f|0)-.5,(v-l/2-f|0)-.5,q+2+2*f,x);n.globalAlpha=
this.ck;n.strokeStyle=this.Eh;n.strokeRect((g-f|0)-.5,(v-l/2-f|0)-.5,q+2+2*f,x);n.globalAlpha=this.ye;n.strokeStyle=this.Nc;n.beginPath();n.moveTo((g-f|0)+.5,(v-l/2-f|0)+.5+x);n.lineTo((g-f|0)+.5+q+2+2*f,(v-l/2-f|0)+.5+x);n.lineTo((g-f|0)+.5+q+2+2*f,(v-l/2-f|0)+.5);n.stroke();n.globalAlpha=1;n.fillStyle=this.Nc;n.fillText(c,g+2,v+2);""!==m&&n.fillText(m,g+2,v+l+f+2);n.fillStyle=this.Kf;n.fillText(c,g,v);""!==m&&n.fillText(m,g,v+l+f)}}};a.prototype.lc=function(c){var g,n,m,r=c.uc,u=90,x=1,y=1;c.hb&&
(u=0);c.Zr=!1;c.ZA=!0;c.Lq&&(c.wc=c.Lq,c.Lq=null,r.font=c.hk,c.wc.Ye(),c.wc.js&&c.wc.js(c.wc.caller));c.wc&&(x=c.wc.ff,y=c.wc.zh);var v=r.canvas.width-86*x;u*=y;var B=performance.now();c.Ix&&(c.Jt=B-1E3/60);c.Bp||c.notification.Um()||c.Cm||c.bL!==c.aj&&-1!==c.aj?(c.zr(c),c.Cm&&--c.Cm,c.Ix=!1):c.Ix=!0;var b=B-c.Jt;c.Jt=B;c.wc.Ab&&c.wc.Ab(b,c.wc.caller);B=performance.now()-B;var l=performance.now();c.hx();c.Lm=!1;c.MH();c.notification.update();l=performance.now()-l;c.Zx[c.Qr]=l;for(m=g=0;m<c.tn;m+=
1)g+=c.Zx[m];g/=c.tn;c.cy[c.Qr]=B;for(m=n=0;m<c.tn;m+=1)n+=c.cy[m];n/=c.tn;c.Yx[c.Qr]=b;for(m=b=0;m<c.tn;m+=1)b+=c.Yx[m];b/=c.tn;c.Qr=(c.Qr+1)%c.tn;m=1E3/b;60<m&&(m=60);this.A+=1E3/(B+l);this.j+=1;c.Mk&&(r.font=(12*x|0)+"px Arial",r.globalAlpha=.7,r.fillStyle="black",c.nm?r.fillRect(v,u,88*x|0,83*y|0):r.fillRect(v,u,88*x|0,20*y|0),l=(n+g)/16.666666,1<l&&(l=1),r.fillStyle=.5>l?"rgb("+(510*l|0)+",255,0)":"rgb(255,"+(255*(1-2*(l-.5))|0)+",0)",r.fillRect(v,u,88*l*x|0,20*y|0),g=g.toFixed(1),n=n.toFixed(1),
4>m.toFixed(1).length?m=m.toFixed(1):m|=0,r.globalAlpha=1,r.fillStyle="black",B=m+"fps",b=r.measureText(B).width,r.fillText(B,v+36*x-b,u+12*y),B=(100*l|0)+"%",b=r.measureText(B).width,r.fillText(B,v+84*x-b,u+12*y),c.nm&&(r.fillText("menu",v+6*x,u+28*y),r.fillText("work",v+6*x,u+44*y),r.fillText("update",v+6*x,u+60*y),r.fillText("focus",v+6*x,u+76*y),B=g+"ms",b=r.measureText(B).width,r.fillText(B,v+84*x-b,u+28*y),B=n+"ms",b=r.measureText(B).width,r.fillText(B,v+84*x-b,u+44*y),B=c.Bp?"on":"off",b=r.measureText(B).width,
r.fillText(B,v+84*x-b,u+60*y),B=c.hasFocus?"on":"off",b=r.measureText(B).width,r.fillText(B,v+84*x-b,u+76*y)),r.fillStyle="white",B=m+"fps",b=r.measureText(B).width,r.fillText(B,v+34*x-b,u+10*y),B=(100*l|0)+"%",b=r.measureText(B).width,r.fillText(B,v+82*x-b,u+10*y),c.nm&&(r.fillText("menu",v+4*x,u+26*y),r.fillText("work",v+4*x,u+42*y),r.fillText("update",v+4*x,u+58*y),r.fillText("focus",v+4*x,u+74*y),B=g+"ms",b=r.measureText(B).width,r.fillText(B,v+82*x-b,u+26*y),B=n+"ms",b=r.measureText(B).width,
r.fillText(B,v+82*x-b,u+42*y),B=c.Bp?"on":"off",b=r.measureText(B).width,r.fillText(B,v+82*x-b,u+58*y),B=c.hasFocus?"on":"off",b=r.measureText(B).width,r.fillText(B,v+82*x-b,u+74*y)),r.globalAlpha=1);c.wc.Ks!==c.wc.Jw&&(c.wc.Jw=c.wc.Ks,c.Oc.style.cursor=c.wc.Jw);c.nz=!0};a.prototype.jG=function(c){c.O=this.O;this.wc?this.Lq=c:(this.Lq=null,this.wc=c,this.uc.font=this.hk,this.wc.Ye(),this.wc.js&&this.wc.js(this.wc.caller),this.zr(this))};a.prototype.hx=function(){var c;if(this.wc){var g=this.wc;this.uc.font=
this.hk;g.hh=this.xk;g.Fj=this.yk;g.bd=this.bd;g.Lm=this.Lm;if(g.hx()||this.uh){for(c=0;c<g.Ac;c+=1){var n=g.ne[c];g.iF(n)}this.uh=!1}}};a.prototype.zr=function(c){c.Zr||(requestAnimationFrame?requestAnimationFrame(c.QB):setTimeout(c.QB,16),c.Zr=!0)};a.prototype.mo=function(c,g){for(var n=null,m=0;null===n&&m<c.length;)c[m].identifier===g?n=c[m]:m+=1;return n};a.prototype.na=function(c,g){var n=g.changedTouches;switch(g.type){case "touchstart":-1===c.Ih&&(n=n[0],c.Ih=n.identifier,c.gr(c,n.pageX,n.pageY));
break;case "touchend":n=c.mo(n,c.Ih);null!==n&&(c.ir(c,n.pageX,n.pageY),c.Ih=-1);break;case "touchmove":n=c.mo(n,c.Ih);null!==n&&c.hr(c,n.pageX,n.pageY);break;case "touchcancel":n=c.mo(n,c.Ih),null!==n&&c.mE(c)}c.Dl=!0;g.stopPropagation&&g.stopPropagation();g.cancelable&&g.preventDefault()};a.prototype.gr=function(c,g,n){c.tp(c,g,n);c.bd=!0;c.ZA=!1};a.prototype.ir=function(c,g,n){c.$x=performance.now();c.tp(c,g,n);c.bd=!1;c.ZA||(c.Lm=!0);c.hasFocus||(c.Dl||c.Oc.focus(),c.hasFocus=!0,c.notification.clear(!0,
!1),c.xC&&c.xC(c.caller))};a.prototype.hr=function(c,g,n){c.TB(c);c.tp(c,g,n)};a.prototype.nJ=function(c){c.TB(c)};a.prototype.mE=function(c){1<performance.now()-c.$x&&(c.hasFocus||c.notification.clear(!0,!1),c.Oc.blur(),c.hasFocus=!1,c.bd=!1,c.xk=-1,c.yk=-1,c.Cw=!1,c.Zr||(c.zr(c),4>c.Cm&&(c.Cm=4)))};a.prototype.ab=function(c,g){if(!c.un){if(g.pageX||g.pageY){var n=g.pageX;var m=g.pageY}else n=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,m=g.clientY+document.body.scrollTop+
document.documentElement.scrollTop;c.gr(c,n,m);g.stopPropagation&&g.stopPropagation();g.preventDefault();c.Dl=!1}};a.prototype.dc=function(c,g){c.$x=performance.now();if(!c.un){if(g.pageX||g.pageY){var n=g.pageX;var m=g.pageY}else n=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,m=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;c.ir(c,n,m);g.stopPropagation&&g.stopPropagation();g.preventDefault();c.Dl=!1}};a.prototype.TB=function(c){c.hasFocus||c.Cw&&""!==
c.notification.Jj||(c.Ic?c.zk||c.notification.L("Copy",3600,!0):c.hb?c.$i?c.notification.L("Launch",3600,!0):c.notification.L("Expand",3600,!0):c.notification.L("Click to control",3600,!0),c.notification.animate=!0,c.Cw=!0)};a.prototype.fb=function(c,g){if(!c.un){if(g.pageX||g.pageY){var n=g.pageX;var m=g.pageY}else n=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,m=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;c.hr(c,n,m);g.stopPropagation&&g.stopPropagation();
g.preventDefault();c.Dl=!1}};a.prototype.Fb=function(c,g){c.un||(c.nJ(c),g.stopPropagation&&g.stopPropagation(),g.preventDefault(),c.Dl=!1)};a.prototype.rb=function(c,g){c.un||(c.mE(c),g.stopPropagation&&g.stopPropagation(),g.preventDefault(),c.Dl=!1)};a.prototype.tp=function(c,g,n){var m=this.Oc.getBoundingClientRect();window.scrollX?(g-=m.left+window.scrollX,n-=m.top+window.scrollY):(g-=m.left+window.pageXOffset,n-=m.top+window.pageYOffset);g/=c.ef;n/=c.ef;c.xk=g-1|0;c.yk=n-1|0;c.Zr||(c.zr(c),4>
c.Cm&&(c.Cm=4))};a.prototype.Qg=function(c){!c&&!this.notification.Um()||this.Bp||this.zr(this);this.Bp=c};window.IconManager=p;window.Menu=e;window.MenuManager=a}(),function(){function d(a,e,c,g,n,m){this.mp=a;this.np=e;this.width=c;this.height=g;this.UK=n;this.SH=m}function k(){this.time=0;this.K=this.Mt=!1;this.Ke="none";this.kJ="2pca4";this.cD=86;this.Cc=22;this.Dc=6;this.ab=8;this.u="";this.ce="0123456789xyz";this.be="0123";this.de="0123456789";this.$m=1038;this.an=7157;this.Mf="0123456omp-";
this.Nf="01234";this.rf=["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"];this.$k=[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,226,204,106,142,102],[108,170,198]]];this.sd=" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" ");this.kd="  omp omp omp  ".split(" ");this.mj=[0,2,6,10,13,10,6,2,0];this.ak=[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,
8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]];this.al=[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]];this.Kn=new Uint32Array(256);this.Mz=new Uint8Array(8192);this.Iz=new Uint8Array(8192);this.Si=new Uint8Array(512);this.Hz=new Uint8Array(512);this.Bl=new Uint16Array(512);this.yj=this.ta=!1;this.Xr="l";this.Wr="le";this.Yr="lv";this.st="h";this.kv="v";this.rg=!1;this.qx=0;this.lk=!1;this.nu=this.mu=0;this.Mg=!1;this.Aa=this.index=
0;this.zd=1;this.xe=2;this.Pf=this.gd=this.hd=0;this.sg=1;this.Fp=2;this.Pj=this.Qj=-1;this.zm=0;this.Vn=1;this.Wn=2;this.oc=!1;this.qe="num_states";this.Sf="num_neighbors";this.$h="num_nodes";this.Rf="n_states";this.fa=[];this.fa[t.ep]="vonneumann";this.fa[t.bp]="moore";this.fa[t.Gk]="hexagonal";this.fa[t.cp]="onedimensional";this.fb=[];this.fb[t.ep]=5;this.fb[t.bp]=9;this.fb[t.Gk]=7;this.fb[t.cp]=3;this.na=[];this.na[t.ep]=["none","rotate4","rotate4reflect","reflect_horizontal","permute"];this.na[t.bp]=
"none rotate4 rotate8 rotate4reflect rotate8reflect reflect_horizontal permute".split(" ");this.na[t.Gk]="none rotate2 rotate3 rotate6 rotate6reflect permute".split(" ");this.na[t.cp]=["none","reflect","permute"];this.rb=[];this.rb[t.ep]=[[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5]],[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5],[0,4,3,2,1,5],[0,3,2,1,4,5],[0,2,1,4,3,5],[0,1,4,3,2,5]],[[0,1,2,3,4,5],[0,1,4,3,2,5]]];this.rb[t.bp]=[[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],
[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9]],[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9],[0,1,8,7,6,5,4,3,2,9],[0,7,6,5,4,3,2,1,8,9],[0,5,4,3,2,1,8,7,6,9],[0,3,2,1,8,7,6,5,4,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,
1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9],[0,8,7,6,5,4,3,2,1,9],[0,7,6,5,4,3,2,1,8,9],[0,6,5,4,3,2,1,8,7,9],[0,5,4,3,2,1,8,7,6,9],[0,4,3,2,1,8,7,6,5,9],[0,3,2,1,8,7,6,5,4,9],[0,2,1,8,7,6,5,4,3,9],[0,1,8,7,6,5,4,3,2,9]],[[0,1,2,3,4,5,6,7,8,9],[0,1,8,7,6,5,4,3,2,9]]];this.rb[t.cp]=[[[0,1,2,3],[0,2,1,3]]];this.rb[t.Gk]=[[[0,1,2,3,4,5,6,7],[0,4,5,6,1,2,3,7]],[[0,1,2,3,4,5,6,7],[0,3,4,5,6,1,2,7],[0,5,6,1,2,3,4,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],
[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7],[0,6,5,4,3,2,1,7],[0,5,4,3,2,1,6,7],[0,4,3,2,1,6,5,7],[0,3,2,1,6,5,4,7],[0,2,1,6,5,4,3,7],[0,1,6,5,4,3,2,7]]]}function p(a,e){this.m=null;this.P=e;e=a.lastIndexOf(".");-1!==e&&(a=a.substr(0,e));this.name=a;this.wm=this.qj=0;this.fg=this.Be=this.$b=-1;this.po=this.fq=0;this.nt=this.vx=!1;this.ao=this.Gf=this.ca=this.Xq="";this.$=this.R=
this.xo=this.Fc=this.fc=this.$a=this.D=this.ia=!1;this.Ld=this.P.zm;this.Nd=-1;this.Fd=this.De=!1;this.Mc=-1;this.Ej=1;this.Kg=this.CB=this.DB=this.EB=this.FB=this.Ff=this.Zd=this.Le=this.Rd=-1;this.JF=this.ya=!1;this.Hd=-1;this.yp=this.xp=this.Cf=this.Ue=null;this.h=this.Jg=-1;this.height=this.width=0;this.Ig=this.me=null;this.Li=this.Xf=this.rc=this.title="";this.ud=2;this.Uq=0;this.jn=this.rg=!1;this.Kz=this.MD="";this.qe=-1;this.Lz=!1;this.Rf=this.Ti=this.Hk=this.$h=this.Sf=-1;this.Jd=this.pg=
null;this.og=this.Fk=0;this.Id=this.Xd=this.Lj=this.Mj=null}var h={rules:[],St:[],An:[],sG:function(a,e,c,g,n){var m,r=this.An.length,u=!1,x=a.ca;for(m=0;m<r&&!u;){var y=this.An[m];y.name===x?(u=!0,y.pattern[y.pattern.length]=a,y.Hr[y.Hr.length]=e,y.aq[y.aq.length]=c,y.ps[y.ps.length]=g,y.view[y.view.length]=n):m+=1}u||(this.An[r]={name:x,pattern:[a],Hr:[e],aq:[c],ps:[g],view:[n]});return u},LJ:function(a){var e,c=this.An.length,g=!1,n=a.ca;for(a=0;a<c&&!g;){var m=this.An[a];if(m.name===n)for(g=!0,
m.name="",e=0;e<m.Hr.length;e+=1)null!==m.Hr[e]&&(this.$C(m.pattern[e]),m.pattern[e].P.u="",m.pattern[e].P.ta=!0,m.pattern[e].P.yj=!1,m.Hr[e](m.pattern[e],m.ps[e],m.view[e]));else a+=1}},Fu:function(a){var e,c=this.An.length,g=!1,n=a.ca;for(a=0;a<c&&!g;){var m=this.An[a];if(m.name===n)for(g=!0,m.name="",e=0;e<m.aq.length;e+=1)null!==m.aq[e]&&(m.pattern[e].ya=m.pattern[e].JF,m.aq[e](m.pattern[e],m.ps[e],m.view[e]));else a+=1}},add:function(a,e,c,g){var n,m=this.rules.length,r=!1,u=a.ca;for(n=0;n<m&&
!r;)this.rules[n].name===u?r=!0:n+=1;r||(this.rules[m]=null===a.Jd?{name:a.ca,TC:!0,iA:a.qe,ZI:a.Sf,bJ:a.$h,JG:a.Hk,kK:a.Lj,lK:a.Mj,rl:a.Xd,mq:a.Id,R:a.Lz}:{name:a.ca,TC:!1,iA:a.Rf,YI:a.Ti,VG:a.og,Lo:a.Jd,UF:a.pg,rl:a.Xd,OH:a.Fk,mq:a.Id},this.St[m]={fetch:e|0,decode:c|0,size:g},this.LJ(a))},$C:function(a){var e,c=this.rules.length,g=null,n=!1,m=a.ca;for(e=0;e<c&&!n;)this.rules[e].name===m?(n=!0,g=this.rules[e]):e+=1;n&&(a.Jd=null,g.TC?(a.qe=g.iA,a.Sf=g.ZI,a.$h=g.bJ,a.Hk=g.JG,a.Lj=g.kK,a.Mj=g.lK,a.R=
g.R):(a.Rf=g.iA,a.Ti=g.YI,a.og=g.VG,a.Jd=g.Lo,a.pg=g.UF,a.Fk=g.OH,a.R=a.Ti===t.Gk?!0:!1),a.Xd=g.rl,a.Id=g.mq,a.$a=!1);return n}},t={ep:0,bp:1,Gk:2,cp:3,Jz:-1,mK:0,nK:1,oK:2,qK:3,pK:["circles","diamonds","hexagons","triangles"]};p.prototype.j=function(a){this.Xq=a.Xq;this.ca=a.ca;this.ia=a.ia;this.D=a.D;this.$a=a.$a;this.Gf=a.Gf;this.R=a.R;this.$=a.$;this.qj=a.qj;this.wm=a.wm;this.Ld=a.Ld;this.Nd=a.Nd;this.De=a.De;this.Fd=a.Fd;this.Mc=a.Mc;this.Kg=a.Kg;this.Ej=a.Ej;this.Rd=a.Rd;this.Le=a.Le;this.Zd=
a.Zd;this.Ff=a.Ff;this.ya=a.ya;this.Hd=a.Hd;this.Jg=a.Jg;this.h=a.h;this.ud=a.ud;a.Cf&&(this.Cf=new Uint8Array(a.Cf.length),this.Cf.set(a.Cf));a.Ue&&(this.Ue=new Uint8Array(a.Ue.length),this.Ue.set(a.Ue))};p.prototype.$G=function(a,e){a.Cf&&(this.yp=e.I(Uint8,a.Cf.length,"HROT.altSurvivals"),this.yp.set(a.Cf));a.Ue&&(this.xp=e.I(Uint8,a.Ue.length,"HROT.altBirths"),this.xp.set(a.Ue));this.FB=a.Rd;this.EB=a.Le;this.DB=a.Zd;this.CB=a.Ff};p.prototype.fK=function(){this.Gf=this.ca=this.Xq="";this.$=this.R=
this.$a=this.D=this.ia=!1;this.wm=this.qj=0;this.Ld=this.P.zm;this.Nd=-1;this.Fd=this.De=!1;this.Kg=this.Mc=-1;this.ya=!1;this.h=this.Jg=this.Hd=-1;this.ud=2};p.prototype.BI=function(a){return this.Fd!==a.Fd||this.ya!==a.ya?"Alternate is different rule family":(-1===this.h?this.ud:this.h)!==(-1===a.h?a.ud:a.h)?"Alternate has different number of states":this.D!==a.D||this.ia!==a.ia||this.R!==a.R||this.$!==a.$||this.Ld!==a.Ld||this.De!==a.De||-1===this.Nd&&-1!==a.Nd||-1!==this.Nd&&-1===a.Nd||this.Kg!==
a.Kg||this.Jg!==a.Jg?"Alternate has different neighborhood":this.Mc!==a.Mc||this.Hd!==a.Hd?"Alternate has different range":this.$a||a.$a?"Alternate can not use none":""};k.prototype.th=function(a,e,c){var g,n,m=0,r=0,u=0,x=!1;var y=e.length;for(g=n=0;g<y;){var v=e[g];g+=1;switch(n){case 0:switch(v){case "!":n=1;a.rc+="#C ";var B=!0;break;case "O":case "o":case "*":case ".":n=2;r=m=u=0;var b=--g}break;case 1:"\r"!==v&&"\n"!==v&&(" "===v?B||(a.title+=v,a.rc+=v):(B=!1,a.title+=v,a.rc+=v));"\n"===v&&
(n=0,a.rc+=v,a.title+=" ");break;case 2:switch(v){case "O":case "o":case "*":case ".":r+=1;break;case "\n":u+=1;r>m&&(m=r);r=0;break;case " ":case "\t":break;default:g=y,x=!0}}}if(!x){2===n&&"\n"!==v&&(u+=1,r>m&&(m=r));a.height=u;a.width=m;a.Li="Cells";a.me=Array.ea(Uint16,a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap");g=b;for(n=m=0;g<y;)switch(v=e[g],g+=1,v){case "\n":m+=1;n=0;break;case "O":case "o":case "*":a.me[m][n>>4]|=1<<(~n&15);n+=1;break;case ".":n+=1}this.ta=!0;this.Na(a,"",c)}};k.prototype.oh=
function(a,e,c){var g,n;var m=e.length;var r=[];var u=0;var x=!1;var y=n=0;var v=!1;for(g=10;g<m;){var B=e[g];g+=1;switch(B){case "\n":v&&(v=!1,2===b&&x&&(y=-y,x=!1),r[u]=[n,y],u+=1);var b=y=n=0;break;case "-":x=!0;0===b?b=1:1===b&&(b=2);break;case " ":1===b&&(x&&(n=-n,x=!1),b=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===b&&(b=1),1===b?n=10*n+parseInt(B,10):(y=10*y+parseInt(B,10),v=!0)}}v&&(2===b&&x&&(y=-y),r[u]=[n,y],u+=1);if(u){m=e=r[0][0];
b=B=r[0][1];for(g=1;g<u;g+=1)n=r[g][0],y=r[g][1],n<e&&(e=n),n>m&&(m=n),y<B&&(B=y),y>b&&(b=y);a.height=b-B+1;a.width=m-e+1;a.me=Array.ea(Uint16,a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap");a.Li="Life 1.06";this.Na(a,"",c);for(g=0;g<u;g+=1)n=r[g][0]-e,y=r[g][1]-B,a.me[y][n>>4]|=1<<(~n&15)}};k.prototype.Oe=function(a,e,c,g){var n,m,r=[],u=0,x=e.length;var y="";var v=!1;var B=0,b=0,l=!1,f=!1,q=0,w=0;c=c?10:0;for(this.ta=!0;c<x&&!f;){var z=e[c];c+=1;switch(B){case 0:switch(z){case "#":B=2;break;case "*":case ".":B=
3;var A=m=n=0;var C=--c}break;case 2:switch(z){case "C":case "D":B=1;a.rc+="#C ";var D=!0;break;case "N":B=0;break;case "R":B=4;break;case "P":B=5;b=0;l=!1;w=q=0;break;case "\n":B=0;break;default:B=1,D=!0}break;case 1:"\r"!==z&&"\n"!==z&&(" "===z?D||(a.title+=z,a.rc+=z):(D=!1,a.title+=z,a.rc+=z));"\n"===z&&(B=0,a.title+=" ",a.rc+=z);break;case 4:"\n"===z?B=0:(y+=z,v=!0);break;case 5:switch(z){case "\n":B=0;2===b&&l&&(w=-w,l=!1);break;case "-":l=!0;0===b?b=1:1===b&&(b=2);break;case " ":1===b&&(l&&
(q=-q,l=!1),b=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===b&&(b=1),1===b?q=10*q+parseInt(z,10):w=10*w+parseInt(z,10)}break;case 3:switch(z){case "\n":n>m&&(m=n);n=0;A+=1;break;case "#":r[u]=new d(q,w,m,A,C,c-1);u+=1;B=2;break;case "*":case ".":n+=1;break;case " ":case "\t":break;default:f=!0}}}"\n"!==z&&(A+=1);3===B&&(r[u]=new d(q,w,m,A,C,c-1),u+=1);if(u&&!f){q=r[0].mp;w=r[0].np;z=q+r[0].width-1;n=w+r[0].height-1;for(c=1;c<u;c+=1)r[c].mp<
q&&(q=r[c].mp),r[c].np<w&&(w=r[c].np),r[c].mp+r[c].width-1>z&&(z=r[c].mp+r[c].width-1),r[c].np+r[c].height-1>n&&(n=r[c].np+r[c].height-1);a.height=n-w+1;a.width=z-q+1;a.me=Array.ea(Uint16,a.height,(a.width-1>>4)+1,0,g,"Pattern.lifeMap");a.Li="Life 1.05";a.Ig=Array.ea(Uint8,a.height,a.width,0,g,"Pattern.multiStateMap");v?(this.Re(a,y,!1,g),this.ta?0<=a.h||a.fc||(a.Ig=null):(a.h=-1,a.fc=!1,a.Fc=!1)):this.Na(a,"",g);for(c=0;c<u;c+=1)for(g=r[c].UK,y=r[c].SH,n=r[c].mp-q,z=r[c].np-w,v=n,m=z;g<=y;)switch(z=
e[g],g+=1,z){case "\n":m+=1;v=n;break;case "*":a.me[m][v>>4]|=1<<(~v&15);a.Ig&&(a.Ig[m][v]=1);v+=1;break;default:v+=1}}};k.prototype.W=function(a,e,c,g){var n=0,m,r,u;c&&(n=4);for(r=0;8192>r;r+=8)for(u=0;4>u;u+=1){c=0;for(m=r+u&g;0<m;)c+=m&1,m>>=1;e===c&&(a[r+u+n]=1)}};k.prototype.Fb=function(a,e,c,g){var n=0,m,r,u;c&&(n=16);for(r=0;512>r;r+=32)for(u=0;16>u;u+=1){c=0;for(m=r+u&g;0<m;)c+=m&1,m>>=1;e===c&&(a[r+u+n]=1)}};k.prototype.jj=function(a){return(a&7)<<6|(a&448)>>6|a&56};k.prototype.qf=function(a){return(a&
4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};k.prototype.kl=function(a,e,c){var g;for(g=0;4>g;g+=1)a[e]=c,e=this.qf(e);e=this.jj(e);for(g=0;4>g;g+=1)a[e]=c,e=this.qf(e)};k.prototype.cl=function(a,e,c,g,n){var m=c?16:0;if(2>e||4<e)this.Fb(a,e,c,254);else if(c="omp".indexOf(g),-1!==c)for(e=this.$k[e-2][c],c=0;c<e.length;c+=1)g=e[c]+m,a[g]=n,a[g+256]=n,a[g+1]=n,a[g+257]=n};k.prototype.el=function(a,e,c,g,n){var m=0,r=e-1;0===e||8===e?this.Fb(a,e,c,511):(3<r&&(r=6-
r,m=495),e=this.rf[r].indexOf(g),-1!==e&&(m^=this.al[r][e],c&&(m|=16),this.kl(a,m,n)))};k.prototype.wf=function(a,e,c,g){var n=e.length,m=0,r="",u;for(u=0;u<n;u+=1){var x=e.charCodeAt(u)-48;m|=1<<x;this.Fb(a,x,c,g)}for(u=0;9>u;u+=1)0!==(m&1<<u)&&(r+=String(u));return r};k.prototype.we=function(a){for(var e=0;a;)e+=1,a&=a-1;return e};k.prototype.hg=function(a,e){var c="",g=0;if(e[a]){e=e[a];0!==(e&8192)&&(g=1,e&=-8193);var n=this.we(e);var m=2>a||4<a?0:3;2<=n&&(e=~e&(1<<m)-1)&&(g=1-g);if(!g||e)for(c+=
String(a),g&&(c+="-"),a=0;a<m;a+=1)0!==(e&1<<a)&&(c+="omp"[a])}else c+=String(a);return c};k.prototype.ig=function(a,e){var c="",g=0;if(e[a]){e=e[a];0!==(e&8192)&&(g=1,e&=-8193);var n=this.we(e);var m=this.mj[a];(g||7!==n||13!==m)&&n+g>m>>1&&(e=~e&(1<<m)-1)&&(g=1-g);if(!g||e)for(c+=String(a),g&&(c+="-"),n=0;n<m;n+=1)g=this.ak[a][n],0!==(e&1<<g)&&(c+=this.rf[3][g])}else c+=String(a);return c};k.prototype.sf=function(a,e,c){var g=e.length,n=0,m=[],r="",u;e+=" ";for(u=0;7>u;u+=1)m[u]=0;for(u=0;u<g;u+=
1){var x=e.charCodeAt(u)-48;if(0<=x&&8>=x){var y=0!==(n&1<<x);n|=1<<x;var v=e[u+1];var B=this.kd[x].indexOf(v);-1!==B||y||this.Fb(a,x,c,254);var b=1;"-"===v&&(b=0,u+=1,v=e[u+1],B=this.kd[x].indexOf(v));-1!==B||"0"<=v&&"9">=v||" "===v||(this.u=(c?"S":"B")+x+v+" not valid",u=g);y&&(y=0,0===(m[x]&8192)&&(y=1),y!==b&&(this.u=(c?"S":"B")+x+" can not have minus and non-minus",B=-1,u=g));for(;-1!==B;)0!==(m[x]&1<<B)?(this.u="Duplicate "+x+this.kd[x][B],B=-1,u=g):(this.cl(a,x,c,v,b),m[x]|=1<<B,b||(m[x]|=
8192),u+=1,v=e[u+1],B=this.kd[x].indexOf(v))}else this.u="Missing digit prefix"}for(u=0;7>u;u+=1)0!==(n&1<<u)&&(r+=this.hg(u,m));return r};k.prototype.uf=function(a,e,c){var g=e.length,n=0,m=[],r="",u;e+=" ";for(u=0;9>u;u+=1)m[u]=0;for(u=0;u<g;u+=1){var x=e.charCodeAt(u)-48;if(0<=x&&8>=x){var y=0!==(n&1<<x);n|=1<<x;var v=e[u+1];var B=this.sd[x].indexOf(v);-1!==B||y||this.Fb(a,x,c,511);var b=1;"-"===v&&(b=0,u+=1,v=e[u+1],B=this.sd[x].indexOf(v));-1!==B||"0"<=v&&"9">=v||" "===v||(this.u=(c?"S":"B")+
x+v+" not valid",u=g);y&&(y=0,0===(m[x]&8192)&&(y=1),y!==b&&(this.u=(c?"S":"B")+x+" can not have minus and non-minus",B=-1,u=g));for(;-1!==B;)0!==(m[x]&1<<B)?(this.u="Duplicate "+x+this.sd[x][B],B=-1,u=g):(this.el(a,x,c,v,b),m[x]|=1<<B,b||(m[x]|=8192),u+=1,v=e[u+1],B=this.sd[x].indexOf(v))}else this.u="Missing digit prefix"}for(u=0;9>u;u+=1)0!==(n&1<<u)&&(r+=this.ig(u,m));return r};k.prototype.nh=function(a,e){var c;for(c=0;512>c;c+=1)a[c]=0!==(e&1<<(c&7))?1:0!==(c&16)?1:0};k.prototype.Qd=function(a,
e,c){var g=12,n=8191,m=a.qj,r=a.wm;a.Ld===this.Vn?(g=3,n=this.$m):a.Ld===this.Wn&&(g=9,n=this.an);e.fill(0);c&&c.fill(0);if(0!==(m&1))if(0!==(r&1<<g)){m=~m;r=~r;for(a=0;a<=g;a+=1)r&1<<g-a&&this.W(e,a,!1,n);for(a=0;a<=g;a+=1)m&1<<g-a&&this.W(e,a,!0,n);c.set(e)}else{for(a=0;a<=g;a+=1)~m&1<<a&&this.W(c,a,!1,n);for(a=0;a<=g;a+=1)~r&1<<a&&this.W(c,a,!0,n);for(a=0;a<=g;a+=1)r&1<<g-a&&this.W(e,a,!1,n);for(a=0;a<=g;a+=1)m&1<<g-a&&this.W(e,a,!0,n)}else{for(a=0;a<=g;a+=1)0!==(m&1<<a)&&this.W(e,a,!1,n);for(a=
0;a<=g;a+=1)0!==(r&1<<a)&&this.W(e,a,!0,n);c&&c.set(e)}};k.prototype.lh=function(a,e,c,g,n){var m=this.ce,r="",u="";n===this.Vn?m=this.be:n===this.Wn&&(m=this.de);for(n=a.qj=0;n<e.length;n+=1){var x=m.indexOf(e[n]);a.qj|=1<<x}for(n=a.wm=0;n<c.length;n+=1)x=m.indexOf(c[n]),a.wm|=1<<x;for(n=0;n<m.length;n+=1)0!==(a.qj&1<<n)&&(r+=m[n]);for(n=0;n<m.length;n+=1)0!==(a.wm&1<<n)&&(u+=m[n]);return-1!==g?u+"/"+r+"/"+g:"B"+r+"/S"+u};k.prototype.jh=function(a,e,c,g,n){var m=0,r=this.Bl;var u=(1<<this.ab+1)/
6|0;var x=new Uint8Array(512);var y=a.ia;var v=a.D,B=a.R,b=a.$,l=a.Ld,f=a.De,q=a.h;if(a.$a)c=this.Ke;else if(y||v)for(c=y?"M":"2PCA4,",y=0;16>y;y+=1)c+=n[y],15>y&&(c+=",");else if(b)c=this.lh(a,e,c,q,l);else{a=511;B?a=254:f&&(a=186);x.fill(0);n.fill(0);for(y=0;y<x.length;y+=1)r[y]=B?y:(y&448)>>6|y&56|(y&7)<<6;if(""!==g){c="MAP";for(y=0;y<u;y+=1)c+=g[y],e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(g[y]),x[m]=e>>5,m+=1,x[m]=e>>4&1,m+=1,x[m]=e>>3&1,m+=1,x[m]=e>>2&1,m+=
1,x[m]=e>>1&1,m+=1,x[m]=e&1,m+=1;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(g[y]);x[m]=e>>5;x[m+1]=e>>4&1;c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e&48];for(y=0;512>y;y+=1){g=0;u=this.ab;for(m=8;0<=m;--m)0!==(a&1<<m)&&(0!==(y&1<<m)&&(g|=1<<u),--u);n[r[y]]=x[g]}-1!==q&&(c+="/"+q)}else f?(m=this.wf(n,e,!1,a),n=this.wf(n,c,!0,a)):B?(m=this.sf(n,e,!1),n=this.sf(n,c,!0)):(m=this.uf(n,e,!1),n=this.uf(n,c,!0)),c=-1!==q?n+"/"+m+"/"+q:"B"+m+"/S"+
n}return c};k.prototype.lf=function(a){var e=a,c=0;if(-1!==a.indexOf(" "))for(e="";c<a.length;)" "!==a[c]&&(e+=a[c]),c+=1;return e};k.prototype.hj=function(a,e,c){for(var g=!0,n=0,m,r=1;r<e.length&&g;)m="0123456789".indexOf(e[r]),-1!==m?n=10*n+m:(this.u="Illegal character in Wolfram rule",g=!1),r+=1;g&&(0>n||254<n?(this.u="Wolfram rule number must be 0-254",g=!1):0!==(n&1)?(this.u="Wolfram rule number must be even",g=!1):(this.nh(c,n),a.Nd=n,a.ca="W"+n));return g};k.prototype.Cg=function(a,e){if(""===
e)if(a.R)a.ca+="H";else if(a.De)a.ca+="V";else if(a.$)switch(a.Ld){case this.zm:a.ca+=this.Xr.toUpperCase();break;case this.Vn:a.ca+=this.Wr.toUpperCase();break;case this.Wn:a.ca+=this.Yr.toUpperCase()}e=AliasManager.eq(a.ca);null===e&&a.Fd&&0===a.Ej&&(e="R"+a.Mc+",C"+a.h+",M1,S"+a.Rd+".."+a.Le+",B"+a.Zd+".."+a.Ff+",N",e=a.Kg===this.Aa?e+"M":a.Kg===this.zd?e+"N":e+"C",e=AliasManager.eq(e));a.fc&&(a.ca+="History");-1!==a.$b&&(a.ca+=":"+"ptkcs"[a.$b].toUpperCase(),a.ca+=a.Be,a.fq&&(a.ca+="+"+a.fq),
a.vx&&(a.ca+="*"),a.fg!==a.Be||a.po||a.nt)&&(a.ca+=","+a.fg,a.po&&(a.ca+="+"+a.po),a.nt&&(a.ca+="*"));null!==e&&(""===e&&(e=a.fc?"Life":"Conway's Life"),a.fc&&(e+="History"),a.Gf=e)};k.prototype.fn=function(a,e){var c=86,g=a.length;g>=c?this.ab=8:(c=this.Cc,g>=c?(this.ab=6,e.R=!0):(c=this.Dc,g>=c?(this.ab=4,e.De=!0):c=-1));if(0<=c)for(e=0;e<c;e+=1)-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[e])&&(c=-1);return c};k.prototype.j=function(a,e,c,g,n){var m=0,r=e.length,
u=a.substr(this.index,r),x;if(u!==e)","===e[0]&&(","===u[0]&&(u=u.substr(1)),e=e.substr(1)),this.u="LtL expected '"+e.toUpperCase()+"' got '"+u.toUpperCase()+"'",this.index=-1;else if(","===e[0]&&(e=e.substr(1)),this.index+=r,r=a[this.index],this.index<a.length?x=r.charCodeAt(0):x=-1,"n"===e)"m"===r||"n"===r||"c"===r?(this.index+=1,m=this.Aa,"n"===r?m=this.zd:"c"===r&&(m=this.xe)):(this.u="LtL expected 'NM', 'NN' or 'NC' got 'N"+r.toUpperCase()+"'",this.index=-1);else if(48>x||57<x)this.u="LtL '"+
n+e.toUpperCase()+"' needs a number",this.index=-1;else{for(;48<=x&&57>=x;)m=10*m+(x-48),this.index+=1,this.index<a.length?x=a[this.index].charCodeAt(0):x=-1;-1!==c&&m<c&&(this.u="LtL '"+n+e.toUpperCase()+m+"' < "+c,this.index=-1);-1!==g&&m>g&&(this.u="LtL '"+n+e.toUpperCase()+m+"' > "+g,this.index=-1)}return m};k.prototype.ki=function(a,e){var c=!1,g=0;this.index=0;var n=this.j(e,"r",1,500,"");-1!==this.index&&(a.Mc=n,n=this.j(e,",c",0,256,""),-1!==this.index&&(2>n&&(n=2),a.h=n,n=this.j(e,",m",0,
1,""),-1!==this.index&&(a.Ej=n,n=this.j(e,",s",0,-1,""),-1!==this.index&&(a.Rd=n,n=this.j(e,"..",a.Rd,-1,"S"),-1!==this.index&&(a.Le=n,n=this.j(e,",b",0,-1,""),-1!==this.index&&(a.Zd=n,n=this.j(e,"..",a.Zd,-1,"B"),-1!==this.index&&(a.Ff=n,n=this.j(e,",n",-1,-1,""),-1!==this.index&&(a.Kg=n,c=!0))))))));if(c)if(this.index!==e.length)c=!1,this.u="LtL invalid characters after rule";else{switch(a.Kg){case this.Aa:g=(2*a.Mc+1)*(2*a.Mc+1);break;case this.zd:g=2*a.Mc*(a.Mc+1)+1;break;case this.xe:n=0;var m=
a.Mc*a.Mc+a.Mc;for(e=-a.Mc;e<=a.Mc;e+=1){for(g=0;(g+1)*(g+1)+e*e<=m;)g+=1;n+=2*g+1}g=n}g-=1-a.Ej;a.Zd>g&&(c=!1,this.u="LtL 'B"+a.Zd+"..' > "+g);a.Ff>g&&(c=!1,this.u="LtL 'B.."+a.Ff+"' > "+g);a.Rd>g&&(c=!1,this.u="LtL 'S"+a.Rd+"..' > "+g);a.Le>g&&(c=!1,this.u="LtL 'S.."+a.Le+"' > "+g)}return c};k.prototype.mi=function(a,e){var c=!1;this.index=0;a.h=2;a.Ej=1;a.Kg=this.Aa;var g=this.j(e,"",1,500,"");-1!==this.index&&(a.Mc=g,g=this.j(e,",",0,-1,""),-1!==this.index&&(a.Zd=g,g=this.j(e,",",a.Zd,-1,"B"),
-1!==this.index&&(a.Ff=g,g=this.j(e,",",0,-1,""),-1!==this.index&&(a.Rd=g,g=this.j(e,",",a.Rd,-1,"S"),-1!==this.index&&(a.Le=g,c=!0)))));c&&(this.index!==e.length?(c=!1,this.u="LtL invalid characters after rule"):(e=(2*a.Mc+1)*(2*a.Mc+1),a.Zd>e&&(c=!1,this.u="LtL 'B"+a.Zd+"..' > "+e),a.Ff>e&&(c=!1,this.u="LtL 'B.."+a.Ff+"' > "+e),a.Rd>e&&(c=!1,this.u="LtL 'S"+a.Rd+"..' > "+e),a.Le>e&&(c=!1,this.u="LtL 'S.."+a.Le+"' > "+e)));return c};k.prototype.li=function(a,e){var c=!1;this.index=0;-1===a.h&&(a.h=
2);a.Ej=1;a.Kg=this.Aa;var g=this.j(e,"r",1,500,"");-1!==this.index&&(a.Mc=g,g=this.j(e,"b",0,-1,""),-1!==this.index&&(a.Zd=g,g=this.j(e,"t",a.Zd,-1,"B"),-1!==this.index&&(a.Ff=g,g=this.j(e,"s",0,-1,""),-1!==this.index&&(a.Rd=g,g=this.j(e,"t",a.Rd,-1,"S"),-1!==this.index&&(a.Le=g,c=!0)))));c&&(this.index!==e.length?(c=!1,this.u="LtL invalid characters after rule"):(e=(2*a.Mc+1)*(2*a.Mc+1),a.Zd>e&&(c=!1,this.u="LtL 'B"+a.Zd+"' > "+e),a.Ff>e&&(c=!1,this.u="LtL 'B..T"+a.Ff+"' > "+e),a.Rd>e&&(c=!1,this.u=
"LtL 'S"+a.Rd+"..' > "+e),a.Le>e&&(c=!1,this.u="LtL 'S..T"+a.Le+"' > "+e)));return c};k.prototype.Se=function(a,e,c,g,n){var m=!1,r,u="HROT.",x,y=0;if(this.index+c>a.length)this.u="HROT '"+e+"' needs "+c+" hex digits";else{for(r=x=0;x<c&&-1!==r;)r="0123456789abcdef".indexOf(a[this.index]),-1!==r&&(this.index+=1,x+=1);if(-1===r)this.u="HROT '"+e+"' expected hex got '"+a[this.index]+"'";else{"B"===e?u+="births":(u+="survivals",y=1);n=n.I(Uint8,(c<<2)+1+y,u);m=0;n[m]=0;m+=1;--x;"S"===e&&(n[m]=0,m+=1);
for(;0<=x;)r="0123456789abcdef".indexOf(a[this.index-c+x]),--x,n[m]=r&1,m+=1,n[m]=r>>1&1,m+=1,n[m]=r>>2&1,m+=1,n[m]=r>>3&1,m+=1;"B"===e?g.Ue=n:g.Cf=n;m=!0}}return m};k.prototype.La=function(a,e){var c=-1;this.index+=1;if(this.index<a.length){var g=a[this.index].charCodeAt(0);if(48>g||57<g)this.u="HROT '"+e+"' needs a number";else for(c=g-48,this.index+=1,g=-1,this.index<a.length&&(g=a[this.index].charCodeAt(0));48<=g&&57>=g;)c=10*c+(g-48),this.index+=1,this.index<a.length?g=a[this.index].charCodeAt(0):
g=-1}else this.u="HROT '"+e+"' needs a number";return c};k.prototype.Pe=function(a,e,c,g){var n=!0,m;for(m=this.La(a,c);n&&-1!==m;){var r=-1;this.index<a.length&&"-"===a[this.index]&&(r=this.La(a,c),-1===r&&(this.u="HROT '"+c+m+"-' needs a number",n=!1));if(n&&(-1===r&&(r=m),m>r&&(this.u="HROT '"+c+m+"-"+r+"' wrong order",n=!1),n)){"S"===c?(this.hd=r,m+=1,r+=1):this.gd=r;m>g&&(m=g);for(r>g&&(r=g);m<=r;m+=1)e[m]=1;m=-1;this.index<a.length&&","===a[this.index]&&(m=this.La(a,c),-1===m&&(--this.index,
this.u=""))}}return n};k.prototype.ol=function(a,e){var c=a.Mc,g=(2*c+1)*(2*c+1);a.Hd=c;a.Jg=a.Kg;a.Cf=e.I(Uint8,g+1,"HROT.survivals");a.Ue=e.I(Uint8,g,"HROT.births");for(c=a.Rd;c<=a.Le;c+=1)a.Cf[c]=1;for(c=a.Zd;c<=a.Ff;c+=1)a.Ue[c]=1;if(this.oc){a.yp=e.I(Uint8,g+1,"HROT.altSurvivals");a.xp=e.I(Uint8,g,"HROT.altBirths");for(c=a.FB;c<=a.EB;c+=1)a.yp[c]=1;for(c=a.DB;c<=a.CB;c+=1)a.xp[c]=1}a.ya=!0};k.prototype.bj=function(a,e,c){var g=!1,n,m;this.hd=this.gd=this.index=n=0;if("r"!==e[this.index])this.u=
"HROT expected 'R' got '"+e[this.index].cL()+"'";else{var r=this.La(e,"R");-1!==r&&(1>r?this.u="HROT 'R' < 1":500<r?this.u="HROT 'R' > 500":(a.Hd=r,g=!0,n=(2*r+1)*(2*r+1)))}g&&(g=!1,this.index<e.length?","!==e[this.index]?this.u="HROT expected ',' got "+e[this.index].toUpperCase():(this.index+=1,this.index<e.length?"c"!==e[this.index]?this.u="HROT expected 'C' got "+e[this.index].toUpperCase():(r=this.La(e,"C"),-1!==r&&(0>r?this.u="HROT 'C"+r+"' < 0":256<r?this.u="HROT 'C"+r+"' > 256":(2>r&&(r=2),
a.h=r,g=!0))):this.u="HROT expected 'C'"):this.u="HROT expected ','");g&&(g=!1,this.index<e.length?","!==e[this.index]?this.u="HROT expected ',' got "+e[this.index].toUpperCase():(this.index+=1,this.index<e.length?"s"!==e[this.index]?this.u="HROT expected 'S' got "+e[this.index].toUpperCase():(a.Cf=c.I(Uint8,n+2,"HROT.survivals"),g=this.Pe(e,a.Cf,"S",n)):this.u="HROT expected 'S'"):this.u="HROT expected ','");g&&(g=!1,this.index<e.length?","!==e[this.index]?this.u="HROT expected ',' got "+e[this.index].toUpperCase():
(this.index+=1,this.index<e.length?"b"!==e[this.index]?this.u="HROT expected 'B' got "+e[this.index].toUpperCase():(a.Ue=c.I(Uint8,n+1,"HROT.births"),g=this.Pe(e,a.Ue,"B",n)):this.u="HROT expected 'B'"):this.u="HROT expected ','");a.Jg=this.Pf;g&&this.index<e.length&&","===e[this.index]&&(g=!1,this.index+=1,this.index<e.length?"n"===e[this.index]?(this.index+=1,this.index<e.length?"m"===e[this.index]||"n"===e[this.index]||"c"===e[this.index]?("n"===e[this.index]?a.Jg=this.sg:"c"===e[this.index]&&
(a.Jg=this.Fp),this.index+=1,g=!0):this.u="HROT expected 'NM', 'NN' or 'NC' got 'N"+e[this.index].toUpperCase()+"'":this.u="HROT 'N' needs a neighborhood"):this.u="HROT expected 'N' got '"+e[this.index].toUpperCase()+"'":this.u="HROT expected 'N'");if(g){switch(a.Jg){case this.Pf:n=(2*a.Hd+1)*(2*a.Hd+1);break;case this.sg:n=2*a.Hd*(a.Hd+1)+1;break;case this.Fp:c=0;n=a.Hd*a.Hd+a.Hd;for(m=-a.Hd;m<=a.Hd;m+=1){for(r=0;(r+1)*(r+1)+m*m<=n;)r+=1;c+=2*r+1}n=c}--n;this.hd>n&&(g=!1,this.u="HROT 'S"+this.hd+
"' > "+n);g&&this.gd>n&&(g=!1,this.u="HROT 'B"+this.gd+"' > "+n);g&&(this.index!==e.length?(g=!1,this.u="HROT invalid characters after rule"):a.ya=!0)}return g};k.prototype.ii=function(a,e,c){var g=!1,n=0;this.index=0;-1===a.h&&(a.h=2);if("r"!==e[this.index])this.u="HROT expected 'R' got '"+e[this.index].cL()+"'";else{var m=-1;this.index+=1;this.index<e.length&&(m=e[this.index].charCodeAt(0));if(48>m||57<m)this.u="HROT 'R' needs a number";else{var r=m-48;this.index+=1;m=-1;for(this.index<e.length&&
(m=e[this.index].charCodeAt(0));48<=m&&57>=m;)r=10*r+(m-48),this.index+=1,this.index<e.length?m=e[this.index].charCodeAt(0):m=-1;1>r?this.u="HROT 'R' < 1":500<r?this.u="HROT 'R' > 500":(a.Hd=r,g=!0,n=r*(r+1))}}g&&(g=!1,this.index<e.length?"b"!==e[this.index]?this.u="HROT expected 'B' got "+e[this.index].toUpperCase()+"'":(this.index+=1,g=this.Se(e,"B",n,a,c)):this.u="HROT expected 'B'");g&&(g=!1,this.index<e.length?"s"!==e[this.index]?this.u="HROT expected 'S' got "+e[this.index].toUpperCase()+"'":
(this.index+=1,g=this.Se(e,"S",n,a,c)):this.u="HROT expected 'S'");g&&this.index<e.length&&"z"===e[this.index]&&(a.Cf[1]=1,this.index+=1);g&&(this.index!==e.length?(g=!1,this.u="HROT invalid characters after rule"):(a.Jg=this.Pf,a.ya=!0));return g};k.prototype.ve=function(a,e){for(var c=a.length,g=-1,n="",m=0;m<c;)1===a[m]?-1===g&&(g=m):-1!==g&&(""!==n&&(n+=","),n+=g+e,m-1!==g&&(n+="-"+(m-1+e)),g=-1),m+=1;-1!==g&&(""!==n&&(n+=","),n+=g+e,m-1!==g&&(n+="-"+(m-1+e)));return n};k.prototype.Na=function(a,
e,c){var g="",n=!1;var m=AliasManager.AC(e);null!==m&&(g=AliasManager.eq(m),e=m);m=e.indexOf("|");if(-1===m)(n=this.$d(a,e,c,this.Si))&&a.$&&this.Qd(a,this.Mz,this.Iz);else if(-1===e.substr(m+1).indexOf("|")){if(n=this.$d(a,e.substr(0,m),c,this.Hz)){var r=new p(a.name,this);r.j(a);a.fK();if(n=this.$d(a,e.substr(m+1),c,this.Si))if(this.u=a.BI(r),""===this.u)if(!a.$&&(this.Si[0]||this.Hz[0])||a.$&&0!==(a.qj&1)||0!==(r.qj&1))this.u="Alternate not supported with B0",n=!1;else{a.$&&(this.Qd(r,this.Iz,
null),this.Qd(a,this.Mz,null));if(""!==g)a.Gf=g;else if(""!==a.Gf||""!==r.Gf)""===a.Gf&&(a.Gf=a.ca),""===r.Gf&&(r.Gf=r.ca),a.Gf=r.Gf+"|"+a.Gf;a.ca=r.ca+"|"+a.ca;g=AliasManager.eq(a.ca);null!==g&&(a.Gf=g);(a.ya||a.Fd)&&a.$G(r,c);this.oc=!0}else n=!1}}else this.u="Only one alternate allowed";return n};k.prototype.oi=function(a,e){var c=!0,g=a.length,n=0;if("2pca4"!==a.substr(0,5))this.u="PCA rule must start with 2PCA4",c=!1;else{var m=5;var r=-1;if(","!==a[m])c=!0;else for(m+=1;c&&16>n&&m<g;)if(m<g){var u=
a[m];m+=1;"0"<=u&&"9">=u?(-1===r&&(r=0),r=10*r+u.charCodeAt(0)-48):","===u?15<r?(this.u="Value must be from 0 to 15",c=!1):(e[n]=r,n+=1,r=-1):(this.u="Illegal character found in rule",c=!1)}c&&(-1===r?(this.u=16===n?"Extra characters found after rule":"Need 16 values",c=!1):15<r?(this.u="Value must be from 0 to 15",c=!1):(e[n]=r,16!==n+1&&(this.u="Need 16 values",c=!1)))}return c};k.prototype.ni=function(a,e){var c=!0,g=0,n=a.length,m,r=0;if("m"!==a[g])this.u="Margolus rule must start with M",c=!1;
else{g+=1;"s,d"===a.substr(g,g+2)&&(g+=3);for(m=-1;c&&16>r&&g<n;)if(g<n){var u=a[g];g+=1;"0"<=u&&"9">=u?(-1===m&&(m=0),m=10*m+u.charCodeAt(0)-48):","===u||";"===u?15<m?(this.u="Value must be from 0 to 15",c=!1):(e[r]=m,r+=1,m=-1):(this.u="Illegal character found in rule",c=!1)}c&&(-1===m?(this.u=16===r?"Extra characters found after rule":"Need 16 values",c=!1):15<m?(this.u="Value must be from 0 to 15",c=!1):(e[r]=m,16!==r+1&&(this.u="Need 16 values",c=!1)))}return c};k.prototype.$d=function(a,e,c,
g){var n=!1,m=null,r=null,u=null,x="012345678ceaiknjqrytwz-";var y=this.st.length;var v=this.Xr.length;var B=this.Wr.length,b=this.Yr.length,l=this.kv.length,f="";g[0]=0;var q=AliasManager.AC(e);null!==q&&(""===e&&(a.ca="Conway's Life"),e=q);if("map"===e.substr(0,3).toLowerCase()){f=e.substr(3);var w=f.indexOf("/");-1===w?"=="===f.substr(-2)&&(f=f.substr(0,f.length-2)):"=="===f.substr(w-2,2)&&(f=f.substr(0,w-2)+f.substr(w));e=this.fn(f,a);if(0<=e)if(n=!0,u=f.substr(e),f=f.substr(0,e),"/"===u[0]){q=
1;a.h=0;q<u.length&&("g"===u[q].toLowerCase()||"c"===u[q].toLowerCase())&&(q+=1);for(w=0;q<u.length&&-1!==w;)w="0123456789".indexOf(u[q]),-1!==w?a.h=10*a.h+w:(this.u="Illegal character in generations number",a.h=-1,n=!1),q+=1;-1!==a.h&&(2>a.h||256<a.h)&&(this.u="Generations number must be 2-256",a.h=-1,n=!1)}else""!==u&&(q=u.length,this.u="MAP length must be "+this.Dc+", "+this.Cc+" or 86 not "+(q+e),n=!1);else this.u=86===f.length||f.length===this.Cc||f.length===this.Dc?"MAP contains illegal base64 character":
"MAP length must be "+this.Dc+", "+this.Cc+" or 86 not "+f.length}else if(e=e.toLowerCase(),e=this.lf(e),"2pca4"===e.substr(0,5)){if(n=this.oi(e,g))a.D=!0,a.h=16}else if("m"===e[0]){if(n=this.ni(e,g))a.ia=!0}else{n=!0;if("g"===e[0]){q=1;for(w=a.h=0;q<e.length&&-1!==w;)w="0123456789".indexOf(e[q]),-1!==w&&(a.h=10*a.h+w,q+=1);1<q&&(2>a.h||256<a.h?(this.u="Generations number must be 2-256",a.h=-1,n=!1):(q<e.length&&"/"===e[q]&&(q+=1),e=e.substr(q),n=!0))}if(n&&(w=e.lastIndexOf("g"),-1!==w&&w!==e.length-
1&&!(0<w&&"/"===e[w-1]))){q=w+1;for(w=a.h=0;q<e.length&&-1!==w;)w="0123456789".indexOf(e[q]),-1!==w&&(a.h=10*a.h+w,q+=1);q===e.length?2>a.h||256<a.h?(this.u="Generations number must be 2-256",a.h=-1,n=!1):(e=e.substr(0,e.lastIndexOf("g")),n=!0):a.h=-1}if(n)if(n=!1,"r"===e[0]||"1"<=e[0]&&"9">=e[0]&&-1!==e.indexOf(",")){if(n="r"===e[0]?-1!==e.indexOf(".")?this.ki(a,e):-1!==e.indexOf("t")?this.li(a,e):-1!==e.indexOf(",")?this.bj(a,e,c):this.ii(a,e,c):this.mi(a,e))a.ya?(a.ca="R"+a.Hd+",",a.ca+="C"+a.h+
",",a.ca+="S"+this.ve(a.Cf,-1)+",",a.ca+="B"+this.ve(a.Ue,0),a.Jg!==this.Pf&&(a.ca+=",N",a.ca=a.Jg===this.sg?a.ca+"N":a.ca+"C")):(a.Fd=!0,a.ca="R"+a.Mc+",C"+a.h+",M"+a.Ej+",S"+a.Rd+".."+a.Le+",B"+a.Zd+".."+a.Ff+",N",a.ca=a.Kg===this.Aa?a.ca+"M":a.Kg===this.zd?a.ca+"N":a.ca+"C",0===a.Ej&&(a.Rd+=1,a.Le+=1))}else if("w"===e[0])n=this.hj(a,e,g);else if(q=e.lastIndexOf(this.Xr),-1!==q&&q===e.length-v&&(a.$=!0,a.Ld=this.zm,e=e.substr(0,e.length-v),x=this.ce),q=e.lastIndexOf(this.Wr),-1!==q&&q===e.length-
B&&(a.$=!0,a.Ld=this.Vn,e=e.substr(0,e.length-B),x=this.be),q=e.lastIndexOf(this.Yr),-1!==q&&q===e.length-b&&(a.$=!0,a.Ld=this.Wn,e=e.substr(0,e.length-b),x=this.de),q=e.lastIndexOf(this.st),-1!==q&&q===e.length-y&&(a.R=!0,e=e.substr(0,e.length-y),x=this.Mf),q=e.lastIndexOf(this.kv),-1!==q&&q===e.length-l&&(a.De=!0,e=e.substr(0,e.length-l),x=this.Nf),c=e.indexOf("/"),-1===c&&(c=e.indexOf("_")),-1!==c&&(q=e.lastIndexOf("/"),-1===q&&(q=e.lastIndexOf("_")),q!==c&&(u=e.substring(q+1),e=e.substr(0,q),
q=e.lastIndexOf(this.Xr),-1!==q&&q===e.length-v&&(a.$=!0,a.Ld=this.zm,e=e.substr(0,e.length-v),x=this.ce),q=e.lastIndexOf(this.Wr),-1!==q&&q===e.length-B&&(a.$=!0,a.Ld=this.Vn,e=e.substr(0,e.length-B),x=this.be),q=e.lastIndexOf(this.Yr),-1!==q&&q===e.length-b&&(a.$=!0,a.Ld=this.Wn,e=e.substr(0,e.length-b),x=this.de),q=e.lastIndexOf(this.st),-1!==q&&q===e.length-y&&(a.R=!0,e=e.substr(0,e.length-y),x=this.Mf),q=e.lastIndexOf(this.kv),-1!==q&&q===e.length-l&&(a.De=!0,e=e.substr(0,e.length-l),x=this.Nf))),
e===this.Ke)a.$a=!0,a.h=256,n=!0;else{y=e.indexOf("b");v=e.indexOf("s");-1===c?0===y||0===v?-1===v?(m=e,r=""):-1===y?(r=e,m=""):y<v&&-1!==v?(m=e.substring(y+1,v),r=e.substring(v+1)):(r=e.substring(v+1,y),m=e.substring(y+1)):this.u="Unsupported rule name":(-1===y&&-1!==v?y=c:-1!==y&&-1===v&&(v=c),y<v?(m=e.substring(0,c),r=e.substring(c+1)):(m=e.substring(c+1),r=e.substring(0,c)));-1!==y&&m&&"b"===m[0]&&(m=m.substring(1));-1!==v&&r&&"s"===r[0]&&(r=r.substring(1));if(null!==u)if(q=0,-1!==a.h)this.u=
"Generations defined twice",m=null;else{a.h=0;q<u.length&&("g"===u[q].toLowerCase()||"c"===u[q].toLowerCase())&&(q+=1);for(w=0;q<u.length&&-1!==w;)w="0123456789".indexOf(u[q]),-1!==w?a.h=10*a.h+w:(this.u="Illegal character in generations number",a.h=-1,m=null),q+=1;-1!==a.h&&(2>a.h||256<a.h)&&(this.u="Generations number must be 2-256",a.h=-1,m=null)}if(null!==m&&null!==r){n=!0;for(q=0;q<m.length;)w=x.indexOf(m[q]),-1===w?(this.u="Illegal character in birth specification",n=!1,q=m.length):q+=1;if(n)for(q=
0;q<r.length;)w=x.indexOf(r[q]),-1===w?(this.u="Illegal character in survival specification",n=!1,q=r.length):q+=1}}}n&&-1===a.Nd&&!1===a.Fd&&!1===a.ya&&(a.ca=this.jh(a,m,r,f,g),""!==this.u&&(n=!1),2===a.h&&(a.h=-1));n?this.Cg(a,f):(a.IL=!1,a.ya=!1,a.h=-1,a.$a=!0);return n};k.prototype.ho=function(a,e,c,g){var n=0,m=e.length-1,r=!1,u=!0,x,y=0,v=0,B=0,b=0,l=this.Kn;for(x=e[n];!r;){var f=x;x=e[n+1];var q=-1;switch(f){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":b=
10*b+parseInt(f,10);break;case "b":q=0;break;case "o":q=1;break;case ".":q=0;break;case "z":q=7;a.fc=!0;a.xo=!0;break;case "$":0===b&&(b=1);B+=b;b=0;v>y&&(y=v);v=0;break;case "!":0===b&&(b=1);B+=b;b=0;v>y&&(y=v);r=!0;break;default:u=!1,"A"<=f&&"X">=f?(u=!0,q=f.charCodeAt(0)-64):"p"<=f&&"y">f?"A"<=x&&"X">=x?(u=!0,q=24*(f.charCodeAt(0)-111)+(x.charCodeAt(0)-64),n+=1,x=e[n+1]):"x"===f&&(u=!0,a.fc=!0,a.xo=!0,q=3):"y"===f&&("A"<=x&&"O">=x?(u=!0,q=24*(f.charCodeAt(0)-111)+(x.charCodeAt(0)-64),n+=1,x=e[n+
1]):(u=!0,a.fc=!0,a.xo=!0,q=5))}if(0<=q)if(0===b&&(b=1),c||(0===l[q]&&(a.Uq+=1),l[q]+=b,q>=a.ud&&(a.ud=q+1)),0<q&&c)for(;0<b;){a.Ig[B][v]=-1===a.h?q:2===a.h?1===q?LifeConstants.sb:0:q<a.h?q:1;if(!a.fc&&-1===a.h&&1===q||a.fc&&q&1||-1!==a.h&&1===q)a.me[B][v>>4]|=1<<(~v&15);v+=1;--b}else v+=b,b=0;u||(" "===f||"\t"===f||"\n"===f?u=!0:(this.u="Illegal character in pattern: "+f,this.K=r=a.jn=!0));n+=1;n===m&&(r||(0===b&&(b=1),B+=b,b=0,v>y&&(y=v)),r=!0)}c||(0===y&&(B=y=1),a.width=y,a.height=B,16384<y||16384<
B?a.rg=!0:(a.me=Array.ea(Uint16,B,(y-1>>4)+1,0,g,"Pattern.lifeMap"),a.Ig=Array.ea(Uint8,B,y,0,g,"Pattern.multiStateMap")),a.Li="RLE");a.jn&&(n=-1);return n};k.prototype.Yk=function(a,e){var c=e.indexOf("\n");-1===c&&(c=e.length);a.MD=e.substring(0,c).trim()};k.prototype.jd=function(a,e,c){for(var g=!1;e<c&&!g;)" "===a[e]?e+=1:g=!0;return e};k.prototype.Zk=function(a){var e=a.indexOf("\n"),c=0,g=!1,n=!1,m=0;-1===e&&(e=a.length);for(;m<e&&!g;)"="===a[m]?g=!0:" "!==a[m]?g=!0:m+=1;if(g&&"="===a[m]){m=
this.jd(a,m+1,e);m<e&&"-"===a[m]&&(n=!0,m+=1);for(g=!1;m<e&&!g;){var r="0123456789".indexOf(a[m]);-1!==r?(c=10*c+r,m+=1):g=!0}this.lk=!0;n&&(c=-c);this.qx=c}};k.prototype.kf=function(a,e){var c=a.indexOf("\n"),g=0,n=0,m=!1,r=!1,u=!1,x=0;-1===c&&(c=a.length);if(e){for(;x<c&&!u;)"="===a[x]?u=!0:" "!==a[x]?u=!0:x+=1;u&&"="===a[x]&&(x+=1)}else u=!0;if(u&&(x=this.jd(a,x,c),x<c)){"-"===a[x]&&(m=!0,x+=1);for(u=!1;x<c&&!u;)e="0123456789".indexOf(a[x]),-1!==e?(g=10*g+e,x+=1):u=!0;this.Mg=!0;this.mu=m?-g:g;
x=this.jd(a,x,c);if(x<c&&","===a[x]&&(x=this.jd(a,x+1,c),x<c)){"-"===a[x]&&(r=!0,x+=1);for(u=!1;x<c&&!u;)e="0123456789".indexOf(a[x]),-1!==e?(n=10*n+e,x+=1):u=!0;this.nu=r?-n:n}}};k.prototype.ih=function(a){var e=a.indexOf("XRLE");0===e&&(e=a.indexOf("Pos"),-1!==e&&this.kf(a.substr(e+3),!0),e=a.indexOf("Gen"),-1!==e&&this.Zk(a.substr(e+3)))};k.prototype.dl=function(a,e){var c=e.indexOf("\n");-1===c&&(c=e.length);a.name=e.substring(0,c).trim()};k.prototype.Pd=function(a,e,c,g){var n=c.indexOf("\n");
-1===n&&(n=c.length);" "===c[0]&&(e+=" ");c=""+c.substring(0,n).trim();a.title+=c+" ";g?a.Xf+=e+c+"\n":a.rc+=e+c+"\n";return n+1};k.prototype.A=function(a){var e=-1;a+=" ";var c="0123456789".indexOf(a[this.index]);if(-1!==c)for(e=0;-1!==c;)e=10*e+c,this.index+=1,c="0123456789".indexOf(a[this.index]);return e};k.prototype.si=function(a,e){e=this.A(e);a.Be=e;a.fg=e};k.prototype.fj=function(a,e){var c=this.A(e),g=-1,n=0,m=0;if(-1!==c){var r=e[this.index];if("-"===r||"+"===r)this.index+=1,n=this.A(e),
-1===n?c=-1:"-"===r&&(n=-n);if(","===e[this.index])if(this.index+=1,g=this.A(e),-1===g)c=-1;else{if(r=e[this.index],"-"===r||"+"===r)this.index+=1,m=this.A(e),-1===m?c=-1:"-"===r&&(m=-m)}else g=c}0!==n&&0!==m&&(c=-1);0===c&&0===g&&(c=-1);0===n&&0===m||0!==c&&0!==g||(c=-1);a.Be=c;a.fg=g;a.fq=n;a.po=m};k.prototype.ej=function(a,e){var c=this.A(e),g=-1,n=0,m=0,r=!1,u=!1;if(-1!==c){var x=e[this.index];"*"===x&&(r=!0,this.index+=1,x=e[this.index]);if("-"===x||"+"===x)n=this.A(e),-1===n?c=-1:"-"===x&&(n=
-n),this.index+=1,x=e[this.index];if(","===x)if(this.index+=1,g=this.A(e),-1===g)c=-1;else{if(x=e[this.index],"*"===x&&(u=!0,this.index+=1,x=e[this.index]),"-"===x||"+"===x)this.index+=1,m=this.A(e),-1===m?c=-1:"-"===x&&(m=-m)}else g=c}r&&u&&(c=-1);0!==n&&0!==m&&(c=-1);if(r&&0!==m||u&&0!==n)c=-1;if(0===c||0===g)c=-1;r||u||(u=!0);a.Be=c;a.fg=g;a.fq=n;a.po=m;a.vx=r;a.nt=u};k.prototype.wh=function(a,e){var c=this.A(e),g=-1;-1!==c&&(","===e[this.index]?(this.index+=1,g=this.A(e),-1===g&&(c=-1)):g=c);
a.Be=c;a.fg=g};k.prototype.pi=function(a,e){var c=this.A(e),g=-1;-1!==c&&(","===e[this.index]?(this.index+=1,g=this.A(e),-1===g&&(c=-1)):g=c);0===c&&0===g&&(c=-1);a.Be=c;a.fg=g};k.prototype.qh=function(a,e){var c=!1;e=this.lf(e).toLowerCase();if(""!==e){a.$b="ptkcs".indexOf(e[0]);if(-1!==a.$b)if(this.index=1,2!==a.$b&&-1!==e.indexOf("*"))a.Be=-1;else switch(a.$b){case 0:this.pi(a,e);break;case 1:this.fj(a,e);break;case 2:this.ej(a,e);break;case 3:this.wh(a,e);break;case 4:this.si(a,e);break;default:a.Be=
-1}this.index!==e.length&&(a.Be=-1);-1!==a.Be?c=!0:(a.$b=-1,this.u="Invalid bounded grid definition '"+e.toUpperCase()+"'")}return c};k.prototype.lc=function(a,e,c,g){var n,m,r=null;if(c[e]===a){for(e+=1;e<g&&" "===c[e];)e+=1;for(e<g&&"="===c[e]&&(e+=1);e<g&&" "===c[e];)e+=1;a=0;var u=n=!1;"-"===c[e]&&(e+=1,u=!0);for(m=c[e].charCodeAt(0);e<g&&48<=m&&57>=m;)a=10*a+(m-48),e+=1,n=!0,e<g&&(m=c[e].charCodeAt(0));for(n&&(r=u?-a:a);e<g&&" "===c[e];)e+=1;for(e<g&&","===c[e]&&(e+=1);e<g&&" "===c[e];)e+=1}return[r,
e]};k.prototype.ri=function(a,e){this.Pj=this.Qj=-1;var c=this.lc("x",0,a,e);var g=c[1];c[0]&&(this.Qj=c[0]);c=this.lc("y",g,a,e);g=c[1];c[0]&&(this.Pj=c[0]);c=this.lc("h",g,a,e);g=c[1];c[0]&&(this.mu=c[0],this.Mg=!0);c=this.lc("v",g,a,e);c[0]&&(this.nu=c[0])};k.prototype.Re=function(a,e,c,g){var n=e.indexOf("\n"),m=e.indexOf("rule"),r="";-1===n&&(n=e.length);this.ri(e,n);-1===m?c?r="":r=e.substring(1,n).trim():(r=e.substring(m+4,n).trim(),"="===r[0]&&(r=r.substring(1).trim()));a.Xq=r;a.ca=r;e=r.lastIndexOf(":");
-1!==e&&(this.qh(a,r.substring(e+1))?r=r.substr(0,e).trim():e=-2);m=r.toLowerCase().lastIndexOf("history");-1!==m&&m===r.length-7&&(a.fc=!0,r=r.substr(0,r.length-7).trim());m=r.indexOf("|");-1!==m&&"history"===r.toLowerCase().substr(0,m).trim().substr(-7)&&(a.fc=!0,c=r.substr(0,m).trim(),r=c.substr(0,c.length-7)+r.substr(m));a.fc||(m=r.toLowerCase().lastIndexOf("superTBD"),-1!==m&&m===r.length-8&&(a.Fc=!0,r=r.substr(0,r.length-8).trim()),m=r.indexOf("|"),-1!==m&&"superTBD"===r.toLowerCase().substr(0,
m).trim().substr(-8)&&(a.Fc=!0,c=r.substr(0,m).trim(),r=c.substr(0,c.length-8)+r.substr(m)));-2!==e&&this.Na(a,r,g)?this.ta=!0:this.yj=!0;return n+1};k.prototype.NB=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};k.prototype.Qe=function(a,e,c){var g=0,n=e.length,m=!1,r=!1;var u=this.Kn;var x=4;a.ia=!1;a.$a=!1;a.$b=-1;a.width=0;a.height=0;a.rg=!1;a.me=null;a.Ig=null;
a.jn=!1;a.fc=!1;a.Fc=!1;a.xo=!1;a.R=!1;a.Nd=-1;a.De=!1;a.h=-1;a.Fd=!1;a.Mc=-1;a.Ej=1;a.Rd=-1;a.Le=-1;a.Zd=-1;a.Ff=-1;a.ya=!1;a.Ue=null;a.Cf=null;a.Hd=-1;a.title="";a.rc="";a.Xf="";a.ud=2;a.Uq=0;u.fill(0);for(e+=" ";g<n&&!a.jn;)switch(u=e[g],u){case "#":g+=1;u=e[g];g+=1;switch(u){case "N":this.dl(a,e.substring(g));break;case "O":this.Yk(a,e.substring(g));break;case "C":this.ih(e.substring(g));break;case "P":case "R":this.kf(e.substring(g),!1);break;case "\n":--g}g="\n"===u?g+this.Pd(a,"#",e.substring(g),
m):g+this.Pd(a,"#"+u,e.substring(g),m);break;case "x":g+=this.Re(a,e.substring(g),!0,c);r=!0;break;case "\n":g+=1;break;default:m?g+=this.Pd(a,"",e.substring(g),!0):(m=!0,u=this.ho(a,e.substring(g),!1,c),-1!==u&&(g=a.rg?g+u:g+this.ho(a,e.substring(g),!0,c)))}r||(this.Na(a,"",c)?this.ta=!0:this.yj=!0);-1!==a.$b&&(a.ya&&(x=6*a.Hd),a.Fd&&(x=6*a.Mc),a.Be>=16384-x||a.fg>=16384-x)&&(this.u="Bounded grid is too big",this.ta=!1,a.$b=-1);!a.Fd||(1<a.$b&&(this.u="LtL only supports Plane or Torus",this.ta=!1,
a.$b=-1),a.R&&(this.u="LtL does not support Hex grid",this.ta=!1,a.R=!1),0===a.Zd&&-1===a.$b&&(this.u="LtL does not support B0 unbounded",this.ta=!1),0!==a.$b&&1!==a.$b)||0!==a.Be&&0!==a.fg||(this.u="LtL bounded grid must be finite",this.ta=!1,a.$b=-1);a.$&&-1!==a.$b&&(0!==(a.Be&1)?(this.u="Bounded grid width must be even",this.ta=!1,a.$b=-1):0!==(a.fg&1)&&(this.u="Bounded grid height must be even",this.ta=!1,a.$b=-1));a.D&&0!==this.Si[0]&&(this.u="PCA first value must be 0",this.Si[0]=0,this.ta=
!1);a.ia&&(15===this.Si[0]&&0!==this.Si[15]?(this.u="Margolus last value must be 0 when first is 15",this.ta=!1):0!==this.Si[0]&&15!==this.Si[0]&&(this.u="Margolus first value must be 0 or 15",this.ta=!1));!a.ya||(1<a.$b&&(this.u="HROT only supports Plane or Torus",this.ta=!1,a.$b=-1),a.R&&(this.u="HROT does not support Hex grid",this.ta=!1,a.R=!1),a.Ue&&1===a.Ue[0]&&-1===a.$b&&(this.u="HROT does not support B0 unbounded",this.ta=!1),0!==a.$b&&1!==a.$b)||0!==a.Be&&0!==a.fg||(this.u="HROT bounded grid must be finite",
this.ta=!1,a.$b=-1);a.$a&&a.fc&&(this.u="[R]History not valid with none rule",this.ta=a.fc=!1);a.$a&&a.Fc&&(this.u="[R]Super not valid with none rule",this.ta=a.fc=!1);-1===a.h||!a.fc||a.Fd||a.ya||(this.u="[R]History not valid with Generations",this.ta=a.fc=!1);-1===a.h||!a.Fc||a.Fd||a.ya||(this.u="[R]Super not valid with Generations",this.ta=a.Fc=!1);-1===a.h||!this.Si[0]||a.Fd||a.ya||(this.u="Generations does not support B0",this.ta=!1);a.Fd&&a.fc&&(this.u="[R]History not valid with LtL",this.ta=
a.fc=!1);a.Fd&&a.Fc&&(this.u="[R]Super not valid with LtL",this.ta=a.Fc=!1);a.ya&&a.fc&&(this.u="[R]History not valid with HROT",this.ta=a.fc=!1);a.ya&&a.Fc&&(this.u="[R]Super not valid with HROT",this.ta=a.Fc=!1);a.ia&&a.fc&&(this.u="[R]History not valid with Margolus",this.ta=a.fc=!1);a.ia&&a.Fc&&(this.u="[R]Super not valid with Margolus",this.ta=a.Fc=!1);a.ia&&-1!==a.$b&&(-1!==a.fg&&0!==(a.fg&1)&&(this.u="Bounded grid height must be even",a.$b=-1,this.ta=!1),-1!==a.Be&&0!==(a.Be&1)&&(this.u="Bounded grid width must be even",
a.$b=-1,this.ta=!1));this.ta&&(a.xo?8<a.ud&&(this.u="Illegal state in pattern for Niemiec",this.ta=!1,this.K=!0):a.fc?7<a.ud&&(this.u="Illegal state in pattern for [R]History",this.ta=!1,this.K=!0):a.Fc?26<a.ud&&(this.u="Illegal state in pattern for [R]Super",this.ta=!1,this.K=!0):-1!==a.h&&a.ud>a.h&&(this.u=a.Fd?"Illegal state in pattern for LtL":a.ya?"Illegal state in pattern for HROT":a.D?"Illegal state in pattern for PCA":"Illegal state in pattern for Generations",this.K=!0,this.ta=!1));a.Fd&&
this.ol(a,c)};k.prototype.dj=function(a,e){var c=!0,g=!1,n=0,m=0,r=0,u=0,x=0,y=!0,v=t.Jz,B=null,b=[],l={},f=null;e.ip();var q=e.N();for(""!==q&&"@"===q[0]&&(q="");c&&""!==q;){for(;c&&!g&&""!==q;){if("/"===q[0])e.ip();else if("xpm"===q.toLowerCase())e.ip();else if('"'===q[0])q=q.substr(1),e.Ml(q)&&(n=e.pw(q),e.F()&&(m=e.G(),e.F()&&(r=e.G(),q=e.N(),'"'===q[q.length-1]&&(q=q.substr(0,q.length-1),e.Ml(q)&&(u=e.pw(q)))))),0<n&&0<m&&1<=u&&2>=u&&0===m%n?7!==n&&15!==n&&31!==n?g=!1:(g=!0,x=0,B=new Uint16Array(n*
m),f=new Uint32Array(r)):c=!1;else switch(q){case "circles":v=t.mK;l={};B=[];f=[];break;case "diamonds":v=t.nK;l={};B=[];f=[];break;case "hexagons":v=t.oK;l={};B=[];f=[];break;case "triangles":v=t.qK,l={},B=[],f=[]}for(;e.Oq();)e.N();q=e.N();""!==q&&"@"===q[0]&&(q="")}for(;c&&g&&""!==q;){if("/"===q[0])e.ip();else{if('"'===q[0])if(c=!1,x<r){var w=q.substr(1);if(w.length===u&&void 0===l[w]&&(q=e.N(),"c"===q&&(q=e.N(),'"'===q[q.length-1]))){c=q.substr(0,q.length-1);c=parseInt(c,16);l[w]=x;f[x]=c;if(c>>
16!==(c>>8&255)||c>>16!==(c&255))y=!1;c=!0}}else{if(c=!1,'"'===q[q.length-1]&&q.length-2===n*u){q=q.substr(1,q.length-2);var z=0;for(c=!0;c&&z<n;)w=q[z*u],1<u&&(w+=q[z*u+1]),void 0===l[w]?c=!1:B[(x-r)*n+z]=l[w],z+=1}}else x===m+r?(g=!1,b[b.length]={uw:v,width:n,height:m,HD:r,rl:f.slice(),vI:B.slice(),GC:y},l={},B=null,y=!0,v=t.Jz):c=!1,e.bF();x+=1}for(;e.Oq();)e.N();q=e.N();""!==q&&"@"===q[0]&&(q="")}}c?x===m+r?(b[b.length]={uw:v,width:n,height:m,HD:r,rl:f.slice(),vI:B.slice(),GC:y},a.Id=b):a.Id=
null:a.Id=null};k.prototype.vh=function(a,e){var c=a.ud;a=a.Xd;var g=0,n=0,m=0,r=0,u=!1;e.ip();e.F()&&(g=e.G(),u=!0);for(;u;){u=!1;e.F()&&(n=e.G(),e.F()&&(m=e.G(),e.F()&&(r=e.G(),u=!0)));if(u)if(e.F()&&e.bI()){var x=e.G();var y=e.G();0<=g&&255>=g&&0<=n&&255>=n&&0<=m&&255>=m&&0<=r&&255>=r&&0<=x&&255>=x&&0<=y&&255>=y?this.Me(a,g,n,m,r,x,y):u=!1}else 0<=g&&g<c&&0<=n&&255>=n&&0<=m&&255>=m&&0<=r&&255>=r?a[g]=n<<16|m<<8|r:u=!1;u&&(e.ip(),e.F()?g=e.G():u=!1)}};k.prototype.ae=function(a,e,c,g,n,m){var r=
!1,u=a.length;var x=g.length;var y=x%32;var v=1<<y,B=(x-y)/32;if(null!==m)for(x=0;!r&&x<m.length;){var b=m[x];if(b.Lo===e)for(y=0,r=!0;r&&y<a.length;)0!==this.dc(a[y],b.inputs[y])&&(r=!1),y+=1;x+=1}if(!r){null!==m&&(b={inputs:[],Lo:e},b.inputs=a.slice(),m[m.length]=b);g[g.length]=e;if(B>=c.og){for(x=0;x<u;x+=1)for(y=0;y<c.Rf;y+=1)n[x][y][n[x][y].length]=0;c.og+=1}for(x=0;x<u;x+=1)for(e=a[x],y=0;y<e.length;y+=1)n[x][e[y]][B]|=v}return r};k.prototype.$j=function(a){var e=a.length,c=e-2,g=e-1,n=!1;if(1<
e){for(;0<=c&&0<=this.dc(a[c],a[c+1]);)--c;if(0<c){for(n=!0;g>=c&&0>=this.dc(a[g],a[c]);)--g;var m=a[c];a[c]=a[g];a[g]=m;var r=(e-(c+1))/2|0;for(g=0;g<r;g+=1)m=a[e-g-1],a[e-g-1]=a[c+1+g],a[c+1+g]=m}}return n};k.prototype.dc=function(a,e){var c=0,g=a.length;if(g===e.length){for(;c<g&&a[c]===e[c];)c+=1;return c===g?0:a[c]-e[c]}return g-e.length};k.prototype.bk=function(a,e,c,g,n){var m,r,u,x=[],y=[],v=[],B=0;for(m=0;m<c;m+=1)for(v[m]=[],r=0;r<n.Rf;r+=1)v[m][r]=[];for(m=n.og=0;m<g.length;m+=1){var b=
g[m].inputs;var l=g[m].Lo;if(0===a)this.ae(b,l,n,y,v,null);else if(a===e-1){x=b.slice(1).sort(this.dc);for(r=0;r<x.length;r+=1)b[r+1]=x[r];do this.ae(b,l,n,y,v,null);while(this.$j(b))}else{var f=this.rb[n.Ti][a-1];var q=[];for(r=0;r<f.length;r+=1){for(u=0;u<b.length;u+=1)x[u]=b[f[r][u]];this.ae(x,l,n,y,v,q)&&(B+=1)}}}n.pg=[];for(m=0;m<c;m+=1)for(n.pg[m]=[],r=0;r<n.Rf;r+=1)n.pg[m][r]=new Uint32Array(v[m][r].length),n.pg[m][r].set(v[m][r]);n.Jd=new Uint8Array(y.length);n.Jd.set(y);n.Fk=B};k.prototype.ti=
function(a,e){var c=-1,g=-1,n=-1,m=0,r,u="",x={},y=0,v=0,B=[],b=null,l;var f=0;for(l=!0;l&&3>f;){var q=e.zC();switch(q.toLowerCase()){case this.Rf:l=!1;":"===e.N()?e.F()?(c=e.G(),2<=c&&256>=c?l=!0:this.u=this.Rf+" must be from 2 to 256"):this.u=this.Rf+" must be numeric":this.u=this.Rf+" missing :";break;case "neighborhood":l=!1;if(":"===e.N()){q=e.N();var w=!1;for(r=0;!w&&r<this.fa.length;)q.toLowerCase()===this.fa[r]?(g=r,m=this.fb[r],w=!0,b=new Int32Array(m+1)):r+=1;l=w;w||(this.u="neighborhood invalid")}else this.u=
"neighborhood missing :";break;case "symmetries":l=!1;if(-1!==g)if(":"===e.N()){q=e.N();w=!1;for(r=0;!w&&r<this.na[g].length;)q.toLowerCase()===this.na[g][r]?(n=r,w=!0):r+=1;l=w;w||(this.u="symmetries invalid")}else this.u="symmetries missing :";else this.u="symmetries must follow neighborhood";break;default:l=!1}f+=1}if(-1===c||-1===g||-1===n)""===this.u&&(this.u=-1===c?"missing "+this.Rf:-1===g?"missing neighborhood":"missing symmetries"),l=!1;e.Ru();q=e.N();for(""!==q&&"@"===q[0]&&(q="");l&&""!==
q;){if("var"===q.toLowerCase()){l=!1;u=e.N();var z=[];if("="===e.N())for(l=!0;l&&!e.Oq();)if(e.F())r=e.G(),0<=r&&r<=c?z[z.length]=r:(l=!1,this.u="out of range value: "+u+"="+r);else{var A=e.N();if(void 0!==x[A])for(f=0;f<x[A].length;f+=1)z[z.length]=x[A][f];else l=!1,this.u="var unknown assignment: "+u+"="+A}else this.u="missing =: "+u;l&&(x[u]=z,y+=1)}else if(10>=c&&0===y&&e.Oq()){if(z=[],l=!1,q.length===m+1){f=0;for(l=!0;l&&f<m;)A=q.charCodeAt(f),48<=A&&A<48+c?(z[z.length]=[A-48],f+=1):(this.u=
"expected only digits: "+q,l=!1);l&&(A=q.charCodeAt(f),48<=A&&A<48+c?(v=A-48,B[B.length]={inputs:z,Lo:v}):(this.u="expected only digits: "+q,l=!1))}}else{l=!1;A=[];A[0]=q;b[0]=e.Ml(q)?parseInt(q,10):-1;for(f=1;e.WI();)f<m+1?e.F()?(b[f]=e.G(),A[f]=""):(b[f]=-1,A[f]=e.N()):A[f]=e.N(),f+=1;if(A.length===m+1){q=[];for(u in x){for(f=l=0;f<A.length;f+=1)u===A[f]&&(l+=1);1<l&&(q[q.length]=u)}z=[];var C={};for(f=0;f<q.length;f+=1)C[q[f]]=0;for(l=!0;;){for(f=0;f<m;f+=1)if(w=!1,r=b[f],-1!==r)r>=c?(this.u="state out of range: "+
r,l=!1):z[f]=[r];else{var D=A[f];if(q.length)for(r=0;!w&&r<q.length;)q[r]===D?w=!0:r+=1;0<q.length&&w?z[f]=[x[D][C[D]]]:void 0!==x[D]?z[f]=x[D]:(this.u="unknown variable: "+D,l=!1)}w=!1;r=b[f];if(-1!==r)0>r||r>=c?(this.u="output state out of range: "+r,l=!1):v=r;else{D=A[f];if(0<q.length)for(r=0;!w&&r<q.length;)q[r]===D?w=!0:r+=1;0<q.length&&w?v=x[D][C[D]]:void 0!==x[D]?v=x[D]:(this.u="unknown output variable: "+D,l=!1)}B[B.length]={inputs:z.slice(),Lo:v};for(f=0;f<q.length;f+=1)if(C[q[f]]<x[q[f]].length-
1){C[q[f]]+=1;break}else C[q[f]]=0;if(f>=q.length)break}}}e.Ru();q=e.N();""!==q&&"@"===q[0]&&(e.bF(),q="")}l&&(null===a.m&&(a.m=new Allocator),a.Rf=c,a.Ti=g,a.R=g===t.Gk?!0:!1,this.bk(n,this.na[g].length,m,B,a),a.ud=a.Rf,this.u="",this.ta=!0,this.yj=!1,a.$a=!1,this.Ne(a,a.Rf));return l};k.prototype.Me=function(a,e,c,g,n,m,r){var u=a.length,x;a[0]=0;for(x=1;x<u;x+=1){var y=2===u?0:(x-1)/(u-2);a[x]=(n*y+e*(1-y)|0)<<16|(m*y+c*(1-y)|0)<<8|r*y+g*(1-y)|0}};k.prototype.Ne=function(a,e){a.Xd=new Uint32Array(e);
this.Me(a.Xd,255,0,0,255,255,0)};k.prototype.bl=function(a){return(new RegExp("neighborhood *: *"+this.fa[t.Gk])).test(a.source)};k.prototype.gj=function(a,e){var c,g=-1,n=-1,m=-1,r=null,u=0,x=null,y=0,v=null,B=0,b=null,l=0,f=0,q=0;var w=0;for(c=!0;c&&3>w;){c=e.zC();switch(c.toLowerCase()){case this.qe:c=!1;"="===e.N()?e.F()?(g=e.G(),2<=g&&256>=g?c=!0:this.u=this.qe+" must be from 2 to 256"):this.u=this.qe+" must be numeric":this.u=this.qe+" missing =";break;case this.Sf:c=!1;"="===e.N()?e.F()?(n=
e.G(),4===n||8===n?c=!0:this.u=this.Sf+" must be 4 or 8"):this.u=this.Sf+" must be numeric":this.u=this.Sf+" missing =";break;case this.$h:c=!1;"="===e.N()?e.F()?(m=e.G(),m>=n&&1E8>=m?c=!0:this.u=this.$h+" out of range"):this.u=this.$h+" must be numeric":this.u=this.$h+" missing =";break;default:c=!1}w+=1}if(-1===g||-1===n||-1===m)""===this.u&&(this.u=-1===g?"missing "+this.qe:-1===n?"missing "+this.Sf:"missing "+this.$h),c=!1;c&&(r=new Uint32Array(m*g),x=new Uint8Array(m*g),v=new Uint32Array(m),
b=new Uint32Array(m));for(e.Ru();c&&e.F();){B>m?c=!1:(f=e.G(),q=0,v[B]=1===f?y:u,B+=1,b[l]=f,l+=1);for(;c&&e.F();)w=e.G(),1===f?0>w||w>=g?(this.u="bad state value in tree data: "+w,c=!1):(x[y]=w,y+=1):0>w||w>v.length?c=!1:b[w]!==f-1?(this.u="bad node pointer in tree data: "+f,c=!1):(r[u]=v[w],u+=1),q+=1;c&&q!==g&&(this.u="bad number of values on tree data line",c=!1);e.Ru()}c&&(u+y!==m*g?(this.u="bad count of values in tree data",c=!1):f!==n+1?(this.u="bad last node (wrong level)",c=!1):a.ud>g&&(c=
!1,this.u="illegal state in pattern"));c&&(null===a.m&&(a.m=new Allocator),a.Sf=n,a.qe=g,a.$h=m,a.Hk=v[v.length-1],a.Lj=r.slice(0,u),a.Mj=x.slice(0,y),a.Lz=this.bl(e),a.R=a.Lz,a.ud=a.qe,this.u="",this.ta=!0,this.yj=!1,a.$a=!1,this.Ne(a,a.qe));return c};k.prototype.mC=function(a,e){var c=!1;e=new Script(e,!0);a.P.u="";if(-1!==e.bq("@RULE",-1)&&!e.Oq()){a.Kz=e.N();var g=e.bq("@TREE",-1);-1!==g?(c=this.gj(a,e))?a.ca=a.Kz:(""===a.P.u&&(a.P.u="not valid"),a.P.u="@TREE "+a.P.u):(g=e.bq("@TABLE",0),-1!==
g?(c=this.ti(a,e))?a.ca=a.Kz:(""===a.P.u&&(a.P.u="not valid"),a.P.u="@TABLE "+a.P.u):a.P.u="@TABLE and @TREE not found");c&&(c=e.bq("@COLORS",0),-1!==c&&this.vh(a,e),c=e.bq("@ICONS",0),-1!==c&&this.dj(a,e))}};k.prototype.create=function(a,e,c,g,n,m,r){a=new p(a,this);this.ta=this.yj=this.rg=this.K=this.Mt=!1;this.u="";this.index=0;this.lk=!1;this.qx=0;this.Mg=!1;this.nu=this.mu=0;this.Pj=this.Qj=-1;this.oc=!1;if("!"===e.substr(0,1)||"O"===e.substr(0,1)||"."===e.substr(0,1)||"*"===e.substr(0,1)||"o"===
e.substr(0,1))this.th(a,e,c),this.ta=!0;null===a.me&&(this.ta=!1,"#Life 1.05"===e.substr(0,10)?this.Oe(a,e,!0,c):"#Life 1.06"===e.substr(0,10)?(this.oh(a,e,c),this.ta=!0):"#"===e[0]||"x"===e[0]?(this.Qe(a,e,c),null!==a.me||a.rg||a.jn||(this.Oe(a,e,!1,c),this.yj=!1,a.Ig=null,a.fc=!1,a.Fc=!1,a.ud=2,a.Uq=0)):this.Qe(a,e,c));a.rg&&(this.u="Pattern too big (maximum 16384x16384)",this.rg=!0,a.jn=!1,a.width=1,a.height=1,a.me=Array.ea(Uint16,a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap"));-1!==a.$b?(e=
a.ca.lastIndexOf(":"),a.ao=a.ca.substr(e),a.ca=a.ca.substr(0,e)):a.ao="";null===a.me&&""===this.u&&(this.u="Invalid pattern",a=null,this.ta=!1);a&&a.jn&&!a.rg&&(a=null,this.ta=!1);a&&(""!==a.rc&&"\n"!==a.rc[a.rc.length-1]&&(a.rc+="\n"),""!==a.Xf&&"\n"!==a.Xf[a.Xf.length-1]&&(a.Xf+="\n"),""!==this.u&&(a.R||a.$)&&null===a.ca.match(/[0-9]/)&&(a.R=!1,a.$=!1),""===this.u||this.rg||this.K||(a.ca=a.Xq,-1!==a.$b?(e=a.ca.lastIndexOf(":"),a.ao=a.ca.substr(e),a.ca=a.ca.substr(0,e)):a.ao="",a.ia=!1,a.D=!1,a.$a=
!1,a.fc=!1,a.Fc=!1,a.xo=!1,a.R=!1,a.$=!1,a.Nd=-1,a.De=!1,a.Fd=!1,a.JF=a.ya,a.ya=!1,h.$C(a)?(g=null===a.Jd?a.qe:a.Rf,a.ud>g?(this.u="Illegal state in pattern",this.K=!0):(a.ud=g,this.u="",this.ta=!0,this.yj=!1,a.$a=!1)):(e=a.Xf.indexOf("@RULE"),-1!==e&&(e=a.Xf.substr(e),this.mC(a,e)),-1===a.qe&&null===a.Jd&&this.lj(a,g,n,m,r))));return a};k.prototype.fI=function(a){var e=a.indexOf("@RULE");if(-1===e)a="";else{var c=a.indexOf("\x3c!--",e);a=-1===c?0===e?a:a.substr(e):a.substr(e,c-e);a=a.replace(/<li>/g,
"# ");a=a.replace(/<[^<]*>/g,"")}return a};k.prototype.kj=function(a,e,c){if(4===e.readyState)if(200===e.status){e=a.fI(e.responseText);var g=performance.now()-this.time;this.time=performance.now();""===e?(c.P.u="@RULE not found",h.Fu(c)):(a.mC(c,e),a=performance.now()-this.time,-1!==c.qe||null!==c.Jd?h.add(c,g,a,e.length):h.Fu(c))}else h.Fu(c)};k.prototype.ij=function(a){h.Fu(a)};k.prototype.lj=function(a,e,c,g,n){var m=this,r=null,u=a.ca,x="/wiki/Rule:"+u;this.time=performance.now();this.Mt=!0;
n?a.m=n.a.m:a.m=null;h.sG(a,e,c,g,n)||(r=new XMLHttpRequest,""!==DocConfig.Dz&&(x=DocConfig.Dz+u+DocConfig.PE),registerEvent(r,"load",function(){m.kj(m,r,a)},!1),registerEvent(r,"error",function(){m.ij(a)},!1),r.open("GET",x,!0),r.send(null))};window.PatternConstants=t;window.PatternManager=k;window.Pattern=p;window.RuleTreeCache=h}(),function(){function d(){this.rl=[]}d.prototype.add=function(k,p,h){this.rl[this.rl.length]=k<<16|p<<8|h};window.ColourManager={vj:[],wr:[],PC:!1,Uw:[48,48,48,0,255,
127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,
0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,
224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,
156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,
158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,
249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],Xs:[],ze:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],
brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",
189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,
255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],
indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,
238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",
0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",
255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,
192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",
106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},DL:function(){return this.Xs},
YB:function(k){for(var p=0,h=!1,t=[];p<this.wr.length&&!h;)k===this.wr[p][0]?h=!0:p+=1;h&&(t=this.vj[this.wr[p][1]].rl);return t},Tb:function(k){this.wr[this.wr.length]=k},Ye:function(){var k,p=0,h;if(!this.PC){this.PC=!0;for(k=h=0;256>k;k+=1)this.Xs[k]=this.Uw[h]<<16|this.Uw[h+1]<<8|this.Uw[h+2],h+=3;k=new d;k.add(0,0,0);k.add(0,255,0);k.add(0,0,128);k.add(216,255,216);k.add(255,0,0);k.add(255,255,0);k.add(96,96,96);k.add(255,128,128);this.vj[p]=k;this.Tb(["LifeHistory",p]);p+=1;k=new d;k.add(48,
48,48);k.add(0,128,255);k.add(255,255,255);k.add(255,128,0);this.vj[p]=k;this.Tb(["WireWorld",p]);p+=1;k=new d;k.add(0,0,0);k.add(255,255,255);k.add(144,128,112);k.add(144,90,45);k.add(192,192,192);k.add(255,0,0);k.add(255,128,0);k.add(255,255,0);k.add(0,255,0);k.add(0,255,208);k.add(0,192,255);k.add(0,0,255);k.add(192,0,255);k.add(255,64,160);k.add(112,128,144);k.add(0,128,0);k.add(0,96,128);k.add(160,0,80);k.add(40,40,40);k.add(220,220,220);k.add(140,60,0);k.add(0,160,0);k.add(160,160,250);this.vj[p]=
k;this.Tb(["WWE",p]);this.Tb(["WWE2",p]);this.Tb(["WWEJ",p]);this.Tb(["WWEJ2",p]);this.Tb(["WWEJ3",p]);p+=1;k=new d;k.add(30,30,30);k.add(0,128,128);k.add(0,255,0);k.add(255,0,0);k.add(255,128,0);k.add(255,255,0);k.add(128,0,128);k.add(128,128,128);k.add(255,255,255);k.add(128,128,255);this.vj[p]=k;this.Tb(["Novoloop",p]);p+=1;k=new d;k.add(0,0,0);k.add(255,128,0);k.add(255,0,0);k.add(0,255,0);k.add(0,0,255);k.add(0,190,0);k.add(0,140,0);k.add(255,255,255);k.add(80,80,80);k.add(95,95,95);k.add(128,
128,128);k.add(0,64,0);k.add(255,255,0);k.add(64,0,164);k.add(64,32,64);k.add(80,80,100);k.add(95,95,125);k.add(128,255,128);k.add(64,100,100);this.vj[p]=k;this.Tb(["shapeloop",p]);this.Tb(["shapeloop-b",p]);this.Tb(["shapeloop2",p]);this.Tb(["shapeloop-ltd",p]);this.Tb(["2armshapeloop-a",p]);this.Tb(["2armshapeloop2-a",p]);this.Tb(["shapeloop2a-bounded",p]);this.Tb(["foodshapeloop",p]);this.Tb(["foodshapeloop2",p]);p+=1;k=new d;k.add(0,0,0);k.add(255,255,255);k.add(255,0,0);k.add(0,128,255);k.add(170,
0,0);k.add(85,0,0);this.vj[p]=k;this.Tb(["b3s23mmg",p]);p+=1;k=new d;k.add(0,0,0);k.add(255,0,0);k.add(0,255,0);k.add(0,0,255);k.add(255,255,0);k.add(0,255,255);k.add(255,0,255);k.add(92,36,110);k.add(0,99,140);k.add(176,196,222);k.add(115,61,26);this.vj[p]=k;this.Tb(["_235_4_O3",p]);this.Tb(["0_245_5_O4",p]);this.Tb(["0_245_5_O3",p]);this.Tb(["58_27_4_O3",p]);this.Tb(["0_24_4H_O3",p]);this.Tb(["2_235_4H_O3",p]);this.Tb(["24_235_4H_O3",p]);this.Tb(["3_25_4_O2",p]);this.Tb(["Snake_O5",p]);this.Tb(["Mites",
p]);this.Tb(["Mites2",p]);this.Tb(["Mites3",p]);p+=1;k=new d;k.add(48,48,48);k.add(255,128,0);k.add(0,0,255);k.add(32,32,255);k.add(64,64,255);k.add(96,96,255);this.vj[p]=k;this.Tb(["Alpha-1",p]);p+=1;k=new d;k.add(48,48,48);k.add(255,0,0);k.add(255,125,0);k.add(255,150,25);k.add(255,175,50);k.add(255,200,75);k.add(255,225,100);k.add(255,250,125);k.add(251,255,0);k.add(89,89,255);k.add(106,106,255);k.add(122,122,255);k.add(139,139,255);k.add(27,176,27);k.add(36,200,36);k.add(73,255,73);k.add(106,
255,106);k.add(235,36,36);k.add(255,56,56);k.add(255,73,73);k.add(255,89,89);k.add(185,56,255);k.add(191,73,255);k.add(197,89,255);k.add(203,106,255);k.add(0,255,128);k.add(255,128,64);k.add(255,255,128);k.add(33,215,215);k.add(27,176,176);k.add(24,156,156);k.add(21,137,137);this.Tb(["JvN29",p]);this.Tb(["Hutton32",p]);this.Tb(["Nobili32",p]);this.vj[p]=k}}}}(),function(){function d(k,p,h,t){this.f=k;this.g=p;this.l=h;this.o=t}d.prototype.set=function(k){this.f=k.f;this.g=k.g;this.l=k.l;this.o=k.o};
window.BoundingBox=d}(),function(){function d(p,h){this.index=h;this.da=p.Pn[h];this.Ga=p.Nm[h];this.A=p.kt[h];this.j=p.ys[h];this.H=new BoundingBox(0,0,0,0);this.Ea=new BoundingBox(0,0,0,0);this.aa=this.Ji=this.Hf=this.v=this.Xb=this.Gb=this.ma=0;this.P=p}function k(p,h){this.m=p;this.He=[];this.Fh=[];this.Pn=[];this.Nm=[];this.kt=[];this.ys=[];this.A=[];this.K=0;this.index=-1;this.MI=51;this.j=[];this.KB=h}d.prototype.iK=function(p,h,t){var a=h.length,e=h[0].length,c,g,n=0,m,r=t.Nr;t=t.Or;var u,
x=0,y=this.A,v=0,B=y[v],b=B.length;Array.yi(this.da,h);for(c=0;c<a;c+=1){var l=this.da[c];for(h=u=0;h<e;h+=1)if(m=l[h])for(g=15;0<=g;--g){if(0!==(m&1<<g)){var f=x;var q=u;var w=B[n];n+=1;p[f][q]=w&255;p[f][q+1]=w>>8&255;p[f+1][q]=w>>16&255;p[f+1][q+1]=w>>24;f+=2;w=B[n];n+=1;p[f][q]=w&255;p[f][q+1]=w>>8&255;p[f+1][q]=w>>16&255;p[f+1][q+1]=w>>24;f+=2;w=B[n];n+=1;p[f][q]=w&255;p[f][q+1]=w>>8&255;p[f+1][q]=w>>16&255;p[f+1][q+1]=w>>24;f+=2;w=B[n];n+=1;p[f][q]=w&255;p[f][q+1]=w>>8&255;p[f+1][q]=w>>16&255;
p[f+1][q+1]=w>>24;f+=2;w=B[n];n+=1;p[f][q]=w&255;p[f][q+1]=w>>8&255;p[f+1][q]=w>>16&255;p[f+1][q+1]=w>>24;f+=2;w=B[n];n+=1;p[f][q]=w&255;p[f][q+1]=w>>8&255;p[f+1][q]=w>>16&255;p[f+1][q+1]=w>>24;f+=2;w=B[n];n+=1;p[f][q]=w&255;p[f][q+1]=w>>8&255;p[f+1][q]=w>>16&255;p[f+1][q+1]=w>>24;f+=2;w=B[n];n+=1;p[f][q]=w&255;p[f][q+1]=w>>8&255;p[f+1][q]=w>>16&255;p[f+1][q+1]=w>>24;n>=b&&(v+=1,B=y[v],n=0)}u+=r}else u+=r<<4;x+=t}};d.prototype.wK=function(p,h,t){var a=h.length,e=h[0].length,c,g=0,n;var m=0;var r=
t.Nr,u=t.Or,x,y=0,v=this.A,B=0,b=v[B],l=b.length,f=v.length;var q=this.P.KB;Array.yi(h,this.da);for(c=0;c<a;c+=1){var w=h[c];for(t=0;t<e;t+=1)(n=w[t])&&(m+=q[n])}if(m)for(c=0;c<a;c+=1){w=h[c];for(t=x=0;t<e;t+=1)if(n=w[t])for(m=15;0<=m;--m){if(0!==(n&1<<m)){var z=y;q=x;b[g]=p[z][q]|p[z][q+1]<<8|p[z+1][q]<<16|p[z+1][q+1]<<24;g+=1;z+=2;b[g]=p[z][q]|p[z][q+1]<<8|p[z+1][q]<<16|p[z+1][q+1]<<24;g+=1;z+=2;b[g]=p[z][q]|p[z][q+1]<<8|p[z+1][q]<<16|p[z+1][q+1]<<24;g+=1;z+=2;b[g]=p[z][q]|p[z][q+1]<<8|p[z+1][q]<<
16|p[z+1][q+1]<<24;g+=1;z+=2;b[g]=p[z][q]|p[z][q+1]<<8|p[z+1][q]<<16|p[z+1][q+1]<<24;g+=1;z+=2;b[g]=p[z][q]|p[z][q+1]<<8|p[z+1][q]<<16|p[z+1][q+1]<<24;g+=1;z+=2;b[g]=p[z][q]|p[z][q+1]<<8|p[z+1][q]<<16|p[z+1][q+1]<<24;g+=1;z+=2;b[g]=p[z][q]|p[z][q+1]<<8|p[z+1][q]<<16|p[z+1][q+1]<<24;g+=1;g>=l&&(B+=1,g=0,B>=f&&(Array.vp(v,"Snapshot.gridBufferRow"),f+=1));b=v[B]}x+=r}else x+=r<<4;y+=u}};d.prototype.hK=function(p,h,t){var a=h.length,e=h[0].length,c,g,n,m=0,r,u=t.Nr<<3,x=t.Or,y,v=0,B=this.j,b=0,l=B[b],
f=l.length;Array.yi(this.Ga,h);for(c=0;c<a;c+=1){var q=h[c];for(t=y=0;t<e;t+=1)if(r=q[t])for(g=15;0<=g;--g){if(0!==(r&1<<g))for(n=y;n<y+u;n+=4){var w=v;var z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=
l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=
z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&255;p[w][n+3]=z>>24;w+=1;z=l[m];m+=1;p[w][n]=z&255;p[w][n+1]=z>>8&255;p[w][n+2]=z>>16&
255;p[w][n+3]=z>>24;m>=f&&(b+=1,l=B[b],m=0)}y+=u}else y+=u<<4;v+=x}};d.prototype.tK=function(p,h,t){var a=h.length,e=h[0].length,c,g=0,n;var m=0;var r=t.Nr<<3,u=t.Or,x,y=0,v=this.j,B=0,b=v[B],l=b.length,f=v.length;var q=this.P.KB;Array.yi(h,this.Ga);for(c=0;c<a;c+=1){var w=h[c];for(t=0;t<e;t+=1)(n=w[t])&&(m+=q[n])}if(m)for(c=0;c<a;c+=1){w=h[c];for(t=x=0;t<e;t+=1)if(n=w[t])for(m=15;0<=m;--m){if(0!==(n&1<<m))for(q=x;q<x+r;q+=4){var z=y;b[g]=p[z][q]|p[z][q+1]<<8|p[z][q+2]<<16|p[z][q+3]<<24;g+=1;z+=1;
b[g]=p[z][q]|p[z][q+1]<<8|p[z][q+2]<<16|p[z][q+3]<<24;g+=1;z+=1;b[g]=p[z][q]|p[z][q+1]<<8|p[z][q+2]<<16|p[z][q+3]<<24;g+=1;z+=1;b[g]=p[z][q]|p[z][q+1]<<8|p[z][q+2]<<16|p[z][q+3]<<24;g+=1;z+=1;b[g]=p[z][q]|p[z][q+1]<<8|p[z][q+2]<<16|p[z][q+3]<<24;g+=1;z+=1;b[g]=p[z][q]|p[z][q+1]<<8|p[z][q+2]<<16|p[z][q+3]<<24;g+=1;z+=1;b[g]=p[z][q]|p[z][q+1]<<8|p[z][q+2]<<16|p[z][q+3]<<24;g+=1;z+=1;b[g]=p[z][q]|p[z][q+1]<<8|p[z][q+2]<<16|p[z][q+3]<<24;g+=1;z+=1;b[g]=p[z][q]|p[z][q+1]<<8|p[z][q+2]<<16|p[z][q+3]<<24;
g+=1;z+=1;b[g]=p[z][q]|p[z][q+1]<<8|p[z][q+2]<<16|p[z][q+3]<<24;g+=1;z+=1;b[g]=p[z][q]|p[z][q+1]<<8|p[z][q+2]<<16|p[z][q+3]<<24;g+=1;z+=1;b[g]=p[z][q]|p[z][q+1]<<8|p[z][q+2]<<16|p[z][q+3]<<24;g+=1;z+=1;b[g]=p[z][q]|p[z][q+1]<<8|p[z][q+2]<<16|p[z][q+3]<<24;g+=1;z+=1;b[g]=p[z][q]|p[z][q+1]<<8|p[z][q+2]<<16|p[z][q+3]<<24;g+=1;z+=1;b[g]=p[z][q]|p[z][q+1]<<8|p[z][q+2]<<16|p[z][q+3]<<24;g+=1;z+=1;b[g]=p[z][q]|p[z][q+1]<<8|p[z][q+2]<<16|p[z][q+3]<<24;g+=1;g>=l&&(B+=1,g=0,B>=f&&(Array.vp(v,"Snapshot.colourGridBufferRow"),
f+=1),b=v[B])}x+=r}else x+=r<<4;y+=u}};k.prototype.bufferSize=function(){for(var p=0,h=0;h<this.Fh.length;)p+=this.Pn[h].length*this.Pn[h][0].length*2,p+=this.Nm[h].length*this.Nm[h][0].length*2,p+=this.kt[h].length*this.kt[h][0].length*4,p+=this.ys[h].length*this.ys[h][0].length*4,this.A[h]&&(p+=this.A[h].length*this.A[h][0].length*4),h+=1;return p};k.prototype.sL=function(){for(var p=0,h=0;h<this.Fh.length;)this.Fh[h]&&(p+=1),h+=1;return p};k.prototype.reset=function(){var p=0,h;this.He=[];for(this.index=
-1;p<this.Fh.length;){var t=!1;for(h=0;h<this.j.length&&!t;)p===this.j[h].index?t=!0:h+=1;t||(this.Fh[p]=!1);p+=1}};k.prototype.SK=function(p){var h=null;if(0<this.He.length)for(h=this.He[this.index];h&&h.v>p;)h=null,0<this.index&&(this.W(this.He[this.index].index),this.He.pop(),--this.index,0<=this.index&&(h=this.He[this.index]));return h};k.prototype.yr=function(p,h,t,a,e,c,g,n,m,r,u,x,y,v,B,b,l,f){var q=null,w=0,z=this.j.length,A=!1;e=null!==e;if(l){for(;w<z&&!A;)this.j[w].v===u?A=!0:w+=1;A?q=
this.j[w]:alert("reset snapshot at generation "+u+" not found!")}else if(51>this.He.length)q=this.Iw(v,B,!1,u,e),this.index+=1;else{this.index+=1;if(51<=this.index){this.index=50;this.W(this.He[0].index);for(w=0;50>w;w+=1)this.He[w]=this.He[w+1];this.He.pop();this.Iw(v,B,!1,u,e)}q=this.He[this.index]}q.aa=f;q.wK(p,h,b);q.tK(t,a,b);q.H.f=c.f;q.H.l=c.l;q.H.g=c.g;q.H.o=c.o;q.Ea.f=g.f;q.Ea.l=g.l;q.Ea.g=g.g;q.Ea.o=g.o;q.ma=n;q.Gb=m;q.Xb=r;q.v=u;q.Hf=x;q.Ji=y};k.prototype.W=function(p){this.Fh[p]=!1};k.prototype.na=
function(p,h,t){for(var a=0,e=!1;a<this.K&&!e;)this.Fh[a]?a+=1:e=!0;e?(p=a,this.Fh[a]=!0):(this.Pn[a]=Array.ea(Uint16,h,p,0,this.m,"Snapshot.tileGrid"+a),this.Nm[a]=Array.ea(Uint16,h,p,0,this.m,"Snapshot.colourTileGrid"+a),this.kt[a]=Array.ea(Uint32,1,1024,0,this.m,"Snapshot.gridBuffer"+a),this.ys[a]=Array.ea(Uint32,1,8192,0,this.m,"Snapshot.colourGridBuffer"+a),t&&(this.A[a]=Array.ea(Uint32,1,8192,0,this.m,"Snapshot.overlayGridBuffer"+a)),this.Fh[a]=!0,this.K+=1,p=a);return p};k.prototype.Iw=function(p,
h,t,a,e){var c=0,g=this.j.length,n=!1;p=this.na(p,h,e);if(t){for(;c<g&&!n;)this.j[c].v===a?n=!0:c+=1;n?t=this.j[c]:(t=new d(this,p,e),this.j[this.j.length]=t)}else t=new d(this,p,e),this.He[this.He.length]=t;return t};k.prototype.fa=function(p,h,t,a){var e=p.da,c=p.Ga,g=p.da.length,n=g>>1,m=p.da[0].length>>1,r=0,u=p.index;this.Pn[u]=Array.ea(Uint16,t,h,0,this.m,"Snapshot.tileGrid"+u);this.Nm[u]=Array.ea(Uint16,t,h,0,this.m,"Snapshot.colourTileGrid"+u);p.da=this.Pn[u];p.Ga=this.Nm[u];if(0<a){for(;r<
g;)p.da[r+n].set(e[r],m),p.Ga[r+n].set(c[r],m),r+=1;p.H.f+=a;p.H.l+=a;p.H.g+=a;p.H.o+=a;p.Ea.f+=a;p.Ea.l+=a;p.Ea.g+=a;p.Ea.o+=a}};k.prototype.IE=function(p,h,t){for(var a=0,e=this.j.length;a<e;)this.fa(this.j[a],p,h,t),a+=1;a=0;for(e=this.He.length;a<e;)this.fa(this.He[a],p,h,t),a+=1;for(a=0;a<this.Fh.length;)this.Fh[a]||(this.Pn[a]=Array.ea(Uint16,h,p,0,this.m,"Snapshot.tileGrid"+a),this.Nm[a]=Array.ea(Uint16,h,p,0,this.m,"Snapshot.colourTileGrid"+a)),a+=1};window.SnapshotManager=k;window.Snapshot=
d}(),function(){function d(k,p,h){this.m=k;this.a=p;this.P=h;this.ed=1;this.Dn=2;this.Gb=k.I(Uint8,0,"HROT.births");this.Vu=k.I(Uint8,0,"HROT.survivals");this.ns=k.I(Uint8,0,"HROT.altBirths");this.os=k.I(Uint8,0,"HROT.altSurvivals");this.type=h.Pf;this.W=Array.ea(Uint32,1,1,0,k,"HROT.counts");this.na=k.I(Uint32,0,"HROT.widths");this.Na=k.I(Uint8,0,"HROT.colUsed");this.Aa=this.A=this.K=this.fa=0;this.oc=!1}d.prototype.resize=function(k,p){this.W=Array.ea(Uint32,p,k,0,this.m,"HROT.counts");this.Na=
this.m.I(Uint8,k,"HROT.colUsed")};d.prototype.LK=function(k,p){var h=2*p+1,t=p*p+p;this.type=k;this.ed=p;this.na=this.m.I(Uint32,h,"HROT.widths");switch(k){case this.P.Pf:for(k=0;k<h;k+=1)this.na[k]=p;break;case this.P.sg:for(k=0;k<p;k+=1)this.na[k]=k,this.na[h-k-1]=k;this.na[k]=p;break;case this.P.Fp:for(k=-p;k<=p;k+=1){for(h=0;(h+1)*(h+1)+k*k<=t;)h+=1;this.na[k+p]=h}}};d.prototype.j=function(k,p){return 0>k||0>k+p||p-k>=this.K?0:0>p&&k+p<this.A?this.W[k+p][0]:p>=this.K&&p-k>=this.K-this.A?this.W[k+
this.K-1-p][this.K-1]:k<this.A?this.W[k][p]:k-this.A+1+p<=this.Aa?this.W[this.A-1][k-this.A+1+p]:p-(k-this.A+1)>=this.Aa?this.W[this.A-1][p-(k-this.A+1)]:this.W[this.A-1][this.Aa+(k+p+this.A+this.Aa+1)%2]};d.prototype.fb=function(k,p,h,t){var a=this.a.Z,e=null,c=this.ed,g;for(g=0;g<c;g+=1){e=a[p+g];var n=a[t+g+1];n.set(e.slice(k,h+1),k)}for(g=0;g<c;g+=1)e=a[t-g],n=a[p-g-1],n.set(e.slice(k,h+1),k);if(copyWithin)for(g=p;g<=t;g+=1)e=a[g],e.copyWithin(h+1,k,k+c+1),e.copyWithin(k-c-1,h-c,h+1);else for(g=
p;g<=t;g+=1)for(n=0;n<c;n+=1)e[h+n+1]=e[k+n],e[k-n-1]=e[h-n];for(g=0;g<c;g+=1)e=a[p+g],n=a[t+g+1],n.set(e.slice(k,k+c+1),h+1),n.set(e.slice(h-c,h+1),k-c-1);for(g=0;g<c;g+=1)e=a[t-g],n=a[p-g-1],n.set(e.slice(k,k+c+1),h+1),n.set(e.slice(h-c,h+1),k-c-1)};d.prototype.La=function(k,p,h,t){var a=this.a.Z,e=this.ed,c;for(c=0;c<e;c+=1)a[t+c+1].fill(0,k,h+1);for(c=0;c<e;c+=1)a[p-c-1].fill(0,k,h+1);for(c=p;c<=t;c+=1){var g=a[c];g.fill(0,h+1,h+e+2);g.fill(0,k-e-1,k)}for(c=0;c<e;c+=1)g=a[t+c+1],g.fill(0,h+1,
h+e+2),g.fill(0,k-e-1,k);for(c=0;c<e;c+=1)g=a[p-c-1],g.fill(0,h+1,h+e+2),g.fill(0,k-e-1,k)};d.prototype.ab=function(k,p,h,t,a){var e,c,g=this.a.Z,n=this.a.za,m=this.a.width,r=0,u=this.a.height,x=0,y=m,v=r,B=u,b=x,l=this.a.H,f=this.a.Ea,q=this.ed,w=a?this.ns:this.Gb,z=a?this.os:this.Vu,A=this.W;var C=this.Dn-1;var D=LifeConstants.sb,E=LifeConstants.gk,F=this.a.zs;var G=this.a.h+this.a.J-1;var H=this.a.J,I=0<this.a.J?1:0;var O=e=a=0;if(1===C)for(C=p-q;C<=t+q;C+=1){var K=g[C];var M=A[C];var J=n[C>>4];
var X=c=!1;for(p=k-q;p<=h+q;p+=1){var R=K[p];var U=M[p];G=0;R<D?1===w[U]&&(e+=1,G=128):0===z[U]?O+=1:G=128;R=F[R+G];K[p]=R;R>E&&(c=!0,J[p>>8]|=1<<(~(p>>4)&15),p<m&&(m=p),p>r&&(r=p),R>=D&&(a+=1,p<y&&(y=p),p>v&&(v=p),X=!0))}c&&(C<u&&(u=C),C>x&&(x=C));X&&(C<B&&(B=C),C>b&&(b=C))}else for(C=p-q;C<=t+q;C+=1){K=g[C];M=A[C];J=n[C>>4];X=c=!1;for(p=k-q;p<=h+q;p+=1)R=K[p],U=M[p],R<=H?1===w[U]?(R=G,e+=1):R>I&&--R:R===G?0===z[U]&&(--R,O+=1):R>I&&--R,K[p]=R,0<R&&(c=!0,J[p>>8]|=1<<(~(p>>4)&15),p<m&&(m=p),p>r&&(r=
p),R===G&&(a+=1,p<y&&(y=p),p>v&&(v=p),X=!0));c&&(C<u&&(u=C),C>x&&(x=C));X&&(C<B&&(B=C),C>b&&(b=C))}this.a.ma=a;this.a.Gb=e;this.a.Xb=O;0<a?(l.f=m,l.l=r,l.g=u,l.o=x,f.f=y,f.l=v,f.g=B,f.o=b):this.a.aa=0};d.prototype.rb=function(k){var p,h,t=this.a.H.f,a=this.a.H.l,e=this.a.H.g,c=this.a.H.o,g=this.ed,n=k?this.ns:this.Gb,m=k?this.os:this.Vu,r=g+g;var u=g+1;var x=this.W,y=this.type,v=this.Dn-1,B=this.a.width,b=0,l=this.a.height,f=0,q=B,w=b,z=l,A=f,C=this.a.Z,D=this.a.za;var E=this.na;var F=this.a.ua;var G=
this.a.ra,H=0,I=0,O=0,K=0,M=0,J=0,X=0,R=LifeConstants.sb,U=LifeConstants.gk,Y=this.a.zs;var da=this.Na;-1!==this.a.sa&&(H=Math.round((this.a.width-F)/2),O=Math.round((this.a.height-G)/2),I=H+F-1,K=O+G-1,1===n[0]&&(t=H+g,a=I-g,c=K-g,e=O+g),1===this.a.sa&&(t-H<g&&(a=I),I-a<g&&(t=H),K-c<g&&(e=O),e-O<g&&(c=K),this.fb(H,O,I,K)),0===this.a.sa&&1===v&&this.a.ex(C,0),t-H<g&&(t=H+g),I-a<g&&(a=I-g),K-c<g&&(c=K-g),e-O<g&&(e=O+g),y===this.P.Pf?(t-=r,e-=r,a+=r,c+=r):y===this.P.sg&&6<g&&(t-=g,e-=g,a+=g,c+=g));
if(y===this.P.Pf){t-=r;e-=r;a+=r;c+=r;for(h=e;h<e+r;h+=1)x[h].fill(0,t,a+1);for(h=e+r;h<=c;h+=1)x[h].fill(0,t,t+r+1);var V=x[e+r-1];for(h=e+r;h<=c;h+=1){var ka=x[h];v=C[h];F=0;for(p=t+r;p+8<=a;)v[p]>=R&&(F+=1),ka[p]=V[p]+F,p+=1,v[p]>=R&&(F+=1),ka[p]=V[p]+F,p+=1,v[p]>=R&&(F+=1),ka[p]=V[p]+F,p+=1,v[p]>=R&&(F+=1),ka[p]=V[p]+F,p+=1,v[p]>=R&&(F+=1),ka[p]=V[p]+F,p+=1,v[p]>=R&&(F+=1),ka[p]=V[p]+F,p+=1,v[p]>=R&&(F+=1),ka[p]=V[p]+F,p+=1,v[p]>=R&&(F+=1),ka[p]=V[p]+F,p+=1;for(;p<=a;)v[p]>=R&&(F+=1),ka[p]=V[p]+
F,p+=1;V=ka}t+=g;e+=g;a-=g;c-=g;-1!==this.a.sa&&(t+=r,e+=r,a-=r,c-=r);r=C[e][t];F=x[e+g][t+g];var ma=0;r<R?1===n[F]&&(J+=1,ma=128):0===m[F]?X+=1:ma=128;r=Y[r+ma];C[e][t]=r;r>U&&(da[t]|=1,f=l=e,D[e>>4][t>>8]|=1<<(~(t>>4)&15),r>=R&&(M+=1,da[t]|=2,A=z=e));var ea=G=!1;ka=x[e+g];V=x[e+g];v=C[e];E=D[e>>4];for(p=t+1;p<=a;p+=1)r=v[p],F=ka[p+g]-V[p-u],ma=0,r<R?1===n[F]&&(J+=1,ma=128):0===m[F]?X+=1:ma=128,r=Y[r+ma],v[p]=r,r>U&&(da[p]|=1,G=!0,E[p>>8]|=1<<(~(p>>4)&15),r>=R&&(M+=1,da[p]|=2,ea=!0));G&&(f=l=e);
ea&&(A=z=e);E=v=!1;ka=t+g;for(h=e+1;h<=c;h+=1)r=C[h][t],F=x[h+g][ka]-x[h-u][ka],ma=0,r<R?1===n[F]&&(J+=1,ma=128):0===m[F]?X+=1:ma=128,r=Y[r+ma],C[h][t]=r,r>U&&(h<l&&(l=h),h>f&&(f=h),v=!0,D[h>>4][t>>8]|=1<<(~(t>>4)&15),r>=R&&(M+=1,h<z&&(z=h),h>A&&(A=h),E=!0));v&&(da[t]|=1);E&&(da[t]|=2);for(h=e+1;h<=c;h+=1){v=C[h];E=D[h>>4];V=x[h+g];var aa=x[h-u];ka=t+1+g;var ca=t+1-u;ea=G=!1;for(p=t+1;p<=a;p+=1)r=v[p],F=V[ka]+aa[ca]-V[ca]-aa[ka],ma=0,r<R?1===n[F]&&(ma=128,J+=1):0===m[F]?X+=1:ma=128,r=Y[r+ma],v[p]=
r,r>U&&(G=!0,E[p>>8]|=1<<(~(p>>4)&15),da[p]|=1,r>=R&&(M+=1,ea=!0,da[p]|=2)),ka+=1,ca+=1;G&&(h<l&&(l=h),h>f&&(f=h));ea&&(h<z&&(z=h),h>A&&(A=h))}for(p=t;p<=a;p+=1)da[p]&&(p<B&&(B=p),p>b&&(b=p),0!==(da[p]&2)&&(p<q&&(q=p),p>w&&(w=p)),da[p]=0);this.a.ma=M;this.a.Gb=J;this.a.Xb=X;0<M?(this.a.H.f=B,this.a.H.l=b,this.a.H.g=l,this.a.H.o=f,this.a.Ea.f=q,this.a.Ea.l=w,this.a.Ea.g=z,this.a.Ea.o=A):this.a.aa=0}else if(y===this.P.sg&&6<g){t-=g;a+=g;e-=g;c+=g;-1===this.a.sa&&(t-=g,a+=g,e-=g,c+=g);this.fa=c-e+1;
this.K=a-t+1;this.A=this.fa+(this.K-1)/2|0;this.Aa=this.K/2|0;for(u=0;u<this.A;u+=1)for(ka=x[u],v=C[u+e],h=u-1,F=h-1,da=0;da<=this.K;da+=1)ka[da]=this.j(h,da-1)+this.j(h,da+1)-this.j(F,da),u<this.fa&&v[da+t]>=R&&(ka[da]+=1);for(u=g;u<=this.fa-g;u+=1){h=u-1;aa=u+g;x=aa-1;p=u-g-1;ka=p-1;V=u+e;v=C[V];E=D[V>>4];ea=G=!1;for(da=g;da<=this.K-g;da+=1)F=da+g,r=da-g,F=this.j(aa,da)-this.j(h,F+1)-this.j(h,r-1)+this.j(ka,da)+this.j(x,da)-this.j(h,F)-this.j(h,r)+this.j(p,da),ca=da+t,r=v[ca],ma=0,r<R?1===n[F]&&
(ma=128,J+=1):0===m[F]?X+=1:ma=128,r=Y[r+ma],v[ca]=r,r>U&&(ca<B&&(B=ca),ca>b&&(b=ca),G=!0,E[ca>>8]|=1<<(~(ca>>4)&15),r>=R&&(M+=1,ea=!0,ca<q&&(q=ca),ca>w&&(w=ca)));G&&(V<l&&(l=V),V>f&&(f=V));ea&&(V<z&&(z=V),V>A&&(A=V))}this.a.ma=M;this.a.Gb=J;this.a.Xb=X;0<M?(this.a.H.f=B,this.a.H.l=b,this.a.H.g=l,this.a.H.o=f,this.a.Ea.f=q,this.a.Ea.l=w,this.a.Ea.g=z,this.a.Ea.o=A):this.a.aa=0}else for(h=e-g;h<=c+g;h+=1){ka=x[h];p=t-g;F=0;for(da=-g;da<=g;da+=1)for(n=E[da+g],v=C[h+da],u=-n;u<=n;u+=1)v[p+u]>=R&&(F+=
1);ka[p]=F;for(p+=1;p<=a+g;){for(da=-g;da<=g;da+=1)n=E[da+g],v=C[h+da],v[p-n-1]>=R&&--F,v[p+n]>=R&&(F+=1);ka[p]=F;p+=1}}-1!==this.a.sa&&(t<H+g&&(t=H+g),a>I-g&&(a=I-g),e<O+g&&(e=O+g),c>K-g&&(c=K-g));y===this.P.Pf||y===this.P.sg&&6<g||this.ab(t,e,a,c,k);1===this.a.sa&&this.La(H,O,I,K)};d.prototype.Fb=function(k){var p,h,t=this.a.H.f,a=this.a.H.l,e=this.a.H.g,c=this.a.H.o,g=this.ed,n=k?this.ns:this.Gb,m=k?this.os:this.Vu,r=g+g;var u=g+1;var x=this.W,y=this.type,v=this.a.width,B=0,b=this.a.height,l=0,
f=v,q=B,w=b,z=l,A=this.a.Z,C=this.a.za;var D=this.na;var E=this.a.ua;var F=this.a.ra;var G=0,H=0,I=0,O=0,K=0,M=0,J=0,X,R=this.a.h+this.a.J-1,U=this.a.J,Y=0<this.a.J?1:0;-1!==this.a.sa&&(G=Math.round((this.a.width-E)/2),I=Math.round((this.a.height-F)/2),H=G+E-1,O=I+F-1,1===n[0]&&(t=G+g,a=H-g,c=O-g,e=I+g),1===this.a.sa&&(t-G<g&&(a=H),H-a<g&&(t=G),O-c<g&&(e=I),e-I<g&&(c=O),this.fb(G,I,H,O)),t-G<g&&(t=G+g),H-a<g&&(a=H-g),O-c<g&&(c=O-g),e-I<g&&(e=I+g),y===this.P.Pf?(t-=r,e-=r,a+=r,c+=r):y===this.P.sg&&
6<g&&(t-=g,e-=g,a+=g,c+=g));if(y===this.P.Pf){t-=r;e-=r;a+=r;c+=r;for(h=e;h<e+r;h+=1)x[h].fill(0,t,a+1);for(h=e+r;h<=c;h+=1)x[h].fill(0,t,t+r);for(h=e+r;h<=c;h+=1){var da=x[h-1];var V=x[h];E=A[h];F=0;for(p=t+r;p<=a;p+=1)E[p]===R&&(F+=1),V[p]=da[p]+F}t+=g;e+=g;a-=g;c-=g;-1!==this.a.sa&&(t+=r,e+=r,a-=r,c-=r);r=A[e][t];F=x[e+g][t+g];r<=U?1===n[F]?(r=R,M+=1):r>Y&&--r:r===R?0===m[F]&&(--r,J+=1):r>Y&&--r;A[e][t]=r;0<r&&(B=v=t,l=b=e,C[e>>4][t>>8]|=1<<(~(t>>4)&15),r===R&&(K+=1,q=f=t,z=w=e));var ka=X=!1;V=
x[e+g];da=x[e+g];E=A[e];D=C[e>>4];for(p=t+1;p<=a;p+=1)r=E[p],F=V[p+g]-da[p-u],r<=U?1===n[F]?(r=R,M+=1):r>Y&&--r:r===R?0===m[F]&&(--r,J+=1):r>Y&&--r,E[p]=r,0<r&&(p<v&&(v=p),p>B&&(B=p),X=!0,D[p>>8]|=1<<(~(p>>4)&15),r===R&&(K+=1,p<f&&(f=p),p>q&&(q=p),ka=!0));X&&(l=b=e);ka&&(z=w=e);D=E=!1;da=t+g;for(h=e+1;h<=c;h+=1)r=A[h][t],F=x[h+g][da]-x[h-u][da],r<=U?1===n[F]?(r=R,M+=1):r>Y&&--r:r===R?0===m[F]&&(--r,J+=1):r>Y&&--r,A[h][t]=r,0<r&&(h<b&&(b=h),h>l&&(l=h),E=!0,C[h>>4][t>>8]|=1<<(~(t>>4)&15),r===R&&(K+=
1,h<w&&(w=h),h>z&&(z=h),D=!0));E&&(t<v&&(v=t),t>B&&(B=t));D&&(t<f&&(f=t),t>q&&(q=t));for(h=e+1;h<=c;h+=1){E=A[h];D=C[h>>4];V=x[h+g];var ma=x[h-u];ka=X=!1;da=t+1+g;var ea=t+1-u;for(p=t+1;p<=a;p+=1)r=E[p],F=V[da]+ma[ea]-V[ea]-ma[da],r<=U?1===n[F]?(r=R,M+=1):r>Y&&--r:r===R?0===m[F]&&(--r,J+=1):r>Y&&--r,E[p]=r,0<r&&(D[p>>8]|=1<<(~(p>>4)&15),p<v&&(v=p),p>B&&(B=p),X=!0,r===R&&(K+=1,ka=!0,p<f&&(f=p),p>q&&(q=p))),da+=1,ea+=1;X&&(h<b&&(b=h),h>l&&(l=h));ka&&(h<w&&(w=h),h>z&&(z=h))}this.a.ma=K;this.a.Gb=M;this.a.Xb=
J;0<K?(this.a.H.f=v,this.a.H.l=B,this.a.H.g=b,this.a.H.o=l,this.a.Ea.f=f,this.a.Ea.l=q,this.a.Ea.g=w,this.a.Ea.o=z):this.a.aa=0}else if(y===this.P.sg&&6<g){t-=g;a+=g;e-=g;c+=g;-1===this.a.sa&&(t-=g,a+=g,e-=g,c+=g);this.fa=c-e+1;this.K=a-t+1;this.A=this.fa+(this.K-1)/2|0;this.Aa=this.K/2|0;for(u=0;u<this.A;u+=1)for(V=x[u],E=A[u+e],h=u-1,F=h-1,da=0;da<=this.K;da+=1)V[da]=this.j(h,da-1)+this.j(h,da+1)-this.j(F,da),u<this.fa&&E[da+t]===R&&(V[da]+=1);for(u=g;u<=this.fa-g;u+=1){h=u-1;ea=u+g;x=ea-1;p=u-
g-1;V=p-1;ma=u+e;E=A[ma];D=C[ma>>4];ka=X=!1;for(da=g;da<=this.K-g;da+=1){F=da+g;r=da-g;F=this.j(ea,da)-this.j(h,F+1)-this.j(h,r-1)+this.j(V,da)+this.j(x,da)-this.j(h,F)-this.j(h,r)+this.j(p,da);var aa=da+t;r=E[aa];r<=U?1===n[F]?(r=R,M+=1):r>Y&&--r:r===R?0===m[F]&&(--r,J+=1):r>Y&&--r;E[aa]=r;0<r&&(D[aa>>8]|=1<<(~(aa>>4)&15),aa<v&&(v=aa),aa>B&&(B=aa),X=!0,r===R&&(K+=1,ka=!0,aa<f&&(f=aa),aa>q&&(q=aa)))}X&&(ma<b&&(b=ma),ma>l&&(l=ma));ka&&(ma<w&&(w=ma),ma>z&&(z=ma))}this.a.ma=K;this.a.Gb=M;this.a.Xb=J;
0<K?(this.a.H.f=v,this.a.H.l=B,this.a.H.g=b,this.a.H.o=l,this.a.Ea.f=f,this.a.Ea.l=q,this.a.Ea.g=w,this.a.Ea.o=z):this.a.aa=0}else for(h=e-g;h<=c+g;h+=1){V=x[h];p=t-g;F=0;for(da=-g;da<=g;da+=1)for(n=D[da+g],E=A[h+da],u=-n;u<=n;u+=1)E[p+u]===R&&(F+=1);V[p]=F;for(p+=1;p<=a+g;){for(da=-g;da<=g;da+=1)n=D[da+g],E=A[h+da],E[p-n-1]===R&&--F,E[p+n]===R&&(F+=1);V[p]=F;p+=1}}-1!==this.a.sa&&(t<G+g&&(t=G+g),a>H-g&&(a=H-g),e<I+g&&(e=I+g),c>O-g&&(c=O-g));y===this.P.Pf||y===this.P.sg&&6<g||this.ab(t,e,a,c,k);1===
this.a.sa&&this.La(G,I,H,O)};d.prototype.$I=function(k){var p=!1;this.oc&&1===(k&1)&&(p=!0);2===this.Dn?this.rb(p):this.Fb(p)};window.HROT=d}(),function(){function d(a,e,c,g,n,m,r,u){this.name=a;this.nk=!1;this.dn=10;this.fh=this.eh=0;this.Xa=g;this.kb=c;this.Za=e;this.Yf=n;this.Ob=m;this.xc=r;this.hi=u;this.Al=!1;-1===this.Ob.U.red&&(this.Al=!0);128<=(this.Xa.red+this.Xa.green+this.Xa.blue)/3?(this.eh=ViewConstants.JC,this.fh=ViewConstants.IC):(this.eh=ViewConstants.mt,this.fh=ViewConstants.lt)}
function k(a,e,c){this.red=a;this.green=e;this.blue=c}function p(a,e){this.T=a;this.U=e}function h(a,e,c,g,n,m){this.P=m;this.m=new Allocator;this.lj=!0;this.Ng=!1;this.fs=this.an=this.lq=this.fn=this.bk=this.ti=this.si=this.kd=null;this.Qb=new Random;this.Qb.Ye(Date.now().toString());this.Y=!1;this.Sf=8;this.qe=2;this.$h=0;this.Hk=-1;this.Xd=this.Mj=this.Lj=null;this.pg=[];this.Jd=null;this.Fk=this.Ti=this.og=0;this.wf=this.lc=this.kj=this.fj=this.oi=this.Nh=this.rf=this.Id=null;this.Na=this.ig=
0;this.ek=null;this.bj=!0;this.li=new BoundingBox(0,0,0,0);this.$j=this.uf=-1;this.Et=this.yw=0;this.zw=!1;this.gl=!0;this.xi=this.sh=this.oc=this.Tc=this.Sc=!1;this.Sq=0;this.dl=[];this.cl=[];this.el=[];this.Yk=[];this.ii=[];this.Xf=this.rc="";this.dc=255;this.ec=null;this.$g=this.m.I(Uint8,65536,"Life.bitCounts16");this.xx();this.nh=this.jh=this.Dc=null;this.Nb=this.Pb=this.jd=this.vh=0;this.Jc=1;this.aa=0;this.ra=this.ua=this.sa=-1;this.Km=this.Jm=0;this.tw=this.ws=!1;this.vr=ViewConstants.nC;
this.Ne=[];this.Oe=[];this.Ne[0]=this.m.I(Int32,t.Cu,"Life.boundaryX0");this.Oe[0]=this.m.I(Int32,t.Cu,"Life.boundaryY0");this.gj=0;this.ll=4294967295;this.ml=4286611584;this.Tz="rgb(0,255,0)";this.By="rgb(255,0,0)";this.ls="rgb(255,255,0)";this.D=this.ia=this.$a=!1;this.Nd=-1;this.$=!1;this.Ld=this.P.zm;this.R=!1;this.te=!0;this.De=this.cu=!1;this.h=-1;this.If=this.Fc=this.pb=!1;this.J=0;this.yg=this.ya=!1;this.qg=new SnapshotManager(this.m,this.$g);this.pn=t.Fr;this.nd=this.Ub=this.Pk=!1;this.hs=
this.Vd=this.xf=this.Ea=this.H=null;this.title="LifeViewer";this.width=g;this.height=n;this.Nr=2;this.Or=16;this.qa=this.width>>4;this.va=this.height>>4;this.iG=this.qg.Iw((this.qa-1>>4)+1,this.va,!0,0,!1);this.C=e;this.B=c;this.Xb=this.Gb=this.ma=0;this.sb=t.sb;this.ee=t.ee;this.Td=t.Td;this.gk=t.gk;this.Jt=this.Xa=0;this.M=1;this.pf=-1;this.Mm=1;this.ql=30;this.angle=this.v=this.Ji=this.Hf=0;this.zoom=6;this.pa=this.wa=0;this.le=.1;this.eb=0;this.ja=1;this.ge=this.fe=0;this.j=.1;this.jg=littleEndian;
this.bb=[];this.Cg=this.Pe=this.be=this.Mf=this.xe=this.zd=this.Cc=this.wh=this.lf=this.Qe=this.ih=this.Se=this.Me=this.gd=null;this.af=-1;this.hd=this.Sd=this.al=null;this.context=a;this.yb=this.vb=0;this.da=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.tileGrid");this.oa=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.nextTileGrid");this.Zc=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.m,"Life.grid");this.lg=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.m,"Life.nextGrid");
this.ob=Array.zc(Uint16,this.Zc,"Life.grid16");this.cc=Array.zc(Uint16,this.lg,"Life.nextGrid16");this.Zk=this.m.I(Uint32,this.C,"Life.blankPixelRow");this.Ve=this.m.I(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Cp=this.m.I(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.md=this.m.I(Uint16,this.qa>>4,"Life.blankTileRow");this.ld=this.m.I(Uint8,this.width,"Life.blankColourRow");this.Z=Array.ea(Uint8,this.height,this.width,this.Xa,this.m,"Life.colourGrid");this.Ra=null;this.W=Array.ea(Uint8,
this.height,this.width,this.Xa,this.m,"Life.smallColourGrid");this.dk=Array.zc(Uint16,this.Z,"Life.colourGrid16");this.La=Array.zc(Uint32,this.Z,"Life.colourGrid32");this.hg=this.ni=this.fb=this.hc=null;this.Ga=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.colourTileGrid");this.za=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.colourTileHistoryGrid");this.Tg=this.Ke=this.we=this.rb=null;this.Sa=this.m.I(Uint8,256,"Life.redChannel");this.Qa=this.m.I(Uint8,256,"Life.greenChannel");
this.Pa=this.m.I(Uint8,256,"Life.blueChannel");this.Ee=this.m.I(Uint32,256,"Life.pixelColours");this.ve=null;this.nv=0;this.de=this.yc=this.sf=this.ce=this.mi=this.qh=this.Nf=this.oh=null;this.zs=this.m.I(Uint16,2*(this.ee+1)<<8,"Life.colourLookup");this.Lt=this.m.I(Uint8,2048,"Life.colourReset");this.Ud=ViewConstants.mt;this.ki=-1;this.gg=ViewConstants.lt;this.ej=-1;this.vf=10;this.pk=!0;this.wH=10;this.fa=this.m.I(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.Fb=this.m.I(Uint16,(this.height-
1>>4)+1,"Life.rowOccupied16");this.ga=8192;this.oI=[0,0,48];this.nI=[255,255,255];this.mI=[255,255,255];this.pI=[0,255,0];this.qI=[255,0,0];this.Fi=[0,0,48];this.Ei=[255,255,255];this.Di=[255,255,255];this.Gi=[0,255,0];this.Hi=[255,0,0];this.Wb=new HROT(this.m,this,m);this.coords=this.m.I(Float32,1,"Life.coords");this.Aa=this.m.I(Uint32,1,"Life.cellColours");this.ab=0}var t={ly:0,ny:1,my:2,VI:3,El:5E4,pl:0,nf:1,mf:2,SI:0,iy:0,hy:1,CD:2,DD:3,ED:4,jy:5,ky:6,TI:6,LI:20,UI:"RotCCW RotCW FlipX FlipY FlipXY RotCWFlipX RotCWFlipY".split(" "),
tk:1048576,PB:"Buffer Full",co:[[0,0,0],[255,0,0],[0,255,0],[128,128,0],[16,16,255],[128,0,128],[0,128,128],[96,96,96],[255,255,0],[255,128,0],[128,255,0],[170,170,0],[144,144,144],[170,85,85],[85,128,43],[128,128,64],[0,0,0],[255,0,0],[0,255,0],[128,128,0]],jI:[[1,1,1],[1,0,0],[0,1,0]],iI:[[1,1,1],[0,0,1],[0,1,0]],lI:[[0,1,0],[1,0,0],[1,1,1]],kI:[[0,1,0],[0,0,1],[1,1,1]],sc:4096,Hh:16,Cu:4096,tI:512,pt:262144,Gl:65536,en:65536,LC:8192,KC:131072,Fr:64,oD:262144,Ij:12,sb:64,ee:127,Td:63,gk:1,zb:1,
Wa:2,jb:4,xb:8,Jb:16,ib:32,Hb:64,Ib:128};d.prototype.set=function(a){this.nk=a.nk;this.dn=a.dn;this.eh=a.eh;this.fh=a.fh;this.Xa=a.Xa;this.kb=a.kb;this.Za=a.Za;this.Yf=a.Yf;this.Ob=a.EL;this.xc=a.xc;this.hi=a.hi;this.Ob=a.Ob;this.Al=a.Al};d.prototype.Gn=function(a,e,c){this.nk=!0;this.dn=a;this.eh=e.red<<16|e.green<<8|e.blue;this.fh=c.red<<16|c.green<<8|c.blue};d.prototype.AK=function(a,e){this.eh=-1!==a?a:128<=(this.Xa.red+this.Xa.green+this.Xa.blue)/3?ViewConstants.JC:ViewConstants.mt;this.fh=-1!==
e?e:128<=(this.Xa.red+this.Xa.green+this.Xa.blue)/3?ViewConstants.IC:ViewConstants.lt};d.prototype.sI=function(a){var e=!0;a||this.kb.T.Mx(this.kb.U)&&this.Za.T.Mx(this.Za.U)&&this.Za.T.Mx(this.Xa)&&(e=!1);return e};k.prototype.set=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue};k.prototype.Mx=function(a){var e=!1;this.red===a.red&&this.green===a.green&&this.blue===a.blue&&(e=!0);return e};p.prototype.set=function(a){this.T.set(a.T);this.U.set(a.U)};h.prototype.Jx=function(){var a=
ViewConstants.Hc,e=this.C+a+a<<1;a=this.B+a+a<<1;this.Ng?(null===this.kd&&(window.j?this.kd=new OffscreenCanvas(e,a):this.kd=document.createElement("canvas")),this.kd.width=e,this.kd.height=a,this.si=this.kd.getContext("2d",{alpha:!1}),this.ti=this.si.getImageData(0,0,this.kd.width,this.kd.height),this.bk=new Uint32Array(this.ti.data.buffer)):this.bk=this.ti=this.si=null};h.prototype.OC=function(){var a,e,c,g=this.C,n=20*this.B,m=-n,r=this.Qb;this.fn=new Uint16Array(t.El);this.lq=new Float32Array(t.El);
this.an=new Float32Array(t.El);this.fs=new Uint32Array(t.El);var u=this.fn;var x=this.lq;var y=this.an;for(a=0;a<t.El;a+=1){u[a]=r.random()*g|0;for(e=c=0;10>e;e+=1)c+=r.random()*n;x[a]=-c/10;x[a]>m&&(m=x[a]);y[a]=r.random()/5+.8;if(a<t.El-4&&.2>r.random()){e=u[a];c=x[a];var v=y[a];a+=1;u[a]=e;x[a]=c-2;y[a]=v;a+=1;u[a]=e;x[a]=c+2;y[a]=v;1<e&&(a+=1,u[a]=e-2,x[a]=c,y[a]=v);e<g-2&&(a+=1,u[a]=e+2,x[a]=c,y[a]=v)}}for(a=0;a<t.El;a+=1)x[a]-=m};h.prototype.$d=function(){var a,e=0,c=this.C,g=this.B,n=this.Ee[0],
m=this.Sd,r=this.Qb,u=this.fn,x=this.lq,y=this.an,v=this.fs;for(a=0;a<t.El;a+=1){var B=u[a];var b=x[a];var l=y[a];var f=B;var q=b;if(0<=b&&b<g-1)if((b|0)==(b+l|0))q=b+l,m[(q|0)*c+f]=-1;else{if(m[(b+l|0)*c+B]===n)q=b+l;else{var w=r.random();if(.05>w){var z=1;.025>w&&(z=-1);0<=B+z&&B+z<c&&m[(b+l|0)*c+B+z]===n&&m[(b|0)*c+B+z]===n&&(f=B+z,q=b+l)}}m[(q|0)*c+f]=-1}else 0>b&&(q=b+l);q>=g-1&&(v[e]=a,e+=1);u[a]=f;x[a]=q}if(5<e)for(a=0;a<e;a+=1).25>r.random()&&(w=v[a],q=-(r.random()*g),f=r.random()*c|0,u[w]=
f,x[w]=q,l=y[w],a<e-4&&.2>r.random()&&(a+=1,w=v[a],u[w]=f,x[w]=q-2,y[w]=l,a+=1,w=v[a],u[w]=f,x[w]=q+2,y[w]=l,1<f&&(a+=1,w=v[a],u[w]=f-2,x[w]=q,y[w]=l),f<c-2&&(a+=1,w=v[a],u[w]=f+2,x[w]=q,y[w]=l)))};h.prototype.BJ=function(a){this.Id=a};h.prototype.At=function(a){this.Na=0;a?null===this.rf&&(this.rf=this.m.I(Int32,t.tk,"Life.hashList"),this.Nh=this.m.I(Uint32,t.tk,"Life.genList"),this.oi=this.m.I(Uint32,t.tk,"Life.popList"),this.fj=this.m.I(Uint32,t.tk,"Life.bornList"),this.kj=this.m.I(Uint32,t.tk,
"Life.diedList"),this.lc=this.m.I(Uint32,2*t.tk,"Life.boxList"),this.wf=this.m.I(Int32,t.tk,"Life.nextList"),this.ek=Array.ea(Uint8,this.height,this.width,t.pl,this.m,"Life.countList"),this.bj=!0,this.li.f=this.width,this.li.g=this.height,this.li.l=0,this.li.o=0,this.ig=this.$j=this.uf=-1,this.wf.fill(-1)):(this.ek=this.wf=this.lc=this.kj=this.fj=this.oi=this.Nh=this.rf=null,this.ig=this.$j=this.uf=-1)};h.prototype.sH=function(a,e,c){e="Spaceship ("+(e+","+c)+")c";1<a&&(e+="/"+a);return e};h.prototype.vw=
function(a,e){var c=31415962,g=a.f,n=a.g,m=a.l-g+1;a=a.o-n+1;var r=m-1,u=a-1,x=a,y=2>=this.h&&!this.Y,v,B,b=0,l=0,f=0,q=0,w=this.Z,z=t.sb;(this.D||this.Y)&&0!==(this.v&1)&&(w=this.Ra);if(e===t.iy||e===t.hy||e===t.jy||e===t.ky){var A=m;m=x;x=A}for(B=0;B<x;B+=1)for(v=0;v<m;v+=1){switch(e){case t.iy:b=f;l=u-q;break;case t.ED:b=r-v;l=u-B;break;case t.hy:b=r-f;l=q;break;case t.CD:b=r-v;l=B;break;case t.DD:b=v;l=u-B;break;case t.jy:b=f;l=q;break;case t.ky:b=r-f,l=u-q}if(y)w[l+n][b+g]>=z&&(c=1000003*c^B,
c=1000003*c^v);else if(A=w[l+n][b+g],A>this.J){A-=this.J;if(this.D)switch(e){case t.iy:A=A<<1&15|(A&8)>>3;break;case t.ED:A=A&12|A&3;break;case t.hy:A=A>>1&15|(A&1)<<3;break;case t.CD:A=A&5|(A&2)<<2|(A&8)>>2;break;case t.DD:A=A&10|(A&1)<<2|(A&4)>>2;break;case t.jy:A=(A&8)>>3|(A&4)>>1|(A&2)<<1|(A&1)<<3;break;case t.ky:A=(A&4)<<1|(A&8)>>1|(A&1)<<1|(A&2)>>1}c=1000003*c^B;c=1000003*c^v;c=1000003*c^A}q+=1;q===a&&(q=0,f+=1)}return c|0};h.prototype.Dt=function(a,e){for(var c,g=t.SI,n=-1,m;g<=t.TI&&-1===
n;){m=this.vw(a,g);if(e)for(c=this.ig;-1!==c&&-1===n;)m===this.rf[c]&&this.Nh[c]!==this.v?(n=c,e&&(this.$j=g)):c=this.wf[c];else m===this.Et&&(n=1);g+=1}return n};h.prototype.sw=function(a,e){var c=31415962,g=a.f,n=a.g,m=a.l,r=a.o,u,x=2>=this.h&&!this.Y,y=this.Z,v=this.ek,B=t.sb,b=this.li;(this.D||this.Y)&&0!==(this.v&1)&&(y=this.Ra);g<b.f&&(b.f=g);n<b.g&&(b.g=n);m>b.l&&(b.l=m);r>b.o&&(b.o=r);for(u=n;u<=r;u+=1){var l=u-n;var f=y[u];if(x)for(a=g;a<=m;a+=1)f[a]>=B&&(c=1000003*c^l,c=1000003*c^a-g);else for(a=
g;a<=m;a+=1){var q=f[a];q>this.J&&(q-=this.J,c=1000003*c^l,c=1000003*c^a-g,c=1000003*c^q)}}if(!e){for(u=b.g;u<=b.o;u+=1)if(f=y[u],m=v[u],x)if(this.bj)for(a=b.f;a<=b.l;a+=1)f[a]>=B&&(m[a]=t.nf);else for(a=b.f;a<=b.l;a+=1)f[a]>=B?m[a]===t.pl&&(m[a]=t.mf):m[a]===t.nf&&(m[a]=t.mf);else if(this.D)if(this.bj)for(a=b.f;a<=b.l;a+=1)q=f[a],q>this.J?q-=this.J:q=0,e=0,0!==(q&1)&&(e=t.nf),g=0,0!==(q&2)&&(g=t.nf),n=0,0!==(q&4)&&(n=t.nf),r=0,0!==(q&8)&&(r=t.nf),m[a]=e|g<<2|n<<4|r<<6;else for(a=b.f;a<=b.l;a+=1)r=
m[a],q=f[a],q>this.J?q-=this.J:q=0,e=r&3,0!==(q&1)?e===t.pl&&(e=t.mf):e===t.nf&&(e=t.mf),g=r>>2&3,0!==(q&2)?g===t.pl&&(g=t.mf):g===t.nf&&(g=t.mf),n=r>>4&3,0!==(q&4)?n===t.pl&&(n=t.mf):n===t.nf&&(n=t.mf),r=r>>6&3,0!==(q&8)?r===t.pl&&(r=t.mf):r===t.nf&&(r=t.mf),m[a]=e|g<<2|n<<4|r<<6;else for(a=b.f;a<=b.l;a+=1)this.bj?f[a]>this.J&&(m[a]=t.nf):f[a]>this.J?m[a]===t.pl&&(m[a]=t.mf):m[a]===t.nf&&(m[a]=t.mf);this.bj=!1}return c|0};h.prototype.dj=function(a,e){for(var c;0!==e;)c=e,e=a%e,a=c;return a};h.prototype.fw=
function(a,e){var c="Oblique";if(a>e){var g=a;a=e;e=g}g=this.dj(a,e);switch(a/g*10+e/g){case 12:c+=" Knightwise";break;case 13:c+=" Camelwise";break;case 14:c+=" Giraffewise";break;case 15:c+=" Ibiswise";break;case 16:c+=" Flamingowise";break;case 23:c+=" Zebrawise";break;case 34:c+=" Antelopewise"}return c};h.prototype.px=function(a,e,c,g,n,m,r,u){var x="",y=String(this.v-c),v="",B="",b=this.ma,l=b,f=16384,q=0,w=16384,z=0,A=this.Na,C=a,D=16384,E=0,F=0,G,H=G="",I=this.ek,O=0,K=0,M="",J=this.uf,X=
"",R="";0<c&&(y+=" and "+this.v);g=Math.abs(g);n=Math.abs(n);if(0<g||0<n){var U="Spaceship";0===g||0===n?B="0":(g>n?(B=g,v=n):(B=n,v=g),x=this.dj(B,v),B=String(B/x),1!==v/x&&(B+="/"+String(v/x)));if(g===n||0===g||0===n)if(v=g===n&&0!==g?"Diagonal":"Orthogonal",0===g&&(g=n),1<g)if(1===c)x=g+"c";else{x=this.dj(g,c);var Y=g/x;var da=c/x;1!==x?(x=1===Y?"c":Y+"c",1<da&&(x+="/"+da),x+=" | "+g+"c/"+c):x=g+"c/"+c}else x="c",1<c&&(x+="/"+c);else x=this.dj(g,this.dj(n,c)),Y=g/x,v=n/x,da=c/x,1!==x?(x=Y>v?"("+
Y+","+v+")c":"("+v+","+Y+")c",1<da&&(x+="/"+da),x=g>n?x+(" | ("+g+","+n+")c"):x+(" | ("+n+","+g+")c")):x=g>n?"("+g+","+n+")c":"("+n+","+g+")c",1<c&&(x+="/"+c),v=this.fw(g,n)}else U=1===c||this.oc&&2===c?"Still Life":"Oscillator";for(n=0;a<A;)g=this.oi[a],n+=g,g<b&&(b=g),g>l&&(l=g),a+=1;b=b===l?String(b):String(b)+" | "+String(l)+" | "+String((n/(A-C)).toFixed(1));a=C;if("Spaceship"===U)for(;a<A;)g=this.lc[a<<1],l=g>>16,n=g&65535,l>m&&(m=l),n>r&&(r=n),a+=1;else{for(;a<A;)g=this.lc[a<<1],l=g>>16,n=
g&65535,g=this.lc[(a<<1)+1],m=g>>16,r=g&65535,m<f&&(f=m),r<w&&(w=r),m+l-1>q&&(q=m+l-1),r+n-1>z&&(z=r+n-1),a+=1;m=q-f+1;r=z-w+1}m=String(m+" x "+r+" = "+m*r);if(0<c){G=0;for(a=C;a<A;)F=this.fj[a]+this.kj[a],F<D&&(D=F),F>E&&(E=F),G+=F,a+=1;D===E?(F=D,G=String(F.toFixed(1))):(F=G/(A-C),G=String(D.toFixed(1)+" | "+E.toFixed(1)+" | "+F.toFixed(1)))}if("Oscillator"===U&&!u){for(C=w;C<=z;C+=1)if(a=I[C],this.D)for(A=f;A<=q;A+=1)w=a[A],(w&3)===t.mf?O+=1:(w&3)===t.nf&&(K+=1),w>>=2,(w&3)===t.mf?O+=1:(w&3)===
t.nf&&(K+=1),w>>=2,(w&3)===t.mf?O+=1:(w&3)===t.nf&&(K+=1),w>>=2,(w&3)===t.mf?O+=1:(w&3)===t.nf&&(K+=1);else for(A=f;A<=q;A+=1)a[A]===t.mf?O+=1:a[A]===t.nf&&(K+=1);H=String((O/(O+K)).toFixed(2))}"Oscillator"!==U||u||(R=String((F/(O+K)).toFixed(2)+" | "+(F/O).toFixed(2)));u||(M=String(O+" | "+K+" | "+(O+K)));u||this.R||this.$||(X=0>=J?String(c):0===c%J?String(J)+" ("+t.UI[this.$j]+")":String(c));return[e,U,v,x,m,y,b,B,c,G,H,X,M,R]};h.prototype.gJ=function(a){var e=this.ya?this.Ea:this.H,c=e.f,g=e.g,
n=e.l-c+1,m=e.o-g+1,r=n<<16|m,u=c<<16|g,x=!1,y,v=0,B=0;var b=[];if(this.oc&&0!==(this.v&1))return b;if(this.Na<t.tk)if(0===this.ma)b=["Empty Pattern","Empty"];else{var l=this.sw(e,a);var f=!1;var q=this.ig;for(y=-1;-1!==q&&!f;){var w=this.rf[q];l>w?(y=q,q=this.wf[q]):l<this.rf[q]?f=!0:l===this.rf[q]&&(w=q<<1,this.ma===this.oi[q]&&r===this.lc[w]?(b=this.v-this.Nh[q],this.lc[w+1]===u?1===b||(this.oc||this.ia)&&2===b?(w="Still Life",b=1):w="Oscillator period "+b:(v=c-(this.lc[w+1]>>16),B=g-(this.lc[w+
1]&65535),w=this.sH(b,v,B)),x=f=!0,b=this.px(q,w,b,v,B,n,m,a)):(y=q,q=this.wf[q]))}x||(this.rf[this.Na]=l,this.Nh[this.Na]=this.v,this.oi[this.Na]=this.ma,this.fj[this.Na]=this.Gb,this.kj[this.Na]=this.Xb,this.lc[this.Na<<1]=r,this.lc[(this.Na<<1)+1]=c<<16|g,this.wf[this.Na]=-1,-1===this.ig?this.ig=0:-1===y?this.ig=this.Na:this.wf[y]=this.Na,-1!==this.uf||a||this.R||this.$?-1===this.uf||this.zw||this.v!==this.yw||(a=this.Dt(e,!1),-1!==a?this.zw=!0:this.uf=-2):(a=this.Dt(e,!0),-1!==a&&(this.uf=this.v-
this.Nh[a],this.yw=this.v+this.uf,this.Et=l)),this.Na+=1,this.Na===t.tk&&(this.Na=0,b=[t.PB]))}return b};h.prototype.dw=function(a,e,c,g,n,m,r){var u=this.C/2,x=this.B/2,y=0,v=this.width/2-.25,B=this.height/2,b=this.coords,l=this.Aa,f=this.height/2-this.pa-this.Nb+.5,q=this.width/2-this.wa-this.Pb+.5,w=this.zoom*this.Jc;if(a>c){var z=c;c=a;a=z}e>g&&(z=g,g=e,e=z);a+=n;c+=n;e+=m;g+=m;l.length!==t.sc&&(this.coords=this.m.I(Float32,12*t.sc,"Life.coords"),this.Aa=this.m.I(Uint32,t.sc,"Life.cellColours"),
b=this.coords,l=this.Aa);this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(m=n=0;e<=g;e+=1)if(z=(e-B+f)*w+x,z>=-w&&z<this.B+w){var A=e-B;var C=q-v;for(z=a;z<=c;z+=1){if(0<r[y]){var D=(z+C)*w+u;if(D>=-w&&D<this.C+2*w){l[n]=(0<<t.Hh)+m;D=z-v;var E=z+e&1;b[m]=D-1;b[m+1]=A+E;b[m+2]=D+1;b[m+3]=A+E;b[m+4]=D;b[m+5]=A+1-E;m+=6;n+=1;n===t.sc&&(this.ab=n,this.ae(!0,!1,!0),m=n=0)}}y+=1}}else y+=c-a+1;this.ab=n;0<n&&this.ae(!0,!1,!0)};h.prototype.Ju=function(a,e,c,g,n,m){var r=
this.C/2,u=this.B/2,x=this.width/2-.25,y=this.height/2,v=this.coords,B=this.Aa,b=this.height/2-this.pa-this.Nb+.5,l=this.width/2-this.wa-this.Pb+.5,f=this.zoom*this.Jc;if(a>c){var q=c;c=a;a=q}e>g&&(q=g,g=e,e=q);a+=n;c+=n;e+=m;g+=m;B.length!==t.sc&&(this.coords=this.m.I(Float32,12*t.sc,"Life.coords"),this.Aa=this.m.I(Uint32,t.sc,"Life.cellColours"),v=this.coords,B=this.Aa);this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(m=n=0;e<=g;e+=1)if(q=(e-y+b)*f+u,q>=-f&&
q<this.B+f){var w=e-y;var z=l-x;for(q=a;q<=c;q+=1){var A=(q+z)*f+r;if(A>=-f&&A<this.C+2*f){B[n]=(0<<t.Hh)+m;A=q-x;var C=q+e&1;v[m]=A-1;v[m+1]=w+C;v[m+2]=A+1;v[m+3]=w+C;v[m+4]=A;v[m+5]=w+1-C;m+=6;n+=1;n===t.sc&&(this.ab=n,this.ae(!0,!1,!0),m=n=0)}}}this.ab=n;0<n&&this.ae(!0,!1,!0)};h.prototype.NH=function(){var a=this.Z,e=this.hc,c=null,g=this.Vd,n=this.C/2,m=this.B/2,r,u,x=this.width/2-.25,y=this.height/2,v=ViewConstants.Ja[3]+128,B=ViewConstants.Ja[4]+128,b=ViewConstants.Ja[5]+128,l=ViewConstants.Ja[6]+
128,f=this.sb,q=this.coords,w=this.Aa,z=g.f,A=g.l;var C=g.g;var D=g.o,E=this.height/2-this.pa-this.Nb+.5,F=this.width/2-this.wa-this.Pb+.5,G=this.zoom*this.Jc,H=!this.Ub&&!this.nd;this.Y&&0!==(this.v&1)&&(a=this.Ra);w.length!==t.sc&&(this.coords=this.m.I(Float32,12*t.sc,"Life.coords"),this.Aa=this.m.I(Uint32,t.sc,"Life.cellColours"),q=this.coords,w=this.Aa);-1!==this.sa&&(0!==this.ua?(z=Math.round((this.width-this.ua)/2)-1,A=z+this.ua-1+2):(z=0,A=this.width-1),0!==this.ra?(C=Math.round((this.height-
this.ra)/2)-1,D=C+this.ra-1+2):(C=0,D=this.height-1));this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(u=g=0;C<=D;C+=1){var I=(C-y+E)*G+m;if(I>=-G&&I<this.B+G){I=a[C];e&&(c=e[C]);var O=C-y;var K=F-x;for(r=z;r<=A;r+=1){var M=(r+K)*G+n;if(M>=-G&&M<this.C+2*G){M=I[r];if(c){var J=c[r];if(J===B||J===l)M>f?M=v:M=J;else if(J===v||J===b)M<f?M=B:M=J}0<M&&(w[g]=(M<<t.Hh)+u,M=r-x,J=r+C&1,q[u]=M-1,q[u+1]=O+J,q[u+2]=M+1,q[u+3]=O+J,q[u+4]=M,q[u+5]=O+1-J,u+=6,g+=1);g===t.sc&&
(this.ab=g,this.ae(!0,H,!1),this.nd&&!this.Ub&&(this.context.strokeStyle="rgb("+this.Sa[0]+","+this.Pa[0]+","+this.Qa[0]+")",this.ae(!1,!1,!1)),u=g=0)}}}}this.ab=g;0<g&&(this.ae(!0,H,!1),this.nd&&!this.Ub&&(this.context.strokeStyle="rgb("+this.Sa[0]+","+this.Pa[0]+","+this.Qa[0]+")",this.ae(!1,!1,!1)),u=0);if(this.Ub){this.context.strokeStyle="rgb("+(this.Ud>>16)+","+(this.Ud>>8&255)+","+(this.Ud&255)+")";this.context.lineWidth=1;D=m/G-E+y|0;g=0;for(C=-m/G-E+y|0;C<=D;C+=1)if(I=(C-y+E)*G+m,I>=-G&&
I<this.B+G)for(O=C-y,K=F-x,z=-n/G-K-G|0,A=n/G-K+G|0,r=z;r<=A;r+=1)M=(r+K)*G+n,M>=-G&&M<this.C+G&&(M=r-x,J=r+C&1,q[u]=M-1,q[u+1]=O+J,q[u+2]=M+1,q[u+3]=O+J,q[u+4]=M,q[u+5]=O+1-J,u+=6,g+=1),g===t.sc&&(this.ab=g,this.ae(!1,!1,!1),u=g=0);this.ab=g;0<g&&this.ae(!1,!1,!1)}};h.prototype.ae=function(a,e,c){var g,n=this.context,m=this.width/2-this.wa-this.Pb,r=this.height/2-this.pa-this.Nb,u=this.zoom*this.Jc,x=this.zoom*this.Jc*ViewConstants.Xi,y=this.C/2,v=this.B/2,B=0,b=0,l=-1,f=this.coords,q=this.ab,w=
this.Aa,z=(1<<t.Hh)-1;if(a&&!c&&w.sort){b=(t.sc<<t.Hh)+256;for(g=q;g<t.sc;g+=1)w[g]=b;w.sort()}n.beginPath();a||(l=b=B=0);for(g=0;g<q;g+=1){a&&(b=w[g],B=b&z,b>>=t.Hh);var A=f[B];var C=f[B+1];B+=2;var D=(C+r)*x+v;var E=(A+m)*u+y;var F=(f[B+1]-C)*x;var G=(f[B]-A)*u;B+=2;b!==l&&(l=b,0<g&&(a?(e&&n.stroke(),n.fill()):n.stroke(),n.beginPath()),a&&!c&&(n.fillStyle=this.ii[b],e&&(n.strokeStyle=this.ii[b])));n.moveTo(E|0,D|0);n.lineTo(G+E|0,F+D|0);n.lineTo(G+E|0,D|0);F=(f[B+1]-C)*x;G=(f[B]-A)*u;n.lineTo(G+
E|0,F+D|0);B+=2}a?(e&&n.stroke(),n.fill()):n.stroke()};h.prototype.cw=function(a,e,c,g,n,m,r){var u=0,x=this.width/2-.25,y=this.height/2,v=Math.PI/3,B=.5/Math.cos(v/2)*1.16,b=ViewConstants.Xi/4/Math.cos(v/2)*1.16,l=[],f=[],q=this.coords,w=this.Aa,z=this.C/2,A=this.B/2,C=this.width/2-this.wa-this.Pb,D=this.height/2-this.pa-this.Nb,E=this.ja;C=C+D/2+-(this.height>>2)+.5;D+=.5;if(a>c){var F=c;c=a;a=F}e>g&&(F=g,g=e,e=F);a+=n;c+=n;e+=m;g+=m;w.length!==t.sc&&(this.coords=this.m.I(Float32,12*t.sc,"Life.coords"),
this.Aa=this.m.I(Uint32,t.sc,"Life.cellColours"),q=this.coords,w=this.Aa);m=v/2;for(n=0;5>=n;n+=1)l[n]=Math.cos(m)*b,f[n]=Math.sin(m)*B,l[n]+=f[n]/2,m+=v;v=l[0];B=f[0];b=l[1];F=f[1];var G=l[2];var H=f[2];var I=l[3];var O=f[3];var K=l[4];var M=f[4];l=l[5];f=f[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(m=n=0;e<=g;e+=1){var J=e-y;var X=(J+D)*E+A;if(X>=-E&&X<this.B+E)for(X=a;X<=c;X+=1){if(0<r[u]){var R=X-x;var U=(R+C-(J+D)/2)*E+z;U>=-E&&U<this.C+E&&(w[n]=
(0<<t.Hh)+m,q[m]=v+R,q[m+1]=B+J,q[m+2]=b+R,q[m+3]=F+J,q[m+4]=G+R,q[m+5]=H+J,q[m+6]=I+R,q[m+7]=O+J,q[m+8]=K+R,q[m+9]=M+J,q[m+10]=l+R,q[m+11]=f+J,m+=12,n+=1,n===t.sc&&(this.ab=n,this.Qd(!0,!1,!1,!0),m=n=0))}u+=1}else u+=c-a+1}this.ab=n;0<n&&this.Qd(!0,!1,!1,!0)};h.prototype.Au=function(a,e,c,g,n,m){var r=this.width/2-.25,u=this.height/2,x=Math.PI/3,y=.5/Math.cos(x/2)*1.16,v=ViewConstants.Xi/4/Math.cos(x/2)*1.16,B=[],b=[],l=this.coords,f=this.Aa,q=this.C/2,w=this.B/2,z=this.width/2-this.wa-this.Pb,A=
this.height/2-this.pa-this.Nb,C=this.ja;z=z+A/2+-(this.height>>2)+.5;A+=.5;if(a>c){var D=c;c=a;a=D}e>g&&(D=g,g=e,e=D);a+=n;c+=n;e+=m;g+=m;f.length!==t.sc&&(this.coords=this.m.I(Float32,12*t.sc,"Life.coords"),this.Aa=this.m.I(Uint32,t.sc,"Life.cellColours"),l=this.coords,f=this.Aa);m=x/2;for(n=0;5>=n;n+=1)B[n]=Math.cos(m)*v,b[n]=Math.sin(m)*y,B[n]+=b[n]/2,m+=x;x=B[0];y=b[0];v=B[1];D=b[1];var E=B[2];var F=b[2];var G=B[3];var H=b[3];var I=B[4];var O=b[4];B=B[5];b=b[5];this.context.lineWidth=1;this.context.lineCap=
"round";this.context.lineJoin="round";for(m=n=0;e<=g;e+=1){var K=e-u;var M=(K+A)*C+w;if(M>=-C&&M<this.B+C)for(M=a;M<=c;M+=1){var J=M-r;var X=(J+z-(K+A)/2)*C+q;X>=-C&&X<this.C+C&&(f[n]=(0<<t.Hh)+m,l[m]=x+J,l[m+1]=y+K,l[m+2]=v+J,l[m+3]=D+K,l[m+4]=E+J,l[m+5]=F+K,l[m+6]=G+J,l[m+7]=H+K,l[m+8]=I+J,l[m+9]=O+K,l[m+10]=B+J,l[m+11]=b+K,m+=12,n+=1,n===t.sc&&(this.ab=n,this.Qd(!0,!1,!1,!0),m=n=0))}}this.ab=n;0<n&&this.Qd(!0,!1,!1,!0)};h.prototype.JH=function(){var a=this.Z,e=this.hc,c=null,g=this.Vd,n=this.C/
2,m=this.B/2,r,u=this.width/2-.25,x=this.height/2,y=Math.PI/3,v=.5/Math.cos(y/2)*1.16,B=ViewConstants.Xi/4/Math.cos(y/2)*1.16,b=[],l=[],f=ViewConstants.Ja[3]+128,q=ViewConstants.Ja[4]+128,w=ViewConstants.Ja[5]+128,z=ViewConstants.Ja[6]+128,A=this.sb,C=this.coords,D=this.Aa,E=g.f,F=g.l;var G=g.g;var H=g.o,I=this.height/2-this.pa-this.Nb+.5,O=this.width/2-this.wa-this.Pb+.5-(this.height>>2)+I/2,K=this.zoom*this.Jc,M=!this.Ub&&!this.nd;this.Y&&0!==(this.v&1)&&(a=this.Ra);D.length!==t.sc&&(this.coords=
this.m.I(Float32,12*t.sc,"Life.coords"),this.Aa=this.m.I(Uint32,t.sc,"Life.cellColours"),C=this.coords,D=this.Aa);-1!==this.sa&&(0!==this.ua?(E=Math.round((this.width-this.ua)/2)-1,F=E+this.ua-1+2):(E=0,F=this.width-1),0!==this.ra?(G=Math.round((this.height-this.ra)/2)-1,H=G+this.ra-1+2):(G=0,H=this.height-1));var J=y/2;for(g=0;5>=g;g+=1)b[g]=Math.cos(J)*B,l[g]=Math.sin(J)*v,b[g]+=l[g]/2,J+=y;y=b[0];v=l[0];B=b[1];var X=l[1];var R=b[2];var U=l[2];var Y=b[3];var da=l[3];var V=b[4];var ka=l[4];b=b[5];
l=l[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(J=g=0;G<=H;G+=1){var ma=(G+I-x)*K+m;if(ma>=-K&&ma<this.B+K){ma=a[G];e&&(c=e[G]);var ea=G-x;var aa=O-u-(ea+I)/2;for(r=E;r<=F;r+=1){var ca=(r+aa)*K+n;if(ca>=-K&&ca<this.C+K){ca=ma[r];if(c){var ba=c[r];if(ba===q||ba===z)ca>A?ca=f:ca=ba;else if(ba===f||ba===w)ca<A?ca=q:ca=ba}0<ca&&(D[g]=(ca<<t.Hh)+J,ca=r-u,C[J]=y+ca,C[J+1]=v+ea,C[J+2]=B+ca,C[J+3]=X+ea,C[J+4]=R+ca,C[J+5]=U+ea,C[J+6]=Y+ca,C[J+7]=da+ea,C[J+8]=
V+ca,C[J+9]=ka+ea,C[J+10]=b+ca,C[J+11]=l+ea,J+=12,g+=1);g===t.sc&&(this.ab=g,this.Qd(!0,M,!1,!1),this.nd&&!this.Ub&&(this.context.strokeStyle="rgb("+this.Sa[0]+","+this.Pa[0]+","+this.Qa[0]+")",this.Qd(!1,!1,!1,!1)),J=g=0)}}}}this.ab=g;0<g&&(this.Qd(!0,M,!1,!1),this.nd&&!this.Ub&&(this.context.strokeStyle="rgb("+this.Sa[0]+","+this.Pa[0]+","+this.Qa[0]+")",this.Qd(!1,!1,!1,!1)),J=0);if(this.Ub){this.context.strokeStyle="rgb("+(this.Ud>>16)+","+(this.Ud>>8&255)+","+(this.Ud&255)+")";this.context.lineWidth=
1;g=0;H=m/K-I+x|0;for(G=-m/K-I+x|0;G<=H;G+=1)if(ma=(G+I-x)*K+m,ma>=-K&&ma<this.B+K)for(ea=G-x,aa=O-u-(ea+I)/2,E=-n/K-aa-K|0,F=n/K-aa+K|0,r=E;r<=F;r+=1)ca=(r+aa)*K+n,ca>=-K&&ca<this.C+K&&(ca=r-u,C[J]=y+ca,C[J+1]=v+ea,C[J+2]=B+ca,C[J+3]=X+ea,C[J+4]=R+ca,C[J+5]=U+ea,C[J+6]=Y+ca,C[J+7]=da+ea,J+=8,g+=1),g===t.sc&&(this.ab=g,this.Qd(!1,!1,!0,!1),J=g=0);this.ab=g;0<g&&this.Qd(!1,!1,!0,!1)}};h.prototype.Qd=function(a,e,c,g){var n=this.context,m=this.width/2-this.wa-this.Pb,r=this.height/2-this.pa-this.Nb,
u=this.zoom*this.Jc,x=this.C/2,y=this.B/2,v=0,B=0,b=12,l=0,f=-1,q=this.coords,w=this.ab,z=this.Aa,A=(1<<t.Hh)-1;m=m+r/2+-(this.height>>2)+.5;r+=.5;a&&!g&&z.sort&&(l=(t.sc<<t.Hh)+256,z.fill(l,w),z.sort());n.beginPath();a||(B=b=c?8:12,f=l=v=0);for(c=0;c<w;c+=1){a&&(l=z[c],v=l&A,B=v+b,l>>=t.Hh);var C=q[v];var D=q[v+1];var E=D+r;var F=C+m-E/2;v+=2;E=E*u+y;F=F*u+x;var G=(q[v+1]-D)*u;var H=(q[v]-C)*u-G/2;v+=2;l!==f&&(f=l,0<c&&(a?(e&&n.stroke(),n.fill()):n.stroke(),n.beginPath()),a&&!g&&(n.fillStyle=this.ii[l],
e&&(n.strokeStyle=this.ii[l])));n.moveTo(F,E);for(n.lineTo(H+F,G+E);v<B;)G=(q[v+1]-D)*u,H=(q[v]-C)*u-G/2,v+=2,n.lineTo(H+F,G+E);B+=b}a?(e&&n.stroke(),n.fill()):n.stroke()};h.prototype.qw=function(a,e,c){var g="",n=e.pb?e.Vd:e.H,m=n.f,r=n.l,u=n.o,x=n.g,y=r-m+1,v=u-x+1;n=0;var B=[];var b=0;var l=!1,f=this.Z,q=null;var w=(e.width>>1)-(a.nb>>1);var z=(e.height>>1)-(a.qb>>1),A=a.Eb;a.tb&&(m=A.f+w,x=A.g+z,r=A.l+w,u=A.o+z,y=r-m+1,v=u-x+1);e.$&&(0<m&&0!==(m&1)&&(--m,y+=1),0<x&&0!==(x&1)&&(--x,v+=1));e.ia&&
(0<m&&0===(m&1)&&(--m,y+=1),0<x&&0===(x&1)&&(--x,v+=1));if(2>=e.h&&!e.If)l=!0,B[0]="b",B[1]="o";else for(e.If?b=7:b=e.h,B[0]=".",w=0;w<b-1;w+=1)B[w+1]=24<=w?String.fromCharCode(112+(w/24|0)-1)+String.fromCharCode(65+w%24):String.fromCharCode(65+w);c&&(g+=e.rc);0===this.ma&&(v=y=0,u=x-1);g+="x = "+y+", y = "+v+", rule = ";g="LifeHistory"===a.pd?e.If?g+a.pd:g+"Life":e.pb&&!e.If?g+a.Cb.substr(0,a.Cb.length-7):g+a.Cb;g+=a.cm;g+="\n";for(a=g.length;x<=u;){w=m;l&&!this.Y?(q=f[x],b=q[w],y=b<=this.Td||b===
this.dc?0:1):y=e.getState(w,x,!1);v=1;for(w+=1;w<=r+1;)w>r?b=-1:l&&!this.Y?(b=q[w],b=b<=this.Td||b===this.dc?0:1):b=e.getState(w,x,!1),b!==y?((-1!==b||0!==y)&&0<n&&(1<n&&(g+=n),g+="$",69<=g.length-a&&(g+="\n",a=g.length),n=0),0<y?(1<v&&(g+=v),g+=B[y]):w<=r&&(1<v&&(g+=v),g+=B[y]),69<=g.length-a&&(g+="\n",a=g.length),v=1,y=b):v+=1,w+=1;n+=1;x+=1}g+="!\n";c&&(g+=e.Xf);return g};h.prototype.PF=function(a,e,c,g){var n=this.ob,m=this.da,r=this.Z,u=this.Ga,x=this.za,y=this.H,v=this.Vd;var B=!0;var b=this.$?
1:0,l=this.$?14:15;if(a!==(a&this.vb)||e!==(e&this.yb)){for(B=!1;this.width<this.ga&&(a!==(a&this.vb)||e!==(e&this.yb));)this.iq(),a+=this.width>>2,e+=this.height>>2;a===(a&this.vb)&&e===(e&this.yb)&&(B=!0,n=this.ob,m=this.da,r=this.Z,u=this.Ga,x=this.za)}if(B){0!==(this.v&1)&&(n=this.cc,m=this.oa);B=1<<(~a&15);var f=1<<(~(a>>4)&15);1===(c&1)?(this.aa=1,0===(n[e][a>>4]&B)&&(this.ma+=1),r[e][a]=this.sb,u[e>>4][a>>8]|=f,x[e>>4][a>>8]|=f,n[e][a>>4]|=B,m[e>>4][a>>8]|=f,g=a&15,0<a&&g<=b?(a-=g+1,m[e>>4][a>>
8]|=1<<(~(a>>4)&15),a+=g+1):a<this.width-1&&g>=l&&(a+=16-g,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-g),0<e&&0===(e&15)?(--e,m[e>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&g<=b?(a-=g+1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a+=g+1):a<this.width-1&&g>=l&&(a+=16-g,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-g),e+=1):e<this.height-1&&15===(e&15)&&(e+=1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&g<=b?(a-=g+1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a+=g+1):a<this.width-1&&g>=l&&(a+=16-g,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-g),--e)):(0!==(n[e][a>>4]&
B)&&--this.ma,r[e][a]=g?this.Xa:this.Td,u[e>>4][a>>8]|=f,x[e>>4][a>>8]|=f,n[e][a>>4]&=~B);0<c&&(a<y.f&&(y.f=a),a>y.l&&(y.l=a),e<y.g&&(y.g=e),e>y.o&&(y.o=e),a<v.f&&(v.f=a),a>v.l&&(v.l=a),e<v.g&&(v.g=e),e>v.o&&(v.o=e),a===y.f||a===y.l||e===y.o||e===y.g)&&(this.sh=!0)}return 0};h.prototype.kG=function(a,e,c,g){var n=this.ob,m=this.da,r=this.Z,u=this.Ga,x=this.za,y=this.hc,v=this.H,B=this.Vd;var b=!0;var l=0,f=this.$?1:0,q=this.$?14:15;if(a!==(a&this.vb)||e!==(e&this.yb)){for(b=!1;this.width<this.ga&&
(a!==(a&this.vb)||e!==(e&this.yb));)this.iq(),a+=this.width>>2,e+=this.height>>2;a===(a&this.vb)&&e===(e&this.yb)&&(b=!0,n=this.ob,m=this.da,r=this.Z,u=this.Ga,x=this.za,y=this.hc)}if(b){0!==(this.v&1)&&(n=this.cc,m=this.oa);b=1<<(~a&15);var w=1<<(~(a>>4)&15);1===(c&1)?(this.aa=1,0===(n[e][a>>4]&b)&&(this.ma+=1),r[e][a]=this.sb,u[e>>4][a>>8]|=w,x[e>>4][a>>8]|=w,n[e][a>>4]|=b,m[e>>4][a>>8]|=w,g=a&15,0<a&&g<=f?(a-=g+1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a+=g+1):a<this.width-1&&g>=q&&(a+=16-g,m[e>>4][a>>
8]|=1<<(~(a>>4)&15),a-=16-g),0<e&&0===(e&15)?(--e,m[e>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&g<=f?(a-=g+1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a+=g+1):a<this.width-1&&g>=q&&(a+=16-g,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-g),e+=1):e<this.height-1&&15===(e&15)&&(e+=1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&g<=f?(a-=g+1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a+=g+1):a<this.width-1&&g>=q&&(a+=16-g,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-g),--e)):(0!==(n[e][a>>4]&b)&&--this.ma,r[e][a]=g?this.Xa:this.Td,u[e>>4][a>>8]|=w,x[e>>4][a>>
8]|=w,n[e][a>>4]&=~b);if(y){m=y[e][a];0<m&&(m=ViewConstants.Ja.indexOf(m-128));if(6===c&&6!==m||6!==c&&6===m)l=1;2===c?r[e][a]=t.gk:y[e][a]=0===c?0:ViewConstants.Ja[c]+128}0<c&&(a<v.f&&(v.f=a),a>v.l&&(v.l=a),e<v.g&&(v.g=e),e>v.o&&(v.o=e),a<B.f&&(B.f=a),a>B.l&&(B.l=a),e<B.g&&(B.g=e),e>B.o&&(B.o=e),a===v.f||a===v.l||e===v.o||e===v.g)&&(this.sh=!0)}return l};h.prototype.es=function(a,e,c,g){var n=this.ob,m=this.da,r=this.Z,u=this.Ga,x=this.za,y=this.hc,v=this.H,B=this.Ea,b=this.Vd,l=0,f=this.ia?-1:0;
var q=Math.round((this.width-this.ua)/2)+f;var w=Math.round((this.height-this.ra)/2)+f,z=q+this.ua-1,A=w+this.ra-1,C=!0;f=0;var D=this.$?1:0,E=this.$?14:15;(this.D||this.Y)&&0!==(this.v&1)&&(r=this.Ra);-1!==this.sa&&(0===this.ua&&(q=0,z=this.width-1),0===this.ra&&(w=0,A=this.height-1));if(a!==(a&this.vb)||e!==(e&this.yb)){for(C=!1;this.width<this.ga&&(a!==(a&this.vb)||e!==(e&this.yb));)this.iq(),a+=this.width>>2,e+=this.height>>2;a===(a&this.vb)&&e===(e&this.yb)&&(C=!0,n=this.ob,m=this.da,r=this.Z,
u=this.Ga,x=this.za,y=this.hc)}if(C&&(-1===this.sa||a>=q&&a<=z&&e>=w&&e<=A)){if(this.D||this.Y)n=r[e][a],r[e][a]=g&&0===c?0:this.J+c,x[e>>4][a>>8]=65535,this.Y&&(0!==(this.v&1)&&(m=this.oa),l=1<<(~(a>>4)&15)),0===c?n>this.J&&(this.D?this.ma-=this.$g[n-this.J]:--this.ma):(this.aa=1,this.D?(n<=this.J||(this.ma-=this.$g[n-this.J]),this.ma+=this.$g[c]):(m[e>>4][a>>8]|=l,0===n&&(this.ma+=1)));else if(0!==(this.v&1)&&(n=this.cc,m=this.oa),q=1<<(~a&15),l=1<<(~(a>>4)&15),this.ya)n=r[e][a],2===this.h?(m=this.sb,
1===c&&(c=this.sb,this.aa=1)):(m=this.h-1+this.J,0<c&&(c=this.J+c,this.aa=1)),r[e][a]=c,u[e>>4][a>>8]|=l,x[e>>4][a>>8]|=l,n!==m&&c===m?this.ma+=1:n===m&&c!==m&&--this.ma;else{(w=2>=this.h?1===(c&1):c===this.h-1)?(this.aa=1,0===(n[e][a>>4]&q)&&(this.ma+=1),r[e][a]=this.sb,u[e>>4][a>>8]|=l,x[e>>4][a>>8]|=l,n[e][a>>4]|=q,m[e>>4][a>>8]|=l,u=a&15,0<a&&u<=D?(a-=u+1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=E&&(a+=16-u,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-u),0<e&&0===(e&15)?(--e,m[e>>4][a>>
8]|=1<<(~(a>>4)&15),0<a&&u<=D?(a-=u+1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=E&&(a+=16-u,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-u),e+=1):e<this.height-1&&15===(e&15)&&(e+=1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&u<=D?(a-=u+1,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=E&&(a+=16-u,m[e>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-u),--e)):(0!==(n[e][a>>4]&q)&&--this.ma,r[e][a]=g?this.Xa:this.Td,u[e>>4][a>>8]|=l,x[e>>4][a>>8]|=l,n[e][a>>4]&=~q);if(this.pb&&y){n=y[e][a];0<n&&(n=ViewConstants.Ja.indexOf(n-
128));if(6===c&&6!==n||6!==c&&6===n)f=1;2===c?r[e][a]=t.gk:y[e][a]=0===c?0:ViewConstants.Ja[c]+128}2<this.h&&(0<c&&(c=this.J+c),r[e][a]=c)}if(0<c)a<v.f&&(v.f=a),a>v.l&&(v.l=a),e<v.g&&(v.g=e),e>v.o&&(v.o=e),a<b.f&&(b.f=a),a>b.l&&(b.l=a),e<b.g&&(b.g=e),e>b.o&&(b.o=e),this.ya&&c===this.h-1+this.J&&(a<B.f&&(B.f=a),a>B.l&&(B.l=a),e<B.g&&(B.g=e),e>B.o&&(B.o=e));else if(a===v.f||a===v.l||e===v.o||e===v.g)this.sh=!0}return f};h.prototype.getState=function(a,e,c){switch(this.gs){case t.ly:return this.Xu(a,
e,c);case t.ny:return this.Xu(a,e,!0);case t.my:return this.Tw(a,e,c);default:return this.jx(a,e,c)}};h.prototype.Vi=function(a,e,c,g){switch(this.gs){case t.ly:return this.PF(a,e,c,g);case t.ny:return this.es(a,e,c,g);case t.my:return this.kG(a,e,c,g);default:return this.es(a,e,c,g)}};h.prototype.PK=function(){this.gs=-1!=this.h||-1!==this.sa||this.$a?this.Y&&2===this.h?t.ny:t.VI:this.pb?t.my:t.ly};h.prototype.uG=function(a){var e=1<<t.Ij;a?(this.Dc=Array.ea(Uint32,1,e,0,this.m,"Life.popGraphData"),
this.jh=Array.ea(Uint32,1,e,0,this.m,"Life.birthGraphData"),this.nh=Array.ea(Uint32,1,e,0,this.m,"Life.deathGraphData"),this.vh=e):(this.Dc=Array.ea(Uint32,0,0,0,this.m,"Life.popGraphData"),this.jh=Array.ea(Uint32,0,0,0,this.m,"Life.birthGraphData"),this.nh=Array.ea(Uint32,0,0,0,this.m,"Life.deathGraphData"),this.vh=0)};h.prototype.Xu=function(a,e,c){var g=0;a===(a&this.vb)&&e===(e&this.yb)&&(a=this.Z[e][a],c?g=a:g=a<=this.Td?0:1);return g};h.prototype.Tw=function(a,e,c){var g=0,n=ViewConstants.Ja[3]+
128,m=ViewConstants.Ja[4]+128,r=ViewConstants.Ja[5]+128,u=ViewConstants.Ja[6]+128;a===(a&this.vb)&&e===(e&this.yb)&&(g=this.Z[e][a],c||(this.hc?(a=this.hc[e][a],a===m||a===u?(g>=this.sb&&(a=n),g=ViewConstants.Ja.indexOf(a-128)):a===n||a===r?(g<this.sb&&(a=m),g=ViewConstants.Ja.indexOf(a-128)):g=g===this.Xa?0:g<=this.Td?2:1):g=g<=this.Td?0:1));return g};h.prototype.jx=function(a,e,c){var g=0,n=ViewConstants.Ja[3]+128,m=ViewConstants.Ja[4]+128,r=ViewConstants.Ja[5]+128,u=ViewConstants.Ja[6]+128,x=this.ia?
-1:0,y=Math.round((this.width-this.ua)/2)+x;x=Math.round((this.height-this.ra)/2)+x;var v=y+this.ua-1,B=x+this.ra-1,b=this.Z;(this.D||this.Y)&&0!==(this.v&1)&&(b=this.Ra);a===(a&this.vb)&&e===(e&this.yb)&&(g=b[e][a],c||2<this.h?2<this.h&&0<g&&!this.$a&&(g<=this.J?g=0:(-1!==this.sa&&(0===this.ua&&(y=0,v=this.width-1),0===this.ra&&(x=0,B=this.height-1)),g=-1===this.sa||g!==this.dc||a>=y&&a<=v&&e>=x&&e<=B?this.D||this.Y?g-this.J:this.h+this.J-g:0)):this.hc?-1===this.sa||g!==this.dc||a>=y&&a<=v&&e>=x&&
e<=B?(a=this.hc[e][a],a===m||a===u?(g>=this.sb&&(a=n),g=ViewConstants.Ja.indexOf(a-128)):a===n||a===r?(g<this.sb&&(a=m),g=ViewConstants.Ja.indexOf(a-128)):g=g===this.Xa?0:g<=this.Td?2:1):g=0:g=g<=this.Td||g===this.dc?0:1);return g};h.prototype.On=function(a){var e,c,g,n=a.length,m=a[0].length,r=this.$g,u=0;for(e=0;e<n;e+=1){var x=a[e];for(c=0;c<m;c+=1)(g=x[c])&&(u+=r[g])}return u};h.prototype.hj=function(a,e){var c=a.Jf,g=c.length,n=!1;if(this.ia||this.D)for(this.Sc=this.Tc=!1,a=0;!n&&a<g;){var m=
c[a];m.dh<e?("reverse playback"===m.action&&(this.Sc=!this.Sc),a+=1):m.dh>e?n=!0:"reverse playback"===m.action?n=this.Tc=!0:a+=1}};h.prototype.xr=function(a,e,c,g){var n=this.qg.He.length,m=null;a<this.v&&(m=this.qg.SK(a),n!==this.qg.He.length&&(this.pn-=t.Fr*(n-this.qg.He.length)));m&&(this.lv(m),g.Ki());for(;this.v<a-1;)this.aa?(this.hj(g,this.v),this.$e(!1,!0,c,g.Sb),0===this.aa&&2<this.h||this.We(),0===this.aa&&2>=this.h&&(this.aa=1,this.hj(g,this.v),this.$e(!1,!1,c,g.Sb),this.aa=0,--this.v)):
(this.v+=1,this.We()),g.Ki();this.v<a?(this.aa?(this.hj(g,this.v),this.$e(e,!0,c,g.Sb),0===this.aa&&2<this.h||this.We(),0===this.aa&&2>=this.h&&(this.aa=1,this.hj(g,this.v),this.$e(!1,!1,c,g.Sb),this.aa=0,--this.v)):(this.v+=1,this.We()),g.Ki()):-1===this.h&&this.We();g.Aj&&(this.aa=1)};h.prototype.lv=function(a){var e=this.Z;this.v=a.v;this.Hf=a.Hf;this.Ji=a.Ji;if(0!==(this.v&1)){var c=this.lg;var g=this.Zc;var n=this.oa;var m=this.da}else c=this.Zc,g=this.lg,n=this.da,m=this.oa;c.Ya.fill(0);g.Ya.fill(0);
this.Z.Ya.fill(0);(this.D||this.Y)&&this.Ra.Ya.fill(0);this.W.Ya.fill(0);Array.yi(this.za,this.Ga);a.iK(c,n,this);a.hK(e,this.za,this);(this.D||this.Y)&&Array.yi(e,this.Ra);Array.yi(n,m);Array.yi(c,g);this.H.f=a.H.f;this.H.g=a.H.g;this.H.l=a.H.l;this.H.o=a.H.o;this.Ea.f=a.Ea.f;this.Ea.g=a.Ea.g;this.Ea.l=a.Ea.l;this.Ea.o=a.Ea.o;this.ma=a.ma;this.Gb=a.Gb;this.Xb=a.Xb;this.aa=a.aa};h.prototype.yr=function(){if(0!==(this.v&1)){var a=this.lg;var e=this.oa}else a=this.Zc,e=this.da;this.qv(!1,a,e)};h.prototype.Hu=
function(a){this.lv(this.iG);this.qg.reset();this.pn=t.Fr;a||this.yr()};h.prototype.qv=function(a,e,c){var g=this.Z;(this.D||this.Y)&&0!==(this.v&1)&&(g=this.Ra);this.qg.yr(e,c,g,this.za,this.hc,this.H,this.Ea,this.ma,this.Gb,this.Xb,this.v,this.Hf,this.Ji,(this.qa-1>>4)+1,this.va,this,a,this.aa)};h.prototype.vK=function(a){this.qg.reset();this.qv(!0,this.Zc,this.da);a||this.yr()};h.prototype.aK=function(a,e){var c=this.hc,g=this.rb;this.width=a;this.height=e;this.ya&&this.Wb.resize(this.width,this.height);
this.Zc=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.m,"Life.grid");this.lg=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.m,"Life.nextGrid");this.ob=Array.zc(Uint16,this.Zc,"Life.grid16");this.cc=Array.zc(Uint16,this.lg,"Life.nextGrid16");g&&(this.rb=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Mask"),this.Ke=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Alive"),this.we=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Cells"));
this.qa=this.width>>4;this.va=this.height>>4;g&&(this.Tg=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.state6TileGrid"));this.da=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.tileGrid");this.oa=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.nextTileGrid");this.Ga=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.colourTileGrid");this.za=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.colourTileHistoryGrid");this.Ve=this.m.I(Uint8,(this.width-1>>3)+1,"Life.blankRow");
this.Cp=this.m.I(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.md=this.m.I(Uint16,this.qa>>4,"Life.blankTileRow");this.ld=this.m.I(Uint8,this.width,"Life.blankColourRow");this.fa=this.m.I(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.Fb=this.m.I(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.Z=Array.ea(Uint8,this.height,this.width,this.Xa,this.m,"Life.colourGrid");this.D||this.Y?(this.Ra=Array.ea(Uint8,this.height,this.width,this.Xa,this.m,"Life.nextColourGrid"),this.th=Array.zc(Uint16,
this.Ra,"Life.nextColourGrid16"),this.na=Array.zc(Uint32,this.Ra,"Life.nextColourGrid32")):this.na=this.th=this.Ra=null;this.W=Array.ea(Uint8,this.height,this.width,this.Xa,this.m,"Life.smallColourGrid");this.dk=Array.zc(Uint16,this.Z,"Life.colourGrid16");this.La=Array.zc(Uint32,this.Z,"Life.colourGrid32");c&&(this.hc=Array.ea(Uint8,this.height,this.width,this.Xa,this.m,"Life.overlayGrid"),this.fb=Array.ea(Uint8,this.height,this.width,this.Xa,this.m,"Life.smallOverlayGrid"),this.ni=Array.zc(Uint16,
this.hc,"Life.overlayGrid16"),this.hg=Array.zc(Uint32,this.hc,"Life.overlayGrid32"));this.vb=this.width-1;this.yb=this.height-1;this.qg.IE((this.qa-1>>4)+1,this.va,0)};h.prototype.vG=function(){this.height=this.width=1024;this.Zc=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.m,"Life.grid");this.lg=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.m,"Life.nextGrid");this.ob=Array.zc(Uint16,this.Zc,"Life.grid16");this.cc=Array.zc(Uint16,this.lg,"Life.nextGrid16");this.qa=this.width>>4;this.va=
this.height>>4;this.da=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.tileGrid");this.oa=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.nextTileGrid");this.Ga=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.colourTileGrid");this.za=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.colourTileHistoryGrid");this.Ve=this.m.I(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Cp=this.m.I(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.md=this.m.I(Uint16,this.qa>>4,"Life.blankTileRow");
this.ld=this.m.I(Uint8,this.width,"Life.blankColourRow");this.fa=this.m.I(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.Fb=this.m.I(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.Z=Array.ea(Uint8,this.height,this.width,this.Xa,this.m,"Life.colourGrid");this.dk=Array.zc(Uint16,this.Z,"Life.colourGrid16");this.La=Array.zc(Uint32,this.Z,"Life.colourGrid32");this.D||this.Y?(this.Ra=Array.ea(Uint8,this.height,this.width,this.Xa,this.m,"Life.nextColourGrid"),this.th=Array.zc(Uint16,this.Ra,
"Life.nextColourGrid16"),this.na=Array.zc(Uint32,this.Ra,"Life.nextColourGrid32")):this.na=this.th=this.Ra=null;this.vb=this.width-1;this.yb=this.height-1};h.prototype.iq=function(){var a=this.Zc,e=this.lg,c=this.Z,g=this.Ra,n=this.W,m=this.hc,r=this.fb,u=this.rb,x=this.Ke,y=this.we,v=this.ek,B=this.Tg,b=this.da,l=this.oa,f=this.Ga,q=this.za,w=this.height,z=this.va,A=this.width>>1,C=this.height>>1,D;if(this.width<this.ga){this.width*=2;this.height*=2;this.ya&&this.Wb.resize(this.width,this.height);
this.Zc=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.m,"Life.grid");this.lg=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.m,"Life.nextGrid");this.ob=Array.zc(Uint16,this.Zc,"Life.grid16");this.cc=Array.zc(Uint16,this.lg,"Life.nextGrid16");u&&(this.rb=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Mask"),this.Ke=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Alive"),this.we=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Cells"));
this.qa=this.width>>4;this.va=this.height>>4;u&&(this.Tg=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.state6TileGrid"));this.da=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.tileGrid");this.oa=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.nextTileGrid");this.Ga=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.colourTileGrid");this.za=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.colourTileHistoryGrid");this.Ve=this.m.I(Uint8,(this.width-1>>3)+1,"Life.blankRow");
this.Cp=this.m.I(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.md=this.m.I(Uint16,this.qa>>4,"Life.blankTileRow");this.ld=this.m.I(Uint8,this.width,"Life.blankColourRow");this.fa=this.m.I(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.Fb=this.m.I(Uint16,(this.width-1>>4)+1,"Life.rowOccupied16");v&&(this.ek=Array.ea(Uint8,this.height,this.width,t.pl,this.m,"Life.countList"));this.Z=Array.ea(Uint8,this.height,this.width,this.Xa,this.m,"Life.colourGrid");this.W=Array.ea(Uint8,this.height,
this.width,this.Xa,this.m,"Life.smallColourGrid");this.dk=Array.zc(Uint16,this.Z,"Life.colourGrid16");this.La=Array.zc(Uint32,this.Z,"Life.colourGrid32");this.D||this.Y?(this.Ra=Array.ea(Uint8,this.height,this.width,this.Xa,this.m,"Life.nextColourGrid"),this.th=Array.zc(Uint16,this.Ra,"Life.nextColourGrid16"),this.na=Array.zc(Uint32,this.Ra,"Life.nextColourGrid32")):this.na=this.th=this.Ra=null;m&&(this.hc=Array.ea(Uint8,this.height,this.width,this.Xa,this.m,"Life.overlayGrid"),this.fb=Array.ea(Uint8,
this.height,this.width,this.Xa,this.m,"Life.smallOverlayGrid"),this.ni=Array.zc(Uint16,this.hc,"Life.overlayGrid16"),this.hg=Array.zc(Uint32,this.hc,"Life.overlayGrid32"));this.vb=this.width-1;this.yb=this.height-1;for(D=0;D<w;D+=1)this.Zc[D+C].set(a[D],A>>3),this.lg[D+C].set(e[D],A>>3),this.Z[D+C].set(c[D],A),this.W[D+C].set(n[D],A),(this.D||this.Y)&&this.Ra[D+C].set(g[D],A),this.ek&&this.ek[D+C].set(v[D],A),m&&r&&(this.hc[D+C].set(m[D],A),this.fb[D+C].set(r[D],A)),u&&x&&y&&(this.rb[D+C].set(u[D],
A>>4),this.Ke[D+C].set(x[D],A>>4),this.we[D+C].set(y[D],A>>4));C=z>>1;for(D=0;D<z;D+=1)B&&this.Tg[D+C].set(B[D],this.Tg[D].length>>2),this.da[D+C].set(b[D],this.da[D].length>>2),this.oa[D+C].set(l[D],this.oa[D].length>>2),this.Ga[D+C].set(f[D],this.Ga[D].length>>2),this.za[D+C].set(q[D],this.za[D].length>>2);A=this.width>>2;C=this.height>>2;this.qg.IE((this.qa-1>>4)+1,this.va,A);this.wa+=A;this.pa+=C;this.R&&(this.wa-=C/2|0);this.H.f+=A;this.H.l+=A;this.H.o+=C;this.H.g+=C;this.Ea.f+=A;this.Ea.l+=
A;this.Ea.o+=C;this.Ea.g+=C;this.xf.f+=A;this.xf.l+=A;this.xf.o+=C;this.xf.g+=C;this.Vd.f+=A;this.Vd.l+=A;this.Vd.o+=C;this.Vd.g+=C;if(0<this.Na)for(D=0;D<this.Na;D+=1)e=this.lc[(D<<1)+1],a=(e>>16)+A,e=(e&65535)+C,this.lc[(D<<1)+1]=a<<16|e}};h.prototype.OG=function(a,e){var c=this.width,g=this.height,n=!1;c<this.ga&&this.aa&&(a.f<=e||a.g<=e||a.l>=c-e||a.o>=g-e)&&(this.iq(),n=!0);return n};h.prototype.xx=function(){var a,e,c=this.$g;for(a=0;65536>a;a+=1){var g=a;for(e=0;g;e+=1)g&=g-1;c[a]=e}};h.prototype.Ex=
function(){var a,e,c=this.Lt,g=this.sb;for(a=0;256>a;a+=1)for(e=0;8>e;e+=1)c[(a<<3)+e]=a&1<<7-e?g:0};h.prototype.cK=function(a,e){var c,g=0,n=this.$g;var m=this.H;var r=m.f,u=m.l,x=m.o;m=m.g;if(this.ya||this.D||this.Y)for(;m<=x;m+=1){var y=e[m];for(c=r;c<=u;c+=1)a=y[c],0<a&&(g=this.D?g+n[a-this.J]:g+1)}else for(r>>=4,u>>=4;m<=x;m+=1)for(y=a[m],c=r;c<=u;c+=1)e=n[y[c]],g+=e;this.ma=g;this.Xb=this.Gb=0};h.prototype.HE=function(a,e){var c=this.context;var g=this.jg?4278190080:255;this.C=a;this.B=e;this.al=
this.Sd=this.hd=null;this.hd=c.createImageData(c.canvas.width,c.canvas.height);this.hd.data.buffer?this.Sd=new Uint32Array(this.hd.data.buffer):(this.Sd=new Uint32Array(this.hd.data.length>>2),this.al=new Uint8Array(this.Sd.buffer));this.Zk=this.m.I(Uint32,a,"Life.blankPixelRow");for(e=0;e<a;e+=1)this.Zk[e]=g;this.Lv(g);this.Jx()};h.prototype.dH=function(a,e,c){var g,n,m=this.Z,r=a.width,u=a.height,x=this.vb,y=this.yb,v=this.gk,B=ViewConstants.Ja[2];for(n=0;n<u;n+=1){var b=a.Ig[n];var l=m[n+c&y];
for(g=0;g<r;g+=1)b[g]===B&&(l[g+e&x]=v)}};h.prototype.dI=function(){this.hg=this.ni=this.fb=this.hc=null};h.prototype.mH=function(){this.hc=Array.ea(Uint8,this.height,this.width,this.Xa,this.m,"Life.overlayGrid");this.fb=Array.ea(Uint8,this.height,this.width,this.Xa,this.m,"Life.smallOverlayGrid");Array.ey(this.fb,1,"Life.smallOverlayGrid4");Array.ey(this.fb,3,"Life.smallOverlayGrid8");Array.ey(this.fb,7,"Life.smallOverlayGrid16");this.ni=Array.zc(Uint16,this.hc,"Life.overlayGrid16");this.hg=Array.zc(Uint32,
this.hc,"Life.overlayGrid32")};h.prototype.eI=function(){this.Tg=this.we=this.Ke=this.rb=null};h.prototype.oH=function(){this.rb=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Mask");this.Ke=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Alive");this.we=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.m,"Life.state6Cells");this.Tg=Array.ea(Uint16,this.va,(this.qa-1>>4)+1,0,this.m,"Life.state6TileGrid")};h.prototype.xn=function(){var a,e,c=this.vb,
g=this.yb,n=this.Tg,m=ViewConstants.Ja[6]+128;this.rb.Ya.fill(0);this.we.Ya.fill(0);this.Ke.Ya.fill(0);this.Tg.Ya.fill(0);for(e=1;e<this.height-1;e+=1){var r=this.hc[e];var u=this.rb[e-1&g];var x=this.rb[e&g];var y=this.rb[e+1&g];var v=this.we[e&g];var B=n[(e-1&g)>>4];var b=n[(e&g)>>4];var l=n[(e+1&g)>>4];for(a=1;a<=this.width-1;a+=1)if(r[a]===m){var f=a&c;v[f>>4]|=1<<(~f&15);u[f>>4]|=1<<(~f&15);x[f>>4]|=1<<(~f&15);y[f>>4]|=1<<(~f&15);B[f>>8]|=1<<(~(f>>4)&15);b[f>>8]|=1<<(~(f>>4)&15);l[f>>8]|=1<<
(~(f>>4)&15);f=a-1&c;u[f>>4]|=1<<(~f&15);x[f>>4]|=1<<(~f&15);y[f>>4]|=1<<(~f&15);B[f>>8]|=1<<(~(f>>4)&15);b[f>>8]|=1<<(~(f>>4)&15);l[f>>8]|=1<<(~(f>>4)&15);f=a+1&c;u[f>>4]|=1<<(~f&15);x[f>>4]|=1<<(~f&15);y[f>>4]|=1<<(~f&15);B[f>>8]|=1<<(~(f>>4)&15);b[f>>8]|=1<<(~(f>>4)&15);l[f>>8]|=1<<(~(f>>4)&15)}}};h.prototype.xJ=function(a,e,c){var g,n,m=a.width,r=a.height,u=this.vb,x=this.yb,y=this.Tg;for(n=0;n<r;n+=1){var v=a.Ig[n];var B=this.rb[n-1+c&x];var b=this.rb[n+c&x];var l=this.rb[n+1+c&x];var f=this.we[n+
c&x];var q=y[(n-1+c&x)>>4];var w=y[(n+c&x)>>4];var z=y[(n+1+c&x)>>4];for(g=0;g<m;g+=1)if(6===v[g]){var A=g+e&u;f[A>>4]|=1<<(~A&15);B[A>>4]|=1<<(~A&15);b[A>>4]|=1<<(~A&15);l[A>>4]|=1<<(~A&15);q[A>>8]|=1<<(~(A>>4)&15);w[A>>8]|=1<<(~(A>>4)&15);z[A>>8]|=1<<(~(A>>4)&15);A=g-1+e&u;B[A>>4]|=1<<(~A&15);b[A>>4]|=1<<(~A&15);l[A>>4]|=1<<(~A&15);q[A>>8]|=1<<(~(A>>4)&15);w[A>>8]|=1<<(~(A>>4)&15);z[A>>8]|=1<<(~(A>>4)&15);A=g+1+e&u;B[A>>4]|=1<<(~A&15);b[A>>4]|=1<<(~A&15);l[A>>4]|=1<<(~A&15);q[A>>8]|=1<<(~(A>>4)&
15);w[A>>8]|=1<<(~(A>>4)&15);z[A>>8]|=1<<(~(A>>4)&15)}}};h.prototype.DE=function(a){var e,c=this.Z,g=this.Lt;var n=this.H;var m=n.f>>4,r=n.l>>4,u=n.o;n=n.g;if(!this.D&&!this.Y)for(e=n;e<=u;e+=1){var x=a[e];var y=c[e];var v=m<<4;for(n=m;n<=r;n+=1){var B=x[n]>>8<<3;y[v]=g[B];v+=1;y[v]=g[B+1];v+=1;y[v]=g[B+2];v+=1;y[v]=g[B+3];v+=1;y[v]=g[B+4];v+=1;y[v]=g[B+5];v+=1;y[v]=g[B+6];v+=1;y[v]=g[B+7];v+=1;B=(x[n]&255)<<3;y[v]=g[B];v+=1;y[v]=g[B+1];v+=1;y[v]=g[B+2];v+=1;y[v]=g[B+3];v+=1;y[v]=g[B+4];v+=1;y[v]=
g[B+5];v+=1;y[v]=g[B+6];v+=1;y[v]=g[B+7];v+=1}}};h.prototype.ij=function(a){var e=[],c,g;for(g=0;7>g;g+=1){var n=[];for(c=0;7>c;c+=1)n[c]=0;e[g]=n}for(g=0;3>g;g+=1)for(c=0;3>c;c+=1)e[g+2][c+2]=a[g][c];return e};h.prototype.Rv=function(){this.dl=this.ij(t.jI);this.cl=this.ij(t.iI);this.el=this.ij(t.lI);this.Yk=this.ij(t.kI)};h.prototype.wI=function(a,e,c){var g=this.Xa,n=this.Ve,m=this.ld,r=this.Zk,u=this.md;var x=this.jg?4278190080:255;this.yg=!1;this.vb=this.width-1;this.yb=this.height-1;this.H=
new BoundingBox(0,0,this.width-1,this.height-1);this.Ea=new BoundingBox(0,0,this.width-1,this.height-1);this.xf=new BoundingBox(0,0,this.width-1,this.height-1);this.Vd=new BoundingBox(0,0,this.width-1,this.height-1);this.hs=new BoundingBox(0,0,this.width-1,this.height-1);this.context=a;this.Ex();this.HE(e,c);n.fill(0);m.fill(g);u.fill(0);r.fill(x);this.Rv()};h.prototype.iH=function(){var a=0;this.bb[a]=new d("Mono",new p(new k(0,0,0),new k(0,0,0)),new p(new k(255,255,255),new k(255,255,255)),new k(0,
0,0),new k(255,255,255),new p(new k(0,0,0),new k(-1,-1,-1)),new p(new k(0,0,0),new k(0,0,0)),new k(0,0,0));a+=1;this.bb[a]=new d("Blues",new p(new k(0,0,47),new k(0,0,255)),new p(new k(0,255,255),new k(255,255,255)),new k(0,0,0),new k(0,255,255),new p(new k(0,0,255),new k(-1,-1,-1)),new p(new k(0,0,47),new k(0,0,128)),new k(0,0,0));a+=1;this.bb[a]=new d("Fire",new p(new k(32,0,0),new k(160,0,0)),new p(new k(255,144,0),new k(255,255,0)),new k(0,0,0),new k(255,144,0),new p(new k(240,0,0),new k(-1,-1,
-1)),new p(new k(32,0,0),new k(160,0,0)),new k(0,0,0));a+=1;this.bb[a]=new d("Poison",new p(new k(0,24,0),new k(0,128,0)),new p(new k(0,255,255),new k(255,255,255)),new k(0,0,0),new k(0,255,255),new p(new k(0,192,0),new k(-1,-1,-1)),new p(new k(0,24,0),new k(0,128,0)),new k(0,0,0));a+=1;this.bb[a]=new d("Yellow",new p(new k(0,47,0),new k(128,0,128)),new p(new k(255,255,0),new k(255,255,255)),new k(0,32,128),new k(255,255,0),new p(new k(192,64,64),new k(-1,-1,-1)),new p(new k(0,47,0),new k(128,0,128)),
new k(0,32,128));a+=1;this.bb[a]=new d("Gray",new p(new k(16,16,16),new k(104,104,104)),new p(new k(176,176,176),new k(240,240,240)),new k(0,0,0),new k(240,240,240),new p(new k(160,160,160),new k(-1,-1,-1)),new p(new k(16,16,16),new k(104,104,104)),new k(0,0,0));a+=1;this.bb[a]=new d("Inverse",new p(new k(255,255,255),new k(255,255,255)),new p(new k(0,0,0),new k(0,0,0)),new k(255,255,255),new k(0,0,0),new p(new k(255,255,255),new k(-1,-1,-1)),new p(new k(255,255,255),new k(255,255,255)),new k(255,
255,255));a+=1;this.bb[a]=new d("Day",new p(new k(240,240,240),new k(0,255,255)),new p(new k(0,0,255),new k(0,0,0)),new k(255,255,255),new k(0,0,255),new p(new k(0,255,255),new k(-1,-1,-1)),new p(new k(240,240,240),new k(0,192,192)),new k(255,255,255));a+=1;this.bb[a]=new d("Occupied",new p(new k(240,240,240),new k(240,240,240)),new p(new k(240,240,240),new k(240,240,240)),new k(0,0,0),new k(240,240,240),new p(new k(240,240,240),new k(240,240,240)),new p(new k(240,240,240),new k(240,240,240)),new k(0,
0,0));a+=1;this.bb[a]=new d("Red",new p(new k(160,0,0),new k(160,0,0)),new p(new k(240,240,240),new k(240,240,240)),new k(0,0,0),new k(255,255,255),new p(new k(160,160,160),new k(160,160,160)),new p(new k(160,0,0),new k(160,0,0)),new k(0,0,0));a+=1;this.bb[a]=new d("LifeHistory",new p(new k(0,0,96),new k(0,0,160)),new p(new k(0,240,0),new k(16,255,16)),new k(0,0,0),new k(16,255,16),new p(new k(0,128,160),new k(-1,-1,-1)),new p(new k(0,0,96),new k(0,0,160)),new k(0,0,0));a+=1;this.bb[a]=new d("Generations",
new p(new k(64,0,0),new k(255,0,0)),new p(new k(255,255,0),new k(255,255,255)),new k(0,0,0),new k(255,255,0),new p(new k(255,0,0),new k(-1,-1,-1)),new p(new k(64,0,0),new k(128,0,0)),new k(0,0,0));a+=1;this.bb[a]=new d("Golly",new p(new k(48,48,48),new k(48,48,48)),new p(new k(255,255,255),new k(255,255,255)),new k(48,48,48),new k(255,255,0),new p(new k(255,0,0),new k(-1,-1,-1)),new p(new k(48,48,48),new k(48,48,48)),new k(48,48,48));this.bb[a].Gn(10,new k(80,80,80),new k(112,112,112));a+=1;this.bb[a]=
new d("MCell",new p(new k(0,0,0),new k(0,0,0)),new p(new k(255,255,0),new k(255,255,0)),new k(0,0,0),new k(255,255,0),new p(new k(0,255,0),new k(255,255,0)),new p(new k(0,0,0),new k(0,0,0)),new k(0,0,0));this.bb[a].Gn(5,new k(64,0,0),new k(99,3,1));a+=1;this.bb[a]=new d("Catagolue",new p(new k(160,221,204),new k(160,221,204)),new p(new k(0,0,0),new k(0,0,0)),new k(192,255,238),new k(0,0,0),new p(new k(96,192,139),new k(2,129,2)),new p(new k(160,221,204),new k(160,221,204)),new k(192,255,238));this.bb[a].Gn(0,
new k(160,221,204),new k(160,221,204));a+=1;this.bb[a]=new d("Caterer",new p(new k(54,57,62),new k(54,57,62)),new p(new k(255,255,255),new k(255,255,255)),new k(54,57,62),new k(255,170,0),new p(new k(255,85,0),new k(-1,-1,-1)),new p(new k(54,57,62),new k(54,57,62)),new k(54,57,62));this.bb[a].Gn(0,new k(0,0,0),new k(0,0,0));a+=1;this.bb[a]=new d("Life32",new p(new k(255,255,255),new k(255,255,255)),new p(new k(0,0,128),new k(0,0,128)),new k(255,255,255),new k(0,0,128),new p(new k(0,0,64),new k(-1,
-1,-1)),new p(new k(255,255,255),new k(255,255,255)),new k(255,255,255));this.bb[a].Gn(5,new k(192,192,192),new k(128,128,128));a+=1;this.bb[a]=new d("Margolus",new p(new k(0,0,47),new k(0,0,128)),new p(new k(255,255,0),new k(255,255,255)),new k(0,0,0),new k(255,255,0),new p(new k(64,64,128),new k(-1,-1,-1)),new p(new k(0,0,47),new k(0,0,128)),new k(0,0,0));this.bb[a].Gn(2,new k(32,32,255),new k(64,64,128));a+=1;this.bb[a]=new d("PCA",new p(new k(24,24,24),new k(64,64,64)),new p(new k(176,176,176),
new k(240,240,240)),new k(0,0,0),new k(240,240,240),new p(new k(160,160,160),new k(-1,-1,-1)),new p(new k(24,24,24),new k(64,64,64)),new k(0,0,0));a+=1;this.bb[a]=new d("Book",new p(new k(255,220,192),new k(192,220,255)),new p(new k(0,0,0),new k(0,0,0)),new k(255,255,255),new k(0,0,0),new p(new k(24,24,24),new k(128,128,128)),new p(new k(255,220,192),new k(192,220,255)),new k(255,255,255));this.bb[a].Gn(0,new k(192,192,192),new k(209,209,209));this.bb[a+1]=new d(Keywords.pp,new p(new k(0,0,0),new k(0,
0,0)),new p(new k(0,0,0),new k(0,0,0)),new k(0,0,0),new k(0,0,0),new p(new k(0,0,0),new k(0,0,0)),new p(new k(0,0,0),new k(0,0,0)),new k(0,0,0));this.af=this.bb.length-1;this.Me=new p(new k(0,0,0),new k(0,0,0));this.gd=new p(new k(0,0,0),new k(0,0,0));this.Se=new k(0,0,0);this.ih=new k(0,0,0);this.Qe=new p(new k(0,0,0),new k(0,0,0));this.lf=new p(new k(0,0,0),new k(0,0,0));this.wh=new k(0,0,0);this.zd=new p(new k(0,0,0),new k(0,0,0));this.Cc=new p(new k(0,0,0),new k(0,0,0));this.xe=new k(0,0,0);this.Mf=
new k(0,0,0);this.be=new p(new k(0,0,0),new k(0,0,0));this.Pe=new p(new k(0,0,0),new k(0,0,0));this.Cg=new k(0,0,0)};h.prototype.JK=function(a,e,c){var g=this.bb[a],n=this.Pk;this.pf=a;this.Me.set(this.zd);this.gd.set(this.Cc);this.Se.set(this.xe);this.ih.set(this.Mf);this.lf.set(this.Pe);this.Qe.set(this.be);this.wh.set(this.Cg);this.zd.set(g.kb);this.Cc.set(g.Za);this.xe.set(g.Xa);this.Mf.set(g.Yf);this.Pe.set(g.xc);this.be.set(g.Ob);this.Cg.set(g.hi);this.Mm=e;this.Pk=g.sI(this.pb);n&&!this.Pk&&
!this.ya&&2>=this.h&&this.Hv();this.Ud=g.eh;this.gg=g.fh;a!==this.af&&this.ia?this.vf=2:this.vf=g.dn;this.jg?(this.ki=-16777216|(this.Ud&255)<<16|(this.Ud>>8&255)<<8|this.Ud>>16,this.ej=-16777216|(this.gg&255)<<16|(this.gg>>8&255)<<8|this.gg>>16):(this.ki=this.Ud>>16<<24|(this.Ud>>8&255)<<16|(this.Ud&255)<<8|255,this.ej=this.gg>>16<<24|(this.gg>>8&255)<<16|(this.gg&255)<<8|255);c.VB()};h.prototype.bC=function(){var a=this.zs,e=this.ee,c=this.sb,g=this.gk,n=this.Td,m,r=new Uint8Array(256);r[0]=0;r[e+
1]=c;for(m=1;m<e+1;m+=1)r[m]=Math.min(Math.max(m-1,g),n),r[m+e+1]=Math.max(Math.min(m+1,e),c);if(0===this.J)for(m=this.sb;m<=this.ee;m+=1)r[m]=0;else this.J<this.Td&&(r[this.Td-this.J]=0);for(m=0;65536>m;m+=1)a[m]=r[m>>8]<<8|r[m&255]};h.prototype.HJ=function(){var a;for(a=0;a<this.bb.length;a+=1){var e=this.bb[a];if(e.Al)if(2>=this.h)e.Ob.U.set(e.Yf);else{var c=1/(this.h-2);e.Ob.U.red=e.Ob.T.red*c+e.Yf.red*(1-c)|0;e.Ob.U.green=e.Ob.T.green*c+e.Yf.green*(1-c)|0;e.Ob.U.blue=e.Ob.T.blue*c+e.Yf.blue*
(1-c)|0}}};h.prototype.cC=function(){var a=(this.Mm-1)/this.ql;if(!this.$a)if(2<this.h||this.Y){var e=0;this.Y?(this.Sa[e]=this.Xd[e]>>16,this.Qa[e]=this.Xd[e]>>8&255,this.Pa[e]=this.Xd[e]&255):(this.Sa[e]=this.wh.red*a+this.Cg.red*(1-a),this.Qa[e]=this.wh.green*a+this.Cg.green*(1-a),this.Pa[e]=this.wh.blue*a+this.Cg.blue*(1-a));for(e=1;e<this.h-1;e+=1){var c=3>=this.h?0:(e-1)/(this.h-3);if(this.D&&18<=this.pf)this.Sa[e+this.J]=t.co[e][0],this.Qa[e+this.J]=t.co[e][1],this.Pa[e+this.J]=t.co[e][2];
else if(this.Y)this.Sa[e]=this.Xd[e]>>16,this.Qa[e]=this.Xd[e]>>8&255,this.Pa[e]=this.Xd[e]&255;else{var g=this.Qe.U.red*c+this.Qe.T.red*(1-c);var n=this.be.U.red*c+this.be.T.red*(1-c);this.Sa[e+this.J]=g*a+n*(1-a);g=this.Qe.U.green*c+this.Qe.T.green*(1-c);n=this.be.U.green*c+this.be.T.green*(1-c);this.Qa[e+this.J]=g*a+n*(1-a);g=this.Qe.U.blue*c+this.Qe.T.blue*(1-c);n=this.be.U.blue*c+this.be.T.blue*(1-c);this.Pa[e+this.J]=g*a+n*(1-a)}this.ec&&this.ec.length>=e&&(c=this.ya||this.D||this.Y?this.ec[e]:
this.ec[this.h-e],-1!==c&&(this.Sa[e+this.J]=c>>16,this.Qa[e+this.J]=c>>8&255,this.Pa[e+this.J]=c&255))}e=this.h-1;this.D&&18<=this.pf?(this.Sa[e+this.J]=t.co[e][0],this.Qa[e+this.J]=t.co[e][1],this.Pa[e+this.J]=t.co[e][2]):this.Y?(this.Sa[e]=this.Xd[e]>>16,this.Qa[e]=this.Xd[e]>>8&255,this.Pa[e]=this.Xd[e]&255):(this.Sa[e+this.J]=this.ih.red*a+this.Mf.red*(1-a),this.Qa[e+this.J]=this.ih.green*a+this.Mf.green*(1-a),this.Pa[e+this.J]=this.ih.blue*a+this.Mf.blue*(1-a));this.ec&&this.ec.length>=e&&(c=
this.ya||this.D||this.Y?this.ec[e]:this.ec[this.h-e],-1!==c&&(this.Sa[e+this.J]=c>>16,this.Qa[e+this.J]=c>>8&255,this.Pa[e+this.J]=c&255));for(e=0;e<this.J;e+=1)c=1<this.J?1-e/(this.J-1):1,g=this.lf.T.red*c+this.lf.U.red*(1-c),n=this.Pe.T.red*c+this.Pe.U.red*(1-c),this.Sa[e+1]=g*a+n*(1-a),g=this.lf.T.green*c+this.lf.U.green*(1-c),n=this.Pe.T.green*c+this.Pe.U.green*(1-c),this.Qa[e+1]=g*a+n*(1-a),g=this.lf.T.blue*c+this.lf.U.blue*(1-c),n=this.Pe.T.blue*c+this.Pe.U.blue*(1-c),this.Pa[e+1]=g*a+n*(1-
a);this.ec&&0<this.ec.length&&(c=this.ec[0],-1!==c&&(this.Sa[0]=c>>16,this.Qa[0]=c>>8&255,this.Pa[0]=c&255))}else{e=0;this.Sa[e]=this.Se.red*a+this.xe.red*(1-a);this.Qa[e]=this.Se.green*a+this.xe.green*(1-a);this.Pa[e]=this.Se.blue*a+this.xe.blue*(1-a);if(0===this.J)for(e=1;e<=this.Td;e+=1)this.Sa[e]=this.Se.red*a+this.xe.red*(1-a),this.Qa[e]=this.Se.green*a+this.xe.green*(1-a),this.Pa[e]=this.Se.blue*a+this.xe.blue*(1-a);else{var m=this.Td-this.J+1;for(e=1;e<m;e+=1)this.Sa[e]=this.gd.T.red*a+this.Cc.T.red*
(1-a),this.Qa[e]=this.gd.T.green*a+this.Cc.T.green*(1-a),this.Pa[e]=this.gd.T.blue*a+this.Cc.T.blue*(1-a);for(e=m;e<=this.Td;e+=1)c=this.Td===m?1:1-(e-m)/(this.Td-m),g=this.gd.T.red*c+this.gd.U.red*(1-c),n=this.Cc.T.red*c+this.Cc.U.red*(1-c),this.Sa[e]=g*a+n*(1-a),g=this.gd.T.green*c+this.gd.U.green*(1-c),n=this.Cc.T.green*c+this.Cc.U.green*(1-c),this.Qa[e]=g*a+n*(1-a),g=this.gd.T.blue*c+this.gd.U.blue*(1-c),n=this.Cc.T.blue*c+this.Cc.U.blue*(1-c),this.Pa[e]=g*a+n*(1-a)}for(e=this.sb;e<=this.ee;e+=
1)c=1-(e-this.sb)/(this.ee-this.sb),g=this.Me.T.red*c+this.Me.U.red*(1-c),n=this.zd.T.red*c+this.zd.U.red*(1-c),this.Sa[e]=g*a+n*(1-a),g=this.Me.T.green*c+this.Me.U.green*(1-c),n=this.zd.T.green*c+this.zd.U.green*(1-c),this.Qa[e]=g*a+n*(1-a),g=this.Me.T.blue*c+this.Me.U.blue*(1-c),n=this.zd.T.blue*c+this.zd.U.blue*(1-c),this.Pa[e]=g*a+n*(1-a)}};h.prototype.dC=function(a,e){var c=this.Sa,g=this.Qa,n=this.Pa,m;for(m=0;m<a.length;m+=1){var r=e&&-1!==e[m]?e[m]:a[m];c[m]=r>>16;g[m]=r>>8&255;n[m]=r&255}this.Mm=
0};h.prototype.jH=function(a,e){var c=this.Sa,g=this.Qa,n=this.Pa,m=ViewConstants.Ja,r;for(r=0;r<a.length;r+=1)e&&-1!==e[r]?(c[128+m[r]]=e[r]>>16,g[128+m[r]]=e[r]>>8&255,n[128+m[r]]=e[r]&255):(c[128+m[r]]=a[r]>>16,g[128+m[r]]=a[r]>>8&255,n[128+m[r]]=a[r]&255)};h.prototype.Ed=function(a){var e=this.Sa,c=this.Qa,g=this.Pa,n=this.Ee,m=this.Ud,r=this.gg,u=this.ii,x=this.R&&this.te||this.$,y;if(2<this.h)if(this.jg)for(y=0;y<=this.h+this.J;y+=1)n[y]=-16777216|g[y]*a<<16|c[y]*a<<8|e[y]*a,x&&(u[y]="#"+(16777216+
((e[y]<<16)+(c[y]<<8)+g[y])).toString(16).substr(1));else for(y=0;y<=this.h+this.J;y+=1)n[y]=e[y]*a<<24|c[y]*a<<16|g[y]*a<<8|255,x&&(u[y]="#"+(16777216+((e[y]<<16)+(c[y]<<8)+g[y])).toString(16).substr(1));else if(this.jg){for(y=0;y<this.sb;y+=1)n[y]=-16777216|g[y]<<16|c[y]<<8|e[y],x&&(u[y]="#"+(16777216+((e[y]<<16)+(c[y]<<8)+g[y])).toString(16).substr(1));for(y=this.sb;y<=this.ee;y+=1)n[y]=-16777216|g[y]*a<<16|c[y]*a<<8|e[y]*a,x&&(u[y]="#"+(16777216+((e[y]<<16)+(c[y]<<8)+g[y])).toString(16).substr(1));
for(y=this.ee+1;256>y;y+=1)n[y]=-16777216|g[y]*a<<16|c[y]*a<<8|e[y]*a,x&&(u[y]="#"+(16777216+((e[y]<<16)+(c[y]<<8)+g[y])).toString(16).substr(1))}else{for(y=0;y<this.sb;y+=1)n[y]=e[y]<<24|c[y]<<16|g[y]<<8|255,x&&(u[y]="#"+(16777216+((e[y]<<16)+(c[y]<<8)+g[y])).toString(16).substr(1));for(y=this.sb;y<=this.ee;y+=1)n[y]=e[y]*a<<24|c[y]*a<<16|g[y]*a<<8|255,x&&(u[y]="#"+(16777216+((e[y]<<16)+(c[y]<<8)+g[y])).toString(16).substr(1));for(y=this.ee+1;256>y;y+=1)n[y]=e[y]*a<<24|c[y]*a<<16|g[y]*a<<8|255,x&&
(u[y]="#"+(16777216+((e[y]<<16)+(c[y]<<8)+g[y])).toString(16).substr(1))}this.jg?(this.ki=-16777216|(m&255)<<16|(m>>8&255)<<8|m>>16,this.ej=-16777216|(r&255)<<16|(r>>8&255)<<8|r>>16):(this.ki=m>>16<<24|(m>>8&255)<<16|(m&255)<<8|255,this.ej=r>>16<<24|(r>>8&255)<<16|(r&255)<<8|255);-1!==this.sa&&(y=this.dc,n[y]=this.jg?-16777216|g[y]*a<<16|c[y]*a<<8|e[y]*a:e[y]*a<<24|c[y]*a<<16|g[y]*a<<8|255,x&&(u[y]="#"+(16777216+((e[y]<<16)+(c[y]<<8)+g[y])).toString(16).substr(1)))};h.prototype.yK=function(){var a=
this.Sa,e=this.Qa,c=this.Pa;this.dc=-1!==this.sa&&256===this.h+this.J?2:255;-1!==this.sa&&256>this.h+this.J&&(this.jg?(a[this.dc]=this.ml&255,e[this.dc]=this.ml>>8&255,c[this.dc]=this.ml>>16&255):(a[this.dc]=this.ml>>24,e[this.dc]=this.ml>>16&255,c[this.dc]=this.ml>>8&255))};h.prototype.Gp=function(a){var e=this.lg,c=this.Z,g=this.Ra,n=this.W,m=this.hc,r=this.fb,u=this.da,x=this.Ga,y=this.za,v=this.oa,B=this.Xa;this.Zc.Ya.fill(0);e.Ya.fill(0);a||(c.Ya.fill(B),g&&g.Ya.fill(B),n.Ya.fill(B),m&&(m.Ya.fill(B),
r.Ya.fill(B)));u.Ya.fill(0);v.Ya.fill(0);a||(x.Ya.fill(0),y.Ya.fill(0))};h.prototype.$k=function(a,e){var c=t.LC,g;for(g=0;g<c;g+=1)a[g]=e[g]};h.prototype.jj=function(a,e){var c=t.pt,g;for(g=0;g<c;g+=1){var n=e[g>>9&448|g>>6&56|g>>3&7]<<3;n|=e[g>>8&448|g>>5&56|g>>2&7]<<2;n|=e[g>>7&448|g>>4&56|g>>1&7]<<1;n|=e[g>>6&448|g>>3&56|g&7];a[g]=n}};h.prototype.lh=function(a,e,c){if(c){var g=new Uint8Array(16);for(c=0;16>c;c+=1){var n=e[c];g[n]=c}for(c=0;c<t.en;c+=1)n=(g[c>>12]&1)<<2,n|=(g[c>>8&15]&2)<<2,n|=
(g[c>>4&15]&4)>>2,n|=(g[c&15]&8)>>2,a[c]=n}else for(c=0;c<t.en;c+=1)n=(c>>12&1)<<2,n|=(c>>8&2)<<2,n|=(c>>4&4)>>2,n|=(c&8)>>2,a[c]=e[n]};h.prototype.kf=function(a,e){var c,g,n,m;for(c=0;c<t.Gl;c+=1){var r=c>>8;var u=c&255;var x=192;var y=6;for(g=m=n=0;4>g;g+=1){var v=0===y?(u&x)<<2|r&x:(u&x)>>y-2|(r&x)>>y;v=(v&8)>>1|(v&4)<<1|(v&2)>>1|(v&1)<<1;v=e[v];v=(v&8)>>1|(v&4)<<1|(v&2)>>1|(v&1)<<1;n<<=2;m<<=2;n|=v>>2&3;m|=v&3;x>>=2;y-=2}a[c]=m<<8|n}};h.prototype.sd=function(a,e){var c,g=0,n=!0,m=new Uint8Array(16);
for(c=0;n&&16>c;){var r=1<<a[c];0!==(g&r)?n=!1:(g|=r,c+=1)}if(n){for(c=0;16>c;c+=1)g=a[c],m[g]=c;e&&a.set(m)}return n};h.prototype.pu=function(a,e){var c;for(c=0;16>c;c+=1)e[c]=a[15-c];for(c=0;16>c;c+=1)a[c]=15-a[c]};h.prototype.Uv=function(){var a=this.qe,e,c,g,n,m,r=this.Hk,u=this.Lj,x=this.Mj;for(e=0;1<<e<a;)e+=1;var y=(this.Sf+1)*e;if(y<=t.LI){this.ve=this.m.I(Uint8,1<<y,"Life.ruleTreeLookup");y=this.nv=e;var v=y+e;var B=v+e;var b=B+e;if(4===this.Sf)for(e=0;e<a;e+=1)for(g=0;g<a;g+=1)for(m=0;m<
a;m+=1)for(n=0;n<a;n+=1)for(c=0;c<a;c+=1){var l=e<<y|g<<v|m<<B|n<<b|c;this.ve[l]=x[u[u[u[u[r+e]+n]+g]+c]+m]}else this.ve=null}else this.ve=null};h.prototype.iL=function(a){var e=this.$?this.P.Mz:this.P.Si,c=this.$?this.P.Iz:this.P.Hz,g=this.P.oc,n=this.$?t.LC:t.tI,m=!1,r,u=null,x=e.length;this.oc=g;if(this.Y)this.ve=null,this.Uv();else{if(this.oc){if(this.ia||this.D)x=16;var y=0;for(r=!0;y<x&&r;)e[y]!==c[y]?r=!1:y+=1;r&&(this.oc=!1,y=a.Cb.indexOf("|"),-1!==y&&(a.Cb=a.Cb.substr(0,y)),y=a.pd.indexOf("|"),
-1!==y&&(a.pd=a.pd.substr(0,y)));if(this.oc&&(this.ia||this.D))for(y=0;y<x;y+=1)a=e[y],e[y]=c[y],c[y]=a}this.de=this.yc=this.sf=this.ce=this.mi=this.qh=this.Nf=this.oh=null;if(this.D)this.ce=this.m.I(Uint16,t.en,"Life.PCALookup1"),g?(this.sf=this.m.I(Uint16,t.en,"Life.PCALookup2"),this.lh(this.sf,e,!1),this.lh(this.ce,c,!1),this.sd(e,!1)&&this.sd(c,!1)&&(this.yc=this.m.I(Uint16,t.en,"Life.PCAReverseLookup1"),this.de=this.m.I(Uint16,t.en,"Life.PCAReverseLookup2"),this.sd(c,!1),this.lh(this.yc,c,!0),
this.sd(e,!1),this.lh(this.de,e,!0))):(this.lh(this.ce,e,!1),this.sd(e,!1)&&(this.yc=this.m.I(Uint16,t.en,"Life.PCAsReverseLookup1"),this.lh(this.yc,e,!0)));else if(this.ia){this.ce=this.m.I(Uint16,t.Gl,"Life.margolusLookup1");if(15===e[0]&&0===e[15]){g=this.oc=!0;u=new Uint8Array(16);for(y=0;16>y;y+=1)u[y]=e[y];this.pu(e,c)}g?(this.sf=this.m.I(Uint16,t.Gl,"Life.margolusLookup2"),this.kf(this.sf,e),this.kf(this.ce,c),u&&this.sd(u,!0)?(this.yc=this.m.I(Uint16,t.Gl,"Life.margolusReverseLookup1"),this.de=
this.m.I(Uint16,t.Gl,"Life.margolusReverseLookup2"),this.pu(u,c),this.kf(this.yc,c),this.kf(this.de,u)):this.sd(e,!1)&&this.sd(c,!1)&&(this.yc=this.m.I(Uint16,t.Gl,"Life.margolusReverseLookup1"),this.de=this.m.I(Uint16,t.Gl,"Life.margolusReverseLookup2"),this.sd(e,!0),this.kf(this.yc,e),this.sd(c,!0),this.kf(this.de,c))):(this.kf(this.ce,e),this.sd(e,!0)&&(this.yc=this.m.I(Uint16,t.Gl,"Life.margolusReverseLookup1"),this.kf(this.yc,e)))}else if(this.$)this.qh=this.m.I(Uint8,t.KC,"Life.indexLookupTri1"),
g?(this.mi=this.m.I(Uint8,t.KC,"Life.indexLookupTri2"),this.$k(this.mi,e),this.$k(this.qh,c)):this.$k(this.qh,e);else{this.oh=this.m.I(Uint8,t.pt,"Life.indexLookup63");if(-1===this.Nd&&e[0]){if(!e[n-1]){for(y=0;y<n/2;y+=1)a=e[y],e[y]=e[n-y-1],e[n-y-1]=a;m=!0;this.Nf=this.m.I(Uint8,t.pt,"Life.indexLookup632");this.jj(this.Nf,e)}for(y=0;y<n/2;y+=1)a=e[y],e[y]=1-e[n-y-1],e[n-y-1]=1-a}this.oc?(this.Nf=this.m.I(Uint8,t.pt,"Life.indexLookup632"),this.jj(this.Nf,e),this.jj(this.oh,c)):(this.jj(this.oh,e),
m&&(this.oc=!0))}}};h.prototype.A=function(a){var e=0;0!==(a&32768)?e=0:0!==(a&16384)?e=1:0!==(a&8192)?e=2:0!==(a&4096)?e=3:0!==(a&2048)?e=4:0!==(a&1024)?e=5:0!==(a&512)?e=6:0!==(a&256)?e=7:0!==(a&128)?e=8:0!==(a&64)?e=9:0!==(a&32)?e=10:0!==(a&16)?e=11:0!==(a&8)?e=12:0!==(a&4)?e=13:0!==(a&2)?e=14:0!==(a&1)&&(e=15);return e};h.prototype.K=function(a){var e=0;0!==(a&1)?e=15:0!==(a&2)?e=14:0!==(a&4)?e=13:0!==(a&8)?e=12:0!==(a&16)?e=11:0!==(a&32)?e=10:0!==(a&64)?e=9:0!==(a&128)?e=8:0!==(a&256)?e=7:0!==
(a&512)?e=6:0!==(a&1024)?e=5:0!==(a&2048)?e=4:0!==(a&4096)?e=3:0!==(a&8192)?e=2:0!==(a&16384)&&(e=1);return e};h.prototype.Tv=function(a){var e=this.hc,c=this.da,g=this.width,n=this.height,m,r=this.H.o,u=this.H.g,x=this.H.f,y=this.H.l,v,B;for(v=0;v<n;v+=1){var b=e[v];var l=c[v>>4];for(B=m=0;B<g;B+=1)0!==b[B]&&(l[B>>8]|=1<<(~(B>>4)&15),m|=b[B],B<x&&(x=B),B>y&&(y=B));m&&(v<u&&(u=v),v>r&&(r=v))}a||(this.H.o=r,this.H.g=u,this.H.f=x,this.H.l=y)};h.prototype.KG=function(){var a,e,c,g=this.ob,n=this.oa,
m=this.da,r,u=this.va,x=this.qa>>4,y=this.md;var v=0;var B=v+16;m.Ya.fill(0);for(e=0;e<u;e+=1){var b=0;var l=n[e];var f=m[e];var q=0<e?m[e-1]:y;var w=e<u-1?m[e+1]:y;l[0]&=32767;l[x-1]&=65534;for(c=0;c<x;c+=1)if(r=l[c]){var z=f[c];var A=q[c];var C=w[c];for(a=15;0<=a;--a){if(0!==(r&1<<a)){var D=!1;var E=0;var F=v;var G=g[F];if(G=G[b])D=!0,0!==(G&32768)&&(E|=t.zb,E|=t.Hb),0!==(G&1)&&(E|=t.Wa,E|=t.Ib),E|=t.xb;for(F+=1;F<B-1;){G=g[F];if(G=G[b])D=!0,0!==(G&32768)&&(E|=t.zb),0!==(G&1)&&(E|=t.Wa);F+=1}G=
g[F];if(G=G[b])D=!0,0!==(G&32768)&&(E|=t.zb,E|=t.Jb),0!==(G&1)&&(E|=t.Wa,E|=t.ib),E|=t.jb;D&&(z|=1<<a,E&&(0!==(E&t.zb)&&(15>a?z|=1<<a+1:0<c&&(f[c-1]|=1)),0!==(E&t.Wa)&&(0<a?z|=1<<a-1:c<x-1&&(f[c+1]|=32768)),0!==(E&t.xb)&&(A|=1<<a),0!==(E&t.jb)&&(C|=1<<a),0!==(E&t.Hb)&&(15>a?A|=1<<a+1:0<c&&(q[c-1]|=1)),0!==(E&t.Ib)&&(0<a?A|=1<<a-1:c<x-1&&(q[c+1]|=32768)),0!==(E&t.Jb)&&(15>a?C|=1<<a+1:0<c&&(w[c-1]|=1)),0!==(E&t.ib)&&(0<a?C|=1<<a-1:c<x-1&&(w[c+1]|=32768))))}b+=1}f[c]|=z;0<e&&(q[c]|=A);e<u-1&&(w[c]|=
C)}else b+=16;v+=16;B+=16}y.fill(0)};h.prototype.NG=function(){var a,e,c,g=this.ob,n=this.oa,m=this.Z,r=this.da,u,x=this.va,y=this.qa>>4,v=this.md;var B=0;var b=B+16;r.Ya.fill(0);for(e=0;e<x;e+=1){var l=0;var f=n[e];var q=r[e];var w=0<e?r[e-1]:v;var z=e<x-1?r[e+1]:v;f[0]&=32767;f[y-1]&=65534;for(c=0;c<y;c+=1)if(u=f[c]){var A=q[c];var C=w[c];var D=z[c];for(a=15;0<=a;--a){if(0!==(u&1<<a)){var E=!1;var F=0;var G=B;var H=g[G];var I=m[G];H=H[l];var O=l<<4;0<I[O]&&(H|=32768);O+=1;0<I[O]&&(H|=16384);O+=
1;0<I[O]&&(H|=8192);O+=1;0<I[O]&&(H|=4096);O+=1;0<I[O]&&(H|=2048);O+=1;0<I[O]&&(H|=1024);O+=1;0<I[O]&&(H|=512);O+=1;0<I[O]&&(H|=256);O+=1;0<I[O]&&(H|=128);O+=1;0<I[O]&&(H|=64);O+=1;0<I[O]&&(H|=32);O+=1;0<I[O]&&(H|=16);O+=1;0<I[O]&&(H|=8);O+=1;0<I[O]&&(H|=4);O+=1;0<I[O]&&(H|=2);O+=1;0<I[O]&&(H|=1);H&&(E=!0,0!==(H&32768)&&(F|=t.zb,F|=t.Hb),0!==(H&1)&&(F|=t.Wa,F|=t.Ib),F|=t.xb);for(G+=1;G<b-1;)H=g[G],I=m[G],H=H[l],O=l<<4,0<I[O]&&(H|=32768),O+=1,0<I[O]&&(H|=16384),O+=1,0<I[O]&&(H|=8192),O+=1,0<I[O]&&
(H|=4096),O+=1,0<I[O]&&(H|=2048),O+=1,0<I[O]&&(H|=1024),O+=1,0<I[O]&&(H|=512),O+=1,0<I[O]&&(H|=256),O+=1,0<I[O]&&(H|=128),O+=1,0<I[O]&&(H|=64),O+=1,0<I[O]&&(H|=32),O+=1,0<I[O]&&(H|=16),O+=1,0<I[O]&&(H|=8),O+=1,0<I[O]&&(H|=4),O+=1,0<I[O]&&(H|=2),O+=1,0<I[O]&&(H|=1),H&&(E=!0,0!==(H&32768)&&(F|=t.zb),0!==(H&1)&&(F|=t.Wa)),G+=1;H=g[G];I=m[G];H=H[l];O=l<<4;0<I[O]&&(H|=32768);O+=1;0<I[O]&&(H|=16384);O+=1;0<I[O]&&(H|=8192);O+=1;0<I[O]&&(H|=4096);O+=1;0<I[O]&&(H|=2048);O+=1;0<I[O]&&(H|=1024);O+=1;0<I[O]&&
(H|=512);O+=1;0<I[O]&&(H|=256);O+=1;0<I[O]&&(H|=128);O+=1;0<I[O]&&(H|=64);O+=1;0<I[O]&&(H|=32);O+=1;0<I[O]&&(H|=16);O+=1;0<I[O]&&(H|=8);O+=1;0<I[O]&&(H|=4);O+=1;0<I[O]&&(H|=2);O+=1;0<I[O]&&(H|=1);H&&(E=!0,0!==(H&32768)&&(F|=t.zb,F|=t.Jb),0!==(H&1)&&(F|=t.Wa,F|=t.ib),F|=t.jb);E&&(A|=1<<a,F&&(0!==(F&t.zb)&&(15>a?A|=1<<a+1:0<c&&(q[c-1]|=1)),0!==(F&t.Wa)&&(0<a?A|=1<<a-1:c<y-1&&(q[c+1]|=32768)),0!==(F&t.xb)&&(C|=1<<a),0!==(F&t.jb)&&(D|=1<<a),0!==(F&t.Hb)&&(15>a?C|=1<<a+1:0<c&&(w[c-1]|=1)),0!==(F&t.Ib)&&
(0<a?C|=1<<a-1:c<y-1&&(w[c+1]|=32768)),0!==(F&t.Jb)&&(15>a?D|=1<<a+1:0<c&&(z[c-1]|=1)),0!==(F&t.ib)&&(0<a?D|=1<<a-1:c<y-1&&(z[c+1]|=32768))))}l+=1}q[c]|=A;0<e&&(w[c]|=C);e<x-1&&(z[c]|=D)}else l+=16;B+=16;b+=16}v.fill(0)};h.prototype.Mh=function(){var a,e,c=this.width>>4,g=this.height,n=this.width,m=this.hc;var r=this.Z;var u=this.H,x=this.Ea,y=this.xf,v=this.height,B=-1,b=this.width,l=-1,f=this.height,q=-1,w=this.width,z=-1,A,C=this.fa;if(this.sh){this.sh=!1;(this.D||this.Y)&&0!==(this.v&1)&&(r=this.Ra);
var D=0!==(this.v&1)?this.cc:this.ob;if(m)for(e=0;e<g;e+=1){var E=m[e];for(a=A=0;a<n;a+=1){var F=E[a];A|=F;F&&(a<w&&(w=a),a>z&&(z=a))}A&&(e<f&&(f=e),e>q&&(q=e))}C.fill(0);if(-1!==this.h)for(e=0;e<g;e+=1){c=r[e];for(a=A=0;a<n;a+=1)F=c[a],A|=F,F&&(a<b&&(b=a),a>l&&(l=a));A&&(e<v&&(v=e),e>B&&(B=e))}else{for(e=0;e<g;e+=1){r=D[e];for(a=A=0;a<c;a+=1)F=r[a],A|=F,C[a]|=F;A&&(e<v&&(v=e),e>B&&(B=e))}for(a=0;a<c;a+=1)C[a]&&(a<b&&(b=a),a>l&&(l=a));b=(b<<4)+this.A(C[b]);l=(l<<4)+this.K(C[l])}if(0>B||v>=g||b>=n||
0>l)v=B=g>>1,l=b=n>>1;m&&(q<B&&(B=q),f>v&&(v=f),w<b&&(b=w),z>l&&(l=z));B>this.height-1&&(B=this.height-1);0>v&&(v=0);0>b&&(b=0);l>this.width-1&&(l=this.width-1);u.o=B;u.g=v;u.f=b;u.l=l;x.o=B;x.g=v;x.f=b;x.l=l;y.o=B;y.g=v;y.f=b;y.l=l}};h.prototype.Ez=function(a){var e,c,g=this.width>>4,n=this.height,m=this.width,r=this.hc;var u=this.Z;var x=this.H,y=this.Ea,v=this.xf,B=this.height,b=-1,l=this.width,f=-1,q=this.height,w=-1,z=this.width,A=-1,C,D=this.fa,E=this.Ga,F=this.za;if(0!==(this.v&1)){var G=this.cc;
var H=this.oa;var I=this.da}else G=this.ob,H=this.da,I=this.oa;if(r&&!a)for(c=0;c<n;c+=1){var O=r[c];for(e=C=0;e<m;e+=1){var K=O[e];C|=K;K&&(e<z&&(z=e),e>A&&(A=e))}C&&(c<q&&(q=c),c>w&&(w=c))}D.fill(0);I.Ya.fill(0);if(-1!==this.h)for(c=0;c<n;c+=1){g=u[c];for(e=C=0;e<m;e+=1)K=g[e],C|=K,K&&(e<l&&(l=e),e>f&&(f=e));C&&(c<B&&(B=c),c>b&&(b=c))}else{for(c=0;c<n;c+=1){u=G[c];for(e=C=0;e<g;e+=1)K=u[e],C|=K,D[e]|=K;C&&(c<B&&(B=c),c>b&&(b=c))}for(e=0;e<g;e+=1)D[e]&&(e<l&&(l=e),e>f&&(f=e));l=(l<<4)+this.A(D[l]);
f=(f<<4)+this.K(D[f])}if(0>b||B>=n||l>=m||0>f)B=b=n>>1,f=l=m>>1;r&&!a&&(w<b&&(b=w),q>B&&(B=q),z<l&&(l=z),A>f&&(f=A));b>this.height-1&&(b=this.height-1);0>B&&(B=0);0>l&&(l=0);f>this.width-1&&(f=this.width-1);x.o=b;x.g=B;x.f=l;x.l=f;y.o=b;y.g=B;y.f=l;y.l=f;v.o=b;v.g=B;v.f=l;v.l=f;0<l&&--l;0<B&&--B;f<this.width-1&&(f+=1);b<this.height-1&&(b+=1);K=b>>4;l>>=8;f>>=8;for(c=B>>4;c<=K;c+=1)for(B=I[c],e=l;e<=f;e+=1)B[e]=-1;-1!==this.h?this.NG():this.KG();r&&(this.Tv(a),v.o=x.o,v.g=x.g,v.f=x.f,v.l=x.l);Array.yi(H,
I);Array.yi(H,E);Array.yi(H,F)};h.prototype.yv=function(a,e){var c=this.ia?-1:0;var g=Math.round((this.width-this.ua)/2)+c,n=Math.round((this.height-this.ra)/2)+c,m=g+this.ua-1,r=n+this.ra-1,u=g-a>>4,x=m+a>>4,y=g-a>>4,v=m+a>>4,B=~(1<<(~(g-a)&15)),b=~(1<<(~(m+a)&15)),l=this.$g,f=0;if(!this.D||this.Y){c=0!==(this.v&1)?this.cc:this.ob;var q=c[r+a];var w=c[n-a];if(0===this.ua)for(x=this.width>>4,u=0;u<x;u+=1)f+=l[w[u]],w[u]=0,f+=l[q[u]],q[u]=0;else if(0===this.ra)for(n=0,r=this.height,x=0;x<r;x+=1)q=
c[x],q[y]&~B&&(f+=1),q[y]&=B,q[v]&~b&&(f+=1),q[v]&=b;else{for(;u<=x;u+=1)f+=l[w[u]],w[u]=0,f+=l[q[u]],q[u]=0;for(x=n-a+1;x<=r+a-1;x+=1)q=c[x],q[y]&~B&&(f+=1),q[y]&=B,q[v]&~b&&(f+=1),q[v]&=b}e&&(this.ma-=f)}if(-1!==this.h)if(c=this.Z,(this.D||this.Y)&&0!==(this.v&1)&&(c=this.Ra),g-=a,m+=a,r+=a,n-=a,q=c[r],w=c[n],0===this.ua)w.fill(0),q.fill(0);else if(0===this.ra)for(x=0;x<this.height;x+=1)c[x][g]=0,c[x][m]=0;else for(w.fill(0,g,m+1),q.fill(0,g,m+1),x=n+1;x<=r-1;x+=1)c[x][g]=0,c[x][m]=0};h.prototype.qf=
function(a,e,c){var g,n;e-=2;c-=2;var m=0;for(g=!0;g&&m<a.length;){var r=0;for(n=a[m];g&&r<n.length;){var u=n[r];var x=this.Z[c+m][e+r];x<this.sb&&0===u||x>=this.sb&&1===u||(g=!1);r+=1}m+=1}if(g)for(this.Sq+=1,m=0;m<a.length;m+=1)for(n=a[m],r=0;r<n.length;r+=1)1===n[r]&&this.Vi(e+r,c+m,0,!1);return g};h.prototype.Av=function(){var a,e=this.H.f,c=this.H.l,g=this.H.g,n=this.H.o,m=this.Z,r=m[n],u=m[g],x=this.sb;if(-1===this.sa){for(a=e;a<=c;a+=1)u[a]>=x&&(this.qf(this.dl,a,g)||this.qf(this.cl,a,g)),
r[a]>=x&&(this.qf(this.el,a,n-2)||this.qf(this.Yk,a,n-2));for(a=g;a<=n;a+=1)g=m[a],g[e]>=x&&(this.qf(this.dl,e,a)||this.qf(this.el,e,a-1)),g[c]>=x&&(this.qf(this.cl,c-2,a)||this.qf(this.Yk,c-2,a-1));this.Mh()}};h.prototype.Uz=function(){var a=this.ia?-1:0,e=this.ua;var c=this.ra;var g=Math.round((this.width-e)/2-1)+a>>4,n=Math.round((this.width+e)/2)+a>>4;var m=Math.round((this.height-c)/2-1)+a>>4;a=Math.round((this.height+c)/2)+a>>4;0===c&&(m=0,a=(this.height>>4)-1);0===e&&(g=0,n=(this.width>>4)-
1);0>g&&(g=0);0>m&&(m=0);n>=this.width>>4&&(n=(this.width>>4)-1);a>=this.height>>4&&(a=(this.height>>4)-1);for(c=g;c<=n;c+=1)e=1<<(~c&15),this.da[m][c>>4]|=e,this.oa[m][c>>4]|=e,this.Ga[m][c>>4]|=e,this.za[m][c>>4]|=e,this.da[a][c>>4]|=e,this.oa[a][c>>4]|=e,this.Ga[a][c>>4]|=e,this.za[a][c>>4]|=e;for(;m<=a;m+=1)e=1<<(~g&15),this.da[m][g>>4]|=e,this.oa[m][g>>4]|=e,this.Ga[m][g>>4]|=e,this.za[m][g>>4]|=e,e=1<<(~n&15),this.da[m][n>>4]|=e,this.oa[m][n>>4]|=e,this.Ga[m][n>>4]|=e,this.za[m][n>>4]|=e};h.prototype.YF=
function(a){var e=this.ua,c=this.ra,g=this.ia?-1:0,n=Math.round((this.width-e)/2)+g;g=Math.round((this.height-c)/2)+g;var m=n+e-1,r=g+c-1,u=this.Jm,x=this.Km,y=this.za,v;0===this.ua&&(n=0,m=this.width-1,e=this.width);0===this.ra&&(g=0,r=this.height-1,c=this.height);if(0!==this.ra)for(v=0;v<e;v+=1){var B=n+v;var b=n+(v+u+e)%e;var l=a[r][B];0!==l&&(a[g-1][b]=l,y[g-1>>4][b>>8]|=1<<(~(b>>4)&15),15===(g-1&15)&&(y[(g-1>>4)+1][b>>8]|=1<<(~(b>>4)&15)));b=n+(v-u+e)%e;l=a[g][B];0!==l&&(a[r+1][b]=l,y[r+1>>4][b>>
8]|=1<<(~(b>>4)&15),0===(r+1&15)&&(y[(r+1>>4)-1][b>>8]|=1<<(~(b>>4)&15)))}if(0!==this.ua)for(v=0;v<c;v+=1)B=g+v,b=g+(v-x+c)%c,l=a[B][n],0!==l&&(a[b][m+1]=l,y[b>>4][m+1>>8]|=1<<(~(m+1>>4)&15),0===(m+1&15)&&(y[b>>4][m-15>>8]|=1<<(~(m-15>>4)&15))),b=g+(v+x+c)%c,l=a[B][m],0!==l&&(a[b][n-1]=l,y[b>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(y[b>>4][n+15>>8]|=1<<(~(n+15>>4)&15)));0!==this.ua&&0!==this.ra&&(l=a[g+(c-1+x+c)%c][n+(-u+e)%e],a[g-1][m+1]=l,l=a[g+(c-1-x+c)%c][n+(e-1-u+e)%e],a[g-1][n-1]=l,l=
a[g+(x+c)%c][n+(u+e)%e],a[r+1][m+1]=l,l=a[g+(-x+c)%c][n+(e-1+u+e)%e],a[r+1][n-1]=l)};h.prototype.SF=function(a){var e=this.za,c=this.ua,g=this.ra,n=this.ia?-1:0,m=Math.round((this.width-c)/2)+n;n=Math.round((this.height-g)/2)+n;var r=m+c-1,u=n+g-1,x=this.Jm,y=this.Km,v=this.ws,B=this.tw,b;for(b=0;b<c;b+=1){var l=m+b;var f=v?r-(b+x+c)%c:m+(b+x+c)%c;var q=a[u][l];0!==q&&(a[n-1][f]=q,e[n-1>>4][f>>8]|=1<<(~(f>>4)&15),15===(n-1&15)&&(e[(n-1>>4)+1][f>>8]|=1<<(~(f>>4)&15)));f=v?r-(b-x+c)%c:m+(b-x+c)%c;q=
a[n][l];0!==q&&(a[u+1][f]=q,e[u+1>>4][f>>8]|=1<<(~(f>>4)&15),0===(u+1&15)&&(e[(u+1>>4)-1][f>>8]|=1<<(~(f>>4)&15)))}for(b=0;b<g;b+=1)l=n+b,f=B?u-(b-y+g)%g:n+(b-y+g)%g,q=a[l][m],0!==q&&(a[f][r+1]=q,e[f>>4][r+1>>8]|=1<<(~(r+1>>4)&15),0===(r+1&15)&&(e[f>>4][r-15>>8]|=1<<(~(r-15>>4)&15))),f=B?u-(b+y+g)%g:n+(b+y+g)%g,q=a[l][r],0!==q&&(a[f][m-1]=q,e[f>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(e[f>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));q=a[B?u-(g-1+y+g)%g:n+(g-1+y+g)%g][v?r-(-x+c)%c:m+(-x+c)%c];a[n-1][r+
1]=q;q=a[B?u-(g-1+y+g)%g:n+(g-1+y+g)%g][v?r-(c-1-x+c)%c:m+(c-1-x+c)%c];a[n-1][m-1]=q;q=a[B?u-(y+g)%g:n+(y+g)%g][v?r-(x+c)%c:m+(x+c)%c];a[u+1][r+1]=q;q=a[B?u-(y+g)%g:n+(y+g)%g][v?r-(c-1+x+c)%c:m+(c-1+x+c)%c];a[u+1][m-1]=q};h.prototype.QF=function(a){var e=this.Ga,c=this.ua,g=this.ra,n=this.ia?-1:0,m=Math.round((this.width-c)/2)+n;n=Math.round((this.height-g)/2)+n;var r=m+c-1,u=n+g-1,x;for(x=0;x<c;x+=1){var y=m+x;var v=r-x;var B=a[u][y];0!==B&&(a[n-1][v]=B,e[n-1>>4][v>>8]|=1<<(~(v>>4)&15),15===(n-1&
15)&&(e[(n-1>>4)+1][v>>8]|=1<<(~(v>>4)&15)));B=a[n][y];0!==B&&(a[u+1][v]=B,e[u+1>>4][v>>8]|=1<<(~(v>>4)&15),0===(u+1&15)&&(e[(u+1>>4)-1][v>>8]|=1<<(~(v>>4)&15)))}for(x=0;x<=g;x+=1)y=n+x,v=u-x,B=a[y][m],0!==B&&(a[v][r+1]=B,e[v>>4][r+1>>8]|=1<<(~(r+1>>4)&15),0===(r+1&15)&&(e[v>>4][r-15>>8]|=1<<(~(r-15>>4)&15))),B=a[y][r],0!==B&&(a[v][m-1]=B,e[v>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(e[v>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));B=a[u][m];a[u+1][m-1]=B;B=a[u][r];a[u+1][r+1]=B;B=a[n][m];a[n-1][m-1]=
B;B=a[n][r];a[n-1][r+1]=B};h.prototype.WF=function(a){var e=this.Ga,c=this.ua,g=this.ra,n=this.ia?-1:0,m=Math.round((this.width-c)/2)+n;n=Math.round((this.height-g)/2)+n;var r=m+c-1;g=n+g-1;var u;for(u=0;u<c;u+=1){var x=n+u;var y=m+u;var v=a[x][m];0!==v&&(a[n-1][y]=v,e[n-1>>4][y>>8]|=1<<(~(y>>4)&15),15===(n-1&15)&&(e[(n-1>>4)+1][y>>8]|=1<<(~(y>>4)&15)));v=a[x][r];0!==v&&(a[g+1][y]=v,e[g+1>>4][y>>8]|=1<<(~(y>>4)&15),0===(g+1&15)&&(e[(g+1>>4)-1][y>>8]|=1<<(~(y>>4)&15)));v=a[n][y];0!==v&&(a[x][m-1]=
v,e[x>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(e[x>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));v=a[g][y];0!==v&&(a[x][r+1]=v,e[x>>4][r+1>>8]|=1<<(~(r+1>>4)&15),0===(r+1&15)&&(e[x>>4][r-15>>8]|=1<<(~(r-15>>4)&15)))}v=a[g][m];a[g+1][m-1]=v;v=a[g][r];a[g+1][r+1]=v;v=a[n][m];a[n-1][m-1]=v;v=a[n][r];a[n-1][r+1]=v};h.prototype.XF=function(){var a=this.Ga,e=this.ua,c=this.ra;var g=this.ia?-1:0;var n=Math.round((this.width-e)/2)+g,m=Math.round((this.height-c)/2)+g,r=n+e-1,u=m+c-1,x=this.Jm,y=this.Km,v=this.$&&
0<n&&r<this.width-1,B;if(0!==(this.v&1)){g=this.cc;var b=this.oa}else g=this.ob,b=this.da;0===this.ua&&(n=0,r=this.width-1,e=this.width);0===this.ra&&(m=0,u=this.height-1,c=this.height);if(0!==this.ra)for(B=0;B<e;B+=1){var l=n+B;var f=n+(B+x+e)%e;0!==(g[u][l>>4]&1<<(~l&15))&&(g[m-1][f>>4]|=1<<(~f&15),b[m-1>>4][f>>8]|=1<<(~(f>>4)&15),a[m-1>>4][f>>8]|=1<<(~(f>>4)&15),15===(m-1&15)&&(b[(m-1>>4)+1][f>>8]|=1<<(~(f>>4)&15),a[(m-1>>4)+1][f>>8]|=1<<(~(f>>4)&15)));f=n+(B-x+e)%e;0!==(g[m][l>>4]&1<<(~l&15))&&
(g[u+1][f>>4]|=1<<(~f&15),b[u+1>>4][f>>8]|=1<<(~(f>>4)&15),a[u+1>>4][f>>8]|=1<<(~(f>>4)&15),0===(u+1&15)&&(b[(u+1>>4)-1][f>>8]|=1<<(~(f>>4)&15),a[(u+1>>4)-1][f>>8]|=1<<(~(f>>4)&15)))}if(0!==this.ua)for(B=0;B<c;B+=1)l=m+B,f=m+(B-y+c)%c,0!==(g[l][n>>4]&1<<(~n&15))&&(g[f][r+1>>4]|=1<<(~(r+1)&15),b[f>>4][r+1>>8]|=1<<(~(r+1>>4)&15),a[f>>4][r+1>>8]|=1<<(~(r+1>>4)&15),0===(r+1&15)&&(b[f>>4][r-15>>8]|=1<<(~(r-15>>4)&15),a[f>>4][r-15>>8]|=1<<(~(r-15>>4)&15))),v&&(n+=1,r+=1,0!==(g[l][n>>4]&1<<(~n&15))&&(g[f][r+
1>>4]|=1<<(~(r+1)&15),b[f>>4][r+1>>8]|=1<<(~(r+1>>4)&15),a[f>>4][r+1>>8]|=1<<(~(r+1>>4)&15),0===(r+1&15)&&(b[f>>4][r-15>>8]|=1<<(~(r-15>>4)&15),a[f>>4][r-15>>8]|=1<<(~(r-15>>4)&15))),--n,--r),f=m+(B+y+c)%c,0!==(g[l][r>>4]&1<<(~r&15))&&(g[f][n-1>>4]|=1<<(~(n-1)&15),b[f>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[f>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(b[f>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[f>>4][n+15>>8]|=1<<(~(n+15>>4)&15))),v&&(--n,--r,0!==(g[l][r>>4]&1<<(~r&15))&&(g[f][n-1>>4]|=1<<(~(n-1)&15),b[f>>
4][n-1>>8]|=1<<(~(n-1>>4)&15),a[f>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(b[f>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[f>>4][n+15>>8]|=1<<(~(n+15>>4)&15))),n+=1,r+=1);0!==this.ua&&0!==this.ra&&(l=n+(-x+e)%e,g[m-1][r+1>>4]=0!==(g[m+(c-1+y+c)%c][l>>4]&1<<(~l&15))?g[m-1][r+1>>4]|1<<(~(r+1)&15):g[m-1][r+1>>4]&~(1<<(~(r+1)&15)),l=n+(e-1-x+e)%e,g[m-1][n-1>>4]=0!==(g[m+(c-1-y+c)%c][l>>4]&1<<(~l&15))?g[m-1][n-1>>4]|1<<(~(n-1)&15):g[m-1][n-1>>4]&~(1<<(~(n-1)&15)),l=n+(x+e)%e,g[u+1][r+1>>4]=0!==(g[m+(y+c)%
c][l>>4]&1<<(~l&15))?g[u+1][r+1>>4]|1<<(~(r+1)&15):g[u+1][r+1>>4]&~(1<<(~(r+1)&15)),l=n+(e-1+x+e)%e,g[u+1][n-1>>4]=0!==(g[m+(-y+c)%c][l>>4]&1<<(~l&15))?g[u+1][n-1>>4]|1<<(~(n-1)&15):g[u+1][n-1>>4]&~(1<<(~(n-1)&15)))};h.prototype.RF=function(){var a=this.Ga,e=this.ua,c=this.ra;var g=this.ia?-1:0;var n=Math.round((this.width-e)/2)+g,m=Math.round((this.height-c)/2)+g,r=n+e-1,u=m+c-1,x=this.Jm,y=this.Km,v=this.ws,B=this.tw,b;if(0!==(this.v&1)){g=this.cc;var l=this.oa}else g=this.ob,l=this.da;for(b=0;b<
e;b+=1){var f=n+b;var q=v?r-(b+x+e)%e:n+(b+x+e)%e;0!==(g[u][f>>4]&1<<(~f&15))&&(g[m-1][q>>4]|=1<<(~q&15),l[m-1>>4][q>>8]|=1<<(~(q>>4)&15),a[m-1>>4][q>>8]|=1<<(~(q>>4)&15),15===(m-1&15)&&(l[(m-1>>4)+1][q>>8]|=1<<(~(q>>4)&15),a[(m-1>>4)+1][q>>8]|=1<<(~(q>>4)&15)));q=v?r-(b-x+e)%e:n+(b-x+e)%e;0!==(g[m][f>>4]&1<<(~f&15))&&(g[u+1][q>>4]|=1<<(~q&15),l[u+1>>4][q>>8]|=1<<(~(q>>4)&15),a[u+1>>4][q>>8]|=1<<(~(q>>4)&15),0===(u+1&15)&&(l[(u+1>>4)-1][q>>8]|=1<<(~(q>>4)&15),a[(u+1>>4)-1][q>>8]|=1<<(~(q>>4)&15)))}for(b=
0;b<c;b+=1)f=m+b,q=B?u-(b-y+c)%c:m+(b-y+c)%c,0!==(g[f][n>>4]&1<<(~n&15))&&(g[q][r+1>>4]|=1<<(~(r+1)&15),l[q>>4][r+1>>8]|=1<<(~(r+1>>4)&15),a[q>>4][r+1>>8]|=1<<(~(r+1>>4)&15),0===(r+1&15)&&(l[q>>4][r-15>>8]|=1<<(~(r-15>>4)&15),a[q>>4][r-15>>8]|=1<<(~(r-15>>4)&15))),q=B?u-(b+y+c)%c:m+(b+y+c)%c,0!==(g[f][r>>4]&1<<(~r&15))&&(g[q][n-1>>4]|=1<<(~(n-1)&15),l[q>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[q>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(l[q>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[q>>4][n+15>>8]|=1<<(~(n+
15>>4)&15)));f=v?r-(-x+e)%e:n+(-x+e)%e;0!==(g[B?u-(c-1+y+c)%c:m+(c-1+y+c)%c][f>>4]&1<<(~f&15))&&(g[m-1][r+1>>4]|=1<<(~(r+1)&15));f=v?r-(e-1-x+e)%e:n+(e-1-x+e)%e;0!==(g[B?u-(c-1+y+c)%c:m+(c-1+y+c)%c][f>>4]&1<<(~f&15))&&(g[m-1][n-1>>4]|=1<<(~(n-1)&15));f=v?r-(x+e)%e:n+(x+e)%e;0!==(g[B?u-(y+c)%c:m+(y+c)%c][f>>4]&1<<(~f&15))&&(g[u+1][r+1>>4]|=1<<(~(r+1)&15));f=v?r-(e-1+x+e)%e:n+(e-1+x+e)%e;0!==(g[B?u-(y+c)%c:m+(y+c)%c][f>>4]&1<<(~f&15))&&(g[u+1][n-1>>4]|=1<<(~(n-1)&15))};h.prototype.Fv=function(){var a=
this.Ga,e=this.ua,c=this.ra;var g=this.ia?-1:0;var n=Math.round((this.width-e)/2)+g,m=Math.round((this.height-c)/2)+g,r=n+e-1,u=m+c-1,x;if(0!==(this.v&1)){g=this.cc;var y=this.oa}else g=this.ob,y=this.da;for(x=0;x<e;x+=1){var v=n+x;var B=r-x;0!==(g[u][v>>4]&1<<(~v&15))&&(g[m-1][B>>4]|=1<<(~B&15),y[m-1>>4][B>>8]|=1<<(~(B>>4)&15),a[m-1>>4][B>>8]|=1<<(~(B>>4)&15),15===(m-1&15)&&(y[(m-1>>4)+1][B>>8]|=1<<(~(B>>4)&15),a[(m-1>>4)+1][B>>8]|=1<<(~(B>>4)&15)));0!==(g[m][v>>4]&1<<(~v&15))&&(g[u+1][B>>4]|=1<<
(~B&15),y[u+1>>4][B>>8]|=1<<(~(B>>4)&15),a[u+1>>4][B>>8]|=1<<(~(B>>4)&15),0===(u+1&15)&&(y[(u+1>>4)-1][B>>8]|=1<<(~(B>>4)&15),a[(u+1>>4)-1][B>>8]|=1<<(~(B>>4)&15)))}for(x=0;x<=c;x+=1)v=m+x,B=u-x,0!==(g[v][n>>4]&1<<(~n&15))&&(g[B][r+1>>4]|=1<<(~(r+1)&15),y[B>>4][r+1>>8]|=1<<(~(r+1>>4)&15),a[B>>4][r+1>>8]|=1<<(~(r+1>>4)&15),0===(r+1&15)&&(y[B>>4][r-15>>8]|=1<<(~(r-15>>4)&15),a[B>>4][r-15>>8]|=1<<(~(r-15>>4)&15))),0!==(g[v][r>>4]&1<<(~r&15))&&(g[B][n-1>>4]|=1<<(~(n-1)&15),y[B>>4][n-1>>8]|=1<<(~(n-1>>
4)&15),a[B>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(y[B>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[B>>4][n+15>>8]|=1<<(~(n+15>>4)&15)));0!==(g[u][n>>4]&1<<(~n&15))&&(g[u+1][n-1>>4]|=1<<(~(n-1)&15));0!==(g[u][r>>4]&1<<(~r&15))&&(g[u+1][r+1>>4]|=1<<(~(r+1)&15));0!==(g[m][n>>4]&1<<(~n&15))&&(g[m-1][n-1>>4]|=1<<(~(n-1)&15));0!==(g[m][r>>4]&1<<(~r&15))&&(g[m-1][r+1>>4]|=1<<(~(r+1)&15))};h.prototype.VF=function(){var a=this.Ga,e=this.ua;var c=this.ra;var g=this.ia?-1:0,n=Math.round((this.width-e)/2)+g;g=
Math.round((this.height-c)/2)+g;var m=n+e-1,r=g+c-1,u;if(0!==(this.v&1)){c=this.cc;var x=this.oa}else c=this.ob,x=this.da;for(u=0;u<e;u+=1){var y=g+u;var v=n+u;0!==(c[y][n>>4]&1<<(~n&15))&&(c[g-1][v>>4]|=1<<(~v&15),x[g-1>>4][v>>8]|=1<<(~(v>>4)&15),a[g-1>>4][v>>8]|=1<<(~(v>>4)&15),15===(g-1&15)&&(x[(g-1>>4)+1][v>>8]|=1<<(~(v>>4)&15),a[(g-1>>4)+1][v>>8]|=1<<(~(v>>4)&15)));0!==(c[y][m>>4]&1<<(~m&15))&&(c[r+1][v>>4]|=1<<(~v&15),x[r+1>>4][v>>8]|=1<<(~(v>>4)&15),a[r+1>>4][v>>8]|=1<<(~(v>>4)&15),0===(r+
1&15)&&(x[(r+1>>4)-1][v>>8]|=1<<(~(v>>4)&15),a[(r+1>>4)-1][v>>8]|=1<<(~(v>>4)&15)));0!==(c[g][v>>4]&1<<(~v&15))&&(c[y][n-1>>4]|=1<<(~(n-1)&15),x[y>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[y>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(x[y>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[y>>4][n+15>>8]|=1<<(~(n+15>>4)&15)));0!==(c[r][v>>4]&1<<(~v&15))&&(c[y][m+1>>4]|=1<<(~(m+1)&15),x[y>>4][m+1>>8]|=1<<(~(m+1>>4)&15),a[y>>4][m+1>>8]|=1<<(~(m+1>>4)&15),0===(m+1&15)&&(x[y>>4][m-15>>8]|=1<<(~(m-15>>4)&15),a[y>>4][m-15>>8]|=
1<<(~(m-15>>4)&15)))}0!==(c[r][n>>4]&1<<(~n&15))&&(c[r+1][n-1>>4]|=1<<(~(n-1)&15));0!==(c[r][m>>4]&1<<(~m&15))&&(c[r+1][m+1>>4]|=1<<(~(m+1)&15));0!==(c[g][n>>4]&1<<(~n&15))&&(c[g-1][n-1>>4]|=1<<(~(n-1)&15));0!==(c[g][m>>4]&1<<(~m&15))&&(c[g-1][m+1>>4]|=1<<(~(m+1)&15))};h.prototype.zv=function(a){var e,c=1;0!==this.sa&&(c=2);this.$&&(c+=1);for(e=1;e<=c+1;e+=1)this.yv(e,a)};h.prototype.Bv=function(){var a=this.Z;if(this.D||this.Y)0!==(this.v&1)&&(a=this.Ra),this.ex(a,0);this.Uz();switch(this.sa){case 1:this.D||
this.Y?this.YF(a):this.XF();break;case 2:this.D||this.Y?this.SF(a):this.RF();break;case 3:this.D||this.Y?this.QF(a):this.Fv();break;case 4:this.D||this.Y?this.WF(a):this.VF()}this.Uz()};h.prototype.$e=function(a,e,c,g){this.$a?(this.aa=1,this.v+=1):this.TF(a,e,c,g)};h.prototype.TF=function(a,e,c,g){var n=!1,m=this.H,r=this.Vd;if(!c||g)a=!0;this.v===this.pn-1&&(n=!0,e||(a=!0));-1===this.sa||this.ya||this.Bv();this.rb&&this.WH();this.aa&&(this.Y?null===this.Jd?this.bB():this.oz():this.D?this.cz():this.ya?
this.Wb.$I(this.v):a&&2>this.h?this.ia?this.dy():this.$?this.xv():this.wv():this.ia?this.gy():this.$?this.Ay():this.py());this.v+=1;if(this.ia||this.D)this.Sc?--this.Hf:this.Hf+=1,this.Hf>this.Ji&&(this.Ji=this.Hf);-1===this.h||this.ya||this.D||this.Y||this.Qx();this.rb&&this.QH();this.Fc&&this.vv();-1===this.sa||this.ya||this.zv(a);this.width===this.ga&&(c=this.ya?2*this.Wb.ed:16,m.f<=c||m.l>=this.ga-c||m.g<=c||m.o>=this.ga-c)&&(this.ya?this.Gv():this.Ev());n&&(this.pn+=t.Fr,e||this.yr());m.f<r.f&&
(r.f=m.f);m.l>r.l&&(r.l=m.l);m.g<r.g&&(r.g=m.g);m.o>r.o&&(r.o=m.o);this.v<t.oD&&(a?(this.pv(this.ma,this.Gb,this.Xb),this.ma>this.jd&&(this.jd=this.ma),this.Gb>this.jd&&(this.jd=this.Gb),this.Xb>this.jd&&(this.jd=this.Xb)):this.pv(0,0,0))};h.prototype.pv=function(a,e,c){var g=this.v>>t.Ij,n=this.v&(1<<t.Ij)-1;this.Dc&&0<this.Dc.length&&(this.v>=this.vh&&(Array.vp(this.Dc,"Life.popGraphData"),Array.vp(this.jh,"Life.birthGraphData"),Array.vp(this.nh,"Life.deathGraphData"),this.vh+=1<<t.Ij),this.Dc[g][n]=
a,this.jh[g][n]=e,this.nh[g][n]=c)};h.prototype.ol=function(a,e,c,g,n,m,r,u){var x,y=1,v=(1<<t.Ij)-1,B=t.oD;this.v>c&&(y=c/this.v);if(u){a.strokeStyle=e;a.beginPath();var b=g-r[0]/this.jd*g|0;a.moveTo(0+m+.5,b+n+m+.5)}else a.fillStyle=e;r.length<<t.Ij<B&&(B=r.length<<t.Ij);var l=0;for(e=x=1;e<c;e+=1){if(x<B){var f=x>>t.Ij;var q=x&v;q=f=r[f][q];l+=y;for(x+=1;0===(l|0);){var w=r[x];x+=1;w>q&&(q=w);w<f&&(f=w);l+=y}--l}else q=f=0;e<=this.v&&(w=0+m+1+e,b=g-f/this.jd*g|0,u?(a.lineTo(w+.5,b+n+m+.5),f!==
q&&(b=g-q/this.jd*g|0,a.lineTo(w+.5,b+n+m+.5))):0<f&&0<q&&(f!==q&&(b=g-q/this.jd*g|0),a.fillRect(w+.5,b+n+m+.5,1,1)))}u&&a.stroke()};h.prototype.dt=function(a,e,c,g,n){var m=this.context,r=n.i.ff;n=48*n.i.zh;var u=40*r,x=this.C-u,y=this.B-n-u,v="rgb("+this.Fi[0]+","+this.Fi[1]+","+this.Fi[2]+")",B="rgb("+this.Ei[0]+","+this.Ei[1]+","+this.Ei[2]+")",b="rgb("+this.Di[0]+","+this.Di[1]+","+this.Di[2]+")",l="rgb("+this.Gi[0]+","+this.Gi[1]+","+this.Gi[2]+")",f="rgb("+this.Hi[0]+","+this.Hi[1]+","+this.Hi[2]+
")";if(this.Dc&&0<this.Dc.length){if(c||g)n=0,y+=2*n;g&&(u=0,x=this.C);var q=x-u;m.save();m.fillStyle=v;m.globalAlpha=e;m.fillRect(0,n,x+u,y);m.globalAlpha=1;c&&(y-=n);if(!g){m.font=(16*r|0)+"px Arial";m.textAlign="center";m.fillStyle="black";for(e=2;0<=e;e-=2)m.save(),m.translate(this.C/2,y+u/2-(6*r|0)),m.fillText("Generation",e,e),m.restore(),m.save(),m.translate(u/2+(6*r|0),this.B/2),m.rotate(-90*Math.PI/180),320>this.B?m.fillText("Pop",e,e):m.fillText("Population",e,e),m.restore(),m.fillStyle=
B;m.fillStyle="black";for(e=2;0<=e;e-=2)m.save(),m.translate(u-u/2+(6*r|0),n+u),m.rotate(-90*Math.PI/180),m.fillText(String(this.jd),e,e),m.restore(),m.save(),m.translate(u-u/2+(6*r|0),y),m.rotate(-90*Math.PI/180),m.fillText("0",e,e),m.restore(),m.save(),m.translate(u,y+u/2-(6*r|0)),m.fillText("0",e,e),m.restore(),m.save(),m.translate(x,y+u/2-(6*r|0)),m.fillText(String(this.v>q?this.v:q|0),e,e),m.restore(),m.fillStyle=B}-1===this.sa&&(this.ol(m,f,q,y-n-u,n,u,this.nh,a),this.ol(m,l,q,y-n-u,n,u,this.jh,
a));this.ol(m,b,q,y-n-u,n,u,this.Dc,a);m.strokeStyle=B;m.lineWidth=1;m.beginPath();m.moveTo(u+.5,n+u+.5);m.lineTo(u+.5,y+.5);m.lineTo(x+.5,y+.5);m.lineTo(x+.5,y+2.5);m.moveTo(u+.5,y+.5);m.lineTo(u+.5,y+2.5);m.moveTo(u+.5,y+.5);m.lineTo(u+.5-2,y+.5);m.moveTo(u+.5,n+u+.5);m.lineTo(u+.5-2,n+u+.5);m.stroke();m.restore()}};h.prototype.FE=function(){var a=(1<<t.Ij)-1,e;if(this.Dc&&0<this.Dc.length){for(e=0;e<this.vh;e+=1){var c=e>>t.Ij;var g=e&a;this.Dc[c][g]=0;this.jh[c][g]=0;this.nh[c][g]=0}this.Dc[0][0]=
this.ma}this.jd=this.ma};h.prototype.Gu=function(){var a=this.H,e=this.Vd;e.f=a.f;e.l=a.l;e.o=a.o;e.g=a.g};h.prototype.WH=function(){var a,e,c,g,n=this.rb,m=this.Ke,r=this.we,u=this.Tg,x=this.va,y=this.qa>>4,v;var B=0;var b=0!==(this.v&1)?this.cc:this.ob;for(a=0;a<x;a+=1){var l=0;var f=u[a];for(e=0;e<y;e+=1)if(v=f[e])for(c=15;0<=c;--c){if(0!==(v&1<<c))for(g=B;g<B+16;g+=1)m[g][l]=(b[g][l]|r[g][l])&n[g][l];l+=1}else l+=16;B+=16}};h.prototype.QH=function(){var a,e,c,g,n,m=this.Ke,r=this.Tg,u=this.va,
x=this.qa>>4,y;var v=0!==(this.v&1)?this.cc:this.ob;for(a=n=0;a<u;a+=1){var B=0;var b=r[a];for(e=0;e<x;e+=1)if(y=b[e])for(c=15;0<=c;--c){if(0!==(y&1<<c))for(g=n;g<n+16;g+=1)v[g][B]&=~m[g][B];B+=1}else B+=16;n+=16}};h.prototype.kl=function(a,e,c){var g,n,m=this.gj,r=0,u=this.Ne[r],x=this.Oe[r],y=0,v=t.Cu,B=v-1,b=0,l=v,f=this.vr,q=this.vb,w=this.yb;u[y]=a;x[y]=e;y+=1;for(c[e][a>>4]&=~(1<<(~a&15));0<y;)for(--y,y<b&&(--r,b-=v,l-=v,u=this.Ne[r],x=this.Oe[r]),a=u[y&B],e=x[y&B],n=e-f;n<=e+f;){for(g=a-f;g<=
a+f;)g===(g&q)&&n===(n&w)&&0!==(c[n][g>>4]&1<<(~g&15))&&(c[n][g>>4]&=~(1<<(~g&15)),y===l&&(r+=1,b+=v,l+=v,r>m&&(this.Ne[r]=this.m.I(Int32,v,"Life.boundaryX"+r),this.Oe[r]=this.m.I(Int32,v,"Life.boundaryY"+r),this.gj=m+=1),u=this.Ne[r],x=this.Oe[r]),u[y&B]=g,x[y&B]=n,y+=1),g+=1;n+=1}};h.prototype.gv=function(a,e,c){for(var g=c[e][a],n=15;0<=n;)0!==(g&1<<n)&&this.kl((a<<4)+(~n&15),e,c),--n};h.prototype.ZF=function(a,e){this.kl(0,a,e)};h.prototype.$F=function(a,e,c){this.kl((a<<4)+15,e,c)};h.prototype.Ev=
function(){var a;var e=0!==(this.v&1)?this.cc:this.ob;var c=e.length;var g=e[0].length;var n=e[0];var m=e[c-1];for(a=0;a<g;)n[a]&&this.gv(a,0,e),m[a]&&this.gv(a,c-1,e),a+=1;for(a=0;a<c;)0!==(e[a][0]&32768)&&this.ZF(a,e),0!==(e[a][g-1]&1)&&this.$F(g-1,a,e),a+=1};h.prototype.ak=function(a,e){var c,g=this.Z,n,m=this.gj,r=0,u=this.Ne[r],x=this.Oe[r],y=0,v=t.Cu,B=v-1,b=0,l=v,f=this.vb,q=this.yb,w=2<this.h?0:t.sb,z=2<this.h?0:t.Td,A=this.vr;u[y]=a;x[y]=e;y+=1;for(g[e][a]=0;0<y;)for(--y,y<b&&(--r,b-=v,l-=
v,u=this.Ne[r],x=this.Oe[r]),a=u[y&B],e=x[y&B],c=e-A;c<=e+A;){var C=a-A;for(n=g[c];C<=a+A;)C===(C&f)&&c===(c&q)&&n[C]>=w&&(n[C]=z,y===l&&(r+=1,b+=v,l+=v,r>m&&(this.Ne[r]=this.m.I(Int32,v,"Life.boundaryX"+r),this.Oe[r]=this.m.I(Int32,v,"Life.boundaryY"+r),this.gj=m+=1),u=this.Ne[r],x=this.Oe[r]),u[y&B]=C,x[y&B]=c,y+=1),C+=1;c+=1}};h.prototype.Gv=function(){var a=this.Z,e=a.length,c=a[0].length,g=this.H,n=g.f,m=g.l,r=g.g,u=g.o,x=2*this.Wb.ed+1,y=2<this.h?0:t.sb,v,B;if(e-u<=x){for(B=e-x;B<=u;B+=1){var b=
a[B];for(v=n;v<=m;v+=1)b[v]>=y&&this.ak(v,B)}g.o=e-x}if(r<=x){for(B=r;B<=x;B+=1)for(b=a[B],v=n;v<=m;v+=1)b[v]>=y&&this.ak(v,B);g.g=x}if(n<=x){for(B=r;B<=u;B+=1)for(b=a[B],v=n;v<=x;v+=1)b[v]>=y&&this.ak(v,B);g.f=x}if(c-m<=x){for(B=r;B<=u;B+=1)for(b=a[B],v=c-x;v<=m;v+=1)b[v]>=y&&this.ak(v,B);g.l=c-x}};h.prototype.xv=function(){var a=this.qh,e,c,g,n,m,r=this.fa,u,x=this.height,y=this.width,v=y>>4,B=this.H,b=x,l=-1,f=y,q=-1,w=this.va,z=this.qa>>4,A=this.md;var C=0;var D=w,E=this.$g,F=0,G=0,H=0;if(0!==
(this.v&1)){var I=this.cc;var O=this.ob;var K=this.oa;var M=this.da;this.oc&&(a=this.mi)}else I=this.ob,O=this.cc,K=this.da,M=this.oa;r.fill(0);0>C&&(C=0);D>w&&(D=w);var J=C<<4;var X=J+16;M.Ya.fill(0);for(c=C;c<D;c+=1){var R=0;var U=K[c];var Y=M[c];var da=0<c?M[c-1]:A;var V=c<w-1?M[c+1]:A;for(g=0;g<z;g+=1)if(n=U[g]){var ka=Y[g];var ma=da[g];var ea=V[g];for(e=15;0<=e;--e){if(0!==(n&1<<e)){var aa=u=0;var ca=J;var ba=0===ca?this.Ve:I[ca-1];var na=I[ca];C=I[ca+1];var ja=m=na[R];ba=ba[R-1]<<18|ba[R]<<
2|ba[R+1]>>14;var T=na[R-1]<<18|m<<2|na[R+1]>>14;var S=C[R-1]<<18|C[R]<<2|C[R+1]>>14;var W=a[ba>>7&7936|S>>11&224|T>>15&31]<<15;W|=a[S>>6&7936|ba>>10&224|T>>14&31]<<14;W|=a[ba>>5&7936|S>>9&224|T>>13&31]<<13;W|=a[S>>4&7936|ba>>8&224|T>>12&31]<<12;W|=a[ba>>3&7936|S>>7&224|T>>11&31]<<11;W|=a[S>>2&7936|ba>>6&224|T>>10&31]<<10;W|=a[ba>>1&7936|S>>5&224|T>>9&31]<<9;W|=a[S>>0&7936|ba>>4&224|T>>8&31]<<8;W|=a[ba<<1&7936|S>>3&224|T>>7&31]<<7;W|=a[S<<2&7936|ba>>2&224|T>>6&31]<<6;W|=a[ba<<3&7936|S>>1&224|T>>5&
31]<<5;W|=a[S<<4&7936|ba>>0&224|T>>4&31]<<4;W|=a[ba<<5&7936|S<<1&224|T>>3&31]<<3;W|=a[S<<6&7936|ba<<2&224|T>>2&31]<<2;W|=a[ba<<7&7936|S<<3&224|T>>1&31]<<1;W|=a[S<<8&7936|ba<<4&224|T>>0&31]<<0;O[ca][R]=W;F+=E[W];G+=E[W&~m];H+=E[m&~W];W&&(u|=W,ca<b&&(b=ca),ca>l&&(l=ca),0!==(W&49152)&&(aa|=t.Hb),0!==(W&3)&&(aa|=t.Ib),aa|=t.xb);for(ca+=1;ca<X-1;){m=C[R];ja|=m;C=I[ca+1];ba=T;T=S;S=C[R-1]<<18|C[R]<<2|C[R+1]>>14;0!==(ca&1)&&(na=ba,ba=S,S=na);W=a[ba>>7&7936|S>>11&224|T>>15&31]<<15;W|=a[S>>6&7936|ba>>10&224|
T>>14&31]<<14;W|=a[ba>>5&7936|S>>9&224|T>>13&31]<<13;W|=a[S>>4&7936|ba>>8&224|T>>12&31]<<12;W|=a[ba>>3&7936|S>>7&224|T>>11&31]<<11;W|=a[S>>2&7936|ba>>6&224|T>>10&31]<<10;W|=a[ba>>1&7936|S>>5&224|T>>9&31]<<9;W|=a[S>>0&7936|ba>>4&224|T>>8&31]<<8;W|=a[ba<<1&7936|S>>3&224|T>>7&31]<<7;W|=a[S<<2&7936|ba>>2&224|T>>6&31]<<6;W|=a[ba<<3&7936|S>>1&224|T>>5&31]<<5;W|=a[S<<4&7936|ba>>0&224|T>>4&31]<<4;W|=a[ba<<5&7936|S<<1&224|T>>3&31]<<3;W|=a[S<<6&7936|ba<<2&224|T>>2&31]<<2;W|=a[ba<<7&7936|S<<3&224|T>>1&31]<<
1;W|=a[S<<8&7936|ba<<4&224|T>>0&31]<<0;F+=E[W];G+=E[W&~m];H+=E[m&~W];0!==(ca&1)&&(S=na=ba);if(O[ca][R]=W)u|=W,ca<b&&(b=ca),ca>l&&(l=ca);ca+=1}m=C[R];ja|=m;C=ca===this.height-1?this.Ve:I[ca+1];ba=T;T=S;S=C[R-1]<<18|C[R]<<2|C[R+1]>>14;0!==(ca&1)&&(na=ba,ba=S,S=na);W=a[ba>>7&7936|S>>11&224|T>>15&31]<<15;W|=a[S>>6&7936|ba>>10&224|T>>14&31]<<14;W|=a[ba>>5&7936|S>>9&224|T>>13&31]<<13;W|=a[S>>4&7936|ba>>8&224|T>>12&31]<<12;W|=a[ba>>3&7936|S>>7&224|T>>11&31]<<11;W|=a[S>>2&7936|ba>>6&224|T>>10&31]<<10;W|=
a[ba>>1&7936|S>>5&224|T>>9&31]<<9;W|=a[S>>0&7936|ba>>4&224|T>>8&31]<<8;W|=a[ba<<1&7936|S>>3&224|T>>7&31]<<7;W|=a[S<<2&7936|ba>>2&224|T>>6&31]<<6;W|=a[ba<<3&7936|S>>1&224|T>>5&31]<<5;W|=a[S<<4&7936|ba>>0&224|T>>4&31]<<4;W|=a[ba<<5&7936|S<<1&224|T>>3&31]<<3;W|=a[S<<6&7936|ba<<2&224|T>>2&31]<<2;W|=a[ba<<7&7936|S<<3&224|T>>1&31]<<1;W|=a[S<<8&7936|ba<<4&224|T>>0&31]<<0;F+=E[W];G+=E[W&~m];H+=E[m&~W];if(O[ca][R]=W)u|=W,ca<b&&(b=ca),ca>l&&(l=ca),0!==(W&49152)&&(aa|=t.Jb),0!==(W&3)&&(aa|=t.ib),aa|=t.jb;u&&
(0!==(u&49152)&&(aa|=t.zb),0!==(u&3)&&(aa|=t.Wa));r[R]|=u;if(u||ja)ka|=1<<e,aa&&(0!==(aa&t.zb)&&(15>e?ka|=1<<e+1:0<g&&0<R&&(Y[g-1]|=1)),0!==(aa&t.Wa)&&(0<e?ka|=1<<e-1:g<z-1&&R<v-1&&(Y[g+1]|=32768)),0!==(aa&t.xb)&&(ma|=1<<e),0!==(aa&t.jb)&&(ea|=1<<e),0!==(aa&t.Hb)&&(15>e?ma|=1<<e+1:0<g&&0<R&&(da[g-1]|=1)),0!==(aa&t.Ib)&&(0<e?ma|=1<<e-1:g<z-1&&R<v-1&&(da[g+1]|=32768)),0!==(aa&t.Jb)&&(15>e?ea|=1<<e+1:0<g&&0<R&&(V[g-1]|=1)),0!==(aa&t.ib)&&(0<e?ea|=1<<e-1:g<z-1&&R<v-1&&(V[g+1]|=32768)))}R+=1}Y[g]|=ka;
0<c&&(da[g]|=ma);c<w-1&&(V[g]|=ea)}else R+=16;J+=16;X+=16}for(g=0;g<v;g+=1)r[g]&&(g<f&&(f=g),g>q&&(q=g));f=(f<<4)+this.A(r[f]);q=(q<<4)+this.K(r[q]);0>l&&(l=x-1);b>=x&&(b=0);f>=y&&(f=0);0>q&&(q=y-1);l>x-1&&(l=x-1);0>b&&(b=0);0>f&&(f=0);q>y-1&&(q=y-1);B.o=l;B.g=b;B.f=f;B.l=q;A.fill(0);this.ma=F;this.Gb=G;this.Xb=H};h.prototype.dy=function(){var a=this.ce,e,c,g,n,m=this.fa,r,u=this.height,x=this.width,y=x>>4,v=this.H,B=u,b=-1,l=x,f=-1,q=this.va,w=this.qa>>4,z=this.md,A=this.$g,C=0,D=0,E=0,F=this.v&
1;this.Tc&&(this.Sc=!this.Sc,this.Tc=!1);if(0!==F){var G=this.cc;var H=this.ob;var I=this.oa;var O=this.da;this.Sc&&(a=this.yc)}else G=this.ob,H=this.cc,I=this.da,O=this.oa,this.oc&&(a=this.sf),this.Sc&&(a=this.oc?this.de:this.yc);this.Sc&&(F=1-F);m.fill(0);var K=1-F;var M=K+16;O.Ya.fill(0);for(c=0;c<I.length;c+=1){var J=0;var X=I[c];var R=O[c];var U=0<c?O[c-1]:z;var Y=c<q-1?O[c+1]:z;for(g=0;g<w;g+=1)if(n=X[g]){var da=R[g];var V=U[g];var ka=Y[g];for(e=15;0<=e;--e){var ma=0===e&&g===w-1?!0:!1;if(0!==
(n&1<<e)){var ea=r=0;if(0!==F){var aa=K;var ca=G[aa][J];var ba=G[aa+1][J];var na=ca|ba;var ja=a[ca&65280|ba>>8];var T=ja&65280;var S=(ja&255)<<8;ja=a[(ca&255)<<8|ba&255];T|=ja>>8;S|=ja&255;H[aa][J]=T;H[aa+1][J]=S;C+=A[T];D+=A[T&~ca];E+=A[ca&~T];C+=A[S];D+=A[S&~ba];E+=A[ba&~S];if(ja=T|S)r|=ja,T&&(aa<B&&(B=aa),aa>b&&(b=aa)),S&&(aa+1<B&&(B=aa+1),aa+1>b&&(b=aa+1)),0!==(ja&49152)&&(ea|=t.Hb),0!==(ja&3)&&(ea|=t.Ib),ea|=t.xb;for(aa+=2;aa<M-2;){ca=G[aa][J];ba=G[aa+1][J];na|=ca|ba;ja=a[ca&65280|ba>>8];T=ja&
65280;S=(ja&255)<<8;ja=a[(ca&255)<<8|ba&255];T|=ja>>8;S|=ja&255;H[aa][J]=T;H[aa+1][J]=S;C+=A[T];D+=A[T&~ca];E+=A[ca&~T];C+=A[S];D+=A[S&~ba];E+=A[ba&~S];if(ja=T|S)r|=ja,T&&(aa<B&&(B=aa),aa>b&&(b=aa)),S&&(aa+1<B&&(B=aa+1),aa+1>b&&(b=aa+1));aa+=2}ca=G[aa][J];ba=G[aa+1][J];na|=ca|ba;ja=a[ca&65280|ba>>8];T=ja&65280;S=(ja&255)<<8;ja=a[(ca&255)<<8|ba&255];T|=ja>>8;S|=ja&255;H[aa][J]=T;H[aa+1][J]=S;C+=A[T];D+=A[T&~ca];E+=A[ca&~T];C+=A[S];D+=A[S&~ba];E+=A[ba&~S];if(ja=T|S)r|=ja,T&&(aa<B&&(B=aa),aa>b&&(b=aa)),
S&&(aa+1<B&&(B=aa+1),aa+1>b&&(b=aa+1)),ja&&(0!==(ja&49152)&&(ea|=t.Jb),0!==(ja&3)&&(ea|=t.ib),ea|=t.jb);r&&(0!==(r&49152)&&(ea|=t.zb),0!==(r&3)&&(ea|=t.Wa),m[J]|=r);if(r||na)ea|=t.ib,ea|=t.Wa}else{aa=K;ma?(ca=G[aa][J]<<1&65535,ba=G[aa+1][J]<<1&65535):(ca=(G[aa][J]<<1|G[aa][J+1]>>15)&65535,ba=(G[aa+1][J]<<1|G[aa+1][J+1]>>15)&65535);na=ca|ba;ja=a[ca&65280|ba>>8];T=ja&65280;S=(ja&255)<<8;ja=a[(ca&255)<<8|ba&255];T|=ja>>8;S|=ja&255;ma?(H[aa][J]=H[aa][J]&32768|T>>1,H[aa+1][J]=H[aa+1][J]&32768|S>>1):(H[aa][J]=
H[aa][J]&32768|T>>1,H[aa][J+1]=H[aa][J+1]&32767|(T&1)<<15,H[aa+1][J]=H[aa+1][J]&32768|S>>1,H[aa+1][J+1]=H[aa+1][J+1]&32767|(S&1)<<15);C+=A[T];D+=A[T&~ca];E+=A[ca&~T];C+=A[S];D+=A[S&~ba];E+=A[ba&~S];if(ja=T|S)r|=ja,T&&(aa<B&&(B=aa),aa>b&&(b=aa)),T&&(aa+1<B&&(B=aa+1),aa+1>b&&(b=aa+1));for(aa+=2;aa<M-2;){ma?(ca=G[aa][J]<<1&65535,ba=G[aa+1][J]<<1&65535):(ca=(G[aa][J]<<1|G[aa][J+1]>>15)&65535,ba=(G[aa+1][J]<<1|G[aa+1][J+1]>>15)&65535);na|=ca|ba;ja=a[ca&65280|ba>>8];T=ja&65280;S=(ja&255)<<8;ja=a[(ca&255)<<
8|ba&255];T|=ja>>8;S|=ja&255;ma?(H[aa][J]=H[aa][J]&32768|T>>1,H[aa+1][J]=H[aa+1][J]&32768|S>>1):(H[aa][J]=H[aa][J]&32768|T>>1,H[aa][J+1]=H[aa][J+1]&32767|(T&1)<<15,H[aa+1][J]=H[aa+1][J]&32768|S>>1,H[aa+1][J+1]=H[aa+1][J+1]&32767|(S&1)<<15);C+=A[T];D+=A[T&~ca];E+=A[ca&~T];C+=A[S];D+=A[S&~ba];E+=A[ba&~S];if(ja=T|S)r|=ja,T&&(aa<B&&(B=aa),aa>b&&(b=aa)),S&&(aa+1<B&&(B=aa+1),aa+1>b&&(b=aa+1));aa+=2}ma?(ca=G[aa][J]<<1&65535,ba=G[aa+1][J]<<1&65535):(ca=(G[aa][J]<<1|G[aa][J+1]>>15)&65535,ba=(G[aa+1][J]<<1|
G[aa+1][J+1]>>15)&65535);na|=ca|ba;ja=a[ca&65280|ba>>8];T=ja&65280;S=(ja&255)<<8;ja=a[(ca&255)<<8|ba&255];T|=ja>>8;S|=ja&255;ma?(H[aa][J]=H[aa][J]&32768|T>>1,H[aa+1][J]=H[aa+1][J]&32768|S>>1):(H[aa][J]=H[aa][J]&32768|T>>1,H[aa][J+1]=H[aa][J+1]&32767|(T&1)<<15,H[aa+1][J]=H[aa+1][J]&32768|S>>1,H[aa+1][J+1]=H[aa+1][J+1]&32767|(S&1)<<15);C+=A[T];D+=A[T&~ca];E+=A[ca&~T];C+=A[S];D+=A[S&~ba];E+=A[ba&~S];if(ja=T|S)r|=ja,T&&(aa<B&&(B=aa),aa>b&&(b=aa)),S&&(aa+1<B&&(B=aa+1),aa+1>b&&(b=aa+1)),0!==(ja&3)&&(ea|=
t.ib),ea|=t.jb;ca|ba&&(0!==((ca|ba)&3)&&(ea|=t.ib),ea|=t.jb);r&&(0!==(r&3)&&(ea|=t.Wa),m[J]|=r>>1,m[J+1]|=(r&1)<<15);0!==(na&3)&&(ea|=t.Wa)}if(r||na)da|=1<<e,ea&&(0!==(ea&t.zb)&&(15>e?da|=1<<e+1:0<g&&0<J&&(R[g-1]|=1)),0!==(ea&t.Wa)&&(0<e?da|=1<<e-1:g<w-1&&J<y-1&&(R[g+1]|=32768)),0!==(ea&t.xb)&&(V|=1<<e),0!==(ea&t.jb)&&(ka|=1<<e),0!==(ea&t.Hb)&&(15>e?V|=1<<e+1:0<g&&0<J&&(U[g-1]|=1)),0!==(ea&t.Ib)&&(0<e?V|=1<<e-1:g<w-1&&J<y-1&&(U[g+1]|=32768)),0!==(ea&t.Jb)&&(15>e?ka|=1<<e+1:0<g&&0<J&&(Y[g-1]|=1)),
0!==(ea&t.ib)&&(0<e?ka|=1<<e-1:g<w-1&&J<y-1&&(Y[g+1]|=32768)))}J+=1}R[g]|=da;0<c&&(U[g]|=V);c<q-1&&(Y[g]|=ka)}else J+=16;K+=16;M+=16;M>=u&&(M=u-1)}for(g=0;g<y;g+=1)m[g]&&(g<l&&(l=g),g>f&&(f=g));l=(l<<4)+this.A(m[l]);f=(f<<4)+this.K(m[f]);0>b&&(b=u-1);B>=u&&(B=0);l>=x&&(l=0);0>f&&(f=x-1);b>u-1&&(b=u-1);0>B&&(B=0);0>l&&(l=0);f>x-1&&(f=x-1);v.o=b;v.g=B;v.f=l;v.l=f;z.fill(0);this.ma=C;this.Gb=D;this.Xb=E};h.prototype.gy=function(){var a=this.ce,e,c,g,n,m=this.fa,r,u=this.height,x=this.width,y=x>>4,v=
this.H,B=u,b=-1,l=x,f=-1,q=this.va,w=this.qa>>4,z=this.md,A=this.v&1;this.Tc&&(this.Sc=!this.Sc,this.Tc=!1);if(0!==A){var C=this.cc;var D=this.ob;var E=this.oa;var F=this.da;this.Sc&&(a=this.yc)}else C=this.ob,D=this.cc,E=this.da,F=this.oa,this.oc&&(a=this.sf),this.Sc&&(a=this.oc?this.de:this.yc);this.Sc&&(A=1-A);m.fill(0);var G=1-A;var H=G+16;F.Ya.fill(0);for(c=0;c<E.length;c+=1){var I=0;var O=E[c];var K=F[c];var M=0<c?F[c-1]:z;var J=c<q-1?F[c+1]:z;for(g=0;g<w;g+=1)if(n=O[g]){var X=K[g];var R=M[g];
var U=J[g];for(e=15;0<=e;--e){var Y=0===e&&g===w-1?!0:!1;if(0!==(n&1<<e)){var da=r=0;if(0!==A){var V=G;var ka=0;var ma=C[V][I];var ea=C[V+1][I];ka|=ma|ea;var aa=a[ma&65280|ea>>8];var ca=aa&65280;var ba=(aa&255)<<8;aa=a[(ma&255)<<8|ea&255];ca|=aa>>8;ba|=aa&255;D[V][I]=ca;D[V+1][I]=ba;if(aa=ca|ba)r|=aa,V<B&&(B=V),V+1>b&&(b=V+1),aa&&(0!==(aa&49152)&&(da|=t.Hb),0!==(aa&3)&&(da|=t.Ib),da|=t.xb);for(V+=2;V<H-2;){ma=C[V][I];ea=C[V+1][I];ka|=ma|ea;aa=a[ma&65280|ea>>8];ca=aa&65280;ba=(aa&255)<<8;aa=a[(ma&
255)<<8|ea&255];ca|=aa>>8;ba|=aa&255;D[V][I]=ca;D[V+1][I]=ba;if(aa=ca|ba)r|=aa,V<B&&(B=V),V+1>b&&(b=V+1);V+=2}ma=C[V][I];ea=C[V+1][I];ka|=ma|ea;aa=a[ma&65280|ea>>8];ca=aa&65280;ba=(aa&255)<<8;aa=a[(ma&255)<<8|ea&255];ca|=aa>>8;ba|=aa&255;D[V][I]=ca;D[V+1][I]=ba;if(aa=ca|ba)r|=aa,V<B&&(B=V),V+1>b&&(b=V+1),aa&&(0!==(aa&49152)&&(da|=t.Jb),0!==(aa&3)&&(da|=t.ib),da|=t.jb);r&&(0!==(r&49152)&&(da|=t.zb),0!==(r&3)&&(da|=t.Wa),m[I]|=r);if(r||ka)da|=t.ib,da|=t.Wa}else{V=G;ka=0;Y?(ma=C[V][I]<<1&65535,ea=C[V+
1][I]<<1&65535):(ma=(C[V][I]<<1|C[V][I+1]>>15)&65535,ea=(C[V+1][I]<<1|C[V+1][I+1]>>15)&65535);ka|=ma|ea;aa=a[ma&65280|ea>>8];ca=aa&65280;ba=(aa&255)<<8;aa=a[(ma&255)<<8|ea&255];ca|=aa>>8;ba|=aa&255;Y?(D[V][I]=D[V][I]&32768|ca>>1,D[V+1][I]=D[V+1][I]&32768|ba>>1):(D[V][I]=D[V][I]&32768|ca>>1,D[V][I+1]=D[V][I+1]&32767|(ca&1)<<15,D[V+1][I]=D[V+1][I]&32768|ba>>1,D[V+1][I+1]=D[V+1][I+1]&32767|(ba&1)<<15);if(aa=ca|ba)r|=aa,V<B&&(B=V),V+1>b&&(b=V+1);for(V+=2;V<H-2;){Y?(ma=C[V][I]<<1&65535,ea=C[V+1][I]<<1&
65535):(ma=(C[V][I]<<1|C[V][I+1]>>15)&65535,ea=(C[V+1][I]<<1|C[V+1][I+1]>>15)&65535);ka|=ma|ea;aa=a[ma&65280|ea>>8];ca=aa&65280;ba=(aa&255)<<8;aa=a[(ma&255)<<8|ea&255];ca|=aa>>8;ba|=aa&255;Y?(D[V][I]=D[V][I]&32768|ca>>1,D[V+1][I]=D[V+1][I]&32768|ba>>1):(D[V][I]=D[V][I]&32768|ca>>1,D[V][I+1]=D[V][I+1]&32767|(ca&1)<<15,D[V+1][I]=D[V+1][I]&32768|ba>>1,D[V+1][I+1]=D[V+1][I+1]&32767|(ba&1)<<15);if(aa=ca|ba)r|=aa,V<B&&(B=V),V+1>b&&(b=V+1);V+=2}Y?(ma=C[V][I]<<1&65535,ea=C[V+1][I]<<1&65535):(ma=(C[V][I]<<
1|C[V][I+1]>>15)&65535,ea=(C[V+1][I]<<1|C[V+1][I+1]>>15)&65535);ka|=ma|ea;aa=a[ma&65280|ea>>8];ca=aa&65280;ba=(aa&255)<<8;aa=a[(ma&255)<<8|ea&255];ca|=aa>>8;ba|=aa&255;Y?(D[V][I]=D[V][I]&32768|ca>>1,D[V+1][I]=D[V+1][I]&32768|ba>>1):(D[V][I]=D[V][I]&32768|ca>>1,D[V][I+1]=D[V][I+1]&32767|(ca&1)<<15,D[V+1][I]=D[V+1][I]&32768|ba>>1,D[V+1][I+1]=D[V+1][I+1]&32767|(ba&1)<<15);if(aa=ca|ba)r|=aa,V<B&&(B=V),V+1>b&&(b=V+1),0!==(aa&3)&&(da|=t.ib),da|=t.jb;ma|ea&&(0!==((ma|ea)&3)&&(da|=t.ib),da|=t.jb);r&&(0!==
(r&3)&&(da|=t.Wa),m[I]|=r>>1,m[I+1]|=(r&1)<<15);0!==(ka&1)&&(da|=t.Wa)}if(r||ka)X|=1<<e,da&&(0!==(da&t.zb)&&(15>e?X|=1<<e+1:0<g&&0<I&&(K[g-1]|=1)),0!==(da&t.Wa)&&(0<e?X|=1<<e-1:g<w-1&&I<y-1&&(K[g+1]|=32768)),0!==(da&t.xb)&&(R|=1<<e),0!==(da&t.jb)&&(U|=1<<e),0!==(da&t.Hb)&&(15>e?R|=1<<e+1:0<g&&0<I&&(M[g-1]|=1)),0!==(da&t.Ib)&&(0<e?R|=1<<e-1:g<w-1&&I<y-1&&(M[g+1]|=32768)),0!==(da&t.Jb)&&(15>e?U|=1<<e+1:0<g&&0<I&&(J[g-1]|=1)),0!==(da&t.ib)&&(0<e?U|=1<<e-1:g<w-1&&I<y-1&&(J[g+1]|=32768)))}I+=1}K[g]|=X;
0<c&&(M[g]|=R);c<q-1&&(J[g]|=U)}else I+=16;G+=16;H+=16;H>=u&&(H=u-1)}for(g=0;g<y;g+=1)m[g]&&(g<l&&(l=g),g>f&&(f=g));l=(l<<4)+this.A(m[l]);f=(f<<4)+this.K(m[f]);0>b&&(b=u-1);B>=u&&(B=0);l>=x&&(l=0);0>f&&(f=x-1);b>u-1&&(b=u-1);0>B&&(B=0);0>l&&(l=0);f>x-1&&(f=x-1);v.o=b;v.g=B;v.f=l;v.l=f;z.fill(0)};h.prototype.Ay=function(){var a=this.qh,e,c,g,n,m=this.fa,r,u=this.height,x=this.width,y=x>>4,v=this.H,B=u,b=-1,l=x,f=-1,q=this.va,w=this.qa>>4,z=this.md;var A=0;var C=q;if(0!==(this.v&1)){var D=this.cc;var E=
this.ob;var F=this.oa;var G=this.da;this.oc&&(a=this.mi)}else D=this.ob,E=this.cc,F=this.da,G=this.oa;m.fill(0);0>A&&(A=0);C>q&&(C=q);var H=A<<4;var I=H+16;G.Ya.fill(0);for(c=A;c<C;c+=1){var O=0;var K=F[c];var M=G[c];var J=0<c?G[c-1]:z;var X=c<q-1?G[c+1]:z;for(g=0;g<w;g+=1)if(n=K[g]){var R=M[g];var U=J[g];var Y=X[g];for(e=15;0<=e;--e){if(0!==(n&1<<e)){var da=r=0;var V=H;var ka=0===V?this.Ve:D[V-1];var ma=D[V];A=D[V+1];var ea=ma[O];ka=ka[O-1]<<18|ka[O]<<2|ka[O+1]>>14;var aa=ma[O-1]<<18|ea<<2|ma[O+
1]>>14;var ca=A[O-1]<<18|A[O]<<2|A[O+1]>>14;var ba=a[ka>>7&7936|ca>>11&224|aa>>15&31]<<15;ba|=a[ca>>6&7936|ka>>10&224|aa>>14&31]<<14;ba|=a[ka>>5&7936|ca>>9&224|aa>>13&31]<<13;ba|=a[ca>>4&7936|ka>>8&224|aa>>12&31]<<12;ba|=a[ka>>3&7936|ca>>7&224|aa>>11&31]<<11;ba|=a[ca>>2&7936|ka>>6&224|aa>>10&31]<<10;ba|=a[ka>>1&7936|ca>>5&224|aa>>9&31]<<9;ba|=a[ca>>0&7936|ka>>4&224|aa>>8&31]<<8;ba|=a[ka<<1&7936|ca>>3&224|aa>>7&31]<<7;ba|=a[ca<<2&7936|ka>>2&224|aa>>6&31]<<6;ba|=a[ka<<3&7936|ca>>1&224|aa>>5&31]<<5;
ba|=a[ca<<4&7936|ka>>0&224|aa>>4&31]<<4;ba|=a[ka<<5&7936|ca<<1&224|aa>>3&31]<<3;ba|=a[ca<<6&7936|ka<<2&224|aa>>2&31]<<2;ba|=a[ka<<7&7936|ca<<3&224|aa>>1&31]<<1;ba|=a[ca<<8&7936|ka<<4&224|aa>>0&31]<<0;if(E[V][O]=ba)r|=ba,V<B&&(B=V),V>b&&(b=V),0!==(ba&49152)&&(da|=t.Hb),0!==(ba&3)&&(da|=t.Ib),da|=t.xb;for(V+=1;V<I-1;){ea|=A[O];A=D[V+1];ka=aa;aa=ca;ca=A[O-1]<<18|A[O]<<2|A[O+1]>>14;0!==(V&1)&&(ma=ka,ka=ca,ca=ma);ba=a[ka>>7&7936|ca>>11&224|aa>>15&31]<<15;ba|=a[ca>>6&7936|ka>>10&224|aa>>14&31]<<14;ba|=
a[ka>>5&7936|ca>>9&224|aa>>13&31]<<13;ba|=a[ca>>4&7936|ka>>8&224|aa>>12&31]<<12;ba|=a[ka>>3&7936|ca>>7&224|aa>>11&31]<<11;ba|=a[ca>>2&7936|ka>>6&224|aa>>10&31]<<10;ba|=a[ka>>1&7936|ca>>5&224|aa>>9&31]<<9;ba|=a[ca>>0&7936|ka>>4&224|aa>>8&31]<<8;ba|=a[ka<<1&7936|ca>>3&224|aa>>7&31]<<7;ba|=a[ca<<2&7936|ka>>2&224|aa>>6&31]<<6;ba|=a[ka<<3&7936|ca>>1&224|aa>>5&31]<<5;ba|=a[ca<<4&7936|ka>>0&224|aa>>4&31]<<4;ba|=a[ka<<5&7936|ca<<1&224|aa>>3&31]<<3;ba|=a[ca<<6&7936|ka<<2&224|aa>>2&31]<<2;ba|=a[ka<<7&7936|
ca<<3&224|aa>>1&31]<<1;ba|=a[ca<<8&7936|ka<<4&224|aa>>0&31]<<0;0!==(V&1)&&(ca=ma=ka);if(E[V][O]=ba)r|=ba,V<B&&(B=V),V>b&&(b=V);V+=1}ea|=A[O];A=V===this.height-1?this.Ve:D[V+1];ka=aa;aa=ca;ca=A[O-1]<<18|A[O]<<2|A[O+1]>>14;0!==(V&1)&&(ma=ka,ka=ca,ca=ma);ba=a[ka>>7&7936|ca>>11&224|aa>>15&31]<<15;ba|=a[ca>>6&7936|ka>>10&224|aa>>14&31]<<14;ba|=a[ka>>5&7936|ca>>9&224|aa>>13&31]<<13;ba|=a[ca>>4&7936|ka>>8&224|aa>>12&31]<<12;ba|=a[ka>>3&7936|ca>>7&224|aa>>11&31]<<11;ba|=a[ca>>2&7936|ka>>6&224|aa>>10&31]<<
10;ba|=a[ka>>1&7936|ca>>5&224|aa>>9&31]<<9;ba|=a[ca>>0&7936|ka>>4&224|aa>>8&31]<<8;ba|=a[ka<<1&7936|ca>>3&224|aa>>7&31]<<7;ba|=a[ca<<2&7936|ka>>2&224|aa>>6&31]<<6;ba|=a[ka<<3&7936|ca>>1&224|aa>>5&31]<<5;ba|=a[ca<<4&7936|ka>>0&224|aa>>4&31]<<4;ba|=a[ka<<5&7936|ca<<1&224|aa>>3&31]<<3;ba|=a[ca<<6&7936|ka<<2&224|aa>>2&31]<<2;ba|=a[ka<<7&7936|ca<<3&224|aa>>1&31]<<1;ba|=a[ca<<8&7936|ka<<4&224|aa>>0&31]<<0;if(E[V][O]=ba)r|=ba,V<B&&(B=V),V>b&&(b=V),0!==(ba&49152)&&(da|=t.Jb),0!==(ba&3)&&(da|=t.ib),da|=t.jb;
r&&(0!==(r&49152)&&(da|=t.zb),0!==(r&3)&&(da|=t.Wa));m[O]|=r;if(r||ea)R|=1<<e,da&&(0!==(da&t.zb)&&(15>e?R|=1<<e+1:0<g&&0<O&&(M[g-1]|=1)),0!==(da&t.Wa)&&(0<e?R|=1<<e-1:g<w-1&&O<y-1&&(M[g+1]|=32768)),0!==(da&t.xb)&&(U|=1<<e),0!==(da&t.jb)&&(Y|=1<<e),0!==(da&t.Hb)&&(15>e?U|=1<<e+1:0<g&&0<O&&(J[g-1]|=1)),0!==(da&t.Ib)&&(0<e?U|=1<<e-1:g<w-1&&O<y-1&&(J[g+1]|=32768)),0!==(da&t.Jb)&&(15>e?Y|=1<<e+1:0<g&&0<O&&(X[g-1]|=1)),0!==(da&t.ib)&&(0<e?Y|=1<<e-1:g<w-1&&O<y-1&&(X[g+1]|=32768)))}O+=1}M[g]|=R;0<c&&(J[g]|=
U);c<q-1&&(X[g]|=Y)}else O+=16;H+=16;I+=16}for(g=0;g<y;g+=1)m[g]&&(g<l&&(l=g),g>f&&(f=g));l=(l<<4)+this.A(m[l]);f=(f<<4)+this.K(m[f]);0>b&&(b=u-1);B>=u&&(B=0);l>=x&&(l=0);0>f&&(f=x-1);b>u-1&&(b=u-1);0>B&&(B=0);0>l&&(l=0);f>x-1&&(f=x-1);v.o=b;v.g=B;v.f=l;v.l=f;z.fill(0)};h.prototype.wv=function(){var a=this.oh,e,c,g,n,m,r,u=this.fa,x,y=this.Fb,v,B=this.$g,b=0,l=0,f=0,q=this.height,w=this.width,z=w>>4,A=this.H,C=q,D=-1,E=w,F=-1,G=this.va,H=this.qa>>4,I=this.md,O=this.ua,K=this.ra,M=Math.round((this.width-
O)/2),J=Math.round((this.height-K)/2),X=M+O-1,R=J+K-1;if(0!==(this.v&1)){var U=this.cc;var Y=this.ob;var da=this.oa;var V=this.da;this.oc&&(a=this.Nf)}else U=this.ob,Y=this.cc,da=this.da,V=this.oa;u.fill(0);y.fill(0);var ka=0;var ma=ka+16;V.Ya.fill(0);for(g=0;g<da.length;g+=1){var ea=0;var aa=da[g];var ca=V[g];var ba=0<g?V[g-1]:I;var na=g<G-1?V[g+1]:I;for(n=0;n<H;n+=1)if(m=aa[n]){var ja=ca[n];var T=ba[n];var S=na[n];for(e=15;0<=e;--e){if(0!==(m&1<<e)){var W=v=x=0;var la=ka;var fa=32768;var Z=0===
la?this.Ve:U[la-1];var L=U[la];var Q=U[la+1];var ia=r=L[ea];if(ea)if(ea>=z-1){Z=(Z[ea-1]&1)<<17|Z[ea]<<1;L=(L[ea-1]&1)<<17|r<<1;var P=(Q[ea-1]&1)<<17|Q[ea]<<1;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c],0!==(c&32768)&&(W|=t.Hb),W|=t.xb;Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;for(fa>>=1;la<ma-1;){r=Q[ea];ia|=r;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1;if(c=Z|
L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;fa>>=1}r=Q[ea];ia|=r;Q=la===this.height-1?this.Ve:U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c],0!==(c&32768)&&(W|=
t.Jb),W|=t.jb}else{Z=(Z[ea-1]&1)<<17|Z[ea]<<1|Z[ea+1]>>15;L=(L[ea-1]&1)<<17|r<<1|L[ea+1]>>15;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c],0!==(c&32768)&&(W|=t.Hb),0!==(c&1)&&(W|=t.Ib),W|=t.xb;Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;fa>>=1;r=Q[ea];ia|=r;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=
a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;fa>>=1;r=Q[ea];ia|=r;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);
la+=1;fa>>=1;r=Q[ea];ia|=r;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;fa>>=1;r=Q[ea];ia|=r;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<
4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;fa>>=1;r=Q[ea];ia|=r;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;fa>>=1;r=Q[ea];ia|=r;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|
L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;fa>>=1;r=Q[ea];ia|=r;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;fa>>=
1;r=Q[ea];ia|=r;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;fa>>=1;r=Q[ea];ia|=r;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=
a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;fa>>=1;r=Q[ea];ia|=r;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;fa>>=1;r=Q[ea];ia|=r;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>
12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;fa>>=1;r=Q[ea];ia|=r;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;fa>>=
1;r=Q[ea];ia|=r;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;fa>>=1;r=Q[ea];ia|=r;Q=U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=
a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;fa>>=1;r=Q[ea];ia|=r;Q=la===this.height-1?this.Ve:U[la+1];Z=L;L=P;P=(Q[ea-1]&1)<<17|Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c],0!==(c&32768)&&(W|=t.Jb),0!==(c&1)&&(W|=t.ib),W|=t.jb}else{Z=Z[ea]<<1|Z[ea+1]>>15;L=r<<1|L[ea+1]>>15;P=Q[ea]<<1|Q[ea+1]>>15;if(c=
Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,0!==(c&1)&&(W|=t.Ib),W|=t.xb,b+=B[c];Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;for(fa>>=1;la<ma-1;){r=Q[ea];ia|=r;Q=U[la+1];Z=L;L=P;P=Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c];Y[la][ea]=
c;c|r&&(l+=B[c&~r],f+=B[r&~c]);la+=1;fa>>=1}r=Q[ea];ia|=r;Q=la===this.height-1?this.Ve:U[la+1];Z=L;L=P;P=Q[ea]<<1|Q[ea+1]>>15;if(c=Z|L|P)if(c=a[Z>>12|L>>12<<6|P&258048]<<12,c|=a[Z>>8&63|L>>2&4032|P<<4&258048]<<8,c|=a[Z>>4&63|L<<2&4032|P<<8&258048]<<4,c|=a[Z&63|(L&63)<<6|(P&63)<<12])x|=c,v|=fa,b+=B[c],0!==(c&1)&&(W|=t.ib),W|=t.jb}Y[la][ea]=c;c|r&&(l+=B[c&~r],f+=B[r&~c]);x&&(0!==(x&32768)&&(W|=t.zb),0!==(x&1)&&(W|=t.Wa));u[ea]|=x;if(x||ia)ja|=1<<e,W&&(0!==(W&t.zb)&&(15>e?ja|=1<<e+1:0<n&&0<ea&&(ca[n-
1]|=1)),0!==(W&t.Wa)&&(0<e?ja|=1<<e-1:n<H-1&&ea<z-1&&(ca[n+1]|=32768)),0!==(W&t.xb)&&(T|=1<<e),0!==(W&t.jb)&&(S|=1<<e),0!==(W&t.Hb)&&(15>e?T|=1<<e+1:0<n&&0<ea&&(ba[n-1]|=1)),0!==(W&t.Ib)&&(0<e?T|=1<<e-1:n<H-1&&ea<z-1&&(ba[n+1]|=32768)),0!==(W&t.Jb)&&(15>e?S|=1<<e+1:0<n&&0<ea&&(na[n-1]|=1)),0!==(W&t.ib)&&(0<e?S|=1<<e-1:n<H-1&&ea<z-1&&(na[n+1]|=32768)));y[g]|=v}ea+=1}ca[n]|=ja;0<g&&(ba[n]|=T);g<G-1&&(na[n]|=S)}else ea+=16;ka+=16;ma+=16}-1!==this.sa&&(0!==O&&(u[M-1>>4]&=~(1<<(~(M-1)&15)),u[X+1>>4]&=
~(1<<(~(X+1)&15)),u[M-2>>4]&=~(1<<(~(M-2)&15)),u[X+2>>4]&=~(1<<(~(X+2)&15))),0!==K&&(y[J-1>>4]&=~(1<<(~(J-1)&15)),y[R+1>>4]&=~(1<<(~(R+1)&15)),y[J-2>>4]&=~(1<<(~(J-2)&15)),y[R+2>>4]&=~(1<<(~(R+2)&15))));for(n=0;n<z;n+=1)u[n]&&(n<E&&(E=n),n>F&&(F=n));for(g=0;g<y.length;g+=1)y[g]&&(g<C&&(C=g),g>D&&(D=g));E=(E<<4)+this.A(u[E]);F=(F<<4)+this.K(u[F]);C=(C<<4)+this.A(y[C]);D=(D<<4)+this.K(y[D]);0>D&&(D=q-1);C>=q&&(C=0);E>=w&&(E=0);0>F&&(F=w-1);D>q-1&&(D=q-1);0>C&&(C=0);0>E&&(E=0);F>w-1&&(F=w-1);A.o=D;A.g=
C;A.f=E;A.l=F;I.fill(0);this.ma=b;this.Gb=l;this.Xb=f};h.prototype.py=function(){var a=this.oh,e,c,g,n,m,r=this.fa,u,x=this.Fb,y,v=this.height,B=this.width,b=B>>4,l=this.H,f=v,q=-1,w=B,z=-1,A=this.va,C=this.qa>>4,D=this.md,E=this.ua,F=this.ra,G=Math.round((this.width-E)/2),H=Math.round((this.height-F)/2),I=G+E-1,O=H+F-1;if(0!==(this.v&1)){var K=this.cc;var M=this.ob;var J=this.oa;var X=this.da;this.oc&&(a=this.Nf)}else K=this.ob,M=this.cc,J=this.da,X=this.oa;r.fill(0);x.fill(0);var R=0;var U=R+16;
X.Ya.fill(0);for(g=0;g<J.length;g+=1){var Y=0;var da=J[g];var V=X[g];var ka=0<g?X[g-1]:D;var ma=g<A-1?X[g+1]:D;for(n=0;n<C;n+=1)if(m=da[n]){var ea=V[n];var aa=ka[n];var ca=ma[n];for(e=15;0<=e;--e){if(0!==(m&1<<e)){var ba=y=u=0;var na=R;var ja=32768;var T=0===na?this.Ve:K[na-1];var S=K[na];var W=K[na+1];var la=S[Y];if(Y)if(Y>=b-1){T=(T[Y-1]&1)<<17|T[Y]<<1;S=(S[Y-1]&1)<<17|la<<1;var fa=(W[Y-1]&1)<<17|W[Y]<<1;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=
a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja,0!==(c&32768)&&(ba|=t.Hb),ba|=t.xb;M[na][Y]=c;na+=1;for(ja>>=1;na<U-1;){la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1}la|=W[Y];W=na===this.height-1?this.Ve:K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1;if(c=T|S|fa)if(c=
a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja,0!==(c&32768)&&(ba|=t.Jb),ba|=t.jb}else{T=(T[Y-1]&1)<<17|T[Y]<<1|T[Y+1]>>15;S=(S[Y-1]&1)<<17|la<<1|S[Y+1]>>15;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja,0!==(c&32768)&&(ba|=t.Hb),
0!==(c&1)&&(ba|=t.Ib),ba|=t.xb;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<
4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<
2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<
8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>
2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<
12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|
S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=
T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1;la|=W[Y];W=na===this.height-1?this.Ve:K[na+1];T=S;S=fa;fa=(W[Y-1]&1)<<17|W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja,0!==(c&32768)&&(ba|=t.Jb),0!==(c&1)&&(ba|=t.ib),
ba|=t.jb}else{T=T[Y]<<1|T[Y+1]>>15;S=la<<1|S[Y+1]>>15;fa=W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja,0!==(c&1)&&(ba|=t.Ib),ba|=t.xb;M[na][Y]=c;na+=1;for(ja>>=1;na<U-1;){la|=W[Y];W=K[na+1];T=S;S=fa;fa=W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&
63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja;M[na][Y]=c;na+=1;ja>>=1}la|=W[Y];W=na===this.height-1?this.Ve:K[na+1];T=S;S=fa;fa=W[Y]<<1|W[Y+1]>>15;if(c=T|S|fa)if(c=a[T>>12|S>>12<<6|fa&258048]<<12,c|=a[T>>8&63|S>>2&4032|fa<<4&258048]<<8,c|=a[T>>4&63|S<<2&4032|fa<<8&258048]<<4,c|=a[T&63|(S&63)<<6|(fa&63)<<12])u|=c,y|=ja,0!==(c&1)&&(ba|=t.ib),ba|=t.jb}M[na][Y]=c;u&&(0!==(u&32768)&&(ba|=t.zb),0!==(u&1)&&(ba|=t.Wa));r[Y]|=u;if(u||la)ea|=1<<e,ba&&(0!==(ba&t.zb)&&(15>e?ea|=1<<e+1:0<n&&0<Y&&(V[n-1]|=1)),0!==(ba&t.Wa)&&
(0<e?ea|=1<<e-1:n<C-1&&Y<b-1&&(V[n+1]|=32768)),0!==(ba&t.xb)&&(aa|=1<<e),0!==(ba&t.jb)&&(ca|=1<<e),0!==(ba&t.Hb)&&(15>e?aa|=1<<e+1:0<n&&0<Y&&(ka[n-1]|=1)),0!==(ba&t.Ib)&&(0<e?aa|=1<<e-1:n<C-1&&Y<b-1&&(ka[n+1]|=32768)),0!==(ba&t.Jb)&&(15>e?ca|=1<<e+1:0<n&&0<Y&&(ma[n-1]|=1)),0!==(ba&t.ib)&&(0<e?ca|=1<<e-1:n<C-1&&Y<b-1&&(ma[n+1]|=32768)));x[g]|=y}Y+=1}V[n]|=ea;0<g&&(ka[n]|=aa);g<A-1&&(ma[n]|=ca)}else Y+=16;R+=16;U+=16}-1!==this.sa&&(0!==E&&(r[G-1>>4]&=~(1<<(~(G-1)&15)),r[I+1>>4]&=~(1<<(~(I+1)&15)),r[G-
2>>4]&=~(1<<(~(G-2)&15)),r[I+2>>4]&=~(1<<(~(I+2)&15))),0!==F&&(x[H-1>>4]&=~(1<<(~(H-1)&15)),x[O+1>>4]&=~(1<<(~(O+1)&15)),x[H-2>>4]&=~(1<<(~(H-2)&15)),x[O+2>>4]&=~(1<<(~(O+2)&15))));for(n=0;n<b;n+=1)r[n]&&(n<w&&(w=n),n>z&&(z=n));for(g=0;g<x.length;g+=1)x[g]&&(g<f&&(f=g),g>q&&(q=g));w=(w<<4)+this.A(r[w]);z=(z<<4)+this.K(r[z]);f=(f<<4)+this.A(x[f]);q=(q<<4)+this.K(x[q]);0>q&&(q=v-1);f>=v&&(f=0);w>=B&&(w=0);0>z&&(z=B-1);q>v-1&&(q=v-1);0>f&&(f=0);0>w&&(w=0);z>B-1&&(z=B-1);l.o=q;l.g=f;l.f=w;l.l=z;D.fill(0)};
h.prototype.Pv=function(a,e){var c,g=this.za,n,m,r,u,x=this.va,y=this.qa>>4;var v=0;var B=v+16;for(n=0;n<x;n+=1){var b=0;var l=g[n];for(m=0;m<y;m+=1)if(u=l[m])for(r=15;0<=r;--r){if(0!==(u&1<<r))for(c=v;c<B;c+=2){var f=e[c];var q=a[c];var w=a[c+1];var z=b<<3;var A=q[z];A|=w[z];f[z+z]=A|A>>8;z+=1;A=q[z];A|=w[z];f[z+z]=A|A>>8;z+=1;A=q[z];A|=w[z];f[z+z]=A|A>>8;z+=1;A=q[z];A|=w[z];f[z+z]=A|A>>8;z+=1;A=q[z];A|=w[z];f[z+z]=A|A>>8;z+=1;A=q[z];A|=w[z];f[z+z]=A|A>>8;z+=1;A=q[z];A|=w[z];f[z+z]=A|A>>8;z+=1;A=
q[z];A|=w[z];f[z+z]=A|A>>8}b+=1}else b+=16;v+=16;B+=16}};h.prototype.Wt=function(a,e){var c,g=this.za,n,m,r,u,x=this.va,y=this.qa>>4;var v=0;var B=v+16;for(n=0;n<x;n+=1){var b=0;var l=g[n];for(m=0;m<y;m+=1)if(u=l[m])for(r=15;0<=r;--r){if(0!==(u&1<<r))for(c=v;c<B;c+=2){var f=e[c];var q=a[c];var w=a[c+1];var z=b<<3;var A=q[z];var C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=w[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=q[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;
A=w[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=q[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=w[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=q[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=w[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=q[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=w[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=q[z];C=A&255;A>>=8;C-=C-
(A&255)&C-(A&255)>>255;A=w[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=q[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=w[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=q[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=w[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255)}b+=1}else b+=16;v+=16;B+=16}};h.prototype.Qv=function(a,e){var c,g=this.za,n,m,r,u,x=this.va,y=this.qa>>4;var v=0;var B=v+16;for(n=0;n<x;n+=
1){var b=0;var l=g[n];for(m=0;m<y;m+=1)if(u=l[m])for(r=15;0<=r;--r){if(0!==(u&1<<r))for(c=v;c<B;c+=4){var f=e[c];var q=a[c];var w=a[c+1];var z=a[c+2];var A=a[c+3];var C=b<<2;var D=b<<4;var E=q[C]|w[C]|z[C]|A[C];f[D]=(0<E)<<6;C+=1;D+=4;E=q[C]|w[C]|z[C]|A[C];f[D]=(0<E)<<6;C+=1;D+=4;E=q[C]|w[C]|z[C]|A[C];f[D]=(0<E)<<6;C+=1;D+=4;E=q[C]|w[C]|z[C]|A[C];f[D]=(0<E)<<6}b+=1}else b+=16;v+=16;B+=16}};h.prototype.bu=function(a,e){var c,g,n=this.za,m,r,u,x,y,v=this.va,B=this.qa>>4;var b=0;var l=b+16;for(r=0;r<
v;r+=1){var f=0;var q=n[r];for(u=0;u<B;u+=1)if(y=q[u])for(x=15;0<=x;--x){if(0!==(y&1<<x))for(c=b;c<l;c+=4){var w=e[c];var z=a[c];var A=a[c+1];var C=a[c+2];var D=a[c+3];var E=f<<2;var F=f<<4;for(g=0;4>g;g+=1){var G=0;if(m=z[E])G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255;if(m=A[E])G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255;if(m=
C[E])G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255;if(m=D[E])G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255,m>>=8,G-=G-(m&255)&G-(m&255)>>255;w[F]=G;E+=1;F+=4}}f+=1}else f+=16;b+=16;l+=16}};h.prototype.Sv=function(a,e){var c,g=this.za,n,m,r,u,x=this.va,y=this.qa>>4;var v=0;var B=v+16;for(n=0;n<x;n+=1){var b=0;var l=g[n];for(m=0;m<y;m+=1)if(u=l[m])for(r=15;0<=r;--r){if(0!==
(u&1<<r))for(c=v;c<B;c+=8){var f=e[c];var q=a[c];var w=a[c+1];var z=a[c+2];var A=a[c+3];var C=a[c+4];var D=a[c+5];var E=a[c+6];var F=a[c+7];var G=b<<2;var H=b<<4;var I=q[G]|q[G+1];I|=w[G]|w[G+1];I|=z[G]|z[G+1];I|=A[G]|A[G+1];0===I&&(I|=C[G]|C[G+1],I|=D[G]|D[G+1],I|=E[G]|E[G+1],I|=F[G]|F[G+1]);f[H]=(0<I)<<6;G+=2;H+=8;I=q[G]|q[G+1];I|=w[G]|w[G+1];I|=z[G]|z[G+1];I|=A[G]|A[G+1];0===I&&(I|=C[G]|C[G+1],I|=D[G]|D[G+1],I|=E[G]|E[G+1],I|=F[G]|F[G+1]);f[H]=(0<I)<<6}b+=1}else b+=16;v+=16;B+=16}};h.prototype.fu=
function(a,e){var c,g,n=this.za,m,r,u,x,y,v=this.va,B=this.qa>>4;var b=0;var l=b+16;for(r=0;r<v;r+=1){var f=0;var q=n[r];for(u=0;u<B;u+=1)if(y=q[u])for(x=15;0<=x;--x){if(0!==(y&1<<x))for(c=b;c<l;c+=8){var w=e[c];var z=a[c];var A=a[c+1];var C=a[c+2];var D=a[c+3];var E=a[c+4];var F=a[c+5];var G=a[c+6];var H=a[c+7];var I=f<<2;var O=f<<4;for(g=0;2>g;g+=1){var K=0;if(m=z[I])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;
if(m=z[I+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=A[I])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=A[I+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=C[I])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,
K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=C[I+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=D[I])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=D[I+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=E[I])K-=K-
(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=E[I+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=F[I])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=F[I+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-
(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=G[I])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=G[I+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=H[I])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=H[I+1])K-=K-(m&255)&K-(m&255)>>
255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;w[O]=K;I+=2;O+=8}}f+=1}else f+=16;b+=16;l+=16}};h.prototype.Ov=function(a,e){var c=this.za,g,n,m,r,u,x=this.va,y=this.qa>>4;for(g=r=0;g<x;g+=1){var v=0;var B=c[g];for(n=0;n<y;n+=1)if(u=B[n])for(m=15;0<=m;--m){if(0!==(u&1<<m)){var b=e[r];var l=a[r];var f=a[r+1];var q=a[r+2];var w=a[r+3];var z=a[r+4];var A=a[r+5];var C=a[r+6];var D=a[r+7];var E=a[r+8];var F=a[r+9];var G=a[r+10];var H=a[r+11];var I=
a[r+12];var O=a[r+13];var K=a[r+14];var M=a[r+15];var J=v<<2;var X=v<<4;l=l[J]|l[J+1]|l[J+2]|l[J+3];l|=f[J]|f[J+1]|f[J+2]|f[J+3];l|=q[J]|q[J+1]|q[J+2]|q[J+3];l|=w[J]|w[J+1]|w[J+2]|w[J+3];0===l&&(l|=z[J]|z[J+1]|z[J+2]|z[J+3],l|=A[J]|A[J+1]|A[J+2]|A[J+3],l|=C[J]|C[J+1]|C[J+2]|C[J+3],l|=D[J]|D[J+1]|D[J+2]|D[J+3],0===l&&(l|=E[J]|E[J+1]|E[J+2]|E[J+3],l|=F[J]|F[J+1]|F[J+2]|F[J+3],l|=G[J]|G[J+1]|G[J+2]|G[J+3],l|=H[J]|H[J+1]|H[J+2]|H[J+3],0===l&&(l|=I[J]|I[J+1]|I[J+2]|I[J+3],l|=O[J]|O[J+1]|O[J+2]|O[J+3],
l|=K[J]|K[J+1]|K[J+2]|K[J+3],l|=M[J]|M[J+1]|M[J+2]|M[J+3])));b[X]=(0<l)<<6}v+=1}else v+=16;r+=16}};h.prototype.Rt=function(a,e){var c=this.za,g,n,m,r,u,x,y=this.va,v=this.qa>>4;var B=0;var b=B+16;for(n=0;n<y;n+=1){var l=0;var f=c[n];for(m=0;m<v;m+=1)if(x=f[m])for(r=15;0<=r;--r){if(0!==(x&1<<r)){var q=0;for(u=B;u<b;u+=1){var w=a[u];var z=l<<2;if(g=w[z])q-=q-(g&255)&q-(g&255)>>255,g>>=8,q-=q-(g&255)&q-(g&255)>>255,g>>=8,q-=q-(g&255)&q-(g&255)>>255,g>>=8,q-=q-(g&255)&q-(g&255)>>255;if(g=w[z+1])q-=q-
(g&255)&q-(g&255)>>255,g>>=8,q-=q-(g&255)&q-(g&255)>>255,g>>=8,q-=q-(g&255)&q-(g&255)>>255,g>>=8,q-=q-(g&255)&q-(g&255)>>255;if(g=w[z+2])q-=q-(g&255)&q-(g&255)>>255,g>>=8,q-=q-(g&255)&q-(g&255)>>255,g>>=8,q-=q-(g&255)&q-(g&255)>>255,g>>=8,q-=q-(g&255)&q-(g&255)>>255;if(g=w[z+3])q-=q-(g&255)&q-(g&255)>>255,g>>=8,q-=q-(g&255)&q-(g&255)>>255,g>>=8,q-=q-(g&255)&q-(g&255)>>255,g>>=8,q-=q-(g&255)&q-(g&255)>>255}w=e[B];z=l<<4;w[z]=q}l+=1}else l+=16;B+=16;b+=16}};h.prototype.Vv=function(a,e){var c=this.ja;
.5<=c&&1>c?this.Pk||this.ya||this.D||this.Y?this.Wt(a,this.W):this.Pv(a,this.W):.25<=c&&.5>c?this.Pk||this.ya||this.D||this.Y?this.bu(e,this.W):this.Qv(e,this.W):.125<=c&&.25>c?this.Pk||this.ya||this.D||this.Y?this.fu(e,this.W):this.Sv(e,this.W):.125>c&&(this.Pk||this.ya||this.D||this.Y?this.Rt(e,this.W):this.Ov(e,this.W));this.yg&&(.5<=c&&1>c?this.Wt(this.ni,this.fb):.25<=c&&.5>c?this.bu(this.hg,this.fb):.125<=c&&.25>c?this.fu(this.hg,this.fb):.125>c&&this.Rt(this.hg,this.fb))};h.prototype.Qx=function(){var a=
this.Z,e=this.za,c=this.Ga,g,n,m,r,u,x=0,y=0,v=0,B=this.width,b=B>>4,l=this.height,f=B,q=-1,w=-1,z=l,A=this.H,C=this.fa,D,E,F=this.Fb;var G=this.va;var H=this.qa>>4;var I=0;var O=G,K=this.h+this.J-1,M=this.J,J=0<this.J?1:0;this.aa=0;if(0!==(this.v&1)){var X=this.cc;var R=this.oa}else X=this.ob,R=this.da;0>I&&(I=0);O>G&&(O=G);C.fill(0);F.fill(0);G=I<<4;var U=G+16;for(n=I;n<O;n+=1){var Y=0;var da=R[n];var V=c[n];var ka=e[n];for(m=0;m<H;m+=1){var ma=da[m]|V[m];var ea=0;if(ma)for(r=15;0<=r;--r){if(0!==
(ma&1<<r)){var aa=D=0;var ca=32768;var ba=0;for(I=G;I<U;I+=1){var na=X[I];var ja=a[I];var T=Y<<4;var S=na[Y];for(u=E=32768;0<u;){var W=g=ja[T];(g<=M||g===K)&&0!==(S&u)?g=K:(S&=~u,g>J&&--g);ja[T]=g;g>J&&(ba=1,g>M&&(D|=E,aa|=ca),g===K&&(x+=1,W!==K&&(y+=1)));W===K&&g!==K&&(v+=1);E>>=1;T+=1;u>>=1;W=g=ja[T];(g<=M||g===K)&&0!==(S&u)?g=K:(S&=~u,g>J&&--g);ja[T]=g;g>J&&(ba=1,g>M&&(D|=E,aa|=ca),g===K&&(x+=1,W!==K&&(y+=1)));W===K&&g!==K&&(v+=1);E>>=1;T+=1;u>>=1;W=g=ja[T];(g<=M||g===K)&&0!==(S&u)?g=K:(S&=~u,
g>J&&--g);ja[T]=g;g>J&&(ba=1,g>M&&(D|=E,aa|=ca),g===K&&(x+=1,W!==K&&(y+=1)));W===K&&g!==K&&(v+=1);E>>=1;T+=1;u>>=1;W=g=ja[T];(g<=M||g===K)&&0!==(S&u)?g=K:(S&=~u,g>J&&--g);ja[T]=g;g>J&&(ba=1,g>M&&(D|=E,aa|=ca),g===K&&(x+=1,W!==K&&(y+=1)));W===K&&g!==K&&(v+=1);E>>=1;T+=1;u>>=1}na[Y]=S;this.aa|=S;ca>>=1}C[Y]|=D;F[n]|=aa;ba&&(ea|=1<<r)}Y+=1}else Y+=16;V[m]=ea;ka[m]|=ea}G+=16;U+=16}for(m=0;m<b;m+=1)C[m]&&(m<f&&(f=m),m>q&&(q=m));for(n=0;n<F.length;n+=1)F[n]&&(n<z&&(z=n),n>w&&(w=n));f=(f<<4)+this.A(C[f]);
q=(q<<4)+this.K(C[q]);z=(z<<4)+this.A(F[z]);w=(w<<4)+this.K(F[w]);0>w&&(w=l-1);z>=l&&(z=0);f>=B&&(f=0);0>q&&(q=B-1);w>l-1&&(w=l-1);0>z&&(z=0);0>f&&(f=0);q>B-1&&(q=B-1);A.o=w;A.g=z;A.f=f;A.l=q;this.ma=x;this.Gb=y;this.Xb=v};h.prototype.sv=function(){var a=this.Z,e=this.za,c,g,n,m,r;var u=this.va;var x=this.qa>>4;var y=0;var v=u,B=0<this.J?1:0;0>y&&(y=0);v>u&&(v=u);u=y<<4;var b=u+16;for(c=y;c<v;c+=1){var l=0;var f=e[c];for(g=0;g<x;g+=1)if(r=f[g])for(n=15;0<=n;--n){if(0!==(r&1<<n))for(y=u;y<b;y+=1){var q=
a[y];var w=l<<4;for(m=15;0<=m;--m){var z=q[w];z>B&&(--z,q[w]=z);w+=1}}l+=1}else l+=16;u+=16;b+=16}};h.prototype.We=function(){this.$a||this.D||this.Y||this.Fc||(-1===this.h?this.Pk?this.Nv():this.Mv():this.aa||this.sv(),this.xi&&this.Av())};h.prototype.Hv=function(){var a,e=this.dk,c=this.za,g,n,m,r=0,u,x=this.va,y=this.qa>>4;var v=16;for(g=0;g<x;g+=1){var B=0;var b=c[g];for(n=0;n<y;n+=1)if(u=b[n])for(m=15;0<=m;--m){if(0!==(u&1<<m))for(a=r;a<v;){var l=e[a];var f=B<<3;l[f]&=16448;f+=1;l[f]&=16448;
f+=1;l[f]&=16448;f+=1;l[f]&=16448;f+=1;l[f]&=16448;f+=1;l[f]&=16448;f+=1;l[f]&=16448;f+=1;l[f]&=16448;a+=1}B+=1}else B+=16;r+=16;v+=16}};h.prototype.vv=function(){this.FL()};h.prototype.oz=function(){switch(this.Ti){case PatternConstants.ep:this.VA();break;case PatternConstants.bp:this.nA();break;case PatternConstants.Gk:this.Pz();break;case PatternConstants.cp:this.zz()}};h.prototype.zz=function(){var a=this.pg;var e=a[0],c=a[1],g=a[2],n=this.Jd,m=this.og,r,u,x=0,y,v,B,b=this.za,l=this.Ga,f,q=this.fa,
w,z=this.Fb,A,C,D=0,E=0,F=0,G=this.height,H=this.width,I=H>>4,O=this.H,K=G,M=-1,J=H,X=-1,R=this.va,U=this.qa>>4,Y=this.md;if(0!==(this.v&1)){var da=this.Ra;var V=this.na;var ka=this.Z;var ma=this.oa;var ea=this.da}else da=this.Z,V=this.La,ka=this.Ra,ma=this.da,ea=this.oa;q.fill(0);z.fill(0);var aa=0;var ca=aa+16;ea.Ya.fill(0);for(v=0;v<ma.length;v+=1){var ba=0;var na=ba+16;var ja=ma[v];var T=ea[v];var S=l[v];var W=b[v];var la=0<v?ea[v-1]:Y;var fa=v<R-1?ea[v+1]:Y;for(B=0;B<U;B+=1)if(f=ja[B]){var Z=
T[B];var L=la[B];var Q=fa[B];for(y=15;0<=y;--y){if(0!==(f&1<<y)){var ia=A=w=0;var P=aa;for(C=32768;P<ca;){a=da[P];var N=ka[P];var ha=32768;var oa=ba;0===oa?x=0:x=a[oa-1];for(u=a[oa];oa<na-1;){var qa=x;x=u;u=a[oa+1];var ra=e[x];var ta=c[qa];var pa=g[u];var sa=x;for(r=0;r<m;r+=1)if(qa=ra[r]&ta[r]&pa[r]){ra=0;for(pa=1;!(qa&pa);)ra+=1,pa<<=1;sa=n[(r<<5)+ra];break}N[oa]=sa;0<sa?(D+=1,0===x&&(E+=1),A|=C,w|=ha):0<x&&(F+=1);ha>>=1;oa+=1}qa=x;x=u;oa===H-1?u=0:u=a[oa+1];ra=e[x];ta=c[qa];pa=g[u];sa=x;for(r=
0;r<m;r+=1)if(qa=ra[r]&ta[r]&pa[r]){ra=0;for(pa=1;!(qa&pa);)ra+=1,pa<<=1;sa=n[(r<<5)+ra];break}N[oa]=sa;0<sa?(D+=1,0===x&&(E+=1),A|=C,w|=ha):0<x&&(F+=1);P+=1;C>>=1}q[ba>>4]|=w;w&&(Z|=1<<y,A&1&&(ia|=t.jb,w&32768&&(ia|=t.Jb),w&1&&(ia|=t.ib)),A&32768&&(ia|=t.xb,w&32768&&(ia|=t.Hb),w&1&&(ia|=t.Ib)),w&32768&&(ia|=t.zb),w&1&&(ia|=t.Wa),ia&&(0!==(ia&t.zb)&&(15>y?Z|=1<<y+1:0<B&&0<ba&&(T[B-1]|=1)),0!==(ia&t.Wa)&&(0<y?Z|=1<<y-1:B<U-1&&ba<H-1&&(T[B+1]|=32768)),0!==(ia&t.xb)&&(L|=1<<y),0!==(ia&t.jb)&&(Q|=1<<
y),0!==(ia&t.Hb)&&(15>y?L|=1<<y+1:0<B&&0<ba&&(la[B-1]|=1)),0!==(ia&t.Ib)&&(0<y?L|=1<<y-1:B<U-1&&ba<H-1&&(la[B+1]|=32768)),0!==(ia&t.Jb)&&(15>y?Q|=1<<y+1:0<B&&0<ba&&(fa[B-1]|=1)),0!==(ia&t.ib)&&(0<y?Q|=1<<y-1:B<U-1&&ba<H-1&&(fa[B+1]|=32768))));z[v]|=A}ba+=16;na+=16}T[B]|=Z;S[B]=f|Z;W[B]=W[B]|f|Z;0<v&&(la[B]|=L);v<R-1&&(fa[B]|=Q)}else ba+=256,na+=256;aa+=16;ca+=16}for(B=0;B<I;B+=1)q[B]&&(B<J&&(J=B),B>X&&(X=B));for(v=0;v<z.length;v+=1)z[v]&&(v<K&&(K=v),v>M&&(M=v));J=(J<<4)+this.A(q[J]);X=(X<<4)+this.K(q[X]);
K=(K<<4)+this.A(z[K]);M=(M<<4)+this.K(z[M]);0>M&&(M=G-1);K>=G&&(K=0);J>=H&&(J=0);0>X&&(X=H-1);M>G-1&&(M=G-1);0>K&&(K=0);0>J&&(J=0);X>H-1&&(X=H-1);O.o=M;O.g=K;O.f=J;O.l=X;Y.fill(0);aa=0;ca=aa+16;for(v=0;v<ma.length;v+=1){ba=0;ja=ma[v];T=ea[v];for(B=0;B<U;B+=1)if(f=ja[B],Z=T[B],f!==Z)for(y=15;0<=y;--y){if((f&1<<y)!==(Z&1<<y)&&0===(Z&1<<y))for(P=aa;P<ca;P+=1)a=V[P],oa=ba>>2,a[oa]=0,a[oa+1]=0,a[oa+2]=0,a[oa+3]=0;ba+=16}else ba+=256;aa+=16;ca+=16}this.ma=D;this.Gb=E;this.Xb=F;this.aa=D};h.prototype.VA=
function(){var a=this.pg;var e=a[0],c=a[1],g=a[2],n=a[3],m=a[4],r=this.Jd,u=this.og,x,y=0,v,B,b,l=this.za,f=this.Ga,q,w=this.fa,z,A=this.Fb,C,D,E=0,F=0,G=0,H=this.height,I=this.width,O=I>>4,K=this.H,M=H,J=-1,X=I,R=-1,U=this.va,Y=this.qa>>4,da=this.md;if(0!==(this.v&1)){var V=this.Ra;var ka=this.na;var ma=this.Z;var ea=this.oa;var aa=this.da}else V=this.Z,ka=this.La,ma=this.Ra,ea=this.da,aa=this.oa;w.fill(0);A.fill(0);var ca=0;var ba=ca+16;aa.Ya.fill(0);for(B=0;B<ea.length;B+=1){var na=0;var ja=na+
16;var T=ea[B];var S=aa[B];var W=f[B];var la=l[B];var fa=0<B?aa[B-1]:da;var Z=B<U-1?aa[B+1]:da;for(b=0;b<Y;b+=1)if(q=T[b]){var L=S[b];var Q=fa[b];var ia=Z[b];for(v=15;0<=v;--v){if(0!==(q&1<<v)){var P=C=z=0;var N=ca;for(D=32768;N<ba;){a=0===N?this.ld:V[N-1];var ha=V[N];var oa=N===this.height-1?this.ld:V[N+1];var qa=ma[N];var ra=32768;var ta=na;0===ta?y=0:y=ha[ta-1];for(x=ha[ta];ta<ja-1;){var pa=y;y=x;var sa=a[ta];x=ha[ta+1];var xa=oa[ta];var Ca=e[y];sa=c[sa];var za=g[x];var va=n[xa];var Da=m[pa];var Ea=
y;for(xa=0;xa<u;xa+=1)if(pa=Ca[xa]&sa[xa])if(pa&=za[xa]&va[xa]&Da[xa]){Ca=0;for(sa=1;!(pa&sa);)Ca+=1,sa<<=1;Ea=r[(xa<<5)+Ca];break}qa[ta]=Ea;0<Ea?(E+=1,0===y&&(F+=1),C|=D,z|=ra):0<y&&(G+=1);ra>>=1;ta+=1}pa=y;y=x;sa=a[ta];ta===I-1?x=0:x=ha[ta+1];xa=oa[ta];Ca=e[y];sa=c[sa];za=g[x];va=n[xa];Da=m[pa];Ea=y;for(xa=0;xa<u;xa+=1)if(pa=Ca[xa]&sa[xa])if(pa&=za[xa]&va[xa]&Da[xa]){Ca=0;for(sa=1;!(pa&sa);)Ca+=1,sa<<=1;Ea=r[(xa<<5)+Ca];break}qa[ta]=Ea;0<Ea?(E+=1,0===y&&(F+=1),C|=D,z|=ra):0<y&&(G+=1);N+=1;D>>=1}w[na>>
4]|=z;z&&(L|=1<<v,C&1&&(P|=t.jb,z&32768&&(P|=t.Jb),z&1&&(P|=t.ib)),C&32768&&(P|=t.xb,z&32768&&(P|=t.Hb),z&1&&(P|=t.Ib)),z&32768&&(P|=t.zb),z&1&&(P|=t.Wa),P&&(0!==(P&t.zb)&&(15>v?L|=1<<v+1:0<b&&0<na&&(S[b-1]|=1)),0!==(P&t.Wa)&&(0<v?L|=1<<v-1:b<Y-1&&na<I-1&&(S[b+1]|=32768)),0!==(P&t.xb)&&(Q|=1<<v),0!==(P&t.jb)&&(ia|=1<<v),0!==(P&t.Hb)&&(15>v?Q|=1<<v+1:0<b&&0<na&&(fa[b-1]|=1)),0!==(P&t.Ib)&&(0<v?Q|=1<<v-1:b<Y-1&&na<I-1&&(fa[b+1]|=32768)),0!==(P&t.Jb)&&(15>v?ia|=1<<v+1:0<b&&0<na&&(Z[b-1]|=1)),0!==(P&
t.ib)&&(0<v?ia|=1<<v-1:b<Y-1&&na<I-1&&(Z[b+1]|=32768))));A[B]|=C}na+=16;ja+=16}S[b]|=L;W[b]=q|L;la[b]=la[b]|q|L;0<B&&(fa[b]|=Q);B<U-1&&(Z[b]|=ia)}else na+=256,ja+=256;ca+=16;ba+=16}for(b=0;b<O;b+=1)w[b]&&(b<X&&(X=b),b>R&&(R=b));for(B=0;B<A.length;B+=1)A[B]&&(B<M&&(M=B),B>J&&(J=B));X=(X<<4)+this.A(w[X]);R=(R<<4)+this.K(w[R]);M=(M<<4)+this.A(A[M]);J=(J<<4)+this.K(A[J]);0>J&&(J=H-1);M>=H&&(M=0);X>=I&&(X=0);0>R&&(R=I-1);J>H-1&&(J=H-1);0>M&&(M=0);0>X&&(X=0);R>I-1&&(R=I-1);K.o=J;K.g=M;K.f=X;K.l=R;da.fill(0);
ca=0;ba=ca+16;for(B=0;B<ea.length;B+=1){na=0;T=ea[B];S=aa[B];for(b=0;b<Y;b+=1)if(q=T[b],L=S[b],q!==L)for(v=15;0<=v;--v){if((q&1<<v)!==(L&1<<v)&&0===(L&1<<v))for(N=ca;N<ba;N+=1)ha=ka[N],ta=na>>2,ha[ta]=0,ha[ta+1]=0,ha[ta+2]=0,ha[ta+3]=0;na+=16}else na+=256;ca+=16;ba+=16}this.ma=E;this.Gb=F;this.Xb=G;this.aa=E};h.prototype.nA=function(){var a=this.pg;var e=a[0],c=a[1],g=a[2],n=a[3],m=a[4],r=a[5],u=a[6],x=a[7],y=a[8],v=this.Jd,B=this.og,b,l,f,q,w,z,A=this.za,C=this.Ga,D,E=this.fa,F,G=this.Fb,H,I,O=0,
K=0,M=0,J=this.height,X=this.width,R=X>>4,U=this.H,Y=J,da=-1,V=X,ka=-1,ma=this.va,ea=this.qa>>4,aa=this.md;if(0!==(this.v&1)){var ca=this.Ra;var ba=this.na;var na=this.Z;var ja=this.oa;var T=this.da}else ca=this.Z,ba=this.La,na=this.Ra,ja=this.da,T=this.oa;E.fill(0);G.fill(0);var S=0;var W=S+16;T.Ya.fill(0);for(w=0;w<ja.length;w+=1){var la=0;var fa=la+16;var Z=ja[w];var L=T[w];var Q=C[w];var ia=A[w];var P=0<w?T[w-1]:aa;var N=w<ma-1?T[w+1]:aa;for(z=0;z<ea;z+=1)if(D=Z[z]){var ha=L[z];var oa=P[z];var qa=
N[z];for(q=15;0<=q;--q){if(0!==(D&1<<q)){var ra=H=F=0;var ta=S;for(I=32768;ta<W;){a=0===ta?this.ld:ca[ta-1];var pa=ca[ta];var sa=ta===this.height-1?this.ld:ca[ta+1];var xa=na[ta];var Ca=32768;var za=la;if(0===za)var va=f=b=0;else b=a[za-1],f=sa[za-1],va=pa[za-1];var Da=a[za];var Ea=sa[za];for(l=pa[za];za<fa-1;){var Ba=b;b=Da;Da=a[za+1];var ya=va;va=l;l=pa[za+1];var Ha=f;f=Ea;Ea=sa[za+1];var Ia=va;var Ka=e[va];var Fa=c[b];var Ja=g[Da];var ua=n[l];var Aa=m[Ea];var wa=r[f];Ha=u[Ha];var Na=x[ya];var Oa=
y[Ba];for(ya=0;ya<B;ya+=1)if(Ba=Ka[ya]&Fa[ya])if(Ba&=Ja[ya]&ua[ya])if(Ba&=Aa[ya]&wa[ya])if(Ba&=Ha[ya]&Na[ya]&Oa[ya]){Fa=0;for(Ja=1;!(Ba&Ja);)Fa+=1,Ja<<=1;Ia=v[(ya<<5)+Fa];break}xa[za]=Ia;0<Ia?(O+=1,0===va&&(K+=1),H|=I,F|=Ca):0<va&&(M+=1);Ca>>=1;za+=1}Ba=b;b=Da;ya=va;va=l;Ha=f;f=Ea;za===X-1?Ea=l=Da=0:(Da=a[za+1],l=pa[za+1],Ea=sa[za+1]);Ka=e[va];Fa=c[b];Ja=g[Da];ua=n[l];Aa=m[Ea];wa=r[f];Ha=u[Ha];Na=x[ya];Oa=y[Ba];Ia=va;for(ya=0;ya<B;ya+=1)if(Ba=Ka[ya]&Fa[ya])if(Ba&=Ja[ya]&ua[ya])if(Ba&=Aa[ya]&wa[ya])if(Ba&=
Ha[ya]&Na[ya]&Oa[ya]){Fa=0;for(Ja=1;!(Ba&Ja);)Fa+=1,Ja<<=1;Ia=v[(ya<<5)+Fa];break}xa[za]=Ia;0<Ia?(O+=1,0===va&&(K+=1),H|=I,F|=Ca):0<va&&(M+=1);ta+=1;I>>=1}E[la>>4]|=F;F&&(ha|=1<<q,H&1&&(ra|=t.jb,F&32768&&(ra|=t.Jb),F&1&&(ra|=t.ib)),H&32768&&(ra|=t.xb,F&32768&&(ra|=t.Hb),F&1&&(ra|=t.Ib)),F&32768&&(ra|=t.zb),F&1&&(ra|=t.Wa),ra&&(0!==(ra&t.zb)&&(15>q?ha|=1<<q+1:0<z&&0<la&&(L[z-1]|=1)),0!==(ra&t.Wa)&&(0<q?ha|=1<<q-1:z<ea-1&&la<X-1&&(L[z+1]|=32768)),0!==(ra&t.xb)&&(oa|=1<<q),0!==(ra&t.jb)&&(qa|=1<<q),
0!==(ra&t.Hb)&&(15>q?oa|=1<<q+1:0<z&&0<la&&(P[z-1]|=1)),0!==(ra&t.Ib)&&(0<q?oa|=1<<q-1:z<ea-1&&la<X-1&&(P[z+1]|=32768)),0!==(ra&t.Jb)&&(15>q?qa|=1<<q+1:0<z&&0<la&&(N[z-1]|=1)),0!==(ra&t.ib)&&(0<q?qa|=1<<q-1:z<ea-1&&la<X-1&&(N[z+1]|=32768))));G[w]|=H}la+=16;fa+=16}L[z]|=ha;Q[z]=D|ha;ia[z]=ia[z]|D|ha;0<w&&(P[z]|=oa);w<ma-1&&(N[z]|=qa)}else la+=256,fa+=256;S+=16;W+=16}for(z=0;z<R;z+=1)E[z]&&(z<V&&(V=z),z>ka&&(ka=z));for(w=0;w<G.length;w+=1)G[w]&&(w<Y&&(Y=w),w>da&&(da=w));V=(V<<4)+this.A(E[V]);ka=(ka<<
4)+this.K(E[ka]);Y=(Y<<4)+this.A(G[Y]);da=(da<<4)+this.K(G[da]);0>da&&(da=J-1);Y>=J&&(Y=0);V>=X&&(V=0);0>ka&&(ka=X-1);da>J-1&&(da=J-1);0>Y&&(Y=0);0>V&&(V=0);ka>X-1&&(ka=X-1);U.o=da;U.g=Y;U.f=V;U.l=ka;aa.fill(0);S=0;W=S+16;for(w=0;w<ja.length;w+=1){la=0;Z=ja[w];L=T[w];for(z=0;z<ea;z+=1)if(D=Z[z],ha=L[z],D!==ha)for(q=15;0<=q;--q){if((D&1<<q)!==(ha&1<<q)&&0===(ha&1<<q))for(ta=S;ta<W;ta+=1)pa=ba[ta],za=la>>2,pa[za]=0,pa[za+1]=0,pa[za+2]=0,pa[za+3]=0;la+=16}else la+=256;S+=16;W+=16}this.ma=O;this.Gb=K;
this.Xb=M;this.aa=O};h.prototype.Pz=function(){var a=this.pg;var e=a[0],c=a[1],g=a[2],n=a[3],m=a[4],r=a[5],u=a[6],x=this.Jd,y=this.og,v,B,b,l,f,q=this.za,w=this.Ga,z,A=this.fa,C,D=this.Fb,E,F,G=0,H=0,I=0,O=this.height,K=this.width,M=K>>4,J=this.H,X=O,R=-1,U=K,Y=-1,da=this.va,V=this.qa>>4,ka=this.md;if(0!==(this.v&1)){var ma=this.Ra;var ea=this.na;var aa=this.Z;var ca=this.oa;var ba=this.da}else ma=this.Z,ea=this.La,aa=this.Ra,ca=this.da,ba=this.oa;A.fill(0);D.fill(0);var na=0;var ja=na+16;ba.Ya.fill(0);
for(l=0;l<ca.length;l+=1){var T=0;var S=T+16;var W=ca[l];var la=ba[l];var fa=w[l];var Z=q[l];var L=0<l?ba[l-1]:ka;var Q=l<da-1?ba[l+1]:ka;for(f=0;f<V;f+=1)if(z=W[f]){var ia=la[f];var P=L[f];var N=Q[f];for(b=15;0<=b;--b){if(0!==(z&1<<b)){var ha=E=C=0;var oa=na;for(F=32768;oa<ja;){a=0===oa?this.ld:ma[oa-1];var qa=ma[oa];var ra=oa===this.height-1?this.ld:ma[oa+1];var ta=aa[oa];var pa=32768;var sa=T;if(0===sa)var xa=v=0;else v=a[sa-1],xa=qa[sa-1];var Ca=ra[sa];for(B=qa[sa];sa<S-1;){var za=v;v=a[sa];var va=
xa;xa=B;B=qa[sa+1];var Da=Ca;Ca=ra[sa+1];var Ea=e[xa];var Ba=c[v];var ya=g[B];var Ha=n[Ca];Da=m[Da];var Ia=r[va];var Ka=u[za];var Fa=xa;for(va=0;va<y;va+=1)if(za=Ea[va]&Ba[va])if(za&=ya[va]&Ha[va])if(za&=Da[va]&Ia[va]&Ka[va]){Ba=0;for(ya=1;!(za&ya);)Ba+=1,ya<<=1;Fa=x[(va<<5)+Ba];break}ta[sa]=Fa;0<Fa?(G+=1,0===xa&&(H+=1),E|=F,C|=pa):0<xa&&(I+=1);pa>>=1;sa+=1}za=v;v=a[sa];va=xa;xa=B;Da=Ca;sa===K-1?Ca=B=0:(B=qa[sa+1],Ca=ra[sa+1]);Ea=e[xa];Ba=c[v];ya=g[B];Ha=n[Ca];Da=m[Da];Ia=r[va];Ka=u[za];Fa=xa;for(va=
0;va<y;va+=1)if(za=Ea[va]&Ba[va])if(za&=ya[va]&Ha[va])if(za&=Da[va]&Ia[va]&Ka[va]){Ba=0;for(ya=1;!(za&ya);)Ba+=1,ya<<=1;Fa=x[(va<<5)+Ba];break}ta[sa]=Fa;0<Fa?(G+=1,0===xa&&(H+=1),E|=F,C|=pa):0<xa&&(I+=1);oa+=1;F>>=1}A[T>>4]|=C;C&&(ia|=1<<b,E&1&&(ha|=t.jb,C&32768&&(ha|=t.Jb),C&1&&(ha|=t.ib)),E&32768&&(ha|=t.xb,C&32768&&(ha|=t.Hb),C&1&&(ha|=t.Ib)),C&32768&&(ha|=t.zb),C&1&&(ha|=t.Wa),ha&&(0!==(ha&t.zb)&&(15>b?ia|=1<<b+1:0<f&&0<T&&(la[f-1]|=1)),0!==(ha&t.Wa)&&(0<b?ia|=1<<b-1:f<V-1&&T<K-1&&(la[f+1]|=32768)),
0!==(ha&t.xb)&&(P|=1<<b),0!==(ha&t.jb)&&(N|=1<<b),0!==(ha&t.Hb)&&(15>b?P|=1<<b+1:0<f&&0<T&&(L[f-1]|=1)),0!==(ha&t.Ib)&&(0<b?P|=1<<b-1:f<V-1&&T<K-1&&(L[f+1]|=32768)),0!==(ha&t.Jb)&&(15>b?N|=1<<b+1:0<f&&0<T&&(Q[f-1]|=1)),0!==(ha&t.ib)&&(0<b?N|=1<<b-1:f<V-1&&T<K-1&&(Q[f+1]|=32768))));D[l]|=E}T+=16;S+=16}la[f]|=ia;fa[f]=z|ia;Z[f]=Z[f]|z|ia;0<l&&(L[f]|=P);l<da-1&&(Q[f]|=N)}else T+=256,S+=256;na+=16;ja+=16}for(f=0;f<M;f+=1)A[f]&&(f<U&&(U=f),f>Y&&(Y=f));for(l=0;l<D.length;l+=1)D[l]&&(l<X&&(X=l),l>R&&(R=
l));U=(U<<4)+this.A(A[U]);Y=(Y<<4)+this.K(A[Y]);X=(X<<4)+this.A(D[X]);R=(R<<4)+this.K(D[R]);0>R&&(R=O-1);X>=O&&(X=0);U>=K&&(U=0);0>Y&&(Y=K-1);R>O-1&&(R=O-1);0>X&&(X=0);0>U&&(U=0);Y>K-1&&(Y=K-1);J.o=R;J.g=X;J.f=U;J.l=Y;ka.fill(0);na=0;ja=na+16;for(l=0;l<ca.length;l+=1){T=0;W=ca[l];la=ba[l];for(f=0;f<V;f+=1)if(z=W[f],ia=la[f],z!==ia)for(b=15;0<=b;--b){if((z&1<<b)!==(ia&1<<b)&&0===(ia&1<<b))for(oa=na;oa<ja;oa+=1)qa=ea[oa],sa=T>>2,qa[sa]=0,qa[sa+1]=0,qa[sa+2]=0,qa[sa+3]=0;T+=16}else T+=256;na+=16;ja+=
16}this.ma=G;this.Gb=H;this.Xb=I;this.aa=G};h.prototype.bB=function(){if(4===this.Sf)if(null!==this.ve)switch(this.nv){case 1:this.qB();break;case 2:this.sB();break;case 3:this.tB();break;case 4:this.tv();break;default:this.ev()}else this.ev();else this.nB()};h.prototype.nB=function(){var a=this.Lj,e=this.Mj,c=this.Hk,g,n,m,r,u,x=this.za,y=this.Ga,v,B=this.fa,b,l=this.Fb,f,q,w=0,z=0,A=0,C=this.height,D=this.width,E=D>>4,F=this.H,G=C,H=-1,I=D,O=-1,K=this.va,M=this.qa>>4,J=this.md;if(0!==(this.v&1)){var X=
this.Ra;var R=this.na;var U=this.Z;var Y=this.oa;var da=this.da}else X=this.Z,R=this.La,U=this.Ra,Y=this.da,da=this.oa;B.fill(0);l.fill(0);var V=0;var ka=V+16;da.Ya.fill(0);for(r=0;r<Y.length;r+=1){var ma=0;var ea=Y[r];var aa=da[r];var ca=y[r];var ba=x[r];var na=0<r?da[r-1]:J;var ja=r<K-1?da[r+1]:J;for(u=0;u<M;u+=1)if(v=ea[u]){var T=aa[u];var S=na[u];var W=ja[u];for(m=15;0<=m;--m){if(0!==(v&1<<m)){var la=f=b=0;var fa=V;for(q=32768;fa<ka;){var Z=0===fa?this.ld:X[fa-1];var L=X[fa];var Q=fa===this.height-
1?this.ld:X[fa+1];var ia=U[fa];var P=32768;var N=ma;if(0===N)var ha=n=g=0;else g=Z[N-1],n=Q[N-1],ha=L[N-1];var oa=Z[N];var qa=Q[N];var ra=L[N];var ta=g;g=oa;oa=Z[N+1];var pa=ha;ha=ra;ra=L[N+1];var sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ta]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=q,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ta=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ta]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=
q,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ta=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ta]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=q,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ta=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ta]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=q,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ta=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ta]+oa]+
sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=q,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ta=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ta]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=q,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ta=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ta]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=q,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ta=g;g=oa;oa=Z[N+1];pa=ha;ha=
ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ta]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=q,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ta=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ta]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=q,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ta=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ta]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),
f|=q,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ta=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ta]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=q,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ta=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ta]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=q,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ta=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ta]+
oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=q,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ta=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ta]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=q,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ta=g;g=oa;oa=Z[N+1];pa=ha;ha=ra;ra=L[N+1];sa=n;n=qa;qa=Q[N+1];pa=e[a[a[a[a[a[a[a[a[c+ta]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=q,b|=P):0<ha&&(A+=1);P>>=1;N+=1;ta=g;g=oa;pa=ha;ha=ra;sa=
n;n=qa;N===D-1?qa=ra=oa=0:(oa=Z[N+1],ra=L[N+1],qa=Q[N+1]);pa=e[a[a[a[a[a[a[a[a[c+ta]+oa]+sa]+qa]+g]+pa]+ra]+n]+ha];ia[N]=pa;0<pa?(w+=1,0===ha&&(z+=1),f|=q,b|=P):0<ha&&(A+=1);fa+=1;q>>=1}B[ma>>4]|=b;b&&(T|=1<<m,f&1&&(la|=t.jb,b&32768&&(la|=t.Jb),b&1&&(la|=t.ib)),f&32768&&(la|=t.xb,b&32768&&(la|=t.Hb),b&1&&(la|=t.Ib)),b&32768&&(la|=t.zb),b&1&&(la|=t.Wa),la&&(0!==(la&t.zb)&&(15>m?T|=1<<m+1:0<u&&0<ma&&(aa[u-1]|=1)),0!==(la&t.Wa)&&(0<m?T|=1<<m-1:u<M-1&&ma<D-1&&(aa[u+1]|=32768)),0!==(la&t.xb)&&(S|=1<<m),
0!==(la&t.jb)&&(W|=1<<m),0!==(la&t.Hb)&&(15>m?S|=1<<m+1:0<u&&0<ma&&(na[u-1]|=1)),0!==(la&t.Ib)&&(0<m?S|=1<<m-1:u<M-1&&ma<D-1&&(na[u+1]|=32768)),0!==(la&t.Jb)&&(15>m?W|=1<<m+1:0<u&&0<ma&&(ja[u-1]|=1)),0!==(la&t.ib)&&(0<m?W|=1<<m-1:u<M-1&&ma<D-1&&(ja[u+1]|=32768))));l[r]|=f}ma+=16}aa[u]|=T;ca[u]=v|T;ba[u]=ba[u]|v|T;0<r&&(na[u]|=S);r<K-1&&(ja[u]|=W)}else ma+=256;V+=16;ka+=16}for(u=0;u<E;u+=1)B[u]&&(u<I&&(I=u),u>O&&(O=u));for(r=0;r<l.length;r+=1)l[r]&&(r<G&&(G=r),r>H&&(H=r));I=(I<<4)+this.A(B[I]);O=(O<<
4)+this.K(B[O]);G=(G<<4)+this.A(l[G]);H=(H<<4)+this.K(l[H]);0>H&&(H=C-1);G>=C&&(G=0);I>=D&&(I=0);0>O&&(O=D-1);H>C-1&&(H=C-1);0>G&&(G=0);0>I&&(I=0);O>D-1&&(O=D-1);F.o=H;F.g=G;F.f=I;F.l=O;J.fill(0);V=0;ka=V+16;for(r=0;r<Y.length;r+=1){ma=0;ea=Y[r];aa=da[r];for(u=0;u<M;u+=1)if(v=ea[u],T=aa[u],v!==T)for(m=15;0<=m;--m){if((v&1<<m)!==(T&1<<m)&&0===(T&1<<m))for(fa=V;fa<ka;fa+=1)L=R[fa],N=ma>>2,L[N]=0,L[N+1]=0,L[N+2]=0,L[N+3]=0;ma+=16}else ma+=256;V+=16;ka+=16}this.ma=w;this.Gb=z;this.Xb=A;this.aa=w};h.prototype.qB=
function(){var a=this.ve,e,c,g,n=this.za,m=this.Ga,r=null,u=null,x,y=this.fa,v,B=this.Fb,b,l,f=0,q=0,w=0,z=this.height,A=this.width,C=A>>4,D=this.H,E=z,F=-1,G=A,H=-1,I=this.va,O=this.qa>>4,K=this.md;if(0!==(this.v&1)){var M=this.Ra;var J=this.na;var X=this.La;var R=this.oa;var U=this.da}else M=this.Z,J=this.La,X=this.na,R=this.da,U=this.oa;y.fill(0);B.fill(0);var Y=0;var da=Y+16;U.Ya.fill(0);for(c=0;c<R.length;c+=1){var V=0;var ka=R[c];var ma=U[c];var ea=m[c];var aa=n[c];0<c?r=U[c-1]:r=K;c<I-1?u=
U[c+1]:u=K;for(g=0;g<O;g+=1)if(x=ka[g]){var ca=ma[g];var ba=r[g];var na=u[g];for(e=15;0<=e;--e){if(0!==(x&1<<e)){var ja=b=v=0;var T=Y;for(l=32768;T<da;){var S=0===T?this.ld:M[T-1];var W=M[T];var la=T===this.height-1?this.ld:M[T+1];var fa=X[T];var Z=32768;var L=V;var Q=S[L];var ia=W[L+1];var P=la[L];var N=0===L?W[L]<<3|ia<<2|Q<<1|P:W[L-1]<<4|W[L]<<3|ia<<2|Q<<1|P;var ha=a[N];0<ha?(f+=1,0===(N&8)&&(q+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=
Q<<8;0<Q?(f+=1,0===(N&8)&&(q+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&8)&&(q+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&8)&&(q+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;ha=a[N];0<ha?(f+=1,0===(N&8)&&(q+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];
N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&8)&&(q+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&8)&&(q+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&8)&&(q+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;ha=a[N];0<ha?(f+=1,0===(N&8)&&(q+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=
1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&8)&&(q+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&8)&&(q+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&8)&&(q+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;ha=a[N];0<ha?(f+=1,0===(N&8)&&(q+=1),
b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&8)&&(q+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&8)&&(q+=1),b|=l,v|=Z):0!==(N&8)&&(w+=1);Z>>=1;L+=1;Q=S[L];L===A-1?ia=0:ia=W[L+1];P=la[L];N=N<<1&24|ia<<2|Q<<1|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&3584)&&(q+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);T+=1;l>>=1}y[V>>4]|=v;v&&(ca|=1<<e,b&1&&(ja|=
t.jb,v&32768&&(ja|=t.Jb),v&1&&(ja|=t.ib)),b&32768&&(ja|=t.xb,v&32768&&(ja|=t.Hb),v&1&&(ja|=t.Ib)),v&32768&&(ja|=t.zb),v&1&&(ja|=t.Wa),ja&&(0!==(ja&t.zb)&&(15>e?ca|=1<<e+1:0<g&&0<V&&(ma[g-1]|=1)),0!==(ja&t.Wa)&&(0<e?ca|=1<<e-1:g<O-1&&V<A-1&&(ma[g+1]|=32768)),0!==(ja&t.xb)&&(ba|=1<<e),0!==(ja&t.jb)&&(na|=1<<e),0!==(ja&t.Hb)&&(15>e?ba|=1<<e+1:0<g&&0<V&&(r[g-1]|=1)),0!==(ja&t.Ib)&&(0<e?ba|=1<<e-1:g<O-1&&V<A-1&&(r[g+1]|=32768)),0!==(ja&t.Jb)&&(15>e?na|=1<<e+1:0<g&&0<V&&(u[g-1]|=1)),0!==(ja&t.ib)&&(0<e?
na|=1<<e-1:g<O-1&&V<A-1&&(u[g+1]|=32768))));B[c]|=b}V+=16}ma[g]|=ca;ea[g]=x|ca;aa[g]=aa[g]|x|ca;0<c&&(r[g]|=ba);c<I-1&&(u[g]|=na)}else V+=256;Y+=16;da+=16}for(g=0;g<C;g+=1)y[g]&&(g<G&&(G=g),g>H&&(H=g));for(c=0;c<B.length;c+=1)B[c]&&(c<E&&(E=c),c>F&&(F=c));G=(G<<4)+this.A(y[G]);H=(H<<4)+this.K(y[H]);E=(E<<4)+this.A(B[E]);F=(F<<4)+this.K(B[F]);0>F&&(F=z-1);E>=z&&(E=0);G>=A&&(G=0);0>H&&(H=A-1);F>z-1&&(F=z-1);0>E&&(E=0);0>G&&(G=0);H>A-1&&(H=A-1);D.o=F;D.g=E;D.f=G;D.l=H;K.fill(0);Y=0;da=Y+16;for(c=0;c<
R.length;c+=1){V=0;ka=R[c];ma=U[c];for(g=0;g<O;g+=1)if(x=ka[g],ca=ma[g],x!==ca)for(e=15;0<=e;--e){if((x&1<<e)!==(ca&1<<e)&&0===(ca&1<<e))for(T=Y;T<da;T+=1)W=J[T],L=V>>2,W[L]=0,W[L+1]=0,W[L+2]=0,W[L+3]=0;V+=16}else V+=256;Y+=16;da+=16}this.ma=f;this.Gb=q;this.Xb=w;this.aa=f};h.prototype.sB=function(){var a=this.ve,e,c,g,n=this.za,m=this.Ga,r=null,u=null,x,y=this.fa,v,B=this.Fb,b,l,f=0,q=0,w=0,z=this.height,A=this.width,C=A>>4,D=this.H,E=z,F=-1,G=A,H=-1,I=this.va,O=this.qa>>4,K=this.md;if(0!==(this.v&
1)){var M=this.Ra;var J=this.na;var X=this.La;var R=this.oa;var U=this.da}else M=this.Z,J=this.La,X=this.na,R=this.da,U=this.oa;y.fill(0);B.fill(0);var Y=0;var da=Y+16;U.Ya.fill(0);for(c=0;c<R.length;c+=1){var V=0;var ka=R[c];var ma=U[c];var ea=m[c];var aa=n[c];0<c?r=U[c-1]:r=K;c<I-1?u=U[c+1]:u=K;for(g=0;g<O;g+=1)if(x=ka[g]){var ca=ma[g];var ba=r[g];var na=u[g];for(e=15;0<=e;--e){if(0!==(x&1<<e)){var ja=b=v=0;var T=Y;for(l=32768;T<da;){var S=0===T?this.ld:M[T-1];var W=M[T];var la=T===this.height-
1?this.ld:M[T+1];var fa=X[T];var Z=32768;var L=V;var Q=S[L];var ia=W[L+1];var P=la[L];var N=0===L?W[L]<<6|ia<<4|Q<<2|P:W[L-1]<<8|W[L]<<6|ia<<4|Q<<2|P;var ha=a[N];0<ha?(f+=1,0===(N&192)&&(q+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&192)&&(q+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&192)&&(q+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=
1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&192)&&(q+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;ha=a[N];0<ha?(f+=1,0===(N&192)&&(q+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&192)&&(q+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===
(N&192)&&(q+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&192)&&(q+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;ha=a[N];0<ha?(f+=1,0===(N&192)&&(q+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&192)&&(q+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=
N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&192)&&(q+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&192)&&(q+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;ha=a[N];0<ha?(f+=1,0===(N&192)&&(q+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&192)&&(q+=1),b|=l,v|=Z):0!==
(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&192)&&(q+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);Z>>=1;L+=1;Q=S[L];L===A-1?ia=0:ia=W[L+1];P=la[L];N=N<<2&960|ia<<4|Q<<2|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&192)&&(q+=1),b|=l,v|=Z):0!==(N&192)&&(w+=1);T+=1;l>>=1}y[V>>4]|=v;v&&(ca|=1<<e,b&1&&(ja|=t.jb,v&32768&&(ja|=t.Jb),v&1&&(ja|=t.ib)),b&32768&&(ja|=t.xb,v&32768&&(ja|=t.Hb),v&1&&(ja|=t.Ib)),v&32768&&(ja|=t.zb),v&1&&(ja|=t.Wa),ja&&(0!==
(ja&t.zb)&&(15>e?ca|=1<<e+1:0<g&&0<V&&(ma[g-1]|=1)),0!==(ja&t.Wa)&&(0<e?ca|=1<<e-1:g<O-1&&V<A-1&&(ma[g+1]|=32768)),0!==(ja&t.xb)&&(ba|=1<<e),0!==(ja&t.jb)&&(na|=1<<e),0!==(ja&t.Hb)&&(15>e?ba|=1<<e+1:0<g&&0<V&&(r[g-1]|=1)),0!==(ja&t.Ib)&&(0<e?ba|=1<<e-1:g<O-1&&V<A-1&&(r[g+1]|=32768)),0!==(ja&t.Jb)&&(15>e?na|=1<<e+1:0<g&&0<V&&(u[g-1]|=1)),0!==(ja&t.ib)&&(0<e?na|=1<<e-1:g<O-1&&V<A-1&&(u[g+1]|=32768))));B[c]|=b}V+=16}ma[g]|=ca;ea[g]=x|ca;aa[g]=aa[g]|x|ca;0<c&&(r[g]|=ba);c<I-1&&(u[g]|=na)}else V+=256;
Y+=16;da+=16}for(g=0;g<C;g+=1)y[g]&&(g<G&&(G=g),g>H&&(H=g));for(c=0;c<B.length;c+=1)B[c]&&(c<E&&(E=c),c>F&&(F=c));G=(G<<4)+this.A(y[G]);H=(H<<4)+this.K(y[H]);E=(E<<4)+this.A(B[E]);F=(F<<4)+this.K(B[F]);0>F&&(F=z-1);E>=z&&(E=0);G>=A&&(G=0);0>H&&(H=A-1);F>z-1&&(F=z-1);0>E&&(E=0);0>G&&(G=0);H>A-1&&(H=A-1);D.o=F;D.g=E;D.f=G;D.l=H;K.fill(0);Y=0;da=Y+16;for(c=0;c<R.length;c+=1){V=0;ka=R[c];ma=U[c];for(g=0;g<O;g+=1)if(x=ka[g],ca=ma[g],x!==ca)for(e=15;0<=e;--e){if((x&1<<e)!==(ca&1<<e)&&0===(ca&1<<e))for(T=
Y;T<da;T+=1)W=J[T],L=V>>2,W[L]=0,W[L+1]=0,W[L+2]=0,W[L+3]=0;V+=16}else V+=256;Y+=16;da+=16}this.ma=f;this.Gb=q;this.Xb=w;this.aa=f};h.prototype.tB=function(){var a=this.ve,e,c,g,n=this.za,m=this.Ga,r=null,u=null,x,y=this.fa,v,B=this.Fb,b,l,f=0,q=0,w=0,z=this.height,A=this.width,C=A>>4,D=this.H,E=z,F=-1,G=A,H=-1,I=this.va,O=this.qa>>4,K=this.md;if(0!==(this.v&1)){var M=this.Ra;var J=this.na;var X=this.La;var R=this.oa;var U=this.da}else M=this.Z,J=this.La,X=this.na,R=this.da,U=this.oa;y.fill(0);B.fill(0);
var Y=0;var da=Y+16;U.Ya.fill(0);for(c=0;c<R.length;c+=1){var V=0;var ka=R[c];var ma=U[c];var ea=m[c];var aa=n[c];0<c?r=U[c-1]:r=K;c<I-1?u=U[c+1]:u=K;for(g=0;g<O;g+=1)if(x=ka[g]){var ca=ma[g];var ba=r[g];var na=u[g];for(e=15;0<=e;--e){if(0!==(x&1<<e)){var ja=b=v=0;var T=Y;for(l=32768;T<da;){var S=0===T?this.ld:M[T-1];var W=M[T];var la=T===this.height-1?this.ld:M[T+1];var fa=X[T];var Z=32768;var L=V;var Q=S[L];var ia=W[L+1];var P=la[L];var N=0===L?W[L]<<9|ia<<6|Q<<3|P:W[L-1]<<12|W[L]<<9|ia<<6|Q<<3|
P;var ha=a[N];0<ha?(f+=1,0===(N&3584)&&(q+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&3584)&&(q+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&3584)&&(q+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&3584)&&(q+=1),b|=l,v|=Z):0!==(N&
3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;ha=a[N];0<ha?(f+=1,0===(N&3584)&&(q+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&3584)&&(q+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&3584)&&(q+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=
Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&3584)&&(q+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;ha=a[N];0<ha?(f+=1,0===(N&3584)&&(q+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&3584)&&(q+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&3584)&&(q+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=
1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&3584)&&(q+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;ha=a[N];0<ha?(f+=1,0===(N&3584)&&(q+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&3584)&&(q+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<
16;0<Q?(f+=1,0===(N&3584)&&(q+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);Z>>=1;L+=1;Q=S[L];L===A-1?ia=0:ia=W[L+1];P=la[L];N=N<<3&32256|ia<<6|Q<<3|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&3584)&&(q+=1),b|=l,v|=Z):0!==(N&3584)&&(w+=1);T+=1;l>>=1}y[V>>4]|=v;v&&(ca|=1<<e,b&1&&(ja|=t.jb,v&32768&&(ja|=t.Jb),v&1&&(ja|=t.ib)),b&32768&&(ja|=t.xb,v&32768&&(ja|=t.Hb),v&1&&(ja|=t.Ib)),v&32768&&(ja|=t.zb),v&1&&(ja|=t.Wa),ja&&(0!==(ja&t.zb)&&(15>e?ca|=1<<e+1:0<g&&0<V&&(ma[g-1]|=1)),0!==(ja&t.Wa)&&(0<e?ca|=1<<e-
1:g<O-1&&V<A-1&&(ma[g+1]|=32768)),0!==(ja&t.xb)&&(ba|=1<<e),0!==(ja&t.jb)&&(na|=1<<e),0!==(ja&t.Hb)&&(15>e?ba|=1<<e+1:0<g&&0<V&&(r[g-1]|=1)),0!==(ja&t.Ib)&&(0<e?ba|=1<<e-1:g<O-1&&V<A-1&&(r[g+1]|=32768)),0!==(ja&t.Jb)&&(15>e?na|=1<<e+1:0<g&&0<V&&(u[g-1]|=1)),0!==(ja&t.ib)&&(0<e?na|=1<<e-1:g<O-1&&V<A-1&&(u[g+1]|=32768))));B[c]|=b}V+=16}ma[g]|=ca;ea[g]=x|ca;aa[g]=aa[g]|x|ca;0<c&&(r[g]|=ba);c<I-1&&(u[g]|=na)}else V+=256;Y+=16;da+=16}for(g=0;g<C;g+=1)y[g]&&(g<G&&(G=g),g>H&&(H=g));for(c=0;c<B.length;c+=
1)B[c]&&(c<E&&(E=c),c>F&&(F=c));G=(G<<4)+this.A(y[G]);H=(H<<4)+this.K(y[H]);E=(E<<4)+this.A(B[E]);F=(F<<4)+this.K(B[F]);0>F&&(F=z-1);E>=z&&(E=0);G>=A&&(G=0);0>H&&(H=A-1);F>z-1&&(F=z-1);0>E&&(E=0);0>G&&(G=0);H>A-1&&(H=A-1);D.o=F;D.g=E;D.f=G;D.l=H;K.fill(0);Y=0;da=Y+16;for(c=0;c<R.length;c+=1){V=0;ka=R[c];ma=U[c];for(g=0;g<O;g+=1)if(x=ka[g],ca=ma[g],x!==ca)for(e=15;0<=e;--e){if((x&1<<e)!==(ca&1<<e)&&0===(ca&1<<e))for(T=Y;T<da;T+=1)W=J[T],L=V>>2,W[L]=0,W[L+1]=0,W[L+2]=0,W[L+3]=0;V+=16}else V+=256;Y+=
16;da+=16}this.ma=f;this.Gb=q;this.Xb=w;this.aa=f};h.prototype.tv=function(){var a=this.ve,e,c,g,n=this.za,m=this.Ga,r=null,u=null,x,y=this.fa,v,B=this.Fb,b,l,f=0,q=0,w=0,z=this.height,A=this.width,C=A>>4,D=this.H,E=z,F=-1,G=A,H=-1,I=this.va,O=this.qa>>4,K=this.md;if(0!==(this.v&1)){var M=this.Ra;var J=this.na;var X=this.La;var R=this.oa;var U=this.da}else M=this.Z,J=this.La,X=this.na,R=this.da,U=this.oa;y.fill(0);B.fill(0);var Y=0;var da=Y+16;U.Ya.fill(0);for(c=0;c<R.length;c+=1){var V=0;var ka=
R[c];var ma=U[c];var ea=m[c];var aa=n[c];0<c?r=U[c-1]:r=K;c<I-1?u=U[c+1]:u=K;for(g=0;g<O;g+=1)if(x=ka[g]){var ca=ma[g];var ba=r[g];var na=u[g];for(e=15;0<=e;--e){if(0!==(x&1<<e)){var ja=b=v=0;var T=Y;for(l=32768;T<da;){var S=0===T?this.ld:M[T-1];var W=M[T];var la=T===this.height-1?this.ld:M[T+1];var fa=X[T];var Z=32768;var L=V;var Q=S[L];var ia=W[L+1];var P=la[L];var N=0===L?W[L]<<12|ia<<8|Q<<4|P:W[L-1]<<16|W[L]<<12|ia<<8|Q<<4|P;var ha=a[N];0<ha?(f+=1,0===(N&61440)&&(q+=1),b|=l,v|=Z):0!==(N&61440)&&
(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&61440)&&(q+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&61440)&&(q+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&61440)&&(q+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|
ia<<8|Q<<4|P;ha=a[N];0<ha?(f+=1,0===(N&61440)&&(q+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&61440)&&(q+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&61440)&&(q+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&61440)&&(q+=1),
b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;ha=a[N];0<ha?(f+=1,0===(N&61440)&&(q+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&61440)&&(q+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&61440)&&(q+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<
4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&61440)&&(q+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;ha=a[N];0<ha?(f+=1,0===(N&61440)&&(q+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<8;0<Q?(f+=1,0===(N&61440)&&(q+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<16;0<Q?(f+=1,0===(N&61440)&&
(q+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);Z>>=1;L+=1;Q=S[L];L===A-1?ia=0:ia=W[L+1];P=la[L];N=N<<4&1044480|ia<<8|Q<<4|P;Q=a[N];ha|=Q<<24;fa[L>>2]=ha;0<Q?(f+=1,0===(N&61440)&&(q+=1),b|=l,v|=Z):0!==(N&61440)&&(w+=1);T+=1;l>>=1}y[V>>4]|=v;v&&(ca|=1<<e,b&1&&(ja|=t.jb,v&32768&&(ja|=t.Jb),v&1&&(ja|=t.ib)),b&32768&&(ja|=t.xb,v&32768&&(ja|=t.Hb),v&1&&(ja|=t.Ib)),v&32768&&(ja|=t.zb),v&1&&(ja|=t.Wa),ja&&(0!==(ja&t.zb)&&(15>e?ca|=1<<e+1:0<g&&0<V&&(ma[g-1]|=1)),0!==(ja&t.Wa)&&(0<e?ca|=1<<e-1:g<O-1&&V<A-1&&(ma[g+
1]|=32768)),0!==(ja&t.xb)&&(ba|=1<<e),0!==(ja&t.jb)&&(na|=1<<e),0!==(ja&t.Hb)&&(15>e?ba|=1<<e+1:0<g&&0<V&&(r[g-1]|=1)),0!==(ja&t.Ib)&&(0<e?ba|=1<<e-1:g<O-1&&V<A-1&&(r[g+1]|=32768)),0!==(ja&t.Jb)&&(15>e?na|=1<<e+1:0<g&&0<V&&(u[g-1]|=1)),0!==(ja&t.ib)&&(0<e?na|=1<<e-1:g<O-1&&V<A-1&&(u[g+1]|=32768))));B[c]|=b}V+=16}ma[g]|=ca;ea[g]=x|ca;aa[g]=aa[g]|x|ca;0<c&&(r[g]|=ba);c<I-1&&(u[g]|=na)}else V+=256;Y+=16;da+=16}for(g=0;g<C;g+=1)y[g]&&(g<G&&(G=g),g>H&&(H=g));for(c=0;c<B.length;c+=1)B[c]&&(c<E&&(E=c),c>
F&&(F=c));G=(G<<4)+this.A(y[G]);H=(H<<4)+this.K(y[H]);E=(E<<4)+this.A(B[E]);F=(F<<4)+this.K(B[F]);0>F&&(F=z-1);E>=z&&(E=0);G>=A&&(G=0);0>H&&(H=A-1);F>z-1&&(F=z-1);0>E&&(E=0);0>G&&(G=0);H>A-1&&(H=A-1);D.o=F;D.g=E;D.f=G;D.l=H;K.fill(0);Y=0;da=Y+16;for(c=0;c<R.length;c+=1){V=0;ka=R[c];ma=U[c];for(g=0;g<O;g+=1)if(x=ka[g],ca=ma[g],x!==ca)for(e=15;0<=e;--e){if((x&1<<e)!==(ca&1<<e)&&0===(ca&1<<e))for(T=Y;T<da;T+=1)W=J[T],L=V>>2,W[L]=0,W[L+1]=0,W[L+2]=0,W[L+3]=0;V+=16}else V+=256;Y+=16;da+=16}this.ma=f;this.Gb=
q;this.Xb=w;this.aa=f};h.prototype.ev=function(){var a=this.Lj,e=this.Mj,c=this.Hk,g=0,n,m,r,u=this.za,x=this.Ga,y,v=this.fa,B,b=this.Fb,l,f,q=0,w=0,z=0,A=this.height,C=this.width,D=C>>4,E=this.H,F=A,G=-1,H=C,I=-1,O=this.va,K=this.qa>>4,M=this.md;if(0!==(this.v&1)){var J=this.Ra;var X=this.na;var R=this.La;var U=this.oa;var Y=this.da}else J=this.Z,X=this.La,R=this.na,U=this.da,Y=this.oa;v.fill(0);b.fill(0);var da=0;var V=da+16;Y.Ya.fill(0);for(m=0;m<U.length;m+=1){var ka=0;var ma=U[m];var ea=Y[m];
var aa=x[m];var ca=u[m];var ba=0<m?Y[m-1]:M;var na=m<O-1?Y[m+1]:M;for(r=0;r<K;r+=1)if(y=ma[r]){var ja=ea[r];var T=ba[r];var S=na[r];for(n=15;0<=n;--n){if(0!==(y&1<<n)){var W=l=B=0;var la=da;for(f=32768;la<V;){var fa=0===la?this.ld:J[la-1];var Z=J[la];var L=la===this.height-1?this.ld:J[la+1];var Q=R[la];var ia=32768;var P=ka;0===P?g=0:g=Z[P-1];var N=Z[P];var ha=g;g=N;var oa=fa[P];N=Z[P+1];var qa=L[P];var ra=oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];0<oa?(q+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=
1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<8;0<oa?(q+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<16;0<oa?(q+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<24;Q[P>>2]=ra;0<oa?(q+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];ra=oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];
0<oa?(q+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<8;0<oa?(q+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<16;0<oa?(q+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<24;Q[P>>2]=ra;0<oa?(q+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=
fa[P];N=Z[P+1];qa=L[P];ra=oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];0<oa?(q+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<8;0<oa?(q+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<16;0<oa?(q+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<24;Q[P>>2]=ra;0<oa?(q+=1,0===
g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];ra=oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];0<oa?(q+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<8;0<oa?(q+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];N=Z[P+1];qa=L[P];oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<16;0<oa?(q+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);ia>>=1;P+=1;ha=g;g=N;oa=fa[P];P===C-1?N=0:N=Z[P+1];qa=L[P];
oa=e[a[a[a[a[c+oa]+ha]+N]+qa]+g];ra|=oa<<24;Q[P>>2]=ra;0<oa?(q+=1,0===g&&(w+=1),l|=f,B|=ia):0<g&&(z+=1);la+=1;f>>=1}v[ka>>4]|=B;B&&(ja|=1<<n,l&1&&(W|=t.jb,B&32768&&(W|=t.Jb),B&1&&(W|=t.ib)),l&32768&&(W|=t.xb,B&32768&&(W|=t.Hb),B&1&&(W|=t.Ib)),B&32768&&(W|=t.zb),B&1&&(W|=t.Wa),W&&(0!==(W&t.zb)&&(15>n?ja|=1<<n+1:0<r&&0<ka&&(ea[r-1]|=1)),0!==(W&t.Wa)&&(0<n?ja|=1<<n-1:r<K-1&&ka<C-1&&(ea[r+1]|=32768)),0!==(W&t.xb)&&(T|=1<<n),0!==(W&t.jb)&&(S|=1<<n),0!==(W&t.Hb)&&(15>n?T|=1<<n+1:0<r&&0<ka&&(ba[r-1]|=1)),
0!==(W&t.Ib)&&(0<n?T|=1<<n-1:r<K-1&&ka<C-1&&(ba[r+1]|=32768)),0!==(W&t.Jb)&&(15>n?S|=1<<n+1:0<r&&0<ka&&(na[r-1]|=1)),0!==(W&t.ib)&&(0<n?S|=1<<n-1:r<K-1&&ka<C-1&&(na[r+1]|=32768))));b[m]|=l}ka+=16}ea[r]|=ja;aa[r]=y|ja;ca[r]=ca[r]|y|ja;0<m&&(ba[r]|=T);m<O-1&&(na[r]|=S)}else ka+=256;da+=16;V+=16}for(r=0;r<D;r+=1)v[r]&&(r<H&&(H=r),r>I&&(I=r));for(m=0;m<b.length;m+=1)b[m]&&(m<F&&(F=m),m>G&&(G=m));H=(H<<4)+this.A(v[H]);I=(I<<4)+this.K(v[I]);F=(F<<4)+this.A(b[F]);G=(G<<4)+this.K(b[G]);0>G&&(G=A-1);F>=A&&
(F=0);H>=C&&(H=0);0>I&&(I=C-1);G>A-1&&(G=A-1);0>F&&(F=0);0>H&&(H=0);I>C-1&&(I=C-1);E.o=G;E.g=F;E.f=H;E.l=I;M.fill(0);da=0;V=da+16;for(m=0;m<U.length;m+=1){ka=0;ma=U[m];ea=Y[m];for(r=0;r<K;r+=1)if(y=ma[r],ja=ea[r],y!==ja)for(n=15;0<=n;--n){if((y&1<<n)!==(ja&1<<n)&&0===(ja&1<<n))for(la=da;la<V;la+=1)Z=X[la],P=ka>>2,Z[P]=0,Z[P+1]=0,Z[P+2]=0,Z[P+3]=0;ka+=16}else ka+=256;da+=16;V+=16}this.ma=q;this.Gb=w;this.Xb=z;this.aa=q};h.prototype.cz=function(){var a=this.ce,e=this.H,c=this.Vd,g=c.f;var n=c.g;var m=
c.l,r=c.o,u=0,x=0,y=0,v=this.width,B=this.height,b=0,l=0,f=this.width,q=this.height,w=0,z=0,A=this.za,C,D=this.$g,E=this.J,F=0<this.J?1:0;var G=this.ua;var H=this.ra;var I=Math.round((this.width-G)/2);var O=Math.round((this.height-H)/2);-1!==this.sa&&(g=I+1,n=O+1,m=I+G-1-1,r=O+H-1-1);this.Tc&&(this.Sc=!this.Sc,this.Tc=!1);this.aa=0;0!==(this.v&1)?(G=this.Ra,H=this.Z,this.Sc&&(a=this.yc)):(G=this.Z,H=this.Ra,this.oc&&(a=this.sf),this.Sc&&(a=this.oc?this.de:this.yc));1>n&&(n=1);r>this.height-2&&(r=
this.height-2);1>g&&(g=1);m>this.width-2&&(m=this.width-2);for(--n;n<=r+1;n+=1){O=G[n-1];var K=G[n];var M=G[n+1];var J=A[n>>4];var X=H[n];var R=C=!1;var U=K[g-2];for(I=g-1;I<=m+1;I+=1){var Y=M[I];var da=K[I+1];var V=O[I];0<E&&(Y=Y<=E?0:Y-E,da=da<=E?0:da-E,V=V<=E?0:V-E,U=U<=E?0:U-E);U=U|Y<<4|da<<8|V<<12;Y=a[U];U=K[I];0<Y?(u+=D[Y],X[I]=Y+E,C=!0,J[I>>8]=65535,I<v&&(v=I),I>b&&(b=I)):(Y=U,Y>E?Y=E:Y>F&&--Y,X[I]=Y,0<Y&&(C=!0,I<v&&(v=I),I>b&&(b=I)),Y=0);U>E?(U-=E,x+=D[Y&~U],y+=D[U&~Y],U+=E):x+=D[Y];0<Y&&
(I<f&&(f=I),I>w&&(w=I),R=!0)}C&&(n<B&&(B=n),n>l&&(l=n));R&&(n<q&&(q=n),n>z&&(z=n))}this.ma=u;this.Gb=x;this.Xb=y;this.aa=u;c.f=v;c.g=B;c.l=b;c.o=l;e.f=f;e.g=q;e.l=w;e.o=z};h.prototype.Mv=function(){var a=this.dk,e=this.za,c=this.Ga,g,n,m;var r=this.va;var u=this.qa>>4;var x=0;var y=r;this.aa=0;if(0!==(this.v&1)){var v=this.cc;var B=this.oa}else v=this.ob,B=this.da;0>x&&(x=0);y>r&&(y=r);r=x<<4;var b=r+16;for(g=x;g<y;g+=1){var l=0;var f=B[g];var q=c[g];var w=e[g];for(n=0;n<u;n+=1){var z=f[n]|w[n];var A=
0;if(z)for(m=15;0<=m;--m){if(0!==(z&1<<m)){var C=0;for(x=r;x<b;){var D=v[x];var E=a[x];var F=l<<3;D=D[l];this.aa|=D;C|=D;E[F]=(D&32768)>>9|D&16384;F+=1;E[F]=(D&8192)>>7|(D&4096)<<2;F+=1;E[F]=(D&2048)>>5|(D&1024)<<4;F+=1;E[F]=(D&512)>>3|(D&256)<<6;F+=1;E[F]=(D&128)>>1|(D&64)<<8;F+=1;E[F]=(D&32)<<1|(D&16)<<10;F+=1;E[F]=(D&8)<<3|(D&4)<<12;F+=1;E[F]=(D&2)<<5|(D&1)<<14;x+=1}C&&(A|=1<<m)}l+=1}else l+=16;q[n]=A;w[n]|=A}r+=16;b+=16}};h.prototype.Nv=function(){var a=this.dk,e=this.za,c=this.Ga,g=this.zs,n,
m,r;var u=this.va;var x=this.qa>>4;var y=0;var v=u;this.aa=0;if(0!==(this.v&1)){var B=this.cc;var b=this.oa}else B=this.ob,b=this.da;0>y&&(y=0);v>u&&(v=u);u=y<<4;var l=u+16;for(n=y;n<v;n+=1){var f=0;var q=b[n];var w=c[n];var z=e[n];for(m=0;m<x;m+=1){var A=q[m]|w[m];var C=0;if(A)for(r=15;0<=r;--r){if(0!==(A&1<<r)){var D=0;for(y=u;y<l;){var E=B[y];var F=a[y];var G=f<<3;E=E[f];this.aa|=E;var H=g[F[G]|(E&32768)>>8|(E&16384)<<1];D|=H;F[G]=H;G+=1;H=g[F[G]|(E&8192)>>6|(E&4096)<<3];D|=H;F[G]=H;G+=1;H=g[F[G]|
(E&2048)>>4|(E&1024)<<5];D|=H;F[G]=H;G+=1;H=g[F[G]|(E&512)>>2|(E&256)<<7];D|=H;F[G]=H;G+=1;H=g[F[G]|E&128|(E&64)<<9];D|=H;F[G]=H;G+=1;H=g[F[G]|(E&32)<<2|(E&16)<<11];D|=H;F[G]=H;G+=1;H=g[F[G]|(E&8)<<4|(E&4)<<13];D|=H;F[G]=H;G+=1;H=g[F[G]|(E&2)<<6|(E&1)<<15];D|=H;F[G]=H;y+=1}if(1<(D&255)||1<D>>8)C|=1<<r}f+=1}else f+=16;w[m]=C;z[m]|=C}u+=16;l+=16}};h.prototype.NF=function(a,e,c,g,n,m,r,u,x,y){var v=this.xf;g=g*a+v.o;c=c*a+v.l;e=e*a+v.g;n=n*a+v.f;v=c-n+1;a=g-e+1;this.R&&(v=c-e/2-(n-g/2)+1);0===v&&(v=
1);0===a&&(a=1);m/=v;r/=a;y=Math.round(1E3*(m>r?r:m)/y)/1E3;y<u?y=u:y>x&&(y=x);return y};h.prototype.Nx=function(a){var e=a;1>a&&(e=1/a);var c=Math.round(e);(c<e?c/e:e/c)>=ViewConstants.xI&&(a=1>a?1/c:c);return a};h.prototype.zg=function(a,e,c,g,n,m,r,u,x,y,v,B,b,l,f,q,w,z,A){var C=this.H,D=this.xf,E=this.Vd,F=this.hs,G=this.Z;(this.D||this.Y)&&0!==(this.v&1)&&(G=this.Ra);b?(F.o=q*c+D.o,F.l=f*c+D.l,F.g=l*c+D.g,F.f=w*c+D.f,B&&(E.f<F.f&&(F.f=E.f),E.g<F.g&&(F.g=E.g),E.l>F.l&&(F.l=E.l),E.o>F.o&&(F.o=
E.o)),C=F):B?C=E:this.ya&&(C=this.Ea);a===ViewConstants.ht?(c=e.f,B=e.l,b=e.o,e=e.g):(c=C.f,B=C.l,b=C.o,e=C.g,this.pb&&!z&&(D.f<c&&(c=D.f),D.l>B&&(B=D.l),D.o>b&&(b=D.o),D.g<e&&(e=D.g)),-1!==this.sa&&(D=this.ua,z=this.ra,0<D&&(this.width/2-D/2<c&&(c=this.width/2-D/2),this.width/2+D/2>B&&(B=this.width/2+D/2)),0<z&&(this.height/2-z/2<e&&(e=this.height/2-z/2),this.height/2+z/2>b&&(b=this.height/2+z/2))));v?(D=x,z=y,c=this.width/2-D/2,B=this.width/2+D/2,b=this.height/2+z/2,e=this.height/2-z/2):(D=B-c+
1,z=b-e+1);if(this.R){if(a===ViewConstants.ht)c-=b/2,B-=e/2;else{D=2*(this.width+this.height);C=-D;for(v=e;v<=b;v+=1)for(x=G[v],y=c;y<=B;y+=1)l=x[y],0<l&&(l=y-v/2,l<D&&(D=l),l>C&&(C=l));c=D;B=C;c>B&&(G=c,c=B,B=G)}D=B-c+1}0===D&&(D=1);0===z&&(z=1);g/=D;n/=z;this.$&&4<=this.zoom&&(n/=ViewConstants.Xi);u=Math.round(1E3*(g>n?n:g)/u)/1E3;u/=this.Jc;u<m?u=m:u>r&&(u=r);m=e-this.Nb+z/2;r=c-this.Pb+D/2;A||(u=this.Nx(u));a===ViewConstants.tC&&(u=this.zoom);return[u,r,m]};h.prototype.bw=function(a,e,c,g){var n=
this.Sd,m=this.C,r=this.B;if(a>e){var u=e;e=a;a=u}0>a?a=0:a>=m&&(a=m-1);0>e?e=0:e>=m&&(e=m-1);0<=c&&c<r&&n.fill(g,c*m+a,c*m+e)};h.prototype.ew=function(a,e,c,g){var n=this.Sd,m=this.C,r=this.B;if(e>c){var u=c;c=e;e=u}0>e?e=0:e>=r&&(e=r-1);0>c?c=0:c>=r&&(c=r-1);e=e*m+a;c=c*m+a;r=c-15*m;if(0<=a&&a<m){for(;e<=r;)n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=m,n[e]=g,e+=
m;for(;e<=c;)n[e]=g,e+=m}};h.prototype.aw=function(a,e,c,g,n){var m=Math.abs(c-a),r=Math.abs(g-e),u=a<c?1:-1,x=e<g?1:-1,y=m-r,v=this.C,B=this.B,b=this.Sd;if(!(0>a&&0>c||a>=v&&c>=v||0>e&&0>g||e>=B&&g>=B))if(0<=a&&a<v&&0<=e&&e<B&&0<=c&&c<v&&0<=g&&g<B)for(b[e*v+a]=n;a!==c||e!==g;){var l=y+y;l>-r&&(y-=r,a+=u);l<m&&(y+=m,e+=x);b[e*v+a]=n}else for(0<=a&&a<v&&0<=e&&e<B&&(b[e*v+a]=n);a!==c||e!==g;)l=y+y,l>-r&&(y-=r,a+=u),l<m&&(y+=m,e+=x),0<=a&&a<v&&0<=e&&e<B&&(b[e*v+a]=n)};h.prototype.mj=function(a,e,c,g,
n){var m=this.C/2,r=this.B/2;if(0!==this.eb){a-=m;e-=r;var u=Math.sqrt(a*a+e*e);var x=180/Math.PI*Math.atan2(e,a);x+=this.eb;a=Math.round(u*Math.cos(Math.PI/180*x)+m);e=Math.round(u*Math.sin(Math.PI/180*x)+r);c-=m;g-=r;u=Math.sqrt(c*c+g*g);x=180/Math.PI*Math.atan2(g,c);x+=this.eb;c=Math.round(u*Math.cos(Math.PI/180*x)+m);g=Math.round(u*Math.sin(Math.PI/180*x)+r)}a===c?this.ew(a,e,g,n):e===g?this.bw(a,c,e,n):this.aw(a,e,c,g,n)};h.prototype.bl=function(a,e,c,g,n){var m=a.cf,r=a.bf,u=0,x=0,y=this.context;
var v=this.zoom;var B=this.zoom*(this.$&&4<=v?ViewConstants.Xi:1);var b=(this.width>>1)-(a.nb>>1);var l=(this.height>>1)-(a.qb>>1);var f=a.Lc-this.pa,q=a.Kc-this.wa-(this.R?this.pa/2:0),w=[0,0];switch(g){case ViewConstants.dE:e-=m>>1;break;case ViewConstants.eE:e-=m-1;break;case ViewConstants.iE:c-=r>>1;break;case ViewConstants.cE:e-=m>>1;c-=r>>1;break;case ViewConstants.bE:e-=m-1;c-=r>>1;break;case ViewConstants.hE:c-=r-1;break;case ViewConstants.fE:e-=m>>1;c-=r-1;break;case ViewConstants.gE:e-=
m-1,c-=r-1}var z=B*(c-l+f-this.Nb+a.Lc)+a.B/2;g=v*(e-b+q-this.Pb+a.Kc)+a.C/2+(this.R?(a.B/2-z)/2:0);var A=B*(c+r-l+f-this.Nb+a.Lc)+a.B/2;var C=v*(e+m-b+q-this.Pb+a.Kc)+a.C/2+(this.R?(a.B/2-A)/2:0);y.fillStyle=n;y.globalAlpha=.5;if(this.R)if(this.te&&4<=this.zoom)this.Au(e,c,e+m-1,c+r-1,b,l);else{y.beginPath();for(n=0;n<r;n+=1)y.moveTo(g,z),y.lineTo(g+m*v+1,z),y.lineTo(g+m*v+1,z+B+1),y.lineTo(g,z+B+1),g-=B/2,z+=B;y.fill()}else this.$&&4<=this.zoom?this.Ju(e,c,e+m-1,c+r-1,b,l):(y.beginPath(),this.Re(g,
z,w),y.moveTo(w[0],w[1]),this.Re(C+1,z,w),y.lineTo(w[0],w[1]),this.Re(C+1,A+1,w),y.lineTo(w[0],w[1]),this.Re(g,A+1,w),y.lineTo(w[0],w[1]),y.fill());if(1<=this.zoom){if(0<this.eb){var D=Math.cos(this.eb/180*Math.PI)*this.ja;var E=Math.sin(this.eb/180*Math.PI)*this.ja;var F=Math.cos((this.eb+90)/180*Math.PI)*this.ja;var G=Math.sin((this.eb+90)/180*Math.PI)*this.ja}else D=this.ja,F=E=0,G=D;z=B*(c+x-l+f-this.Nb+a.Lc)+a.B/2;g=v*(e+u-b+q-this.Pb+a.Kc)+a.C/2+(this.R?(a.B/2-z)/2:0);0!==this.eb&&(this.Re(g,
z,w),g=w[0],z=w[1]);C=g;A=z;y.fillStyle="rgb(255, 128, 0)";if(this.R&&this.te&&4<=this.zoom)this.cw(e,c,e+m-1,c+r-1,b,l,a.mb);else if(this.$&&4<=this.zoom)this.dw(e,c,e+m-1,c+r-1,b,l,a.mb);else{y.beginPath();for(x=n=0;x<r;x+=1){g=C;for(u=0;u<m;u+=1)e=a.mb[n],n+=1,e&&(e=g+D,c=z+E,v=e+F,B=c+G,b=v-D,l=B-E,0>g&&0>e&&0>v&&0>b||g>=a.C&&e>=a.C&&v>=a.C&&b>=a.C||0>z&&0>c&&0>B&&0>l||z>=a.B&&c>=a.B&&B>=a.B&&l>=a.B||(y.moveTo(g,z),y.lineTo(e,c),y.lineTo(v,B),y.lineTo(b,l))),g+=D,z+=E;C+=F;z=A+=G;this.R&&(C-=
G/2)}y.fill()}}};h.prototype.Re=function(a,e,c){var g=this.C/2,n=this.B/2;if(0!==this.eb){a-=g;e-=n;var m=Math.sqrt(a*a+e*e);e=180/Math.PI*Math.atan2(e,a);e+=this.eb;a=Math.round(m*Math.cos(Math.PI/180*e)+g);e=Math.round(m*Math.sin(Math.PI/180*e)+n)}c[0]=a;c[1]=e};h.prototype.KH=function(a){var e=a.ng+.5|0,c=(this.width>>1)-(a.nb>>1)+(a.Kb<<1),g=(this.height>>1)-(a.qb>>1)+(a.Lb<<1);(a.tb||a.xj)&&this.Wv(a,a.Eb,this.Tz);a.ie&&(-1!==this.sa&&a.Mg?this.bl(a,a.lo.f-a.nb,a.lo.g-a.qb,ViewConstants.Oo,this.ls):
this.bl(a,a.lo.f,a.lo.g,ViewConstants.Oo,this.ls));if(a.ad){var n=a.s.xk;var m=a.s.yk;-1!==n&&(a.fv(n,m),-1!==this.sa&&a.Mg&&(c+=a.nb,g+=a.qb),this.bl(a,a.tj-c,a.uj-g,e,this.By))}};h.prototype.Wv=function(a,e,c){var g=this.context,n=this.zoom,m=this.zoom*(this.$&&4<=n?ViewConstants.Xi:1),r=e.f,u=e.g,x=e.l;e=e.o;var y=(this.width>>1)-(a.nb>>1),v=(this.height>>1)-(a.qb>>1),B=a.Lc-this.pa,b=a.Kc-this.wa-(this.R?this.pa/2:0),l=[0,0],f=a.Eb;if(r>x){var q=r;r=x;x=q}u>e&&(q=u,u=e,e=q);q=x-r+1;var w=e-u+
1;-1!==this.sa&&a.Mg&&(v+=a.qb,y+=a.nb);u=m*(u-v+B-this.Nb+a.Lc)+a.B/2;r=n*(r-y+b-this.Pb+a.Kc)+a.C/2+(this.R?(a.B/2-u)/2:0);e=m*(e+1-v+B-this.Nb+a.Lc)+a.B/2;x=n*(x+1-y+b-this.Pb+a.Kc)+a.C/2+(this.R?(a.B/2-e)/2:0);g.fillStyle=c;g.globalAlpha=.5;if(this.R)if(this.te&&4<=this.zoom)this.Au(f.f,f.g,f.l,f.o,y,v);else{g.beginPath();q*=n;for(a=0;a<w;a+=1)g.moveTo(r,u),g.lineTo(r+q+1,u),g.lineTo(r+q+1,u+m+1),g.lineTo(r,u+m+1),r-=m/2,u+=m;g.fill()}else this.$&&4<=this.zoom?this.Ju(f.f,f.g,f.l,f.o,y,v):(g.beginPath(),
this.Re(r,u,l),g.moveTo(l[0],l[1]),this.Re(x+1,u,l),g.lineTo(l[0],l[1]),this.Re(x+1,e+1,l),g.lineTo(l[0],l[1]),this.Re(r,e+1,l),g.lineTo(l[0],l[1]),g.fill());g.globalAlpha=1};h.prototype.Pd=function(){var a,e=this.C,c=this.B,g=this.ki,n=this.ej,m=this.ja,r=g,u,x=0<this.vf&&this.pk,y=this.v&1,v=((this.height/2-(this.pa+this.Nb))*m+c/2)%m,B=((this.width/2-(this.wa+this.Pb))*m+e/2)%m;if(this.Ub)var b=x?2:1;else b=1,x=!1,r=g=this.Ee[0];var l=g;for(this.ia&&2===this.vf&&this.gl||(y=0);b;){var f=-(e/2/
m)-(this.width/2-this.wa-this.Pb)|0;var q=22*-m;var w=e+m+22*m;var z=v-22*m;var A=c+22*m;var C=-e/1.5;var D=e+e/1.5;var E=-c/1.5;for(u=c+c/1.5;q<=w;q+=m)if(x&&(0===(f+y)%this.vf?r=n:r=g),f+=1,r===l)if(this.R){var F=-(c/2/m)-(this.height/2-this.pa-this.Nb)|0;for(a=z;a<A;a+=m)0===(F&1)?this.mj(Math.round(q+B),Math.round(a),Math.round(q+B),Math.round(a+m-1),r):this.mj(Math.round(q+B+m/2),Math.round(a),Math.round(q+B+m/2),Math.round(a+m-1),r),F+=1}else this.mj(Math.round(q+B),E,Math.round(q+B),u-1,r);
f=-(c/2/m)-(this.height/2-this.pa-this.Nb)|0;for(a=z;a<A;a+=m)x&&(0===(f+y)%this.vf?r=n:r=g),f+=1,r===l&&this.mj(C,Math.round(a),D-1,Math.round(a),r);--b;l=n}};h.prototype.ah=function(){return 4<=this.ja};h.prototype.ex=function(a,e){var c=this.ua,g=this.ra,n=this.ia?-1:0,m=Math.round((this.width-c)/2-1)+n,r=m+c+1,u=Math.round((this.height-g)/2-1)+n;n=u+g+1;var x=a[u],y=a[n];if(0===c)x.fill(e,0,this.width),y.fill(e,0,this.width);else if(0===g)for(c=0;c<this.height;c+=1)a[c][m]=e,a[c][r]=e;else for(x.fill(e,
m,r+1),y.fill(e,m,r+1),c=u+1;c<=n-1;c+=1)a[c][m]=e,a[c][r]=e};h.prototype.QJ=function(a,e){var c=this.Ee[0],g=this.Sd,n=this.Z,m=this.dk,r=this.La;this.lj=!0;(this.D||this.Y)&&0!==(this.v&1)&&(n=this.Ra,m=this.th,r=this.na);this.Mm&&(this.cC(),--this.Mm,this.Mm||(this.Me.set(this.zd),this.gd.set(this.Cc),this.Se.set(this.xe),this.ih.set(this.Mf),this.Qe.set(this.be),this.wh.set(this.Cg)));this.ja=this.zoom*this.Jc;this.ja<ViewConstants.bc?this.ja=ViewConstants.bc:this.ja>ViewConstants.Hc&&(this.ja=
ViewConstants.Hc);this.fe=this.wa+this.Pb;this.ge=this.pa+this.Nb;this.j=this.le/2+1;this.eb=this.R||this.$?0:this.angle;-1!==this.sa&&this.ex(n,this.dc);4<=this.ja&&(this.te&&this.R||this.$)?(g.fill(c),this.Ed(1)):(1>this.ja&&this.Vv(m,r),.125>this.ja?this.yg?this.pi(this.fb,this.W,15,a,e):this.ri(this.W,this.W,15,a,e):.25>this.ja?this.yg?this.pi(this.fb,this.W,7,a,e):this.ri(this.W,this.W,7,a,e):.5>this.ja?this.yg?this.pi(this.fb,this.W,3,a,e):this.ri(this.W,this.W,3,a,e):1>this.ja?this.yg?this.pi(this.fb,
this.W,1,a,e):this.ri(this.W,this.W,1,a,e):this.yg?this.pi(this.hc,n,0,a,e):this.ri(n,n,0,a,e))};h.prototype.eG=function(a,e,c,g){var n=this.C>>3,m=this.Ee,r=this.Sd,u,x,y=1,v=1,B=0,b=this.vb&~c,l=this.yb&~c,f=~c,q=~c,w=a,z=this.ja;1<this.j&&(y=this.M);a=Math.sin(this.eb/180*Math.PI)/this.ja;var A=Math.cos(this.eb/180*Math.PI)/this.ja;var C=-(this.C/2*-a+this.B/2*A)+this.ge;var D=-(this.C/2*A+this.B/2*a)+this.fe;1<this.M&&1<this.j&&(B=.4/(this.M-1),v=.6);this.Ed(v);var E=this.width<this.ga?m[0]|0:
this.ll|0;var F=0;var G=C;for(u=0;u<this.B;u+=1){var H=D;for(x=0;x<n;x+=1){if((H&f)===(H&b)&&(G&q)===(G&l)){var I=w[G&l][H&b]|0;r[F]=m[I]}else r[F]=E;F+=1;H+=A;G-=a;(H&f)===(H&b)&&(G&q)===(G&l)?(I=w[G&l][H&b]|0,r[F]=m[I]):r[F]=E;F+=1;H+=A;G-=a;(H&f)===(H&b)&&(G&q)===(G&l)?(I=w[G&l][H&b]|0,r[F]=m[I]):r[F]=E;F+=1;H+=A;G-=a;(H&f)===(H&b)&&(G&q)===(G&l)?(I=w[G&l][H&b]|0,r[F]=m[I]):r[F]=E;F+=1;H+=A;G-=a;(H&f)===(H&b)&&(G&q)===(G&l)?(I=w[G&l][H&b]|0,r[F]=m[I]):r[F]=E;F+=1;H+=A;G-=a;(H&f)===(H&b)&&(G&q)===
(G&l)?(I=w[G&l][H&b]|0,r[F]=m[I]):r[F]=E;F+=1;H+=A;G-=a;(H&f)===(H&b)&&(G&q)===(G&l)?(I=w[G&l][H&b]|0,r[F]=m[I]):r[F]=E;F+=1;H+=A;G-=a;(H&f)===(H&b)&&(G&q)===(G&l)?(I=w[G&l][H&b]|0,r[F]=m[I]):r[F]=E;F+=1;H+=A;G-=a}D+=a;G=C+=A}g&&this.$d();(this.Ub||this.nd)&&this.ah()&&this.Pd();w=e;for(e=1;e<y;e+=1)for(g=2<this.h?0===this.J?this.h/this.M*e|0:e<y/2?this.J/this.M*e*2|0:this.J+this.h/this.M*e|0:(this.ee+1)/this.M*e|0,v+=B,this.Ed(v),a/=this.j,A/=this.j,z*=this.j,b=c,c=.125>z?15:.25>z?7:.5>z?3:1>z?1:
0,c!==b&&(w=this.Z),b=this.vb&~c,l=this.yb&~c,f=~c,q=~c,C=-(this.C/2*-a+this.B/2*A)+this.ge,D=-(this.C/2*A+this.B/2*a)+this.fe,F=0,G=C,u=0;u<this.B;u+=1){H=D;for(x=0;x<n;x+=1)(H&f)===(H&b)&&(G&q)===(G&l)&&(I=w[G&l][H&b]|0,I>=g&&(r[F]=m[I])),F+=1,H+=A,G-=a,(H&f)===(H&b)&&(G&q)===(G&l)&&(I=w[G&l][H&b]|0,I>=g&&(r[F]=m[I])),F+=1,H+=A,G-=a,(H&f)===(H&b)&&(G&q)===(G&l)&&(I=w[G&l][H&b]|0,I>=g&&(r[F]=m[I])),F+=1,H+=A,G-=a,(H&f)===(H&b)&&(G&q)===(G&l)&&(I=w[G&l][H&b]|0,I>=g&&(r[F]=m[I])),F+=1,H+=A,G-=a,(H&
f)===(H&b)&&(G&q)===(G&l)&&(I=w[G&l][H&b]|0,I>=g&&(r[F]=m[I])),F+=1,H+=A,G-=a,(H&f)===(H&b)&&(G&q)===(G&l)&&(I=w[G&l][H&b]|0,I>=g&&(r[F]=m[I])),F+=1,H+=A,G-=a,(H&f)===(H&b)&&(G&q)===(G&l)&&(I=w[G&l][H&b]|0,I>=g&&(r[F]=m[I])),F+=1,H+=A,G-=a,(H&f)===(H&b)&&(G&q)===(G&l)&&(I=w[G&l][H&b]|0,I>=g&&(r[F]=m[I])),F+=1,H+=A,G-=a;D+=a;G=C+=A}};h.prototype.fG=function(a,e,c,g){var n=this.C>>3,m=this.Ee,r=this.Sd,u,x,y=1,v=1,B=0,b=this.vb&~c,l=this.yb&~c,f=~c,q=~c,w=a,z=this.ja;1<this.j&&(y=this.M);a=1/this.ja;
var A=-(this.B/2*a)+this.ge;var C=-(this.C/2*a)+this.fe;1<this.M&&1<this.j&&(B=.4/(this.M-1),v=.6);this.Ed(v);var D=this.width<this.ga?m[0]|0:this.ll|0;var E=0;var F=A;for(u=0;u<this.B;u+=1){if((F&q)===(F&l)){var G=w[F&l];var H=C;this.R&&(H+=.5*(F|0));for(x=0;x<n;x+=1){if((H&f)===(H&b)){var I=G[H&b]|0;r[E]=m[I]}else r[E]=D;E+=1;H+=a;(H&f)===(H&b)?(I=G[H&b]|0,r[E]=m[I]):r[E]=D;E+=1;H+=a;(H&f)===(H&b)?(I=G[H&b]|0,r[E]=m[I]):r[E]=D;E+=1;H+=a;(H&f)===(H&b)?(I=G[H&b]|0,r[E]=m[I]):r[E]=D;E+=1;H+=a;(H&f)===
(H&b)?(I=G[H&b]|0,r[E]=m[I]):r[E]=D;E+=1;H+=a;(H&f)===(H&b)?(I=G[H&b]|0,r[E]=m[I]):r[E]=D;E+=1;H+=a;(H&f)===(H&b)?(I=G[H&b]|0,r[E]=m[I]):r[E]=D;E+=1;H+=a;(H&f)===(H&b)?(I=G[H&b]|0,r[E]=m[I]):r[E]=D;E+=1;H+=a}}else r.fill(D,E,E+this.C+1),E+=this.C;F=A+=a}g&&this.$d();(this.Ub||this.nd)&&this.ah()&&this.Pd();w=e;for(e=1;e<y;e+=1)for(g=2<this.h?0===this.J?this.h/this.M*e|0:e<y/2?this.J/this.M*e*2|0:this.J+this.h/this.M*e|0:(this.ee+1)/this.M*e|0,v+=B,this.Ed(v),a/=this.j,z*=this.j,b=c,c=.125>z?15:.25>
z?7:.5>z?3:1>z?1:0,c!==b&&(w=this.Z),b=this.vb&~c,l=this.yb&~c,f=~c,q=~c,A=-(this.B/2*a)+this.ge,C=-(this.C/2*a)+this.fe,E=0,F=A,u=0;u<this.B;u+=1){if((F&q)===(F&l))for(G=w[F&l],H=C,this.R&&(H+=.5*(F|0)),x=0;x<n;x+=1)(H&f)===(H&b)&&(I=G[H&b]|0,I>=g&&(r[E]=m[I])),E+=1,H+=a,(H&f)===(H&b)&&(I=w[F&l][H&b]|0,I>=g&&(r[E]=m[I])),E+=1,H+=a,(H&f)===(H&b)&&(I=w[F&l][H&b]|0,I>=g&&(r[E]=m[I])),E+=1,H+=a,(H&f)===(H&b)&&(I=w[F&l][H&b]|0,I>=g&&(r[E]=m[I])),E+=1,H+=a,(H&f)===(H&b)&&(I=w[F&l][H&b]|0,I>=g&&(r[E]=m[I])),
E+=1,H+=a,(H&f)===(H&b)&&(I=w[F&l][H&b]|0,I>=g&&(r[E]=m[I])),E+=1,H+=a,(H&f)===(H&b)&&(I=w[F&l][H&b]|0,I>=g&&(r[E]=m[I])),E+=1,H+=a,(H&f)===(H&b)&&(I=w[F&l][H&b]|0,I>=g&&(r[E]=m[I])),E+=1,H+=a;else E+=n<<3;F=A+=a}};h.prototype.gG=function(a,e,c,g){var n=this.C>>3,m=this.Ee,r=this.Sd,u,x,y=1,v=1,B=0,b=this.vb&~c,l=this.yb&~c,f=a,q=this.ja;1<this.j&&(y=this.M);a=Math.sin(this.eb/180*Math.PI)/this.ja;var w=Math.cos(this.eb/180*Math.PI)/this.ja;var z=-(this.C/2*-a+this.B/2*w)+this.ge;var A=-(this.C/2*
w+this.B/2*a)+this.fe;1<this.M&&1<this.j&&(B=.4/(this.M-1),v=.6);this.Ed(v);var C=0;var D=z;for(u=0;u<this.B;u+=1){var E=A;for(x=0;x<n;x+=1){var F=f[D&l][E&b]|0;r[C]=m[F];C+=1;E+=w;D-=a;F=f[D&l][E&b]|0;r[C]=m[F];C+=1;E+=w;D-=a;F=f[D&l][E&b]|0;r[C]=m[F];C+=1;E+=w;D-=a;F=f[D&l][E&b]|0;r[C]=m[F];C+=1;E+=w;D-=a;F=f[D&l][E&b]|0;r[C]=m[F];C+=1;E+=w;D-=a;F=f[D&l][E&b]|0;r[C]=m[F];C+=1;E+=w;D-=a;F=f[D&l][E&b]|0;r[C]=m[F];C+=1;E+=w;D-=a;F=f[D&l][E&b]|0;r[C]=m[F];C+=1;E+=w;D-=a}A+=a;D=z+=w}g&&this.$d();(this.Ub||
this.nd)&&this.ah()&&this.Pd();f=e;for(e=1;e<y;e+=1)for(g=2<this.h?0===this.J?this.h/this.M*e|0:e<y/2?this.J/this.M*e*2|0:this.J+this.h/this.M*e|0:(this.ee+1)/this.M*e|0,v+=B,this.Ed(v),a/=this.j,w/=this.j,q*=this.j,b=c,.125>q?c=15:.25>q?c=7:.5>q?c=3:1>q?c=1:(f=this.Z,c=0),c!==b&&(f=this.Z),b=this.vb&~c,l=this.yb&~c,z=-(this.C/2*-a+this.B/2*w)+this.ge,A=-(this.C/2*w+this.B/2*a)+this.fe,C=0,D=z,u=0;u<this.B;u+=1){E=A;for(x=0;x<n;x+=1)F=f[D&l][E&b]|0,F>=g&&(r[C]=m[F]),C+=1,E+=w,D-=a,F=f[D&l][E&b]|0,
F>=g&&(r[C]=m[F]),C+=1,E+=w,D-=a,F=f[D&l][E&b]|0,F>=g&&(r[C]=m[F]),C+=1,E+=w,D-=a,F=f[D&l][E&b]|0,F>=g&&(r[C]=m[F]),C+=1,E+=w,D-=a,F=f[D&l][E&b]|0,F>=g&&(r[C]=m[F]),C+=1,E+=w,D-=a,F=f[D&l][E&b]|0,F>=g&&(r[C]=m[F]),C+=1,E+=w,D-=a,F=f[D&l][E&b]|0,F>=g&&(r[C]=m[F]),C+=1,E+=w,D-=a,F=f[D&l][E&b]|0,F>=g&&(r[C]=m[F]),C+=1,E+=w,D-=a;A+=a;D=z+=w}};h.prototype.hG=function(a,e,c,g){var n=this.C>>3,m=this.Ee,r=this.Sd,u,x=1,y=1,v=0,B=this.vb&~c,b=this.yb&~c,l=a,f=this.ja;1<this.j&&(x=this.M);a=1/this.ja;var q=
-(this.B/2*a)+this.ge;var w=-(this.C/2*a)+this.fe;1<this.M&&1<this.j&&(v=.4/(this.M-1),y=.6);this.Ed(y);var z=0;var A=q;for(u=0;u<this.B;u+=1){var C=l[A&b];var D=w;this.R&&(D+=.5*(A|0));for(A=0;A<n;A+=1){var E=C[D&B];r[z]=m[E];z+=1;D+=a;E=C[D&B];r[z]=m[E];z+=1;D+=a;E=C[D&B];r[z]=m[E];z+=1;D+=a;E=C[D&B];r[z]=m[E];z+=1;D+=a;E=C[D&B];r[z]=m[E];z+=1;D+=a;E=C[D&B];r[z]=m[E];z+=1;D+=a;E=C[D&B];r[z]=m[E];z+=1;D+=a;E=C[D&B];r[z]=m[E];z+=1;D+=a}A=q+=a}g&&this.$d();(this.Ub||this.nd)&&this.ah()&&this.Pd();
l=e;for(e=1;e<x;e+=1)for(g=2<this.h?0===this.J?this.h/this.M*e|0:e<x/2?this.J/this.M*e*2|0:this.J+this.h/this.M*e|0:(this.ee+1)/this.M*e|0,y+=v,this.Ed(y),a/=this.j,f*=this.j,B=c,c=.125>f?15:.25>f?7:.5>f?3:1>f?1:0,c!==B&&(l=this.Z),B=this.vb&~c,b=this.yb&~c,q=-(this.B/2*a)+this.ge,w=-(this.C/2*a)+this.fe,z=0,A=q,u=0;u<this.B;u+=1){C=l[A&b];D=w;this.R&&(D+=.5*(A|0));for(A=0;A<n;A+=1)E=C[D&B]|0,E>=g&&(r[z]=m[E]),z+=1,D+=a,E=C[D&B]|0,E>=g&&(r[z]=m[E]),z+=1,D+=a,E=C[D&B]|0,E>=g&&(r[z]=m[E]),z+=1,D+=a,
E=C[D&B]|0,E>=g&&(r[z]=m[E]),z+=1,D+=a,E=C[D&B]|0,E>=g&&(r[z]=m[E]),z+=1,D+=a,E=C[D&B]|0,E>=g&&(r[z]=m[E]),z+=1,D+=a,E=C[D&B]|0,E>=g&&(r[z]=m[E]),z+=1,D+=a,E=C[D&B]|0,E>=g&&(r[z]=m[E]),z+=1,D+=a;A=q+=a}};h.prototype.ri=function(a,e,c,g,n){var m=Math.sin(this.eb/180*Math.PI)/this.ja,r=Math.cos(this.eb/180*Math.PI)/this.ja,u=this.C,x=this.B,y=-(this.C/2*-m+this.B/2*r)+this.ge,v=-(this.C/2*r+this.B/2*m)+this.fe,B=y+u*-m,b=v+u*r,l=y+x*r;x=v+x*m;m=l+u*-m;r=x+u*r;u=l;var f=x;r<f&&(f=r);v<f&&(f=v);b<f&&
(f=v);r>x&&(x=r);v>x&&(x=v);b>x&&(x=b);m>u&&(u=m);y>u&&(u=y);B>u&&(u=B);m<l&&(l=m);y<l&&(l=y);B<l&&(l=B);0>(f|0)||(x|0)>=this.width||0>(l|0)||(u|0)>=this.height?0===this.eb?this.Ng&&1<=this.ja&&1===this.M&&(this.ja|0)!==this.ja?(this.Ed(1),this.width!==this.ga?this.$m(a,f,l,x,u,this.Ee[0],g,n):this.$m(a,f,l,x,u,this.ll,g,n)):this.fG(a,e,c,g):this.eG(a,e,c,g):0===this.eb?this.Ng&&1<=this.ja&&1===this.M&&(this.ja|0)!==this.ja?(this.Ed(1),this.$m(a,f,l,x,u,this.Ee[0],g,n)):this.hG(a,e,c,g):this.gG(a,
e,c,g)};h.prototype.$m=function(a,e,c,g,n,m,r,u){var x=this.Ee,y=this.bk,v=this.si,B=this.ti,b=(this.ja|0)<<1,l=this.kd.width,f=l*b,q=g-e,w=n-c,z=-(e-Math.floor(e))*this.ja,A=-(c-Math.floor(c))*this.ja,C=this.width-1,D=this.height-1,E,F=0,G,H=b>>1,I;c|=0;e|=0;q=(q|0)+2;w=(w|0)+2;g=e+q;n=c+w;switch(H){case 1:var O=f;for(I=q<<1;c<n;c+=1){if((c&D)!==c)y.fill(m,F,F+I),F+=l,y.fill(m,F,F+I);else{var K=a[c];var M=F;for(E=e;E<g;E+=1){var J=(E&C)!==E?m:x[K[E]];y[F]=J;y[F+1]=J;F+=2}F=M+l;y.copyWithin(F,M,M+
I)}F=O;O+=f}break;case 2:O=f;for(I=q<<2;c<n;c+=1){if((c&D)!==c)y.fill(m,F,F+I),F+=l,y.fill(m,F,F+I),F+=l,y.fill(m,F,F+I),F+=l,y.fill(m,F,F+I);else{K=a[c];M=F;for(E=e;E<g;E+=1)J=(E&C)!==E?m:x[K[E]],y[F]=J,y[F+1]=J,y[F+2]=J,y[F+3]=J,F+=4;F=M+l;y.copyWithin(F,M,M+I);F+=l;M+=l;y.copyWithin(F,M,M+I);F+=l;M+=l;y.copyWithin(F,M,M+I)}F=O;O+=f}break;default:for(O=f,I=q*b;c<n;c+=1){if((c&D)!==c)for(K=0;K<H;K+=1)y.fill(m,F,F+I),F+=l,y.fill(m,F,F+I),F+=l;else{K=a[c];M=F;for(E=e;E<g;E+=1)for(J=(E&C)!==E?m:x[K[E]],
G=0;G<H;G+=1)y[F]=J,y[F+1]=J,F+=2;F=M+l;for(K=1;K<b;K+=1)y.copyWithin(F,M,M+I),M+=l,F+=l}F=O;O+=f}}v.putImageData(B,0,0,0,0,q*b,w*b);this.context.imageSmoothingEnabled=!0;this.context.drawImage(this.kd,0,0,q*b,w*b,z,A,q*this.ja,w*this.ja);this.context.imageSmoothingEnabled=!1;r||u||(this.Ub||this.nd)&&this.ah()?(this.hd=this.context.getImageData(0,0,this.context.canvas.width,this.context.canvas.height),this.Sd=new Uint32Array(this.hd.data.buffer),r&&this.$d(),(this.Ub||this.nd)&&this.ah()&&this.Pd()):
this.lj=!1};h.prototype.Bl=function(a,e,c,g,n,m,r,u,x){var y=this.Ee,v=this.bk,B=this.si,b=this.ti,l=(this.ja|0)<<1,f=this.kd.width,q=f*l,w=n-c,z=m-g,A=-(c-Math.floor(c))*this.ja,C=-(g-Math.floor(g))*this.ja,D=this.width-1,E=this.height-1,F,G=0,H=this.sb,I=l>>1,O=ViewConstants.Ja[3]+128,K=ViewConstants.Ja[4]+128,M=ViewConstants.Ja[5]+128,J=ViewConstants.Ja[6]+128,X;g|=0;c|=0;w=(w|0)+2;z=(z|0)+2;n=c+w;m=g+z;switch(I){case 1:var R=q;for(X=w<<1;g<m;g+=1){if((g&E)!==g)v.fill(r,G,G+X),G+=f,v.fill(r,G,
G+X);else{var U=e[g];var Y=a[g];var da=G;for(F=c;F<n;F+=1){if((F&D)!==F)var V=r;else{V=U[F];var ka=Y[F];ka===K||ka===J?(V>=H&&(ka=O),V=y[ka]):ka===O||ka===M?(V<H&&(ka=K),V=y[ka]):V=y[V]}v[G]=V;v[G+1]=V;G+=2}G=da+f;v.copyWithin(G,da,da+X)}G=R;R+=q}break;case 2:R=q;for(X=w<<2;g<m;g+=1){if((g&E)!==g)v.fill(r,G,G+X),G+=f,v.fill(r,G,G+X),G+=f,v.fill(r,G,G+X),G+=f,v.fill(r,G,G+X);else{U=e[g];Y=a[g];da=G;for(F=c;F<n;F+=1)(F&D)!==F?V=r:(V=U[F],ka=Y[F],ka===K||ka===J?(V>=H&&(ka=O),V=y[ka]):ka===O||ka===M?
(V<H&&(ka=K),V=y[ka]):V=y[V]),v[G]=V,v[G+1]=V,v[G+2]=V,v[G+3]=V,G+=4;G=da+f;v.copyWithin(G,da,da+X);G+=f;da+=f;v.copyWithin(G,da,da+X);G+=f;da+=f;v.copyWithin(G,da,da+X)}G=R;R+=q}break;default:for(R=q,X=w*l;g<m;g+=1){if((g&E)!==g)for(U=0;U<I;U+=1)v.fill(r,G,G+X),G+=f,v.fill(r,G,G+X),G+=f;else{U=e[g];Y=a[g];da=G;for(F=c;F<n;F+=1)for((F&D)!==F?V=r:(V=U[F],ka=Y[F],ka===K||ka===J?(V>=H&&(ka=O),V=y[ka]):ka===O||ka===M?(V<H&&(ka=K),V=y[ka]):V=y[V]),ka=0;ka<I;ka+=1)v[G]=V,v[G+1]=V,G+=2;G=da+f;for(U=1;U<
l;U+=1)v.copyWithin(G,da,da+X),da+=f,G+=f}G=R;R+=q}}B.putImageData(b,0,0,0,0,w*l,z*l);this.context.imageSmoothingEnabled=!0;this.context.drawImage(this.kd,0,0,w*l,z*l,A,C,w*this.ja,z*this.ja);this.context.imageSmoothingEnabled=!1;u||x||(this.Ub||this.nd)&&this.ah()?(this.hd=this.context.getImageData(0,0,this.context.canvas.width,this.context.canvas.height),this.Sd=new Uint32Array(this.hd.data.buffer),u&&this.$d(),(this.Ub||this.nd)&&this.ah()&&this.Pd()):this.lj=!1};h.prototype.aG=function(a,e,c,
g){var n=this.C>>3,m=this.Ee,r=this.Sd,u,x,y=ViewConstants.Ja[3]+128,v=ViewConstants.Ja[4]+128,B=ViewConstants.Ja[5]+128,b=ViewConstants.Ja[6]+128,l=1,f=1,q=0,w=this.sb,z=this.vb&~c,A=this.yb&~c,C=~c,D=~c,E=e,F=this.ja;1<this.j&&(l=this.M);var G=Math.sin(this.eb/180*Math.PI)/this.ja;var H=Math.cos(this.eb/180*Math.PI)/this.ja;var I=-(this.C/2*-G+this.B/2*H)+this.ge;var O=-(this.C/2*H+this.B/2*G)+this.fe;1<this.M&&1<this.j&&(q=.4/(this.M-1),f=.6);this.Ed(f);var K=this.width<this.ga?m[0]|0:this.ll|
0;var M=0;var J=I;for(u=0;u<this.B;u+=1){var X=O;for(x=0;x<n;x+=1){if((X&C)===(X&z)&&(J&D)===(J&A)){var R=E[J&A][X&z];var U=a[J&A][X&z];U===v||U===b?(R>=w&&(U=y),R=m[U]|0):U===y||U===B?(R<w&&(U=v),R=m[U]|0):R=m[R]|0;r[M]=R}else r[M]=K;M+=1;X+=H;J-=G;(X&C)===(X&z)&&(J&D)===(J&A)?(R=E[J&A][X&z],U=a[J&A][X&z],U===v||U===b?(R>=w&&(U=y),R=m[U]|0):U===y||U===B?(R<w&&(U=v),R=m[U]|0):R=m[R]|0,r[M]=R):r[M]=K;M+=1;X+=H;J-=G;(X&C)===(X&z)&&(J&D)===(J&A)?(R=E[J&A][X&z],U=a[J&A][X&z],U===v||U===b?(R>=w&&(U=y),
R=m[U]|0):U===y||U===B?(R<w&&(U=v),R=m[U]|0):R=m[R]|0,r[M]=R):r[M]=K;M+=1;X+=H;J-=G;(X&C)===(X&z)&&(J&D)===(J&A)?(R=E[J&A][X&z],U=a[J&A][X&z],U===v||U===b?(R>=w&&(U=y),R=m[U]|0):U===y||U===B?(R<w&&(U=v),R=m[U]|0):R=m[R]|0,r[M]=R):r[M]=K;M+=1;X+=H;J-=G;(X&C)===(X&z)&&(J&D)===(J&A)?(R=E[J&A][X&z],U=a[J&A][X&z],U===v||U===b?(R>=w&&(U=y),R=m[U]|0):U===y||U===B?(R<w&&(U=v),R=m[U]|0):R=m[R]|0,r[M]=R):r[M]=K;M+=1;X+=H;J-=G;(X&C)===(X&z)&&(J&D)===(J&A)?(R=E[J&A][X&z],U=a[J&A][X&z],U===v||U===b?(R>=w&&(U=
y),R=m[U]|0):U===y||U===B?(R<w&&(U=v),R=m[U]|0):R=m[R]|0,r[M]=R):r[M]=K;M+=1;X+=H;J-=G;(X&C)===(X&z)&&(J&D)===(J&A)?(R=E[J&A][X&z],U=a[J&A][X&z],U===v||U===b?(R>=w&&(U=y),R=m[U]|0):U===y||U===B?(R<w&&(U=v),R=m[U]|0):R=m[R]|0,r[M]=R):r[M]=K;M+=1;X+=H;J-=G;(X&C)===(X&z)&&(J&D)===(J&A)?(R=E[J&A][X&z],U=a[J&A][X&z],U===v||U===b?(R>=w&&(U=y),R=m[U]|0):U===y||U===B?(R<w&&(U=v),R=m[U]|0):R=m[R]|0,r[M]=R):r[M]=K;M+=1;X+=H;J-=G}O+=G;J=I+=H}g&&this.$d();(this.Ub||this.nd)&&this.ah()&&this.Pd();E=e;for(a=1;a<
l;a+=1)for(e=2<this.h?0===this.J?this.h/this.M*a|0:a<l/2?this.J/this.M*a*2|0:this.J+this.h/this.M*a|0:(this.ee+1)/this.M*a|0,f+=q,this.Ed(f),G/=this.j,H/=this.j,F*=this.j,u=c,.125>F?c=15:.25>F?c=7:.5>F?c=3:1>F?c=1:(E=this.Z,c=0),c!==u&&(E=this.Z),z=this.vb&~c,A=this.yb&~c,C=~c,D=~c,I=-(this.C/2*-G+this.B/2*H)+this.ge,O=-(this.C/2*H+this.B/2*G)+this.fe,M=0,J=I,u=0;u<this.B;u+=1){X=O;for(x=0;x<n;x+=1)(X&C)===(X&z)&&(J&D)===(J&A)&&(R=E[J&A][X&z]|0,R>=e&&(r[M]=m[R])),M+=1,X+=H,J-=G,(X&C)===(X&z)&&(J&
D)===(J&A)&&(R=E[J&A][X&z]|0,R>=e&&(r[M]=m[R])),M+=1,X+=H,J-=G,(X&C)===(X&z)&&(J&D)===(J&A)&&(R=E[J&A][X&z]|0,R>=e&&(r[M]=m[R])),M+=1,X+=H,J-=G,(X&C)===(X&z)&&(J&D)===(J&A)&&(R=E[J&A][X&z]|0,R>=e&&(r[M]=m[R])),M+=1,X+=H,J-=G,(X&C)===(X&z)&&(J&D)===(J&A)&&(R=E[J&A][X&z]|0,R>=e&&(r[M]=m[R])),M+=1,X+=H,J-=G,(X&C)===(X&z)&&(J&D)===(J&A)&&(R=E[J&A][X&z]|0,R>=e&&(r[M]=m[R])),M+=1,X+=H,J-=G,(X&C)===(X&z)&&(J&D)===(J&A)&&(R=E[J&A][X&z]|0,R>=e&&(r[M]=m[R])),M+=1,X+=H,J-=G,(X&C)===(X&z)&&(J&D)===(J&A)&&(R=
E[J&A][X&z]|0,R>=e&&(r[M]=m[R])),M+=1,X+=H,J-=G;O+=G;J=I+=H}};h.prototype.cG=function(a,e,c,g){var n=this.C>>3,m=this.Ee,r=this.Sd,u,x,y=ViewConstants.Ja[3]+128,v=ViewConstants.Ja[4]+128,B=ViewConstants.Ja[5]+128,b=ViewConstants.Ja[6]+128,l=1,f=1,q=0,w=this.sb,z=this.vb&~c,A=this.yb&~c,C=e,D=this.ja;1<this.j&&(l=this.M);var E=Math.sin(this.eb/180*Math.PI)/this.ja;var F=Math.cos(this.eb/180*Math.PI)/this.ja;var G=-(this.C/2*-E+this.B/2*F)+this.ge;var H=-(this.C/2*F+this.B/2*E)+this.fe;1<this.M&&1<
this.j&&(q=.4/(this.M-1),f=.6);this.Ed(f);var I=0;var O=G;for(u=0;u<this.B;u+=1){var K=H;for(x=0;x<n;x+=1){var M=C[O&A][K&z];var J=a[O&A][K&z];J===v||J===b?(M>=w&&(J=y),M=m[J]|0):J===y||J===B?(M<w&&(J=v),M=m[J]|0):M=m[M]|0;r[I]=M;I+=1;K+=F;O-=E;M=C[O&A][K&z];J=a[O&A][K&z];J===v||J===b?(M>=w&&(J=y),M=m[J]|0):J===y||J===B?(M<w&&(J=v),M=m[J]|0):M=m[M]|0;r[I]=M;I+=1;K+=F;O-=E;M=C[O&A][K&z];J=a[O&A][K&z];J===v||J===b?(M>=w&&(J=y),M=m[J]|0):J===y||J===B?(M<w&&(J=v),M=m[J]|0):M=m[M]|0;r[I]=M;I+=1;K+=F;O-=
E;M=C[O&A][K&z];J=a[O&A][K&z];J===v||J===b?(M>=w&&(J=y),M=m[J]|0):J===y||J===B?(M<w&&(J=v),M=m[J]|0):M=m[M]|0;r[I]=M;I+=1;K+=F;O-=E;M=C[O&A][K&z];J=a[O&A][K&z];J===v||J===b?(M>=w&&(J=y),M=m[J]|0):J===y||J===B?(M<w&&(J=v),M=m[J]|0):M=m[M]|0;r[I]=M;I+=1;K+=F;O-=E;M=C[O&A][K&z];J=a[O&A][K&z];J===v||J===b?(M>=w&&(J=y),M=m[J]|0):J===y||J===B?(M<w&&(J=v),M=m[J]|0):M=m[M]|0;r[I]=M;I+=1;K+=F;O-=E;M=C[O&A][K&z];J=a[O&A][K&z];J===v||J===b?(M>=w&&(J=y),M=m[J]|0):J===y||J===B?(M<w&&(J=v),M=m[J]|0):M=m[M]|0;r[I]=
M;I+=1;K+=F;O-=E;M=C[O&A][K&z];J=a[O&A][K&z];J===v||J===b?(M>=w&&(J=y),M=m[J]|0):J===y||J===B?(M<w&&(J=v),M=m[J]|0):M=m[M]|0;r[I]=M;I+=1;K+=F;O-=E}H+=E;O=G+=F}g&&this.$d();(this.Ub||this.nd)&&this.ah()&&this.Pd();C=e;for(a=1;a<l;a+=1)for(e=2<this.h?0===this.J?this.h/this.M*a|0:a<l/2?this.J/this.M*a*2|0:this.J+this.h/this.M*a|0:(this.ee+1)/this.M*a|0,f+=q,this.Ed(f),E/=this.j,F/=this.j,D*=this.j,u=c,.125>D?c=15:.25>D?c=7:.5>D?c=3:1>D?c=1:(C=this.Z,c=0),c!==u&&(C=this.Z),z=this.vb&~c,A=this.yb&~c,G=
-(this.C/2*-E+this.B/2*F)+this.ge,H=-(this.C/2*F+this.B/2*E)+this.fe,I=0,O=G,u=0;u<this.B;u+=1){K=H;for(x=0;x<n;x+=1)M=C[O&A][K&z]|0,M>=e&&(r[I]=m[M]),I+=1,K+=F,O-=E,M=C[O&A][K&z]|0,M>=e&&(r[I]=m[M]),I+=1,K+=F,O-=E,M=C[O&A][K&z]|0,M>=e&&(r[I]=m[M]),I+=1,K+=F,O-=E,M=C[O&A][K&z]|0,M>=e&&(r[I]=m[M]),I+=1,K+=F,O-=E,M=C[O&A][K&z]|0,M>=e&&(r[I]=m[M]),I+=1,K+=F,O-=E,M=C[O&A][K&z]|0,M>=e&&(r[I]=m[M]),I+=1,K+=F,O-=E,M=C[O&A][K&z]|0,M>=e&&(r[I]=m[M]),I+=1,K+=F,O-=E,M=C[O&A][K&z]|0,M>=e&&(r[I]=m[M]),I+=1,K+=
F,O-=E;H+=E;O=G+=F}};h.prototype.dG=function(a,e,c,g){var n=this.C>>3,m=this.Ee,r=this.Sd,u,x=ViewConstants.Ja[3]+128,y=ViewConstants.Ja[4]+128,v=ViewConstants.Ja[5]+128,B=ViewConstants.Ja[6]+128,b=1,l=1,f=0,q=this.sb,w=this.vb&~c,z=this.yb&~c,A=e,C=this.ja;1<this.j&&(b=this.M);var D=1/this.ja;var E=-(this.B/2*D)+this.ge;var F=-(this.C/2*D)+this.fe;1<this.M&&1<this.j&&(f=.4/(this.M-1),l=.6);this.Ed(l);var G=0;var H=E;for(u=0;u<this.B;u+=1){var I=A[H&z];var O=a[H&z];var K=F;this.R&&(K+=.5*(H|0));for(H=
0;H<n;H+=1){var M=I[K&w];var J=O[K&w];J===y||J===B?(M>=q&&(J=x),M=m[J]|0):J===x||J===v?(M<q&&(J=y),M=m[J]|0):M=m[M]|0;r[G]=M;G+=1;K+=D;M=I[K&w];J=O[K&w];J===y||J===B?(M>=q&&(J=x),M=m[J]|0):J===x||J===v?(M<q&&(J=y),M=m[J]|0):M=m[M]|0;r[G]=M;G+=1;K+=D;M=I[K&w];J=O[K&w];J===y||J===B?(M>=q&&(J=x),M=m[J]|0):J===x||J===v?(M<q&&(J=y),M=m[J]|0):M=m[M]|0;r[G]=M;G+=1;K+=D;M=I[K&w];J=O[K&w];J===y||J===B?(M>=q&&(J=x),M=m[J]|0):J===x||J===v?(M<q&&(J=y),M=m[J]|0):M=m[M]|0;r[G]=M;G+=1;K+=D;M=I[K&w];J=O[K&w];J===
y||J===B?(M>=q&&(J=x),M=m[J]|0):J===x||J===v?(M<q&&(J=y),M=m[J]|0):M=m[M]|0;r[G]=M;G+=1;K+=D;M=I[K&w];J=O[K&w];J===y||J===B?(M>=q&&(J=x),M=m[J]|0):J===x||J===v?(M<q&&(J=y),M=m[J]|0):M=m[M]|0;r[G]=M;G+=1;K+=D;M=I[K&w];J=O[K&w];J===y||J===B?(M>=q&&(J=x),M=m[J]|0):J===x||J===v?(M<q&&(J=y),M=m[J]|0):M=m[M]|0;r[G]=M;G+=1;K+=D;M=I[K&w];J=O[K&w];J===y||J===B?(M>=q&&(J=x),M=m[J]|0):J===x||J===v?(M<q&&(J=y),M=m[J]|0):M=m[M]|0;r[G]=M;G+=1;K+=D}H=E+=D}g&&this.$d();(this.Ub||this.nd)&&this.ah()&&this.Pd();A=
e;for(a=1;a<b;a+=1)for(e=2<this.h?0===this.J?this.h/this.M*a|0:a<b/2?this.J/this.M*a*2|0:this.J+this.h/this.M*a|0:(this.ee+1)/this.M*a|0,l+=f,this.Ed(l),D/=this.j,C*=this.j,u=c,.125>C?c=15:.25>C?c=7:.5>C?c=3:1>C?c=1:(A=this.Z,c=0),c!==u&&(A=this.Z),w=this.vb&~c,z=this.yb&~c,E=-(this.B/2*D)+this.ge,F=-(this.C/2*D)+this.fe,G=0,H=E,u=0;u<this.B;u+=1){I=A[H&z];K=F;this.R&&(K+=.5*(H|0));for(H=0;H<n;H+=1)M=I[K&w]|0,M>=e&&(r[G]=m[M]),G+=1,K+=D,M=I[K&w]|0,M>=e&&(r[G]=m[M]),G+=1,K+=D,M=I[K&w]|0,M>=e&&(r[G]=
m[M]),G+=1,K+=D,M=I[K&w]|0,M>=e&&(r[G]=m[M]),G+=1,K+=D,M=I[K&w]|0,M>=e&&(r[G]=m[M]),G+=1,K+=D,M=I[K&w]|0,M>=e&&(r[G]=m[M]),G+=1,K+=D,M=I[K&w]|0,M>=e&&(r[G]=m[M]),G+=1,K+=D,M=I[K&w]|0,M>=e&&(r[G]=m[M]),G+=1,K+=D;H=E+=D}};h.prototype.bG=function(a,e,c,g){var n=this.C>>3,m=this.Ee,r=this.Sd,u,x=ViewConstants.Ja[3]+128,y=ViewConstants.Ja[4]+128,v=ViewConstants.Ja[5]+128,B=ViewConstants.Ja[6]+128,b=1,l=1,f=0,q=this.sb,w=this.vb&~c,z=this.yb&~c,A=~c,C=~c,D=e,E=this.ja;1<this.j&&(b=this.M);var F=1/this.ja;
var G=-(this.B/2*F)+this.ge;var H=-(this.C/2*F)+this.fe;1<this.M&&1<this.j&&(f=.4/(this.M-1),l=.6);this.Ed(l);var I=this.width<this.ga?m[0]|0:this.ll|0;var O=0;var K=G;for(u=0;u<this.B;u+=1){if((K&C)===(K&z)){var M=D[K&z];var J=a[K&z];var X=H;this.R&&(X+=.5*(K|0));for(K=0;K<n;K+=1){if((X&A)===(X&w)){var R=M[X&w];var U=J[X&w];U===y||U===B?(R>=q&&(U=x),R=m[U]|0):U===x||U===v?(R<q&&(U=y),R=m[U]|0):R=m[R]|0}else R=I;r[O]=R;O+=1;X+=F;(X&A)===(X&w)?(R=M[X&w],U=J[X&w],U===y||U===B?(R>=q&&(U=x),R=m[U]|0):
U===x||U===v?(R<q&&(U=y),R=m[U]|0):R=m[R]|0):R=I;r[O]=R;O+=1;X+=F;(X&A)===(X&w)?(R=M[X&w],U=J[X&w],U===y||U===B?(R>=q&&(U=x),R=m[U]|0):U===x||U===v?(R<q&&(U=y),R=m[U]|0):R=m[R]|0):R=I;r[O]=R;O+=1;X+=F;(X&A)===(X&w)?(R=M[X&w],U=J[X&w],U===y||U===B?(R>=q&&(U=x),R=m[U]|0):U===x||U===v?(R<q&&(U=y),R=m[U]|0):R=m[R]|0):R=I;r[O]=R;O+=1;X+=F;(X&A)===(X&w)?(R=M[X&w],U=J[X&w],U===y||U===B?(R>=q&&(U=x),R=m[U]|0):U===x||U===v?(R<q&&(U=y),R=m[U]|0):R=m[R]|0):R=I;r[O]=R;O+=1;X+=F;(X&A)===(X&w)?(R=M[X&w],U=J[X&
w],U===y||U===B?(R>=q&&(U=x),R=m[U]|0):U===x||U===v?(R<q&&(U=y),R=m[U]|0):R=m[R]|0):R=I;r[O]=R;O+=1;X+=F;(X&A)===(X&w)?(R=M[X&w],U=J[X&w],U===y||U===B?(R>=q&&(U=x),R=m[U]|0):U===x||U===v?(R<q&&(U=y),R=m[U]|0):R=m[R]|0):R=I;r[O]=R;O+=1;X+=F;(X&A)===(X&w)?(R=M[X&w],U=J[X&w],U===y||U===B?(R>=q&&(U=x),R=m[U]|0):U===x||U===v?(R<q&&(U=y),R=m[U]|0):R=m[R]|0):R=I;r[O]=R;O+=1;X+=F}}else r.fill(I,O,O+this.C+1),O+=this.C;K=G+=F}g&&this.$d();(this.Ub||this.nd)&&this.ah()&&this.Pd();D=e;for(a=1;a<b;a+=1)for(e=
2<this.h?0===this.J?this.h/this.M*a|0:a<b/2?this.J/this.M*a*2|0:this.J+this.h/this.M*a|0:(this.ee+1)/this.M*a|0,l+=f,this.Ed(l),F/=this.j,E*=this.j,u=c,.125>E?c=15:.25>E?c=7:.5>E?c=3:1>E?c=1:(D=this.Z,c=0),c!==u&&(D=this.Z),w=this.vb&~c,z=this.yb&~c,A=~c,C=~c,G=-(this.B/2*F)+this.ge,H=-(this.C/2*F)+this.fe,O=0,K=G,u=0;u<this.B;u+=1){if((K&C)===(K&z))for(M=D[K&z],X=H,this.R&&(X+=.5*(K|0)),K=0;K<n;K+=1)(X&A)===(X&w)&&(R=M[X&w]|0,R>=e&&(r[O]=m[R])),O+=1,X+=F,(X&A)===(X&w)&&(R=M[X&w]|0,R>=e&&(r[O]=m[R])),
O+=1,X+=F,(X&A)===(X&w)&&(R=M[X&w]|0,R>=e&&(r[O]=m[R])),O+=1,X+=F,(X&A)===(X&w)&&(R=M[X&w]|0,R>=e&&(r[O]=m[R])),O+=1,X+=F,(X&A)===(X&w)&&(R=M[X&w]|0,R>=e&&(r[O]=m[R])),O+=1,X+=F,(X&A)===(X&w)&&(R=M[X&w]|0,R>=e&&(r[O]=m[R])),O+=1,X+=F,(X&A)===(X&w)&&(R=M[X&w]|0,R>=e&&(r[O]=m[R])),O+=1,X+=F,(X&A)===(X&w)&&(R=M[X&w]|0,R>=e&&(r[O]=m[R])),O+=1,X+=F;else O+=n<<3;K=G+=F}};h.prototype.pi=function(a,e,c,g,n){var m=Math.sin(this.eb/180*Math.PI)/this.ja,r=Math.cos(this.eb/180*Math.PI)/this.ja,u=this.C,x=this.B,
y=-(this.C/2*-m+this.B/2*r)+this.ge,v=-(this.C/2*r+this.B/2*m)+this.fe,B=y+u*-m,b=v+u*r,l=y+x*r;x=v+x*m;m=l+u*-m;r=x+u*r;u=l;var f=x;r<f&&(f=r);v<f&&(f=v);b<f&&(f=v);r>x&&(x=r);v>x&&(x=v);b>x&&(x=b);m>u&&(u=m);y>u&&(u=y);B>u&&(u=B);m<l&&(l=m);y<l&&(l=y);B<l&&(l=B);0>(f|0)||(x|0)>=this.width||0>(l|0)||(u|0)>=this.height?0===this.eb?this.Ng&&1<=this.ja&&1===this.M&&(this.ja|0)!==this.ja?(this.Ed(1),this.width!==this.ga?this.Bl(a,e,f,l,x,u,this.Ee[0],g,n):this.Bl(a,e,f,l,x,u,this.ll,g,n)):this.bG(a,
e,c,g):this.aG(a,e,c,g):0===this.eb?this.Ng&&1<=this.ja&&1===this.M&&(this.ja|0)!==this.ja?(this.Ed(1),this.Bl(a,e,f,l,x,u,this.Ee[0],g,n)):this.dG(a,e,c,g):this.cG(a,e,c,g)};h.prototype.ct=function(){var a;if(this.lj){if(!this.hd.data.buffer){var e=this.hd.data;var c=this.al;var g=c.length;for(a=0;a<g;)e[a]=c[a],a+=1,e[a]=c[a],a+=1,e[a]=c[a],a+=1,e[a]=c[a],a+=1}this.context.putImageData(this.hd,0,0)}};h.prototype.Lv=function(a){this.Sd.fill(a)};window.LifeConstants=t;window.Life=h}(),function(){function d(k,
p){var h=0,t=0,a=k.length,e=!1,c=!1,g=!1,n=0,m=new Uint32Array(a),r=new Uint16Array(a),u=new Uint32Array(a),x=0,y=0;-1!==k.indexOf("&")&&(k=k.replace(/&amp;/g,"&"),k=k.replace(/&lt;/g,"<"),k=k.replace(/&gt;/g,">"),a=k.length);for(;h<a;){var v=k.charCodeAt(h);switch(v){case 32:case 13:case 9:case 123:case 125:!c&&e&&(m[n]=t,r[n]=h-t,u[n]=(x<<1)+1&y,n+=1,e=!1);break;case 44:p?!c&&e&&(m[n]=t,r[n]=h-t,u[n]=(x<<1)+1&y,n+=1,e=!1):e||(e=!0,y=0,c=!1,t=h);break;case 10:e&&(m[n]=t,r[n]=h-t,u[n]=(x<<1)+1&y,
n+=1,e=!1);c=!1;p&&(0<n&&"\n"!==k[m[n-1]]&&(m[n]=h,r[n]=1,u[n]=0,n+=1),g=!1);break;case 58:case 61:p?c||(e&&(m[n]=t,r[n]=h-t,u[n]=(x<<1)+1&y,n+=1,e=!1),m[n]=h,r[n]=1,u[n]=0,n+=1):e||(e=!0,y=0,c=!1,t=h);break;case 34:p?c||(g=!g,e||(e=!0,t=h)):e||(e=!0,y=0,t=h);break;case 35:p?g||c||(e&&(m[n]=t,r[n]=h-t,u[n]=(x<<1)+1&y,n+=1,e=!1),c=!0):e||(e=!0,y=0,c=!1,t=h);break;default:c||(e?48<=v&&57>=v?x=10*x+v-48:y=0:(e=!0,t=h,48<=v&&57>=v?(y=-1,x=v-48):y=0))}h+=1}e&&(m[n]=t,r[n]=h-t,u[n]=(x<<1)+1&y,n+=1);this.j=
m.slice(0,n);this.A=r.slice(0,n);this.K=u.slice(0,n);this.current=0;this.source=k}d.prototype.bF=function(){0<this.current&&--this.current};d.prototype.ip=function(){for(;this.current<this.j.length&&10!==this.source.charCodeAt(this.j[this.current]);)this.current+=1;this.current<this.j.length&&(this.current+=1)};d.prototype.Ru=function(){for(;this.current<this.j.length&&10===this.source.charCodeAt(this.j[this.current]);)this.current+=1};d.prototype.WI=function(){var k=!1;this.current<this.j.length&&
10!==this.source.charCodeAt(this.j[this.current])&&(k=!0);return k};d.prototype.Oq=function(){var k=!1;this.current<this.j.length&&10===this.source.charCodeAt(this.j[this.current])&&(k=!0);return k};d.prototype.N=function(){var k="";this.current<this.j.length&&(k=this.source.substr(this.j[this.current],this.A[this.current]),this.current+=1);return k};d.prototype.zC=function(){var k;for(k=this.N();"\n"===k;)k=this.N();return k};d.prototype.Ba=function(){var k="";this.current<this.j.length&&(k=this.source.substr(this.j[this.current],
this.A[this.current]));return k};d.prototype.sC=function(){return this.fa(Keywords.En,-1,!1)};d.prototype.bq=function(k,p){return this.fa(k,p,!0)};d.prototype.fa=function(k,p,h){var t=-1,a=this.current;for(-1!==p&&0<=p&&p<this.j.length&&(a=p);a<this.j.length&&-1===t;){if(k.length===this.A[a]){var e=0;for(p=!0;p&&e<k.length;)k[e]!==this.source[this.j[a]+e]?p=!1:e+=1}else p=!1;p&&(h&&0!==a&&10!==this.source.charCodeAt(this.j[a-1])&&(p=!1),p&&(t=a));a+=1}-1!==t&&(this.current=a);return t};d.prototype.Ml=
function(k){return!isNaN(parseFloat(k))&&isFinite(Number(k))};d.prototype.W=function(k){var p=!1,h=k.indexOf("/");-1!==h&&(p=k.substr(0,h),k=k.substr(h+1),p=this.Ml(p)&&this.Ml(k));return p};d.prototype.pw=function(k){var p=0;if(this.W(k)){var h=k.indexOf("/");var t=k.substr(0,h);k=k.substr(h+1);0!==Number(k)&&(p=Number(t)/Number(k))}else this.Ml(k)&&(p=parseFloat(k));return p};d.prototype.G=function(){var k=0;this.current<this.j.length&&(0!==this.K[this.current]?(k=this.K[this.current]>>1,this.current+=
1):(k=this.N(),k=this.pw(k)));return k};d.prototype.F=function(){var k=!1;if(this.current<this.j.length)if(this.K[this.current])k=!0;else{var p=this.source.substr(this.j[this.current],this.A[this.current]);this.W(p)?k=!0:k=this.Ml(p)}return k};d.prototype.bI=function(){var k=!1;var p=this.current+1;p<this.j.length&&(this.K[p]?k=!0:(p=this.source.substr(this.j[p],this.A[p]),this.W(p)?k=!0:k=this.Ml(p)));return k};d.prototype.PH=function(){this.current=this.j.length};window.Script=d}(),function(){function d(e){this.P=
e;this.Bn=this.Th=this.wo=!1;this.Hg=a.yy;this.Hj=a.To;this.Va=this.Rb=-1;this.angle=this.y=this.x=0;this.depth=this.M=this.zoom=1;this.vc=0;this.tc=60;this.step=1;this.xd=this.kc=0;this.Ef="";this.rr=this.nk=this.Uu=this.ds=this.Xk=this.Wk=this.pA=this.dF=this.Jr=this.Ol=this.um=this.ei=this.Ph=this.Uf=this.Lh=this.Vh=this.ue=this.Ch=this.Wf=this.ug=this.Zc=this.qm=this.Ah=this.yh=this.xh=this.tf=!1}function k(e,c,g,n,m,r,u,x,y,v,B,b,l,f,q,w,z){this.coords=e;this.Lx=c;this.zoom=g;this.vg=n;this.alpha=
m;this.size=r;this.jc=u;this.Xg=x;this.wd=y;this.angle=v;this.hl=B;this.gm=b;this.Am=l;this.Bm=f;this.Df=q;this.yl=w;this.zl=z}function p(e,c,g,n,m,r,u,x,y,v,B,b,l,f,q,w,z,A,C,D){this.pB=e;this.rB=c;this.LF=g;this.MF=n;this.zoom=m;this.vg=r;this.alpha=u;this.size=x;this.MC=y;this.jc=v;this.Xg=B;this.wd=b;this.angle=l;this.hl=f;this.gm=q;this.Am=w;this.Bm=z;this.Df=A;this.yl=C;this.zl=D}function h(e,c,g,n,m,r,u,x,y,v,B,b,l,f,q,w,z){this.message="";this.x=e;this.y=c;this.zoom=g;this.vg=n;this.alpha=
m;this.size=r;this.jc=u;this.Xg=x;this.wd=y;this.angle=v;this.hl=B;this.gm=b;this.Am=l;this.Bm=f;this.Df=q;this.yl=w;this.zl=z}function t(){this.Ka=[];this.nc=[];this.yf=[];this.jf=[];this.Af=[];this.current=new d(this);this.Aa=new d(this);this.A=new d(this);this.K=!1;this.Ok=0;this.W=!1}var a={yy:0,play:1,stop:2,To:12,pE:0,oE:200};d.prototype.set=function(e){this.wo=e.wo;this.Th=e.Th;this.Bn=e.Bn;this.Hg=e.Hg;this.Hj=e.Hj;this.Rb=e.Rb;this.Va=e.Va;this.x=e.x;this.y=e.y;this.xh=e.xh;this.yh=e.yh;
this.Ah=e.Ah;this.tf=e.tf;this.angle=e.angle;this.zoom=e.zoom;this.M=e.M;this.depth=e.depth;this.vc=e.vc;this.tc=e.tc;this.step=e.step;this.kc=e.kc;this.xd=e.xd;this.Ef=e.Ef;this.qm=e.qm;this.Zc=e.Zc};d.prototype.j=function(){var e="";switch(this.Hg){case a.play:e=Keywords.Uo;break;case a.stop:e=Keywords.Vo}return e};d.prototype.EK=function(e){this.Th?(this.Hg!==a.yy&&(e[e.length]=[Keywords.Uo,"overwrites "+this.j()]),this.Hg=a.play):e[e.length]=[Keywords.Uo,"only valid at POI"]};d.prototype.IK=function(e){this.Th?
(this.Hg!==a.yy&&(e[e.length]=[Keywords.Vo,"overwrites "+this.j()]),this.Hg=a.stop):e[e.length]=[Keywords.Vo,"only valid at POI"]};d.prototype.FK=function(e){this.Th?(this.Bn&&(e[e.length]=[Keywords.kr,"already defined"]),this.Bn=!0):e[e.length]=[Keywords.kr,"only valid at POI"]};d.prototype.KK=function(e,c){this.Th?(this.Hj!==a.To&&(c[c.length]=[Keywords.lr+" "+e,"overwrites "+this.Hj]),this.Hj=e):c[c.length]=[Keywords.lr,"only valid at POI"]};d.prototype.A=function(e,c,g){var n=e.xd+0,m=c.xd+0,
r=e.angle+0,u=c.angle+0,x=1,y=1,v=1,B=1,b=1;g>m&&(g=m);m-n===ViewConstants.RK&&(n=m);m!==n&&(x=Math.round((g-n)/(m-n)*1E6)/1E6,y=this.P.JB(x)+0);c.xh||c.tf?v=x:v=y;c.yh||c.tf?B=x:B=y;c.Ah||c.tf?b=x:b=y;this.x=e.x+v*(c.x-e.x);this.y=e.y+B*(c.y-e.y);this.zoom=e.zoom*Math.pow(c.zoom/e.zoom,b);180<u-r?r+=360:-180>u-r&&(u+=360);this.angle=(r+y*(u-r))%360;this.M=e.M+x*(c.M-e.M)|0;this.depth=e.depth+x*(c.depth-e.depth);this.vc=c.vc;this.tc=c.tc;this.step=c.step;this.kc=e.kc+x*(c.kc-e.kc)|0;this.xd=g;this.Ef=
c.Ef;this.tf=c.tf;this.wo=c.wo};t.prototype.nH=function(e,c,g,n,m,r,u,x,y,v,B,b,l,f,q,w,z){return new k(e,c,g,n,m,r,u,x,y,v,B,b,l,f,q,w,z)};t.prototype.ab=function(){this.Af=[]};t.prototype.oG=function(e){this.Af[this.Af.length]=e};t.prototype.hH=function(e,c,g,n,m,r,u,x,y,v,B,b,l,f,q,w,z,A,C,D){return new p(e,c,g,n,m,r,u,x,y,v,B,b,l,f,q,w,z,A,C,D)};t.prototype.La=function(){this.jf=[]};t.prototype.lG=function(e){this.jf[this.jf.length]=e};t.prototype.kH=function(e,c,g,n,m,r,u,x,y,v,B,b,l,f,q,w,z){return new h(e,
c,g,n,m,r,u,x,y,v,B,b,l,f,q,w,z)};t.prototype.Na=function(){this.yf=[]};t.prototype.xB=function(e){this.yf[this.yf.length]=e};t.prototype.Ho=function(){return this.yf.length+this.jf.length+this.Af.length};t.prototype.PG=function(){this.Na();this.La();this.ab()};t.prototype.tJ=function(e){var c="",g="";0<=e&&e<this.Af.length&&(e=this.Af[e],e.gm&&(g="*"),c=e.Lx?"FILL\t":"LINE\t",c+="X1"+g+" "+e.coords[0]+"\tY1"+g+" "+e.coords[1]);return c};t.prototype.uJ=function(e){var c="",g="";0<=e&&e<this.Af.length&&
(c=this.Af[e],e=c.zoom,0<=e&&1>e&&(e=-1/e),c.hl&&(g="*"),c="Z "+e.toFixed(1)+"\tA"+g+" "+c.angle.toFixed(1));return c};t.prototype.vJ=function(e){var c="";0<=e&&e<this.Af.length&&(e=this.Af[e],c="Alpha "+e.alpha.toFixed(1),-1!==e.jc&&(c+="\tT1 "+e.jc+"\tT2 "+e.Xg,0<e.wd&&(c+="\tFade "+e.wd)));return c};t.prototype.wJ=function(e){var c="";0<=e&&e<this.Af.length&&(c=this.Af[e].vg);return c};t.prototype.BG=function(e){var c="",g="";0<=e&&e<this.jf.length&&(e=this.jf[e],e.gm&&(g="*"),c="X1"+g+" "+e.pB+
"\tY1"+g+" "+e.rB,c+="\tX2"+g+" "+e.LF+"\tY2"+g+" "+e.MF);return c};t.prototype.CG=function(e){var c="",g="";0<=e&&e<this.jf.length&&(c=this.jf[e],e=c.zoom,0<=e&&1>e&&(e=-1/e),c.hl&&(g="*"),c="Z "+e.toFixed(1)+"\tA"+g+" "+c.angle.toFixed(1));return c};t.prototype.DG=function(e){var c="";0<=e&&e<this.jf.length&&(e=this.jf[e],c="Alpha "+e.alpha.toFixed(1),-1!==e.jc&&(c+="\tT1 "+e.jc+"\tT2 "+e.Xg,0<e.wd&&(c+="\tFade "+e.wd)));return c};t.prototype.qs=function(e){var c="";0<=e&&e<this.jf.length&&(c=this.jf[e].vg);
return c};t.prototype.CI=function(e){var c="",g="",n="";if(0<=e&&e<this.yf.length){var m=this.yf[e];e=m.zoom;0<=e&&1>e&&(e=-1/e);m.gm&&(g="*");m.hl&&(n="*");c="X"+g+" "+m.x+"\tY"+g+" "+m.y;c+="\tZ "+e.toFixed(1)+"\tA"+n+" "+m.angle.toFixed(1)}return c};t.prototype.DI=function(e){var c="";0<=e&&e<this.yf.length&&(e=this.yf[e],c="Alpha "+e.alpha.toFixed(1),-1!==e.jc&&(c+="\tT1 "+e.jc+"\tT2 "+e.Xg,0<e.wd&&(c+="\tFade "+e.wd)));return c};t.prototype.EI=function(e){var c="";0<=e&&e<this.yf.length&&(e=
this.yf[e],c="Size "+e.size+'\t"'+e.message+'"');return c};t.prototype.FI=function(e){var c="";0<=e&&e<this.yf.length&&(c=this.yf[e].vg);return c};t.prototype.Cc=function(){this.yf.sort(function(e,c){return e.zoom-c.zoom})};t.prototype.lc=function(){this.jf.sort(function(e,c){return e.zoom-c.zoom})};t.prototype.Dc=function(){this.Af.sort(function(e,c){return e.zoom-c.zoom})};t.prototype.TK=function(){this.Cc();this.lc();this.Dc()};t.prototype.fa=function(e,c){var g,n=e.a,m=n.context,r=n.width/2-n.wa-
n.Pb,u=n.height/2-n.pa-n.Nb,x=n.zoom*n.Jc,y=n.C/2,v=n.B/2,B=e.a.v,b=n.R?-(n.height>>2):0,l=0,f=0,q=0,w=0,z=0;n.R&&(r+=u/2);c&&(m.strokeStyle=ViewConstants.FG);for(g=0;g<this.jf.length;g+=1){var A=this.jf[g];var C=!0;-1!==A.jc&&(B<A.jc||B>A.Xg)&&(C=!1);if(C){var D=A.size*x/A.zoom;var E=A.size/4;var F=4*A.size;c&&(l=1,24<=D&&(l=2,48<=D&&(l=3)));if(D>=E&&D<=F){E=Math.log(D/E)/Math.log(F/E);E=.25>=E?4*E:.75<=E?4*(1-E):1;F=1;-1!==A.jc&&0<A.wd&&(B-A.jc<A.wd?F=(B-A.jc+1)/A.wd:A.Xg-B<A.wd&&(F=(A.Xg-B+1)/
A.wd));C=!0;var G=1;if(-1!==A.Df){var H=Math.sqrt((-(r+b)-A.Am)*(-(r+b)-A.Am)+(-u-A.Bm)*(-u-A.Bm));H>A.Df?C=!1:0<A.Df&&.75<H/A.Df&&(G=4*(1-H/A.Df))}C&&(m.globalAlpha=E*A.alpha*F*G,G=A.rB+u-(e.qb>>1)+.5,E=A.pB+r+b-(e.nb>>1)+.5,A.gm||(E+=n.Pb,G+=n.Nb),-1!==A.jc?(E+=A.yl*(e.lb-A.jc),G+=A.zl*(e.lb-A.jc)):(E+=A.yl*e.lb,G+=A.zl*e.lb),0!==n.eb&&(F=Math.sqrt(E*E+G*G),C=180/Math.PI*Math.atan2(G,E),C+=n.eb,E=F*Math.cos(Math.PI/180*C),G=F*Math.sin(Math.PI/180*C)),n.R&&(E-=G/2),C=G*x+v,H=E*x+y,E=(A.LF-A.pB)*
x,F=(A.MF-A.rB)*x,n.R&&(E-=F/2),G=0===A.MC?0:Math.sqrt(E*E+F*F)*A.MC,m.save(),m.translate(H,C),C=A.angle,A.hl||(C+=n.eb),m.rotate(C/180*Math.PI),m.lineWidth=D,c||(m.strokeStyle=A.vg),m.lineCap="round",m.lineJoin="round",0<G&&(A=Math.atan2(F,E),f=Math.cos(.85*Math.PI+A),q=Math.sin(.85*Math.PI+A),w=Math.cos(.85*-Math.PI+A),z=Math.sin(.85*-Math.PI+A)),0<l&&m.translate(l,l),m.beginPath(),m.moveTo(0,0),m.lineTo(E,F),0<G&&(m.moveTo(E,F),m.lineTo(E+G*f,F+G*q),m.moveTo(E,F),m.lineTo(E+G*w,F+G*z)),m.stroke(),
m.restore())}}}m.globalAlpha=1};t.prototype.fb=function(e){this.fa(e,!0);this.fa(e,!1)};t.prototype.na=function(e,c){var g,n=e.a,m=n.context,r=n.width/2-n.wa-n.Pb,u=n.height/2-n.pa-n.Nb,x=n.zoom*n.Jc,y=n.C/2,v=n.B/2,B=e.a.v,b=n.R?-(n.height>>2):0,l=0;c&&(m.strokeStyle=ViewConstants.rE,m.fillStyle=ViewConstants.rE);n.R&&(r+=u/2);for(g=0;g<this.Af.length;g+=1){var f=this.Af[g];var q=f.coords;var w=q.length;var z=!0;-1!==f.jc&&(B<f.jc||B>f.Xg)&&(z=!1);if(z){var A=f.size*x/f.zoom;var C=f.size/4;var D=
4*f.size;c&&(l=1,24<=A&&(l=2,48<=A&&(l=3)));if(A>=C&&A<=D){C=Math.log(A/C)/Math.log(D/C);C=.25>=C?4*C:.75<=C?4*(1-C):1;D=1;-1!==f.jc&&0<f.wd&&(B-f.jc<f.wd?D=(B-f.jc+1)/f.wd:f.Xg-B<f.wd&&(D=(f.Xg-B+1)/f.wd));z=!0;var E=1;if(-1!==f.Df){var F=Math.sqrt((-(r+b)-f.Am)*(-(r+b)-f.Am)+(-u-f.Bm)*(-u-f.Bm));F>f.Df?z=!1:0<f.Df&&.75<F/f.Df&&(E=4*(1-F/f.Df))}if(z){m.globalAlpha=C*f.alpha*D*E;C=0;E=q[C]+r+b-(e.nb>>1)+.5;D=q[C+1]+u-(e.qb>>1)+.5;C+=2;f.gm||(E+=n.Pb,D+=n.Nb);-1!==f.jc?(E+=f.yl*(e.lb-f.jc),D+=f.zl*
(e.lb-f.jc)):(E+=f.yl*e.lb,D+=f.zl*e.lb);0!==n.eb&&(z=Math.sqrt(E*E+D*D),D=180/Math.PI*Math.atan2(D,E),D+=n.eb,E=z*Math.cos(Math.PI/180*D),D=z*Math.sin(Math.PI/180*D));n.R&&(E-=D/2);D=D*x+v;F=E*x+y;E=(q[C]-q[0])*x;z=(q[C+1]-q[1])*x;n.R&&(E-=z/2);C+=2;m.save();m.translate(F,D);D=f.angle;f.hl||(D+=n.eb);m.rotate(D/180*Math.PI);m.lineWidth=A;c||(f.Lx?m.fillStyle=f.vg:m.strokeStyle=f.vg);m.lineCap="round";m.lineJoin="round";0<l&&m.translate(l,l);m.beginPath();m.moveTo(0,0);for(m.lineTo(E,z);C<w;)E=(q[C]-
q[0])*x,z=(q[C+1]-q[1])*x,n.R&&(E-=z/2),C+=2,m.lineTo(E,z);f.Lx?m.fill():m.stroke();m.restore()}}}}m.globalAlpha=1};t.prototype.Fb=function(e){this.na(e,!0);this.na(e,!1)};t.prototype.rb=function(e){var c,g=e.a,n=g.context,m=g.width/2-g.wa-g.Pb,r=g.height/2-g.pa-g.Nb,u=g.zoom*g.Jc,x=g.C/2,y=g.B/2,v=ViewConstants.II,B="px "+ViewConstants.GI,b=e.a.v,l=g.R?-(g.height>>2):0;g.R&&(m+=r/2);for(c=0;c<this.yf.length;c+=1){var f=this.yf[c];var q=!0;-1!==f.jc&&(b<f.jc||b>f.Xg)&&(q=!1);if(q){var w=f.size*u/
f.zoom;var z=f.size/4;var A=4*f.size;var C=1;24<=w&&(C=2,48<=w&&(C=3));if(w>=z&&w<=A){z=Math.log(w/z)/Math.log(A/z);n.font=w+B;z=.25>=z?4*z:.75<=z?4*(1-z):1;A=1;-1!==f.jc&&0<f.wd&&(b-f.jc<f.wd?A=(b-f.jc+1)/f.wd:f.Xg-b<f.wd&&(A=(f.Xg-b+1)/f.wd));q=!0;var D=1;if(-1!==f.Df){var E=Math.sqrt((-(m+l)-f.Am)*(-(m+l)-f.Am)+(-r-f.Bm)*(-r-f.Bm));E>f.Df?q=!1:0<f.Df&&.75<E/f.Df&&(D=4*(1-E/f.Df))}if(q){n.globalAlpha=z*f.alpha*A*D;q=f.x+m+l-(e.nb>>1)+.5;D=f.y+r-(e.qb>>1)+.5;f.gm||(q+=g.Pb,D+=g.Nb);-1!==f.jc?(q+=
f.yl*(e.lb-f.jc),D+=f.zl*(e.lb-f.jc)):(q+=f.yl*e.lb,D+=f.zl*e.lb);0!==g.eb&&(z=Math.sqrt(q*q+D*D),D=180/Math.PI*Math.atan2(D,q),D+=g.eb,q=z*Math.cos(Math.PI/180*D),D=z*Math.sin(Math.PI/180*D));g.R&&(q-=D/2);z=f.message;A=z.indexOf("\\n");D=D*u+y;q=q*u+x;n.save();n.translate(q,D);D=f.angle;f.hl||(D+=g.eb);n.rotate(D/180*Math.PI);for(D=0;-1!==A;)q=z.substr(0,A),z=z.substr(A+2),A=n.measureText(q).width>>1,n.fillStyle=v,n.fillText(q,-A+C,D+C),n.fillStyle=f.vg,n.fillText(q,-A,D),D+=w,A=z.indexOf("\\n");
A=n.measureText(z).width>>1;n.fillStyle=v;n.fillText(z,-A+C,D+C);n.fillStyle=f.vg;n.fillText(z,-A,D);n.restore()}}}}n.globalAlpha=1};t.prototype.dx=function(e){this.Fb(e);this.fb(e);this.rb(e)};t.prototype.VK=function(e){var c;for(c=this.Ka.length-1;0<=c;--c){var g=this.Ka[c];g.xd>e&&g.rr&&(this.Ok=c,g.rr=!1)}};t.prototype.bK=function(){var e;for(e=0;e<this.Ka.length;e+=1)this.Ka[e].rr=!1;this.Ok=0;this.W=!1};t.prototype.Fs=function(){return new d(this)};t.prototype.JB=function(e){return-2*Math.pow(e,
3)+3*Math.pow(e,2)+0*e};t.prototype.reset=function(){this.Ka=[];this.nc=[];this.K=!1;this.Ok=0};t.prototype.JI=function(){return this.Ka[this.Ka.length-1]};t.prototype.RH=function(e){var c=this.dc(e),g=this.Ka[c];e>g.kc?e=g.xd+1E3*(e-g.kc)/(g.tc*g.step):0<c?(c=this.Ka[c-1],e=c.xd+1E3*(e-c.kc)/(g.tc*g.step)):e=1E3*e/(g.tc*g.step);return e};t.prototype.pH=function(e,c,g,n,m,r,u,x,y,v,B){var b=this.Aa;b.x=e;b.y=c;b.zoom=g;b.angle=n;b.tc=x;b.step=y;b.M=m;b.depth=r;b.vc=u;b.kc=v;this.K&&(B=this.A.xd);
b.xd=B-1E3;this.update(null,B,v);this.A.set(this.current);this.A.tf=!1;this.A.xd=B;this.K=!0;return b.xd};t.prototype.cq=function(){return this.Ka[0]};t.prototype.dJ=function(){return this.Ka.length};t.prototype.add=function(e){e.Th?this.nc[this.nc.length]=e:this.Ka[this.Ka.length]=e};t.prototype.IB=function(e){var c=!1;this.Ok>=this.Ka.length-1&&e>=this.Ka[this.Ok].xd&&(c=!0);return c};t.prototype.j=function(e){return e===(e|0)?String(e|0):String(e.toFixed(1))};t.prototype.oJ=function(e){var c="";
0<=e&&e<this.nc.length&&(e=this.nc[e],e.ug&&(c+=" X "+-e.x),e.Wf&&(c+=" Y "+-e.y),e.ue&&(c+=" ZOOM "+this.j(e.zoom)),e.Ch&&(c+=" ANGLE "+e.angle));return c.substr(1)};t.prototype.nE=function(e){var c="";0<=e&&e<this.nc.length&&(e=this.nc[e],e.Bn&&(c+=" POIRESET"),e.Hg===a.play?c+=" POIPLAY":e.Hg===a.stop&&(c+=" POISTOP"),e.Hj!==a.To&&(c+=" POITRANS "+e.Hj));return c.substr(1)};t.prototype.pJ=function(e){var c="";0<=e&&e<this.nc.length&&(e=this.nc[e],e.Ol&&(c+=" LOOP "+(-1===e.Va?"OFF":e.Va)),e.um&&
(c+=" STOP "+(-1===e.Rb?"OFF":e.Rb)),e.Ph&&(c+=" GPS "+e.tc),e.ei&&(c+=" STEP "+e.step));return c.substr(1)};t.prototype.nE=function(e){var c="";0<=e&&e<this.nc.length&&(e=this.nc[e],e.Bn&&(c+=" POIRESET"),e.Hg===a.play?c+=" POIPLAY":e.Hg===a.stop&&(c+=" POISTOP"),e.Hj!==a.To&&(c+=" POITRANS "+e.Hj));return c.substr(1)};t.prototype.sJ=function(e){var c="";0<=e&&e<this.nc.length&&(e=this.nc[e],e.Uf&&(c+=" THEME "+e.vc),e.Lh&&(c+=" DEPTH "+this.j(e.depth)),e.Vh&&(c+=" LAYERS "+e.M));return c.substr(1)};
t.prototype.rJ=function(e){var c="";0<=e&&e<this.nc.length&&(e=this.nc[e],e.Jr&&(c+=" POIT "+e.kc));return c.substr(1)};t.prototype.qJ=function(e){var c=Keywords.rd,g="";0<=e&&e<this.nc.length&&(e=this.nc[e],""!==e.Ef&&(g+=" "+c+e.Ef+c));return g.substr(1)};t.prototype.AL=function(e){var c=Keywords.rd,g="";if(0<=e&&e<this.Ka.length){var n=this.Ka[e];0<e?(e=this.Ka[e-1],g=n.kc===e.kc?"P "+this.j((n.xd-e.xd|0)/1E3):"T "+n.kc,n.tf?g+=" F":(n.x!==e.x&&(g+=" X "+-n.x),n.y!==e.y&&(g+=" Y "+-n.y),n.zoom!==
e.zoom&&(g+=" Z "+this.j(n.zoom))),n.angle!==e.angle&&(g+=" A "+n.angle),n.M!==e.M&&(g+=" L "+n.M),n.depth!==e.depth&&(g+=" D "+this.j(n.depth)),n.vc!==e.vc&&(g+=" C "+n.vc),n.tc!==e.tc&&(g+=" G "+n.tc),n.step!==e.step&&(g+=" S "+n.step),""!==n.Ef&&(g+=" "+c+n.Ef+c)):g="T "+n.kc+" X "+-n.x+" Y "+-n.y+" Z "+this.j(n.zoom)+" A "+n.angle+" L "+n.M+" D "+this.j(n.depth)+" C "+n.vc+" G "+n.tc+" S "+n.step}return g};t.prototype.update=function(e,c,g){var n=this.Ka.length,m=!1,r=this.Ok,u=r,x=!1;if(this.K)this.current.A(this.Aa,
this.A,c),c>=this.A.xd&&(this.K=!1);else{for(;r<n&&!m;){var y=this.Ka[r];y.xd>=c||!y.rr?m=!0:r+=1}m?(this.Ka[r].rr=!0,0<r?(this.Ka[r].tf&&(this.Ka[r].x=this.current.x,this.Ka[r].y=this.current.y,this.Ka[r].zoom=this.current.zoom),this.current.A(this.Ka[r-1],this.Ka[r],c)):(r=0,this.current.set(this.Ka[r]))):(r=n-1,this.current.set(this.Ka[r]),g>=this.current.kc&&this.W&&(x=!0),this.W=!0);this.Ok=r}this.Ok!==u&&this.current.wo&&e&&e.s.tG();return x};t.prototype.dc=function(e){for(var c=0,g=!1,n=this.Ka,
m=this.Ka.length;c<m&&!g;)n[c].kc>=e?g=!0:c+=1;g||(c=m-1);return c};t.prototype.Dd=function(e,c,g,n){if(0===this.Ka.length)g[g.length]=[e+" "+Keywords.ac,"no initial waypoint defined"];else switch(e){case Keywords.gf:c.ug&&(g[g.length]=[e+" "+Keywords.ac,n?"already defined":"overwrites "+-c.x]);c.x=this.Ka[0].x;c.ug=!0;break;case Keywords.hf:c.Wf&&(g[g.length]=[e+" "+Keywords.ac,n?"already defined":"overwrites "+-c.y]);c.y=this.Ka[0].y;c.Wf=!0;break;case Keywords.Od:c.ue&&(g[g.length]=[e+" "+Keywords.ac,
n?"already defined":"overwrites "+this.j(1>c.zoom?-(1/c.zoom):c.zoom)]);c.zoom=this.Ka[0].zoom;c.ue=!0;break;case Keywords.il:c.Ch&&(g[g.length]=[e+" "+Keywords.ac,n?"already defined":"overwrites "+c.angle]);c.angle=this.Ka[0].angle;c.Ch=!0;break;case Keywords.Tm:c.Lh&&(g[g.length]=[e+" "+Keywords.ac,n?"already defined":"overwrites "+this.j(c.depth)]);c.depth=this.Ka[0].depth;c.Lh=!0;break;case Keywords.mn:c.Vh&&(g[g.length]=[e+" "+Keywords.ac,n?"already defined":"overwrites "+c.M]);c.M=this.Ka[0].M;
c.Vh=!0;break;case Keywords.Qk:c.Uf&&(g[g.length]=[e+" "+Keywords.ac,n?"already defined":"overwrites "+c.vc]);c.vc=this.Ka[0].vc;c.Uf=!0;break;case Keywords.cn:c.Ph&&(g[g.length]=[e+" "+Keywords.ac,n?"already defined":"overwrites "+c.tc]);c.tc=this.Ka[0].tc;c.Ph=!0;break;case Keywords.Ln:c.ei&&(g[g.length]=[e+" "+Keywords.ac,n?"already defined":"overwrites "+c.step]);c.step=this.Ka[0].step;c.ei=!0;break;case Keywords.Yi:c.um&&(g[g.length]=[e+" "+Keywords.ac,n?"already defined":"overwrites "+(-1===
c.Rb?"OFF":c.Rb)]);c.Rb=this.Ka[0].Rb;c.um=!0;break;case Keywords.Ii:c.Ol&&(g[g.length]=[e+" "+Keywords.ac,n?"already defined":"overwrites "+(-1===c.Va?"OFF":c.Va)]);c.Va=this.Ka[0].Va;c.Ol=!0;break;default:g[g.length]=[e+" "+Keywords.ac,"illegal command before "+Keywords.ac]}};t.prototype.ZG=function(e,c){this.Dd(Keywords.gf,e,c,!1);this.Dd(Keywords.hf,e,c,!1);this.Dd(Keywords.Od,e,c,!1);this.Dd(Keywords.il,e,c,!1);this.Dd(Keywords.mn,e,c,!1);this.Dd(Keywords.Tm,e,c,!1);this.Dd(Keywords.Qk,e,c,!1);
this.Dd(Keywords.cn,e,c,!1);this.Dd(Keywords.Ln,e,c,!1);this.Dd(Keywords.Ii,e,c,!1);this.Dd(Keywords.Yi,e,c,!1)};t.prototype.yJ=function(e){var c,g=this.Ka,n=this.Ka.length;for(c=1;c<n;c+=1){var m=g[c-1];var r=g[c];r.ug||(r.x=m.x);r.Wf||(r.y=m.y);r.Wk||(r.xh=m.xh);r.Xk||(r.yh=m.yh);r.ds||(r.Ah=m.Ah);r.Ch||(r.angle=m.angle);r.ue||(r.zoom=m.zoom);r.Vh||(r.M=m.M);r.Lh||(r.depth=m.depth);r.Uf||(r.vc=m.vc);r.Ph||(r.tc=m.tc);r.ei||(r.step=m.step);r.Jr?r.kc<=m.kc&&(e[e.length]=[Keywords.Ir+" "+r.kc,"target generation must be later than previous ("+
m.kc+")"]):r.kc=m.kc;r.xd=r.dF?1E3*r.xd+m.xd:m.xd+1E3*(r.kc-m.kc)/(r.tc*r.step);r.Uu||(r.qm=m.qm);r.nk||(r.Zc=m.Zc)}};window.Waypoint=d;window.WaypointManager=t;window.WaypointConstants=a}(),function(){function d(k,p){var h=this,t=k.getElementsByTagName("div")[0];this.Ih=-1;this.ef=1;this.KF=k;this.view=p;this.s=p.s;this.top=this.left=0;""!==k.style.left&&(this.left=parseInt(k.style.left,10));""!==k.style.top&&(this.top=parseInt(k.style.top,10));this.bd=this.Um=!1;this.yk=this.xk=-1;this.Fz=0;registerEvent(t,
"mousedown",function(a){h.A(h,a)},!1);registerEvent(document,"mousemove",function(a){h.K(h,a)},!1);registerEvent(document,"mouseup",function(a){h.W(h,a)},!1);registerEvent(t,"touchstart",function(a){h.j(h,a)},!1);registerEvent(t,"touchmove",function(a){h.j(h,a)},!1);registerEvent(t,"touchend",function(a){h.j(h,a)},!1);registerEvent(window,"resize",function(){h.JE(h)},!1)}d.prototype.mo=function(k,p){for(var h=null,t=0;null===h&&t<k.length;)k[t].identifier===p?h=k[t]:t+=1;return h};d.prototype.j=function(k,
p){var h=p.changedTouches;switch(p.type){case "touchstart":-1===k.Ih&&(h=h[0],k.Ih=h.identifier,k.gr(k,h.pageX,h.pageY));break;case "touchend":h=k.mo(h,k.Ih);null!==h&&(k.ir(k,h.pageX,h.pageY),k.Ih=-1);break;case "touchmove":h=k.mo(h,k.Ih),null!==h&&k.hr(k,h.pageX,h.pageY)}p.stopPropagation&&p.stopPropagation();p.cancelable&&p.preventDefault()};d.prototype.JE=function(k){var p=this.view;p.C=p.Wq;p.B=p.Vq;p.RE();p.Yp.style.transform="scale("+p.ef+","+p.ef+")";p.Yp.style.transformOrigin="top left";
p.ku&&(this.s.Qg(!0),p.resize());k.WE(k.left+k.Fz,k.top,k.KF);k.Fz=0};d.prototype.jL=function(k,p){this.WE(this.left+k,this.top+p,this.KF)};d.prototype.WE=function(k,p,h){var t=window.innerWidth-h.clientWidth*this.ef,a=window.innerHeight-h.clientHeight*this.ef;t-=(window.innerWidth-document.body.clientWidth)*this.ef;k>t&&(k=t);p>a&&(p=a);0>k&&(k=0);0>p&&(p=0);h.style.left=k+"px";h.style.top=p+"px";h.style.position="fixed";this.left=k;this.top=p};d.prototype.gr=function(k,p,h){k.tp(k,p,h);k.bd=!0;
k.s.un=!0};d.prototype.ir=function(k,p,h){k.tp(k,p,h);k.bd=!1;k.s.un=!1};d.prototype.hr=function(k,p,h){k.bd&&k.jL(p-k.xk,h-k.yk);k.xk=p;k.yk=h};d.prototype.A=function(k,p){if(p.pageX||p.pageY){var h=p.pageX;var t=p.pageY}else h=p.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t=p.clientY+document.body.scrollTop+document.documentElement.scrollTop;k.gr(k,h,t);p.stopPropagation&&p.stopPropagation();p.preventDefault()};d.prototype.W=function(k,p){if(k.Um&&k.bd){if(p.pageX||p.pageY){var h=
p.pageX;var t=p.pageY}else h=p.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t=p.clientY+document.body.scrollTop+document.documentElement.scrollTop;k.ir(k,h,t);p.stopPropagation&&p.stopPropagation();p.preventDefault()}};d.prototype.K=function(k,p){if(k.Um&&k.bd){if(p.pageX||p.pageY){var h=p.pageX;var t=p.pageY}else h=p.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t=p.clientY+document.body.scrollTop+document.documentElement.scrollTop;k.hr(k,h,t);p.stopPropagation&&
p.stopPropagation();p.preventDefault()}};d.prototype.tp=function(k,p,h){k.xk=p|0;k.yk=h|0};window.PopupWindow=d}(),function(){function d(){this.key=new Uint8Array(256);this.A=this.j=0}d.prototype.Ye=function(k){var p,h,t=this.key;for(p=0;256>p;p+=1)t[p]=p;for(p=h=0;256>p;p+=1){h=h+t[p]+k.charCodeAt(p%k.length)&255;var a=t[p];t[p]=t[h];t[h]=a}this.A=this.j=0};d.prototype.random=function(){var k,p=0,h=1,t=this.key,a=this.j,e=this.A;for(k=0;8>k;k+=1){a=a+1&255;e=e+t[a]&255;var c=t[a];t[a]=t[e];t[e]=
c;p+=t[t[a]+t[e]&255]*h;h*=256}this.j=a;this.A=e;return p/1.8446744073709552E19};window.Random=d}(),function(){function d(k,p){this.$t=k;this.x=p.I(Float32,0,"Stars.x");this.y=p.I(Float32,0,"Stars.y");this.j=p.I(Float32,0,"Stars.z");this.blue=this.green=this.red=255;this.Qb=new Random;this.Qb.Ye(Date.now().toString());this.sin=p.I(Float32,0,"Stars.sin");this.cos=p.I(Float32,0,"Stars.cos");this.A=Math.PI/180;this.W=180/Math.PI;this.m=p;this.K=!1}d.prototype.Ye=function(k,p,h){var t,a=this.$t,e=k*k+
p*p;this.x=this.m.I(Float32,a,"Stars.x");this.y=this.m.I(Float32,a,"Stars.y");this.j=this.m.I(Float32,a,"Stars.z");for(t=0;t<a;t+=1){var c=t/a*(t/a)*(t/a)*(t/a)*h+1;do{var g=3*(this.Qb.random()*k-k/2);var n=3*(this.Qb.random()*p-p/2)}while(g*g+n*n>e);this.x[t]=g;this.y[t]=n;this.j[t]=c}this.sin=this.m.I(Float32,2880,"Stars.sin");this.cos=this.m.I(Float32,2880,"Stars.cos");for(t=0;2880>t;)this.sin[t]=Math.sin(t/8*this.A),this.cos[t]=Math.cos(t/8*this.A),t+=1};d.prototype.gH=function(k,p,h,t,a,e,c,
g){var n;this.K||(this.Ye(8192,8192,1024),this.K=!0);if(littleEndian){var m=g>>16&255;var r=g>>8&255;var u=g&255}else u=g>>24&255,r=g>>16&255,m=g>>8&255;for(n=0;n<this.$t;n+=1){var x=this.x[n]+k;var y=this.y[n]+p;if(0!==t){var v=Math.sqrt(x*x+y*y);y=Math.atan2(y,x)*this.W;y+=t;0>y?y+=360:360<=y&&(y-=360);y*=8;y|=0;x=v*this.cos[y];y=v*this.sin[y]}v=this.j[n]/h*2;x=a/2+x/v|0;y=e/2+y/v|0;if(0<x&&x<a-1&&0<y&&y<e-1){x+=y*a;v=1536/v|0;255<v&&(v=255);v/=255;if(c[x]===g){y=u+(this.red-u)*v;var B=r+(this.green-
r)*v;var b=m+(this.blue-m)*v;y=littleEndian?-16777216|b<<16|B<<8|y:y<<24|b<<16|B<<8|255;c[x]=y}v/=2;y=u+(this.red-u)*v;B=r+(this.green-r)*v;b=m+(this.blue-m)*v;y=littleEndian?-16777216|b<<16|B<<8|y:y<<24|b<<16|B<<8|255;--x;c[x]===g&&(c[x]=y);x+=2;c[x]===g&&(c[x]=y);--x;x-=a;c[x]===g&&(c[x]=y);x+=a+a;c[x]===g&&(c[x]=y)}}};window.Stars=d}(),function(){window.ScriptParser={wB:"",uv:0,kn:function(d){switch(d){case Keywords.xy:case Keywords.Gz:case Keywords.oA:case Keywords.mx:case Keywords.Zz:case Keywords.aA:case Keywords.nx:case Keywords.$z:case Keywords.wy:case Keywords.gh:case Keywords.wi:case Keywords.yx:case Keywords.cA:case Keywords.LB:case Keywords.wz:case Keywords.yz:case Keywords.rz:case Keywords.qz:case Keywords.uz:case Keywords.xz:case Keywords.ru:case Keywords.qu:case Keywords.wu:case Keywords.$w:case Keywords.iu:case Keywords.qp:case Keywords.iz:case Keywords.ju:case Keywords.gz:case Keywords.jz:case Keywords.kz:case Keywords.hz:case Keywords.lz:case Keywords.sE:case Keywords.zp:case Keywords.iw:case Keywords.kw:case Keywords.lw:case Keywords.jw:case Keywords.mw:case Keywords.nw:case Keywords.Eq:case Keywords.Sx:case Keywords.Ux:case Keywords.Vx:case Keywords.Tx:case Keywords.Wx:case Keywords.Xx:case Keywords.sy:case Keywords.uy:case Keywords.ty:case Keywords.Cx:case Keywords.Ur:case Keywords.wx:case Keywords.kr:case Keywords.Vo:case Keywords.Uo:case Keywords.hu:case Keywords.lr:case Keywords.ac:case Keywords.Zf:case Keywords.Mb:case Keywords.gA:case Keywords.Tn:case Keywords.Tr:case Keywords.it:case Keywords.Zt:case Keywords.tx:case Keywords.ux:case Keywords.Gr:case Keywords.fy:case Keywords.ss:case Keywords.Dx:case Keywords.ut:case Keywords.Ir:case Keywords.Ln:case Keywords.bz:case Keywords.hq:case Keywords.gq:case Keywords.yE:case Keywords.kA:case Keywords.Da:case Keywords.Ew:case Keywords.gf:case Keywords.hf:case Keywords.mv:case Keywords.ov:case Keywords.Od:case Keywords.gw:case Keywords.RC:case Keywords.Ii:case Keywords.cs:case Keywords.ry:case Keywords.qy:case Keywords.AA:case Keywords.xA:case Keywords.vA:case Keywords.zA:case Keywords.us:case Keywords.En:case Keywords.gp:case Keywords.il:case Keywords.Qk:case Keywords.cn:case Keywords.Yi:case Keywords.mn:case Keywords.Tm:case Keywords.up:case Keywords.qo:case Keywords.nr:case Keywords.mr:case Keywords.Rx:case Keywords.$o:case Keywords.Cn:case Keywords.Po:case Keywords.$p:case Keywords.ar:case Keywords.Cy:case Keywords.Ty:case Keywords.Zy:case Keywords.Ky:case Keywords.Fy:case Keywords.Vy:case Keywords.Gy:case Keywords.Yy:case Keywords.Xy:case Keywords.Sy:case Keywords.Oy:case Keywords.Uy:case Keywords.Qy:case Keywords.Hy:case Keywords.Py:case Keywords.Iy:case Keywords.Ny:case Keywords.Ry:case Keywords.My:d=
!0;break;default:d=!1}return d},qn:function(d,k,p,h,t){var a=d.Ba();""===a||this.kn(a)?k[k.length]=[p,h+" missing"]:(k[k.length]=[p+" "+a,h+" must be "+t],d.N())},Vb:function(d,k,p,h,t){var a=!0,e=0,c=0,g=0,n=k.N();if(k.F()){e=k.G()|0;if(0>e||255<e)p[p.length]=[t+" "+n+" "+e,"RED out of range"];if(k.F()){c=k.G();if(0>c||255<c)p[p.length]=[t+" "+n+" "+e+" "+c,"GREEN out of range"];k.F()?(g=k.G(),0>g||255<g?p[p.length]=[t+" "+n+" "+e+" "+c+" "+g,"BLUE out of range"]:a=!1):this.qn(k,p,t+" "+n+" "+e+
" "+c,"BLUE","numeric")}else this.qn(k,p,t+" "+n+" "+e,"GREEN","numeric")}else{var m=k.Ba();var r=ColourManager.ze[m.toLowerCase()];void 0!==r?(k.N(),e=r[1],c=r[2],g=r[3],a=!1):""===m||this.kn(m)?p[p.length]=[t+" "+n,"name missing"]:(p[p.length]=[t+" "+n+" "+m,"name not known"],k.N())}if(!a)switch(-1!==d.la[h]&&h!==ViewConstants.Op&&h!==ViewConstants.Kp&&h!==ViewConstants.Pp&&(p[p.length]=[t+" "+n+" "+e+" "+c+" "+g,"overwrites "+(d.la[h]>>16)+" "+(d.la[h]>>8&255)+" "+(d.la[h]&255)]),d.la[h]=e<<16|
c<<8|g,h){case ViewConstants.Mp:d.jC=d.la[h];d.Jh=!0;break;case ViewConstants.Np:d.kC=d.la[h];d.Jh=!0;break;case ViewConstants.Vs:d.Nk.red=e;d.Nk.green=c;d.Nk.blue=g;break;case ViewConstants.Ws:d.bh=[e,c,g];break;case ViewConstants.Ps:d.fk=[e,c,g];d.Ci="rgb("+e+","+c+","+g+")";break;case ViewConstants.Op:d.Lw="rgb("+e+","+c+","+g+")";break;case ViewConstants.Kp:d.Kw="rgb("+e+","+c+","+g+")";break;case ViewConstants.Pp:d.Mw="rgb("+e+","+c+","+g+")";break;case ViewConstants.Ns:d.tl=[e,c,g];d.a.ll=d.a.jg?
-16777216|g<<16|c<<8|e:e<<24|c<<16|g<<8|255;break;case ViewConstants.Ow:d.ul=[e,c,g];d.a.ml=d.a.jg?-16777216|g<<16|c<<8|e:e<<24|c<<16|g<<8|255;break;case ViewConstants.Rw:d.wl=[e,c,g];d.a.Tz="rgb("+e+","+c+","+g+")";break;case ViewConstants.Qw:d.vl=[e,c,g];d.a.By="rgb("+e+","+c+","+g+")";break;case ViewConstants.Nw:d.sl=[e,c,g];d.a.ls="rgb("+e+","+c+","+g+")";break;case ViewConstants.Ss:d.a.Fi=[e,c,g];break;case ViewConstants.Rs:d.a.Ei=[e,c,g];break;case ViewConstants.Qs:d.a.Di=[e,c,g];break;case ViewConstants.Ts:d.a.Gi=
[e,c,g];break;case ViewConstants.Us:d.a.Hi=[e,c,g];break;case ViewConstants.Sp:case ViewConstants.Qp:case ViewConstants.Tp:case ViewConstants.Vp:case ViewConstants.Up:case ViewConstants.Rp:break;default:d.Jh=!0}},OK:function(d){var k=d.a.bb[d.a.af],p=d.la;k.dn=d.a.vf;-1===p[ViewConstants.zi]&&(d=p[ViewConstants.Kh],-1!==d?p[ViewConstants.zi]=16777215-d:(d=p[ViewConstants.xg],p[ViewConstants.zi]=-1!==d?16777215-d:16777215));-1===p[ViewConstants.xg]&&-1===p[ViewConstants.Kh]&&(p[ViewConstants.xg]=16777215-
p[ViewConstants.zi]);d=p[ViewConstants.xg];-1===d&&(d=p[ViewConstants.Kh]);k.Xa.red=d>>16;k.Xa.green=d>>8&255;k.Xa.blue=d&255;d=p[ViewConstants.zi];k.kb.T.red=d>>16;k.kb.T.green=d>>8&255;k.kb.T.blue=d&255;d=p[ViewConstants.Ms];-1===d&&(d=p[ViewConstants.zi]);k.kb.U.red=d>>16;k.kb.U.green=d>>8&255;k.kb.U.blue=d&255;d=p[ViewConstants.Kh];-1===d&&(d=p[ViewConstants.xg]);k.Za.U.red=d>>16;k.Za.U.green=d>>8&255;k.Za.U.blue=d&255;d=p[ViewConstants.Lp];-1===d&&(d=p[ViewConstants.Kh],-1===d&&(d=p[ViewConstants.xg]));
k.Za.T.red=d>>16;k.Za.T.green=d>>8&255;k.Za.T.blue=d&255;d=p[ViewConstants.xg];-1===d&&(d=p[ViewConstants.Kh]);k.hi.red=d>>16;k.hi.green=d>>8&255;k.hi.blue=d&255;d=p[ViewConstants.zi];k.Yf.red=d>>16;k.Yf.green=d>>8&255;k.Yf.blue=d&255;d=p[ViewConstants.Kh];-1===d&&(d=p[ViewConstants.xg]);k.xc.U.red=d>>16;k.xc.U.green=d>>8&255;k.xc.U.blue=d&255;d=p[ViewConstants.Lp];-1===d&&(d=p[ViewConstants.Kh],-1===d&&(d=p[ViewConstants.xg]));k.xc.T.red=d>>16;k.xc.T.green=d>>8&255;k.xc.T.blue=d&255;d=p[ViewConstants.Os];
-1===d?k.Al=!0:(k.Al=!1,k.Ob.U.red=d>>16,k.Ob.U.green=d>>8&255,k.Ob.U.blue=d&255);d=p[ViewConstants.Pw];-1===d&&(d=p[ViewConstants.Os],-1===d&&(d=p[ViewConstants.xg]));k.Ob.T.red=d>>16;k.Ob.T.green=d>>8&255;k.Ob.T.blue=d&255;k.AK(p[ViewConstants.Mp],p[ViewConstants.Np])},Qu:function(d,k){var p=d;d.length>k&&(p=d.substr(0,k-1)+"...");return p},sF:function(d,k,p,h){var t=d.indexOf("\\n");-1!==t&&(p?k[k.length]=[Keywords.qp+" "+Keywords.rd+this.Qu(d,23)+Keywords.rd,"only one line allowed"]:(t=d.substr(t+
2).indexOf("\\n"),-1===t||h||(k[k.length]=[Keywords.rd+this.Qu(d,23),"only two lines allowed"])))},pz:function(d,k,p,h){var t=Keywords.Qk+" ",a="overwrites ";t=p>=d.a.af?t+Keywords.pp:t+p;a=h>=d.a.af?a+Keywords.pp:a+h;k[k.length]=[t,a]},fo:function(d,k,p,h,t,a,e){var c=0,g=0,n=0;if(k.F())if(c=k.G()|0,0>c||255<c)p[p.length]=[t+" "+e+" "+c,"RED out of range"],a=!0;else if(k.F())if(g=k.G()|0,0>g||255<g)p[p.length]=[t+" "+e+" "+c+" "+g,"GREEN out of range"],a=!0;else if(k.F()){if(n=k.G()|0,0>n||255<n)p[p.length]=
[t+" "+e+" "+c+" "+g+" "+n,"BLUE out of range"],a=!0}else this.qn(k,p,t+" "+e+" "+c+" "+g,"BLUE","numeric"),a=!0;else this.qn(k,p,t+" "+e+" "+c,"GREEN","numeric"),a=!0;else{var m=k.Ba();var r=ColourManager.ze[m.toLowerCase()];void 0!==r?(k.N(),c=r[1],g=r[2],n=r[3]):(a=!0,""===m||this.kn(m)?p[p.length]=[t+" "+e,"name missing"]:(p[p.length]=[t+" "+e+" "+m,"name not known"],k.N()))}a||(-1!==d.ec[h]&&(p[p.length]=[t+" "+e+" "+c+" "+g+" "+n,"overwrites "+(d.ec[h]>>16)+" "+(d.ec[h]>>8&255)+" "+(d.ec[h]&
255)]),d.ec[h]=c<<16|g<<8|n)},Sj:function(d,k){var p=Keywords.Vf+String(k);d=d.s.gI(k);-1!==d&&(p=d.toFixed(1));return p},op:function(d,k){var p="",h=k.indexOf(Keywords.Vf);if(-1===h)p=k;else{for(;-1!==h;)if(p+=k.substr(0,h),h+1<k.length){var t=k[h+1];k=k.substr(h+2);switch(t){case "B":p+=ViewConstants.hv;break;case "N":p+=d.Qo;break;case "R":p+=d.Cb;break;case "A":p=""===d.pd?p+d.Cb:p+d.pd;break;case "O":p+=d.cr;break;case "T":p+=ViewConstants.VH;break;case "0":p+=this.Sj(d,0);break;case "1":p+=
this.Sj(d,1);break;case "2":p+=this.Sj(d,2);break;case "3":p+=this.Sj(d,3);break;case "4":p+=this.Sj(d,4);break;case "5":p+=this.Sj(d,5);break;case "6":p+=this.Sj(d,6);break;case "7":p+=this.Sj(d,7);break;case "8":p+=this.Sj(d,8);break;case "9":p+=this.Sj(d,9);break;case Keywords.Vf:p+=Keywords.Vf;break;default:p+=Keywords.Vf+t}h=k.indexOf(Keywords.Vf)}else k=k.substr(h+1),h=-1;p+=k}return p},Xh:function(d,k,p,h){h[h.length]=d?k===Keywords.gh?[k+" "+p,"already defined"]:[k+" "+p,"overwrites "+Keywords.gh]:
k===Keywords.gh?[k+" "+p,"overwrites "+Keywords.wi]:[k+" "+p,"already defined"]},gi:function(d,k){var p="";d===(d|0)?p=String(d):p=d.toFixed(k);return p},tL:function(d){var k=d.substr(0,1);d=d.substr(1);var p=!1;if("B"===k||"S"===k){this.wB=k;k=0;for(p=!0;p&&k<d.length;)"0"<=d[k]&&"9">=d[k]?k+=1:p=!1;p&&(this.uv=Number(d))}return p},sK:function(d,k){if("B"===this.wB){var p=d.ph.length;d.ph[p]=this.uv;d.ph[p+1]=k}else p=d.Pi.length,d.Pi[p]=this.uv,d.Pi[p+1]=k},hJ:function(d,k,p){var h=new Script(k,
!1),t=!1,a=!1,e="",c="",g="",n="",m=!1,r="",u=0,x=!1,y=!1,v=d.fd,B=null,b=0,l=0,f="",q=d.S.Fs(),w=null,z=!1,A=!1,C=null,D=1,E=ViewConstants.GB,F=-1,G=-1,H=0,I=0,O=!1,K=!1,M=0,J=0,X=-1,R=0,U=0,Y=null,da=1,V=ViewConstants.GB,ka=ViewConstants.EG,ma=-1,ea=-1,aa=0,ca=0,ba=!1,na=!1,ja=0,T=0,S=-1,W=0,la=0,fa=null,Z=1,L=ViewConstants.HI,Q=-1,ia=-1,P=0,N=0,ha=!1,oa=!1,qa=0,ra=0,ta=-1,pa=0,sa=0,xa=!1,Ca=!1,za="numeric",va=-1,Da=-1,Ea=-1,Ba=-1,ya=-1,Ha=-1,Ia=0,Ka=0,Fa=0,Ja=0,ua=0,Aa=0,wa=0,Na=0,Oa=0,Ma=[],Ga=
0,fb=new Pattern("decode",d.P),Ta=!1,Ua=!1,Va=!1,Wa=!1,Xa=!1,Ya=!1,Pa=!1,Za=!1,$a=!1,Qa=!1,Ra=!1,ab=!1,bb=!1,cb=!1,db=!1;d.sn=0;d.zy=0;d.Ls=!1;d.Jh=!1;d.la[ViewConstants.xg]=-1;d.la[ViewConstants.zi]=-1;d.la[ViewConstants.Ms]=-1;d.la[ViewConstants.Kh]=-1;d.la[ViewConstants.Lp]=-1;d.la[ViewConstants.Mp]=-1;d.la[ViewConstants.Np]=-1;d.la[ViewConstants.Vs]=-1;d.la[ViewConstants.Ws]=-1;d.la[ViewConstants.Ns]=-1;d.la[ViewConstants.Ss]=-1;d.la[ViewConstants.Rs]=-1;d.la[ViewConstants.Qs]=-1;d.la[ViewConstants.Ts]=
-1;d.la[ViewConstants.Us]=-1;d.la[ViewConstants.Ps]=-1;d.la[ViewConstants.Op]=-1;d.la[ViewConstants.Sp]=-1;d.la[ViewConstants.Qp]=-1;d.la[ViewConstants.Tp]=-1;d.la[ViewConstants.Vp]=-1;d.la[ViewConstants.Up]=-1;d.la[ViewConstants.Rp]=-1;d.la[ViewConstants.Kp]=-1;d.la[ViewConstants.Pp]=-1;d.ec=null;if(-1!==h.sC()){d.ec=d.a.m.I(Int32,256,"View.customColours");d.ec.fill(-1);for(e=h.N();""!==e;){za="numeric";if(m)e[e.length-1]===Keywords.rd?(r=r+" "+e.substr(0,e.length-1),m=!1,this.sF(r,v,a,xa),a?(""!==
d.ji&&(v[v.length]=[Keywords.qp+" "+Keywords.rd+this.Qu(r,20)+Keywords.rd,"overwrites "+Keywords.rd+d.ji+Keywords.rd]),d.ji=r,a=!1):xa?(fa.message=this.op(d,r),xa=!1,d.S.xB(fa)):(q.Ef=this.op(d,r),q.pA=!0)):r=r+" "+e;else if(e[0]===Keywords.rd)r=e.substr(1),m=!0,e[e.length-1]===Keywords.rd&&(m=!1,r=r.substr(0,r.length-1),this.sF(r,v,a,xa),a?(""!==d.ji&&(v[v.length]=[Keywords.qp+" "+Keywords.rd+this.Qu(r,20)+Keywords.rd,"overwrites "+Keywords.rd+d.ji+Keywords.rd]),d.ji=r,a=!1):xa?(fa.message=this.op(d,
r),xa=!1,d.S.xB(fa)):(q.Ef=this.op(d,r),q.pA=!0));else{x=y=!1;d.sn+=1;switch(e){case Keywords.qp:x=a=!0;break;case Keywords.jz:h.F()&&(y=!0,u=h.G(),u>=ViewConstants.Vt&&u<=ViewConstants.Pt&&(E=u,x=!0));break;case Keywords.sE:h.F()?(y=!0,u=h.G(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(ua=u,y=!1,h.F()&&(y=!0,u=h.G(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(R=ua,U=u,x=!0)))):(c=h.Ba(),c===Keywords.je&&(c=h.N(),U=R=0,x=!0));break;case Keywords.lz:h.F()?(y=!0,u=h.G(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(y=
!1,ua=u,h.F()&&(y=!0,u=h.G(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(y=!1,Aa=u,h.F()&&(y=!0,u=h.G(),0<=u&&u<=d.a.ga/2&&(M=ua,J=Aa,X=u,x=!0)))))):(c=h.Ba(),c===Keywords.Mb&&(c=h.N(),J=M=0,X=-1,x=!0));break;case Keywords.hz:h.F()&&(y=!0,u=h.G(),0<=u&&360>u&&(I=u,O=!1,c=h.Ba(),c===Keywords.je&&(c=h.N(),O=!0),x=!0));break;case Keywords.kz:h.F()?(y=!0,u=h.G()|0,0<=u&&(ua=u,h.F()?(u=h.G()|0,u>=ua?(Aa=u,h.F()?(u=h.G()|0,0<=u&&u<=Aa-ua>>1?(F=ua,G=Aa,H=u,x=!0):(x=!0,v[v.length]=[e+" "+ua+" "+Aa+" "+u,"third argument must from 0 to "+
(Aa-ua>>1)])):y=!1):(x=!0,v[v.length]=[e+" "+ua+" "+u,"second argument must be >= first"])):y=!1)):(c=h.Ba(),c===Keywords.Zf?(c=h.N(),G=F=-1,H=0,x=!0):y=!1);break;case Keywords.gz:h.F()&&(y=!0,u=h.G(),0<=u&&1>=u&&(D=u,x=!0));break;case Keywords.iz:case Keywords.ju:Ma=[];x=!0;for(wa=-1E3;x&&h.F();)ua=h.G(),h.F()?(Aa=h.G(),ua>=-d.a.ga&&ua<2*d.a.ga&&Aa>=-d.a.ga&&Aa<2*d.a.ga?(Ma[Ma.length]=ua,Ma[Ma.length]=Aa):(v[v.length]=[e+" "+ua+" "+Aa,"coordinate out of range"],wa=0,x=!1)):ua>=ViewConstants.bc&&
ua<=ViewConstants.Hc?wa=ua:ua>=ViewConstants.Nq&&ua<=ViewConstants.Mq?wa=-(1/ua):(v[v.length]=[e+" "+ua,"zoom out of range"],wa=0,x=!1);-1E3===wa&&(v[v.length]=[e,"missing zoom value"]);4>Ma.length&&(v[v.length]=[e,"requires at least 2 coordinate pairs"],x=!1);x?(c=h.Ba(),K=!1,c===Keywords.je&&(c=h.N(),K=!0,c=h.Ba()),C=d.S.nH(Ma,e===Keywords.ju,wa,d.Mw,D,E,F,G,H,I,O,K,M,J,X,R,U),d.S.oG(C)):x=!0;break;case Keywords.kw:h.F()&&(y=!0,u=h.G(),u>=ViewConstants.Vt&&u<=ViewConstants.Pt&&(ua=u,y=!1,h.F()&&
(y=!0,u=h.G(),0<=u&&1>=u&&(ka=u,V=ua,x=!0))));break;case Keywords.nw:h.F()?(y=!0,u=h.G(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(ua=u,y=!1,h.F()&&(y=!0,u=h.G(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(W=ua,la=u,x=!0)))):(c=h.Ba(),c===Keywords.je&&(c=h.N(),la=W=0,x=!0));break;case Keywords.mw:h.F()?(y=!0,u=h.G(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(y=!1,ua=u,h.F()&&(y=!0,u=h.G(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(y=!1,Aa=u,h.F()&&(y=!0,u=h.G(),0<=u&&u<=d.a.ga/2&&(ja=ua,T=Aa,S=u,x=!0)))))):(c=h.Ba(),c===Keywords.Mb&&
(c=h.N(),T=ja=0,S=-1,x=!0));break;case Keywords.jw:h.F()&&(y=!0,u=h.G(),0<=u&&360>u&&(ca=u,ba=!1,c=h.Ba(),c===Keywords.je&&(c=h.N(),ba=!0),x=!0));break;case Keywords.lw:h.F()?(y=!0,u=h.G()|0,0<=u&&(ua=u,h.F()?(u=h.G()|0,u>=ua?(Aa=u,h.F()?(u=h.G()|0,0<=u&&u<=Aa-ua>>1?(ma=ua,ea=Aa,aa=u,x=!0):(x=!0,v[v.length]=[e+" "+ua+" "+Aa+" "+u,"third argument must from 0 to "+(Aa-ua>>1)])):y=!1):(x=!0,v[v.length]=[e+" "+ua+" "+u,"second argument must be >= first"])):y=!1)):(c=h.Ba(),c===Keywords.Zf?(c=h.N(),ea=
ma=-1,aa=0,x=!0):y=!1);break;case Keywords.iw:h.F()&&(y=!0,u=h.G(),0<=u&&1>=u&&(da=u,x=!0));break;case Keywords.zp:h.F()&&(y=!0,u=h.G(),u>=-d.a.ga&&u<2*d.a.ga&&(y=!1,ua=u,h.F()&&(y=!0,u=h.G(),u>=-d.a.ga&&u<2*d.a.ga&&(y=!1,Aa=u,h.F()&&(y=!0,u=h.G(),u>=-d.a.ga&&u<2*d.a.ga&&(y=!1,Na=u,h.F()&&(y=!0,u=h.G(),u>=-d.a.ga&&u<2*d.a.ga&&(y=!1,Oa=u,h.F()&&(y=!0,u=h.G(),wa=-1E3,u>=ViewConstants.bc&&u<=ViewConstants.Hc?wa=u:u>=ViewConstants.Nq&&u<=ViewConstants.Mq&&(wa=-(1/u)),-1E3!==wa&&(c=h.Ba(),na=!1,c===Keywords.je&&
(c=h.N(),na=!0,c=h.Ba()),Y=d.S.hH(ua,Aa,Na,Oa,wa,d.Kw,da,V,ka,ma,ea,aa,ca,ba,na,ja,T,S,W,la),d.S.lG(Y),x=!0))))))))));break;case Keywords.Ux:h.F()&&(y=!0,u=h.G(),u>=ViewConstants.wD&&u<=ViewConstants.nD&&(L=u,x=!0));break;case Keywords.Xx:h.F()?(y=!0,u=h.G(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(ua=u,y=!1,h.F()&&(y=!0,u=h.G(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(pa=ua,sa=u,x=!0)))):(c=h.Ba(),c===Keywords.je&&(c=h.N(),sa=pa=0,x=!0));break;case Keywords.Wx:h.F()?(y=!0,u=h.G(),u>=-d.a.ga/
2&&u<=d.a.ga/2&&(y=!1,ua=u,h.F()&&(y=!0,u=h.G(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(y=!1,Aa=u,h.F()&&(y=!0,u=h.G(),0<=u&&u<=d.a.ga/2&&(qa=ua,ra=Aa,ta=u,x=!0)))))):(c=h.Ba(),c===Keywords.Mb&&(c=h.N(),ra=qa=0,ta=-1,x=!0));break;case Keywords.Tx:h.F()&&(y=!0,u=h.G(),0<=u&&360>u&&(N=u,ha=!1,c=h.Ba(),c===Keywords.je&&(c=h.N(),ha=!0),x=!0));break;case Keywords.Vx:h.F()?(y=!0,u=h.G()|0,0<=u&&(ua=u,h.F()?(u=h.G()|0,u>=ua?(Aa=u,h.F()?(u=h.G()|0,0<=u&&u<=Aa-ua>>1?(Q=ua,ia=Aa,P=u,x=!0):(x=!0,v[v.length]=[e+" "+ua+" "+
Aa+" "+u,"third argument must from 0 to "+(Aa-ua>>1)])):y=!1):(x=!0,v[v.length]=[e+" "+ua+" "+u,"second argument must be >= first"])):y=!1)):(c=h.Ba(),c===Keywords.Zf?(c=h.N(),ia=Q=-1,P=0,x=!0):y=!1);break;case Keywords.Sx:h.F()&&(y=!0,u=h.G(),0<=u&&1>=u&&(Z=u,x=!0));break;case Keywords.Eq:h.F()&&(y=!0,u=h.G(),u>=-d.a.ga&&u<2*d.a.ga&&(y=!1,ua=u,h.F()&&(y=!0,u=h.G(),u>=-d.a.ga&&u<2*d.a.ga&&(y=!1,Aa=u,h.F()&&(y=!0,u=h.G(),wa=-1E3,u>=ViewConstants.bc&&u<=ViewConstants.Hc?wa=u:u>=ViewConstants.Nq&&u<=
ViewConstants.Mq&&(wa=-(1/u)),-1E3!==wa&&(c=h.Ba(),oa=!1,c===Keywords.je&&(c=h.N(),oa=!0,c=h.Ba()),c[0]===Keywords.rd?(fa=d.S.kH(ua,Aa,wa,d.Lw,Z,L,Q,ia,P,N,ha,oa,qa,ra,ta,pa,sa),x=xa=!0):y=!1))))));break;case Keywords.yE:x=d.a.Ng=!0;break;case Keywords.Rx:x=d.a.xi=!0;break;case Keywords.$o:x=!1;c=h.N();if(""!==c){for(d.Zo=[];h.F();)u=h.G(),d.Zo[d.Zo.length]=u;d.nG(v,c,d.Zo);d.Zo=[];x=!0}break;case Keywords.Cn:x=!1;c=h.N();if(""!==c&&(g=h.Ba(),""!==g)){h.N();for(n=h.Ba();""!==n&&!this.kn(n)&&!h.F()&&
-1!==d.P.ho(fb,n,!1,d.a.m);)h.N(),g+=n,n=h.Ba();Aa=ua=0;h.F()&&(y=!0,ua=h.G());h.F()&&(y=!0,Aa=h.G());wa=-1;n=h.Ba();if(""!==n){switch(n){case Keywords.PA:wa=ViewConstants.Vr;break;case Keywords.MA:wa=ViewConstants.FA;break;case Keywords.NA:wa=ViewConstants.GA;break;case Keywords.OA:wa=ViewConstants.HA;break;case Keywords.SA:wa=ViewConstants.KA;break;case Keywords.TA:wa=ViewConstants.LA;break;case Keywords.RA:wa=ViewConstants.JA;break;case Keywords.QA:wa=ViewConstants.IA}-1!==wa&&h.N()}-1===wa&&(wa=
ViewConstants.Vr);d.mG(v,c,g,ua,Aa,wa);x=!0}break;case Keywords.Po:g=h.Ba();if(""!==g){h.N();for(n=h.Ba();""!==n&&!this.kn(n)&&!h.F()&&-1!==d.P.ho(fb,n,!1,d.a.m);)h.N(),g+=n,n=h.Ba();Aa=ua=0;h.F()&&(y=!0,ua=h.G());h.F()&&(y=!0,Aa=h.G());wa=-1;n=h.Ba();if(""!==n){switch(n){case Keywords.PA:wa=ViewConstants.Vr;break;case Keywords.MA:wa=ViewConstants.FA;break;case Keywords.NA:wa=ViewConstants.GA;break;case Keywords.OA:wa=ViewConstants.HA;break;case Keywords.SA:wa=ViewConstants.KA;break;case Keywords.TA:wa=
ViewConstants.LA;break;case Keywords.RA:wa=ViewConstants.JA;break;case Keywords.QA:wa=ViewConstants.IA}-1!==wa&&h.N()}-1===wa&&(wa=ViewConstants.Vr);d.qG(d.No,d.Yq,d.Mo,d.Zq,d.Qc,d.Dy,d.Ey,g,ua,Aa,wa)||(v[v.length]=[Keywords.Po+" "+g,"invalid name or rle"]);x=!0}break;case Keywords.Cy:h.F()&&(y=!0,u=h.G(),-4096<=u&&4096>=u&&(d.Dy=u,y=!1,h.F()&&(y=!0,u=h.G(),-4096<=u&&4096>=u&&(d.Ey=u,x=!0))));break;case Keywords.ar:if(h.F()){if(y=!0,u=h.G(),0<=u){d.No=u;d.Zq=0;d.Yq=-1;d.Mo=[];for(t=!0;t;)h.F()?(u=
h.G(),d.Mo[d.Mo.length]=u):(c=h.Ba(),d.rG(c,d.Mo)?h.N():t=!1);x=!0}}else c=h.Ba(),c===Keywords.$p&&(c=h.N(),h.F()&&(y=!0,u=h.G(),1<=u&&(d.Zq=u,d.No=0,d.Yq=-1,h.F()?(u=h.G(),0<=u&&(d.No=u,h.F()?(u=h.G(),u>=d.No+d.Zq&&(d.Yq=u,x=!0)):x=!0)):x=!0)));break;case Keywords.fF:x=q.wo=!0;break;case Keywords.Ty:x=!0;y=!1;za="paste mode";c=h.Ba();switch(c){case Keywords.Zy:d.Qc=ViewConstants.aE;break;case Keywords.Ky:d.Qc=ViewConstants.Jy;break;case Keywords.Fy:d.Qc=ViewConstants.PD;break;case Keywords.Vy:d.Qc=
ViewConstants.YD;break;case Keywords.Gy:d.Qc=ViewConstants.QD;break;case Keywords.Yy:d.Qc=ViewConstants.$D;break;case Keywords.Xy:d.Qc=ViewConstants.Wy;break;case Keywords.Sy:d.Qc=ViewConstants.$q;break;case Keywords.Oy:d.Qc=ViewConstants.UD;break;case Keywords.Uy:d.Qc=ViewConstants.ZD;break;case Keywords.Qy:d.Qc=ViewConstants.WD;break;case Keywords.Hy:d.Qc=ViewConstants.RD;break;case Keywords.Py:d.Qc=ViewConstants.VD;break;case Keywords.Iy:d.Qc=ViewConstants.SD;break;case Keywords.Ny:d.Qc=ViewConstants.TD;
break;case Keywords.Ry:d.Qc=ViewConstants.XD;break;case Keywords.My:d.Qc=ViewConstants.Ly;break;default:if(4===c.length){for(Ga=u=0;4>Ga&&x;){u<<=1;switch(c.substr(Ga,1)){case "1":u|=1;break;case "0":break;default:x=!1}Ga+=1}x&&(d.Qc=u)}else h.F()?(y=!0,u=h.G()|0,0<=u&&15>=u?d.Qc=u:x=!1):x=!1}x&&!y&&h.N();break;case Keywords.Cx:x=d.zj=!0;break;case Keywords.ty:d.Oi=!1;x=!0;break;case Keywords.sy:x=d.oe=!0;break;case Keywords.uy:d.oo=!1;x=!0;break;case Keywords.fy:h.F()&&(y=!0,u=h.G()|0,u>=ViewConstants.vD&&
u<=ViewConstants.mD&&(d.a.ga=1<<u,x=!0));break;case Keywords.Gr:c=h.Ba();c===Keywords.Mb?(c=h.N(),q.qm=!1):q.qm=!0;x=q.Uu=!0;break;case Keywords.ss:c=h.Ba();c===Keywords.Mb?(c=h.N(),q.tf=!1):q.tf=!0;x=!0;break;case Keywords.ut:h.F()&&(y=!0,u=h.G()|0,0<=u&&u<=d.Nt&&(d.J=u,x=!0));break;case Keywords.Dx:c=h.Ba();c===Keywords.Mb?(c=h.N(),d.Rh=!1):d.Rh=!0;x=!0;break;case Keywords.hq:c=h.Ba();c===Keywords.Mb?(c=h.N(),q.Zc=!1):q.Zc=!0;x=q.nk=!0;break;case Keywords.gq:h.F()&&(y=!0,u=h.G()|0,u>=ViewConstants.OI&&
u<=ViewConstants.KI&&(d.a.vf=u,x=d.Ls=!0));break;case Keywords.Da:case Keywords.Ew:f=e;Ca=!1;if(h.F()){l=h.G()|0;if(0>l||255<l)v[v.length]=[e+" "+l,"STATE out of range"],Ca=!0;this.fo(d,h,v,l,e,Ca,l)}else switch(c=h.Ba(),c){case Keywords.KD:this.Vb(d,h,v,ViewConstants.xg,f);break;case Keywords.LD:this.Vb(d,h,v,ViewConstants.zi,f);break;case Keywords.NC:this.Vb(d,h,v,ViewConstants.Kh,f);break;case Keywords.dD:c=h.N();this.fo(d,h,v,ViewConstants.eD,e,!1,c);break;case Keywords.hD:c=h.N();this.fo(d,h,
v,ViewConstants.iD,e,!1,c);break;case Keywords.fD:c=h.N();this.fo(d,h,v,ViewConstants.gD,e,!1,c);break;case Keywords.VC:c=h.N();this.fo(d,h,v,ViewConstants.WC,e,!1,c);break;case Keywords.Zu:this.Vb(d,h,v,ViewConstants.xg,f);break;case Keywords.Yu:this.Vb(d,h,v,ViewConstants.zi,f);break;case Keywords.qA:this.Vb(d,h,v,ViewConstants.Ms,f);break;case Keywords.av:this.Vb(d,h,v,ViewConstants.Kh,f);break;case Keywords.$u:this.Vb(d,h,v,ViewConstants.Lp,f);break;case Keywords.sA:this.Vb(d,h,v,ViewConstants.Os,
f);break;case Keywords.rA:this.Vb(d,h,v,ViewConstants.Pw,f);break;case Keywords.hq:this.Vb(d,h,v,ViewConstants.Mp,f);break;case Keywords.gq:this.Vb(d,h,v,ViewConstants.Np,f);break;case Keywords.Gr:this.Vb(d,h,v,ViewConstants.Vs,f);break;case Keywords.oA:this.Vb(d,h,v,ViewConstants.Ws,f);break;case Keywords.mx:this.Vb(d,h,v,ViewConstants.Ps,f);break;case Keywords.Eq:this.Vb(d,h,v,ViewConstants.Op,f);break;case Keywords.zp:this.Vb(d,h,v,ViewConstants.Kp,f);break;case Keywords.tE:this.Vb(d,h,v,ViewConstants.Pp,
f);break;case Keywords.MB:this.Vb(d,h,v,ViewConstants.Ns,f);break;case Keywords.OB:this.Vb(d,h,v,ViewConstants.Ow,f);break;case Keywords.VE:this.Vb(d,h,v,ViewConstants.Rw,f);break;case Keywords.Po:this.Vb(d,h,v,ViewConstants.Qw,f);break;case Keywords.AB:this.Vb(d,h,v,ViewConstants.Nw,f);break;case Keywords.DC:this.Vb(d,h,v,ViewConstants.Ss,f);break;case Keywords.CC:this.Vb(d,h,v,ViewConstants.Rs,f);break;case Keywords.BC:this.Vb(d,h,v,ViewConstants.Qs,f);break;case Keywords.EC:this.Vb(d,h,v,ViewConstants.Ts,
f);break;case Keywords.FC:this.Vb(d,h,v,ViewConstants.Us,f);break;case Keywords.lF:this.Vb(d,h,v,ViewConstants.Sp,f);break;case Keywords.jF:this.Vb(d,h,v,ViewConstants.Qp,f);break;case Keywords.mF:this.Vb(d,h,v,ViewConstants.Tp,f);break;case Keywords.pF:this.Vb(d,h,v,ViewConstants.Vp,f);break;case Keywords.nF:this.Vb(d,h,v,ViewConstants.Up,f);break;case Keywords.kF:this.Vb(d,h,v,ViewConstants.Rp,f);break;default:l=-1;if(d.a.D){switch(c){case "N":l=1;break;case "E":l=2;break;case "NE":l=3;break;case "S":l=
4;break;case "NS":l=5;break;case "ES":l=6;break;case "NES":l=7;break;case "W":l=8;break;case "NW":l=9;break;case "EW":l=10;break;case "NEW":l=11;break;case "SW":l=12;break;case "NSW":l=13;break;case "ESW":l=14;break;case "NESW":l=15}-1!==l&&(c=h.N(),this.fo(d,h,v,l,e,Ca,l))}-1===l&&(v[v.length]=[e+" "+c,"illegal element"],c=h.N())}x=!0;break;case Keywords.gp:-1===h.sC()&&h.PH();x=!0;--d.sn;break;case Keywords.cs:x=d.Ha=!0;break;case Keywords.wy:x=d.vy=!0;break;case Keywords.Gz:x=d.Iu=!0;break;case Keywords.xy:d.nl=
!1;x=!0;break;case Keywords.ry:d.Ic=!0;x=d.Yt=!0;break;case Keywords.qy:x=d.zk=!0;break;case Keywords.kA:x=db=cb=bb=ab=Ra=Qa=$a=Za=Pa=Ya=Xa=Wa=Va=Ua=Ta=!0;break;case Keywords.Mb:v[v.length]=[Keywords.Mb,"must follow LOOP or STOP"];x=!0;break;case Keywords.Zf:c=h.Ba();c===Keywords.ac?(c=h.N(),q.Th?(d.S.ZG(q,v),d.CK()):v[v.length]=[Keywords.Zf+" "+Keywords.ac,"only valid at a POI"]):v[v.length]=[Keywords.Zf,"must be followed by INITIAL"];x=!0;break;case Keywords.ac:v[v.length]=[Keywords.ac,"must follow POI, ALL or a POI setting"];
x=!0;break;case Keywords.us:c=h.Ba();c===Keywords.Mb?(c=h.N(),d.Te=!1):d.ta&&(d.Te=!0);x=!0;break;case Keywords.hu:h.F()&&(y=!0,u=h.G()|0,0<=u&&(q.Th?(q.kc=u,q.Jr=!0):v[v.length]=[Keywords.hu+" "+u,"only valid at a POI"],x=!0));break;case Keywords.Uo:q.EK(v);x=!0;break;case Keywords.Vo:q.IK(v);x=!0;break;case Keywords.kr:q.FK(v);x=!0;break;case Keywords.lr:h.F()&&(y=!0,u=h.G(),u>=WaypointConstants.pE&&u<=WaypointConstants.oE&&(q.KK(u,v),x=!0));break;case Keywords.wx:x=d.ot=!0;break;case Keywords.gA:c=
h.Ba();c===Keywords.Mb?(c=h.N(),d.di=!1):d.di=!0;x=!0;break;case Keywords.Ur:h.F()&&(y=!0,u=h.G(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(ya=u,y=!1,e+=" "+u,h.F()&&(y=!0,u=h.G(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(Ha=u,x=!0,d.yd&&(v[v.length]=[Keywords.Ur+" "+ya+" "+Ha,"overwrites "+Da+" "+Ea]),Da=ya,Ea=Ha,d.yd=!0))));break;case Keywords.Tr:h.F()&&(y=!0,u=h.G()|0,0<u&&(Ba=u,y=!1,e+=" "+u,h.F()&&(y=!0,u=h.G(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(ya=u,y=!1,e+=" "+u,h.F()&&(y=!0,u=h.G(),
u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(Ha=u,x=!0,d.Un&&(v[v.length]=[Keywords.Tr+" "+Ba+" "+ya+" "+Ha,"overwrites "+va+" "+Da+" "+Ea]),va=Ba,Da=ya,Ea=Ha,d.Un=!0,d.yd=!0))))));break;case Keywords.Tn:h.F()&&(y=!0,u=h.G(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(Fa=u,y=!1,e+=" "+u,h.F()&&(y=!0,u=h.G(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(Ka=u,y=!1,e+=" "+u,h.F()&&(y=!0,u=h.G(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&(Ja=u,y=!1,e+=" "+u,h.F()&&(y=!0,u=h.G(),u>=ViewConstants.Gg&&u<=ViewConstants.Eg&&
(Ia=u,x=!0,Ja>Fa?v[v.length]=[Keywords.Tn+" W "+this.gi(Ja,2)+" E "+this.gi(Fa,2),"W is greater than E"]:Ia>Ka?v[v.length]=[Keywords.Tn+" N "+this.gi(Ia,2)+" S "+this.gi(Ka,2),"N is greater than S"]:(d.Sn&&(v[v.length]=[Keywords.Tn+" "+this.gi(Fa,2)+" "+this.gi(Ka,2)+" "+this.gi(Ja,2)+" "+this.gi(Ia,2),"overwrites "+this.gi(d.Uj,2)+" "+this.gi(d.Vj,2)+" "+this.gi(d.Tk,2)+" "+this.gi(d.Sk,2)]),d.Sn=!0,d.yd=!0,d.Sk=Ia,d.Uj=Fa,d.Vj=Ka,d.Tk=Ja)))))))));break;case Keywords.Yi:w=q;!q.Th&&0<d.S.dJ&&(q=d.S.cq());
h.F()?(y=!0,u=h.G()|0,0<u&&(!q.um||d.Ll||Ra||(v[v.length]=-1===q.Rb?[Keywords.Yi+" "+u,"overwrites "+Keywords.Mb]:[Keywords.Yi+" "+u,"overwrites "+q.Rb]),q.Rb=u,q.um=!0,Ra=d.Ll=!1,x=!0)):(c=h.Ba(),c===Keywords.Mb?(c=h.N(),!q.um||d.Ll||Ra||(v[v.length]=-1!==q.Rb||d.Ll?[Keywords.Yi+" "+Keywords.Mb,"overwrites "+q.Rb]:[Keywords.Yi+" "+Keywords.Mb,"overwrites "+Keywords.Mb]),q.Rb=-1,q.um=!0,Ra=d.Ll=!1,x=!0):c===Keywords.ac&&(c=h.N(),d.S.Dd(Keywords.Yi,q,v,d.Ll),x=d.Ll=!0));q=w;break;case Keywords.Ii:w=
q;!q.Th&&0<d.S.Ka.length&&(q=d.S.cq());h.F()?(y=!0,u=h.G()|0,0<u&&(!q.Ol||d.gn||Qa||(v[v.length]=-1===q.Va?[Keywords.Ii+" "+u,"overwrites "+Keywords.Mb]:[Keywords.Ii+" "+u,"overwrites "+q.Va]),q.Va=u,q.Ol=!0,Qa=d.gn=!1,x=!0)):(c=h.Ba(),c===Keywords.Mb?(c=h.N(),!q.Ol||d.gn||Qa||(v[v.length]=-1===q.Va?[Keywords.Ii+" "+Keywords.Mb,"overwrites "+Keywords.Mb]:[Keywords.Ii+" "+Keywords.Mb,"overwrites "+q.Va]),q.Va=-1,q.Ol=!0,Qa=d.gn=!1,x=!0):c===Keywords.ac&&(c=h.N(),d.S.Dd(Keywords.Ii,q,v,d.gn),x=d.gn=
!0));q=w;break;case Keywords.il:h.F()?(y=!0,u=h.G()|0,0<=u&&359>=u&&(!q.Ch||d.xq||Wa||(v[v.length]=[Keywords.il+" "+u,"overwrites "+q.angle]),q.angle=u,q.Ch=!0,Wa=d.xq=!1,x=!0)):(c=h.Ba(),c===Keywords.ac&&(c=h.N(),d.S.Dd(Keywords.il,q,v,d.xq),x=d.xq=!0));break;case Keywords.mn:h.F()?(y=!0,u=h.G()|0,u>=ViewConstants.Ut&&u<=ViewConstants.Ot&&(!q.Vh||d.Aq||Xa||(v[v.length]=[Keywords.mn+" "+u,"overwrites "+q.M]),q.M=u,q.Vh=!0,Xa=d.Aq=!1,x=!0)):(c=h.Ba(),c===Keywords.ac&&(c=h.N(),d.S.Dd(Keywords.mn,q,
v,d.Aq),x=d.Aq=!0));break;case Keywords.Tm:h.F()?(y=!0,u=h.G(),u>=ViewConstants.Tt&&u<=ViewConstants.lD&&(!q.Lh||d.yq||Ya||(v[v.length]=[Keywords.Tm+" "+u,"overwrites "+q.depth]),q.depth=u,q.Lh=!0,Ya=d.yq=!1,x=!0)):(c=h.Ba(),c===Keywords.ac&&(c=h.N(),d.S.Dd(Keywords.Tm,q,v,d.yq),x=d.yq=!0));break;case Keywords.mv:h.F()&&(y=!0,u=h.G(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(d.Kb=u,x=!0));break;case Keywords.ov:h.F()&&(y=!0,u=h.G(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(d.Lb=u,x=!0));break;case Keywords.gf:h.F()?(y=!0,u=
h.G(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(!q.ug||d.Cq||Ta||(v[v.length]=[Keywords.gf+" "+u,"overwrites "+-q.x]),q.x=-u,q.ug=!0,Ta=d.Cq=!1,x=!0)):(c=h.Ba(),c===Keywords.ac&&(c=h.N(),d.S.Dd(Keywords.gf,q,v,d.Cq),x=d.Cq=!0));break;case Keywords.hf:h.F()?(y=!0,u=h.G(),u>=-d.a.ga/2&&u<=d.a.ga/2&&(!q.Wf||d.Dq||Ua||(v[v.length]=[Keywords.hf+" "+u,"overwrites "+-q.y]),q.y=-u,q.Wf=!0,Ua=d.Dq=!1,x=!0)):(c=h.Ba(),c===Keywords.ac&&(c=h.N(),d.S.Dd(Keywords.hf,q,v,d.Dq),x=d.Dq=!0));break;case Keywords.RC:x=d.QC=!0;break;
case Keywords.zA:h.F()&&(y=!0,u=h.G(),u>=ViewConstants.bc&&u<=ViewConstants.Hc?(d.cv=!0,d.yA=u,x=!0):u>=ViewConstants.Nq&&u<=ViewConstants.Mq&&(d.cv=!0,d.yA=-(1/u),x=!0));break;case Keywords.gw:case Keywords.Od:h.F()?(y=!0,u=h.G(),u>=ViewConstants.bc&&u<=ViewConstants.Hc?(!q.ue||d.hn||Va||(v[v.length]=1>q.zoom?[Keywords.Od+" "+u,"overwrites "+-(1/q.zoom)]:[Keywords.Od+" "+u,"overwrites "+q.zoom]),q.zoom=u,q.ue=!0,Va=d.hn=!1,x=!0):u>=ViewConstants.Nq&&u<=ViewConstants.Mq&&(q.ue&&!d.hn&&(v[v.length]=
1>q.zoom?[Keywords.Od+" "+u,"overwrites "+-(1/q.zoom)]:[Keywords.Od+" "+u,"overwrites "+q.zoom]),q.zoom=-(1/u),q.ue=!0,d.hn=!1,x=!0)):(c=h.Ba(),c===Keywords.ac&&(c=h.N(),d.S.Dd(Keywords.Od,q,v,d.hn),x=d.hn=!0));break;case Keywords.cn:h.F()?(y=!0,u=h.G()|0,u>=ViewConstants.Fg&&u<=ViewConstants.Ql&&(!q.Ph||d.zq||Za||(v[v.length]=[Keywords.cn+" "+u,"overwrites "+q.tc]),q.tc=u,q.Ph=!0,Za=d.zq=!1,x=!0)):(c=h.Ba(),c===Keywords.ac&&(c=h.N(),d.S.Dd(Keywords.cn,q,v,d.zq),x=d.zq=!0));break;case Keywords.AA:c=
h.Ba();c===Keywords.Mb?(c=h.N(),d.ke||(d.hb=!1,d.Rk=!1)):d.ke||(d.hb=!0,d.Rk=!0);x=!0;break;case Keywords.vA:c=h.Ba();c===Keywords.Mb?(c=h.N(),d.ke||(d.hb=!1,d.Rk=!1,d.$i=!1,d.s.$i=!1)):d.ke||(d.hb=!0,d.Rk=!0,d.$i=!0,d.s.$i=!0);x=!0;break;case Keywords.xA:h.F()&&(y=!0,u=h.G()|0,u>=ViewConstants.BD&&u<=ViewConstants.sD&&(d.se=u,x=!0));break;case Keywords.Qk:h.F()?(y=!0,u=h.G()|0,0<=u&&u<d.a.af&&(!q.Uf||d.sk||Pa||this.pz(d,v,u,q.vc),q.vc=u,q.Uf=!0,Pa=d.sk=!1,x=!0)):(c=h.Ba(),c===Keywords.pp?(c=h.N(),
d.Jh?(q.Uf&&!d.sk&&this.pz(d,v,d.a.af,q.vc),q.vc=d.a.af,q.Uf=!0,d.sk=!1):v[v.length]=[Keywords.Qk+" "+Keywords.pp,"no custom THEME defined"],x=!0):(u=d.ZK(c),-1!==u?(c=h.N(),!q.Uf||d.sk||Pa||this.pz(d,v,u,q.vc),q.vc=u,q.Uf=!0,Pa=d.sk=!1,x=!0):c===Keywords.ac&&(c=h.N(),d.S.Dd(Keywords.Qk,q,v,d.sk),x=d.sk=!0)));break;case Keywords.En:v[v.length]=[e,"already in a script block"];x=!0;break;case Keywords.$z:d.$c=!d.$c;x=!0;break;case Keywords.aA:d.no.current=d.Yn([!0],!0,d);x=!0;break;case Keywords.nx:d.Pr.current=
d.jB([!0],!0,d);x=!0;break;case Keywords.Zz:d.jv([!0],!0,d);d.Xe&&(d.Xe.current=[d.Vg],d.s.uh=!0);x=!0;break;case Keywords.$w:h.F()&&(y=!0,u=h.G()|0,u>=ViewConstants.uD&&u<=ViewConstants.kD&&(x=!0,d.a.vr=u));break;case Keywords.Zt:x=d.Ec=!0;break;case Keywords.it:x=d.Rc=!0;break;case Keywords.tx:h.F()&&(y=!0,u=h.G(),0<=u&&1>=u&&(x=!0,d.qd=u));break;case Keywords.ux:d.Lg=!1;x=!0;break;case Keywords.yx:x=d.a.te=!0;break;case Keywords.cA:d.a.te=!1;x=!0;break;case Keywords.LB:x=d.a.nd=!0;break;case Keywords.yz:h.F()&&
(y=!0,u=h.G()|0,u>=ViewConstants.AD&&u<=ViewConstants.rD&&(d.zu=u,x=!0));break;case Keywords.rz:h.F()&&(y=!0,u=h.G()|0,u>=ViewConstants.zD&&u<=ViewConstants.qD&&(d.uu=u,x=!0));break;case Keywords.qz:h.F()&&(y=!0,u=h.G()|0,u>=ViewConstants.yD&&u<=ViewConstants.pD&&(d.tu=u,x=!0));break;case Keywords.uz:x=d.vu=!0;break;case Keywords.xz:x=d.yu=!0;break;case Keywords.ru:c=h.Ba();switch(c){case Keywords.je:c=h.N();x=!0;d.tr=!0;break;case Keywords.Zf:c=h.N();h.F()&&(y=!0,u=h.G()|0,0<=u&&100>=u&&(d.Bk=u,
x=!0));break;case Keywords.qu:c=h.N();h.F()&&(y=!0,u=h.G()|0,0<=u&&100>=u&&(d.Ck=u,x=!0));break;case Keywords.wu:c=h.N();h.F()&&(y=!0,u=h.G()|0,0<=u&&100>=u&&(d.hm=u,x=!0));break;default:this.tL(c)&&(c=h.N(),h.F()&&(y=!0,u=h.G()|0,0<=u&&100>=u&&(this.sK(d,u),x=!0)))}break;case Keywords.wz:d.xu=h.N();x=d.vz=!0;break;case Keywords.gh:c=h.Ba();switch(c){case Keywords.gf:q.Wk&&this.Xh(q.xh,Keywords.gh,Keywords.gf,v);q.xh=!0;q.Wk=!0;c=h.N();break;case Keywords.hf:q.Xk&&this.Xh(q.yh,Keywords.gh,Keywords.hf,
v);q.yh=!0;q.Xk=!0;c=h.N();break;case Keywords.Od:q.uB&&this.Xh(q.Ah,Keywords.gh,Keywords.Od,v);q.Ah=!0;q.ds=!0;c=h.N();break;case Keywords.Zf:q.Wk&&this.Xh(q.xh,Keywords.gh,Keywords.gf,v);q.Xk&&this.Xh(q.yh,Keywords.gh,Keywords.hf,v);q.uB&&this.Xh(q.Ah,Keywords.gh,Keywords.Od,v);q.xh=!0;q.Wk=!0;q.yh=!0;q.Xk=!0;q.Ah=!0;q.ds=!0;c=h.N();break;default:this.qn(h,v,Keywords.gh,"argument",Keywords.Zf+", "+Keywords.gf+", "+Keywords.hf+" or "+Keywords.Od)}x=!0;break;case Keywords.wi:c=h.Ba();switch(c){case Keywords.gf:q.Wk&&
this.Xh(q.xh,Keywords.wi,Keywords.gf,v);q.xh=!1;q.Wk=!0;c=h.N();break;case Keywords.hf:q.Xk&&this.Xh(q.yh,Keywords.wi,Keywords.hf,v);q.yh=!1;q.Xk=!0;c=h.N();break;case Keywords.Od:q.uB&&this.Xh(q.Ah,Keywords.wi,Keywords.Od,v);q.Ah=!1;q.ds=!0;c=h.N();break;case Keywords.Zf:q.Wk&&this.Xh(q.xh,Keywords.wi,Keywords.gf,v);q.Xk&&this.Xh(q.yh,Keywords.wi,Keywords.hf,v);q.uB&&this.Xh(q.Ah,Keywords.wi,Keywords.Od,v);q.xh=!1;q.Wk=!0;q.yh=!1;q.Xk=!0;q.Ah=!1;q.ds=!0;c=h.N();break;default:this.qn(h,v,Keywords.wi,
"argument",Keywords.Zf+", "+Keywords.gf+", "+Keywords.hf+" or "+Keywords.Od)}x=!0;break;case Keywords.iu:A=!0;d.S.add(q);q=d.S.Fs();q.Th=!0;c=h.Ba();c===Keywords.ac&&(c=h.N(),-1!==d.Rm&&(v[v.length]=[Keywords.iu+" "+Keywords.ac,"overrides previous initial POI"]),d.Rm=d.S.nc.length);d.QG();x=!0;break;case Keywords.Ir:h.F()&&(y=!0,u=h.G()|0,0<=u&&(z||(z=!0),0<u&&(d.S.add(q),q=d.S.Fs()),q.kc=u,x=q.Jr=!0));break;case Keywords.Ln:h.F()?(y=!0,u=h.G()|0,u>=ViewConstants.on&&u<=ViewConstants.kg&&(!q.ei||
d.Bq||$a||(v[v.length]=[Keywords.Ln+" "+u,"overwrites "+q.step]),q.step=u,q.ei=!0,$a=d.Bq=!1,x=!0)):(c=h.Ba(),c===Keywords.ac&&(c=h.N(),d.S.Dd(Keywords.Ln,q,v,d.Bq),x=d.Bq=!0));break;case Keywords.bz:h.F()&&(y=!0,u=h.G(),0<=u&&(z||(z=!0),d.S.add(q),q=d.S.Fs(),u<ViewConstants.XE&&(u=ViewConstants.XE),q.xd=u,x=q.dF=!0));break;case Keywords.up:h.F()&&(y=!0,u=h.G()|0,d.ke||(-1===d.Fe||ab||(v[v.length]=[Keywords.up+" "+u,"overwrites "+d.Fe]),d.Fe=u),ab=!1,x=!0);break;case Keywords.qo:h.F()&&(y=!0,u=h.G()|
0,d.ke||(-1===d.Pg||bb||(v[v.length]=[Keywords.qo+" "+u,"overwrites "+d.Pg]),d.Pg=u),bb=!1,x=!0);break;case Keywords.nr:h.F()&&(y=!0,u=h.G()|0,-1===d.Bf||cb||(v[v.length]=[Keywords.nr+" "+u,"overwrites "+d.Bf]),d.Bf=u,cb=!1,x=!0);break;case Keywords.mr:h.F()&&(y=!0,u=h.G()|0,-1===d.Zh||db||(v[v.length]=[Keywords.mr+" "+u,"overwrites "+d.Zh]),d.Zh=u,db=!1,x=!0);break;default:v[v.length]=[e,"unknown or misspelt command"],x=!0}x||(y?v[v.length]=[e+" "+u,"argument out of range"]:this.qn(h,v,e,"argument",
za))}""!==e&&(e=h.N())}m&&(v[v.length]=[Keywords.rd+r,"unterminated string"]);z&&d.yd&&(B=d.Sn?Keywords.Tn:d.Un?Keywords.Tr:Keywords.Ur,v[v.length]=[B,"can not be used with Waypoints"],d.yd=!1,d.Sn=!1,d.Un=!1);d.Sn||!d.yd&&!d.Un||(d.Un&&(0<d.a.vf&&(va*=d.a.vf),q.Va=va),d.Sk=Ea,d.Uj=Da,d.Vj=Ea,d.Tk=Da);if(z||A){d.S.add(q);q=d.S.cq();z?d.Wc=!0:-1!==d.Rm&&(d.wg=d.Rm,w=d.S.nc[d.Rm],w.ug&&(q.ug=w.ug,q.x=w.x),w.Wf&&(q.Wf=w.Wf,q.y=w.y),w.ue&&(q.ue=w.ue,q.zoom=w.zoom),w.Ch&&(q.Ch=w.Ch,q.angle=w.angle),w.Lh&&
(q.Lh=w.Lh,q.depth=w.depth),w.Vh&&(q.Vh=w.Vh,q.M=w.M),w.Uf&&(q.Uf=w.Uf,q.vc=w.vc),w.Ph&&(q.Ph=w.Ph,q.tc=w.tc),w.ei&&(q.ei=w.ei,q.step=w.step),w.cF&&(q.cF=w.cF,q.stop=w.stop),w.bD&&(q.bD=w.bD,q.loop=w.loop));if(z){for(Ga=0;Ga<d.S.Ka.length;Ga+=1)q=d.S.Ka[Ga],q.tf&&(q.ug||q.Wf||q.ue)&&(r="",q.ug?(r="X "+q.x,q.Wf?r=q.ue?r+(", Y "+q.y+" and ZOOM "+q.zoom):r+(" and Y "+q.y):q.ue&&(r+=" and ZOOM "+q.zoom)):q.Wf?(r="Y "+q.y,q.ue&&(r+=" and ZOOM "+q.zoom)):q.ue&&(r="ZOOM "+q.zoom),v[v.length]=[Keywords.ss,
"overwrites "+r]);q=d.S.cq()}A&&q.Hg===WaypointConstants.play&&d.ta&&(d.Te=!0)}q.tf&&(d.qc=!0);q.ug&&(d.a.wa=d.a.width/2-q.x);q.Wf&&(d.a.pa=d.a.height/2-q.y);q.ue&&(d.a.zoom=q.zoom);q.Ch&&(d.a.angle=q.angle);q.Lh&&(d.a.le=q.depth/ViewConstants.Sm+ViewConstants.Tt);q.Vh&&(d.a.M=q.M);q.Uf&&(d.uA=q.vc);q.Ph&&(d.eg=q.tc);q.ei&&(d.Ca=q.step);q.pA&&d.s.notification.L(q.Ef,1E3,!1);d.Rb=q.Rb;d.Va=q.Va;q.ue&&(d.Zw=!0);q.ug&&(d.Xw=!0);q.Wf&&(d.Yw=!0);q.nk&&(d.a.Ub=q.Zc);q.Uu&&(d.bi=q.qm);for(Ga=0;Ga<p;Ga+=
1)-1!==d.ec[Ga]&&(b+=1);if(0<b){d.ms=!0;for(Ga=0;Ga<p;Ga+=1)d.P.Kn[Ga]?-1===d.ec[Ga]?(d.ms=!1,d.Qm[Ga]=ViewConstants.aF):d.Qm[Ga]=ViewConstants.$E:d.Qm[Ga]=ViewConstants.hA;d.bo=d.ms?"(custom)":d.bo+" (custom*)"}else d.ec=null;d.Jh&&(this.OK(d),d.$K&&(d.$K.upper=d.a.af));d.Ha&&(B="not possible due to "+Keywords.cs,d.Te&&(v[v.length]=[Keywords.us,B],d.Te=!1),-1!==d.Rb&&(v[v.length]=[Keywords.Yi+" "+d.Rb,B]),-1!==d.Va&&(v[v.length]=[Keywords.Ii+" "+d.Va,B]));0!==d.Kb&&d.nb+ViewConstants.kg+2*Math.abs(d.Kb)>=
d.a.ga&&(v[v.length]=[Keywords.mv+" "+d.Kb,"pattern does not fit on grid at view offset"],d.Kb=0);0!==d.Lb&&d.qb+ViewConstants.kg+2*Math.abs(d.Lb)>=d.a.ga&&(v[v.length]=[Keywords.ov+" "+d.Lb,"pattern does not fit on grid at view offset"],d.Lb=0);d.zy=v.length}""!==d.ji&&(d.ji=this.op(d,d.ji));d.qc&&(d.rs=!0);d.Rc&&d.Ec&&(v[v.length]=[Keywords.it,"not valid with "+Keywords.Zt],d.Rc=!1);var La=0,Sa=!1;-1!==d.Fe&&(La=ViewConstants.Gd,d.Fe>=ViewConstants.xD&&d.Fe<La&&(d.Fe=La),d.Ic&&(La=ViewConstants.RI),
d.Fe<La||d.Fe>d.Dj)&&(v[v.length]=[Keywords.up+" "+d.Fe,"argument out of range"],Sa=!0);-1!==d.Pg&&(La=ViewConstants.vk,d.Ic&&(La=ViewConstants.QI),d.Pg<La||d.Pg>ViewConstants.Qt)&&(v[v.length]=[Keywords.qo+" "+d.Pg,"argument out of range"],Sa=!0);d.ke&&(-1!==d.Bf&&(d.Bf>=ViewConstants.xD&&d.Bf<ViewConstants.Gd&&(d.Bf=ViewConstants.Gd),d.Bf<ViewConstants.Gd||d.Bf>d.Dj)&&(v[v.length]=[Keywords.nr+" "+d.Bf,"argument out of range"],d.Bf=-1,Sa=!0),-1!==d.Zh&&(d.Zh<ViewConstants.vk||d.Zh>ViewConstants.Qt)&&
(v[v.length]=[Keywords.mr+" "+d.Zh,"argument out of range"],d.Zh=-1,Sa=!0));if(Sa||v.length)-1!==d.Fe&&d.Fe<ViewConstants.Gd&&(d.Fe=ViewConstants.Gd),-1!==d.Pg&&d.Pg<ViewConstants.Sl&&(d.Pg=ViewConstants.Sl),d.Ic=!1;d.i.c=d.Ic;d.s.Ic=d.Ic;d.s.zk=d.zk;d.Ic&&(d.Te=!1,d.hb=!1,d.$i=!1,d.Rc=!1,d.Yn([!1],!0,d),d.jB([!1],!0,d),d.jv([!1],!0,d),d.$c=!1,d.zj=!1);d.vy&&(d.element.style="display:none",d.element.parentNode&&d.element.parentNode.parentNode&&d.element.parentNode.parentNode.className===DocConfig.bt&&
(d.element.parentNode.parentNode.style="display:none;"));d.S.TK()}}}(),function(){function d(b,l,f,q,w){this.name=b;this.pattern=l;this.jK=f;this.width=q;this.height=w}function k(b){var l;this.Xt=this.Zp=this.Iu=!1;this.P=new PatternManager;this.Qi=this.qq=!1;this.ay="";this.Of=!1;this.Ht=this.Ft=this.Bo=this.Iq=this.Hq=this.zo=this.Gt=this.Fq=this.Do=this.Co=this.Gq=this.ub=this.Ao="";this.Sb=!1;this.tq=this.nq=this.xt=this.rq=this.sq=this.zt=this.yt=this.wt=this.vt=this.pq=this.uq=this.ej=this.ti=
this.oi=this.fj=this.ni=this.si=this.ri=this.pi=this.mi=this.ki=this.li=this.Re=this.oq=null;this.ef=1;this.uu=this.zu=v.Xo;this.tu=50;this.yu=this.vu=this.tr=!1;this.hm=this.Ck=this.Bk=-1;this.ph=[];this.Pi=[];this.mB=!1;this.Yp=this.zx=this.ww=this.Kx=this.hw=null;this.jq=18;this.ro="18px "+v.uC;this.Il="18px "+v.aB;this.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1;this.nl=!0;this.Wu=this.wj=this.Kk=this.Ik=this.Lk=this.Jk=this.Oj=!1;this.zf=[];for(l=0;10>l;l+=1)this.zf[l]=
null;this.ie=!1;this.bf=this.cf=this.ag=0;this.ng=v.Oo;this.Bh=this.Ep=!1;this.mb=null;this.ad=!1;this.lo=new BoundingBox(0,0,0,0);this.Eb=new BoundingBox(0,0,0,0);this.Rl=new BoundingBox(0,0,0,0);this.Qb=new Random;this.Qb.Ye(Date.now().toString());this.yn=50;this.UE=this.TE=0;this.xj=this.tb=!1;this.Zl=2;this.Jf=[];this.rn=this.pc=0;this.Pm=[];this.Xc=0;this.Pd=[];this.sd=0;this.na=[];this.na[v.Vr]=[1,0,0,1];this.na[v.FA]=[-1,0,0,-1];this.na[v.GA]=[-1,0,0,1];this.na[v.HA]=[1,0,0,-1];this.na[v.KA]=
[0,1,1,0];this.na[v.LA]=[0,-1,-1,0];this.na[v.JA]=[0,-1,1,0];this.na[v.IA]=[0,1,-1,0];this.Kj=[];this.Zo=[];this.Ri=[];this.mg=[];this.Qc=v.$q;this.No=0;this.Yq=-1;this.Mo=[];this.Ey=this.Dy=this.Zq=0;this.Aj=!1;this.uk=0;this.Ct=!1;this.Vc=this.bm=this.Xl=this.am=this.Yl=0;this.Bt=!1;this.O=null;this.Xn=0;this.mj=!0;this.Sg=0;this.cg=1;this.Er=this.Ox=this.Gj=this.jr=!1;this.Wh=7;this.In=!0;this.uj=this.tj=0;this.Ym=!1;this.J=this.Nt=63;this.gn=this.Ll=this.zq=this.Bq=this.sk=this.Aq=this.yq=this.xq=
this.hn=this.Dq=this.Cq=this.vy=!1;this.kh=this.lb=0;this.Aa=null;this.Lc=this.Kc=0;this.lB=!1;this.Rm=this.Pj=this.Qj=-1;this.xu=Date.now().toString();this.vz=!1;this.Hl=v.Vk;this.ai=!0;this.Rc=!1;this.Lg=!0;this.qd=v.oC;this.QC=this.Ec=!1;this.element=b;this.$c=!1;this.Tk=this.Uj=this.Vj=this.Sk=this.Js=this.Gs=this.Is=this.Hs=0;this.df=this.Un=this.yd=this.Sn=!1;this.oo=!0;this.mk=!1;this.Oh=0;this.lk=!1;this.fm=this.em=0;this.Mg=!1;this.u="";this.Lb=this.Kb=0;this.lx=this.kx=this.ko=this.Cl=this.Zm=
this.ik=this.fA=this.eA=this.rm=this.Jn=this.tm=this.sm=this.wg=-1;this.Kt=this.$s=!1;this.Kr=this.Wg=-1;this.Hp=this.Om=!1;this.Cs=-1;this.Mn=this.xm=null;this.Lr="";this.Nn=this.Rj=0;this.YK=32768;this.As=!1;this.Gw=this.Hw=0;this.Fw=!0;this.rs=this.qc=this.oj=!1;this.Fm=0;this.IG=.01;this.di=this.Rh=!1;this.fk=this.bh=null;this.Ci=v.Ci;this.tl=[96,96,96];this.ul=[128,128,128];this.wl=[0,255,0];this.vl=[255,0,0];this.sl=[255,255,0];this.dv=null;this.ji="";this.Oi=!0;this.bi=this.ta=this.oe=!1;this.Nk=
null;this.ke=!1;this.V=1;this.Mi=this.Ni=0;this.Cd=this.Px=!1;this.S=new WaypointManager;this.Jq="";this.by=-1;this.Dg=this.Wc=!1;this.Ca=1;this.ox=this.zy=this.sn=0;this.Dj=v.NI;this.Zh=this.Bf=this.Pg=this.Fe=this.Bi=-1;this.cr=this.Qo="";this.er=this.Ak=this.qb=this.nb=0;this.dr=null;this.cm=this.pd=this.Cb=this.Li="";this.Ls=this.Jh=!1;this.la=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.kC=this.jC=-1;this.Lw=v.XC;this.Kw=v.qs;this.Mw=v.qE;
this.bo="";this.UG=0;this.ze=[];this.ms=!1;this.ec=null;this.Qm=[];this.fd=[];this.Yb=1;this.ha=0;this.Dr=!1;this.Io=100;this.dd=10;this.X=[64,200,290,530,700];this.tg=!1;this.ba=[];this.qt=[];this.rt=[];this.Rb=-1;this.Ie=!1;this.Va=-1;this.ot=this.$f=this.Te=this.cd=this.zk=this.Yt=this.Ic=this.Dh=this.zj=this.Ha=this.Je=this.Gc=!1;this.jA=this.rx=this.fz=-1;this.a=null;this.elapsedTime=0;this.tH=this.vH=512;this.C=640;this.B=512;this.Wq=640;this.Vq=512;this.ku=!1;this.hj=640;this.eu=!0;this.Vg=
this.bA=this.Yh=this.Ua=this.So=!1;this.om=this.ym=this.fi=this.Pc=this.eo=this.zn=this.Wj=this.zd=this.Kd=this.Zb=null;this.A=[];this.j=this.vd=this.ig=this.jp=this.oh=this.mh=this.La=this.lf=this.sf=this.rf=this.qf=this.wf=this.Mf=this.ve=this.de=this.uf=this.be=this.ce=this.wn=this.Dk=this.kd=this.W=this.vn=this.td=this.Db=this.Og=this.xl=this.gd=this.sj=this.rj=this.dm=this.jd=this.km=this.cj=this.Xm=this.Qd=this.Lf=this.bn=this.Pr=this.Wo=this.no=this.Qq=this.qr=this.lp=this.to=this.Cj=this.Xp=
this.br=this.jl=this.uo=this.Yo=this.ij=this.lj=this.jj=this.kj=this.vq=this.vo=this.Cg=this.dj=this.Fl=this.Dp=this.Jl=this.Em=this.$n=this.Ap=this.Pq=this.pr=this.yo=this.Nl=this.K=this.hg=this.jk=this.Wp=this.Gm=this.Dc=this.$d=this.ae=this.Nf=this.Ip=this.nn=this.Qh=this.vi=this.fa=this.xe=this.hd=this.we=this.Me=this.Qe=this.Ne=this.Pe=this.Oe=this.qh=this.th=this.wh=this.qk=this.vm=this.Pl=this.Yg=this.Hm=this.fb=this.Fb=this.rb=this.ab=this.jh=this.nh=this.lh=this.ih=this.gj=this.Na=this.Ke=
this.lc=this.kf=this.dc=this.Se=this.Eo=this.Ko=this.Ek=this.sr=this.ap=this.Xe=this.Wd=this.Yc=this.Bc=this.Bd=this.vh=this.al=this.cl=this.$k=this.bl=null;this.Uh=this.ln=-1;this.wheelDelta=0;this.uc=this.Oc=this.jm=null;this.eg=60;this.i=this.s=null;this.Ai=this.Ae=this.io=0;this.Zs=this.qC=1;this.Ww=60;this.jo=this.Ys=1;this.Vw=.1;this.uA=-1;this.Ui=this.Ge=this.Oz=0;this.fp=1;this.Rk=this.hb=this.Yw=this.Xw=this.Zw=!1;this.se=v.pC;this.dl=this.el=this.wA=this.Yk=0;this.cv=this.$i=!1;this.Ar=
this.yA=0;this.he=this.Tf=!1;this.fr=-1}function p(b,l,f,q,w){var z,A=l.parentNode,C=null;for(z=0;z<B.Md.length&&!C;)B.Md[z][0].tabIndex===l.tabIndex?C=B.Md[z][1]:z+=1;C||(C=new k(w),C.ke=q,y.Kq&&!q&&(C.Dj=f&-8,C.Dj<v.Gd&&(C.Dj=v.Gd)),l.tabIndex=B.Md.length+1,C.fn(l),"none"===A.style.display&&(B.lu=new PopupWindow(A,C)),B.Md[B.Md.length]=[l,C,B.lu]);q||C.ci(b,!1)}function h(b){b=b.parentNode;for(var l=!1;!l;)"div"!==b.localName||b.className!==y.at&&b.className!==y.bt||(l=!0),l||(b=b.parentNode);return b}
function t(){var b=B.Tu(),l=b[1],f=b[2];b[0].parentNode.style.display="none";f.Um=!1;l.Ua&&(l.Db.current=l.Yd(v.Ze,!0,l))}function a(b){t();b.stopPropagation&&b.stopPropagation();b.preventDefault();return!1}function e(b){b=b.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").trim();b=b.replace(/\n[ ]+/g,"\n");return b=b.replace(/\n\t+/g,"\n")}function c(b){var l=
h(b).getElementsByTagName(y.Ro)[0];b=B.Md[0];l.innerHTML=l.value;l=e(l);b[1].hB(b[1]);b[1].s.notification.clear(!0,!0);b[1].s.notification.clear(!1,!0);b[1].ci(l,!1)}function g(b){var l=28,f=18,q=B.Tu()[2];b.Yp.style.transform="scale("+b.ef+","+b.ef+")";b.Yp.style.transformOrigin="top left";b.resize();q.Um=!0;q.JE(q);1!==b.i.zh&&(l=l*b.i.zh|0,f=f*b.i.zh|0,b.hw.style.height=l+"px",b.hw.style.fontSize=f+"px",b.zx.style.height=l+"px",b.zx.style.fontSize=f+"px",b.ww.style.height=l+"px",b.ww.style.fontSize=
f+"px",b.Kx.style.height=l+"px",b.Kx.style.lineHeight=l+"px");b.uc.canvas.focus();b.uc.canvas.blur();return b.Xt=!1}function n(b){var l=h(b);l=l.getElementsByTagName(y.Ro)[0];b=e(l);var f=B.Tu();if(f){var q=f[1];q.element=l;q.hB(q)}else{q=document.createElement("canvas");q.width=v.Gd;q.height=v.Sl+80;q.style.display="block";var w=document.createElement("a");w.setAttribute("href","#");w.innerHTML="&nbsp;X&nbsp;";w.style.textDecoration="none";w.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";
w.style.color="#FFFFFF";w.style.backgroundColor="#C75050";w.style.cssFloat="right";w.style.height="28px";w.style.fontSize="18px";var z=document.createElement("a");z.innerHTML="&nbsp;X&nbsp;";z.style.textDecoration="none";z.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";z.style.visibility="hidden";z.style.cssFloat="left";z.style.height="28px";z.style.fontSize="18px";var A=document.createElement("div");A.style.textAlign="center";A.style.color="rgb(83,100,130)";A.style.fontFamily=
"Arial, Verdana, Helvetica, sans-serif";A.style.fontSize="18px";A.style.height="28px";var C=document.createTextNode("LifeViewer");A.style.cursor="default";A.appendChild(C);registerEvent(w,"click",a,!1);registerEvent(w,"touchend",a,!1);var D=document.createElement("div");D.style.display="none";D.style.position="fixed";D.style.border="1px solid rgb(128,128,128)";D.style.zIndex="101";D.style.left="2048px";D.style.top="0px";D.style.textAlign="right";D.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";
D.style.margin="1px";var E=document.createElement("div");E.className=y.bt;E.style.backgroundColor="#FFFFFF";E.style.height="28px";E.style.lineHeight="28px";E.style.margin="0px";E.style.border="0px";E.appendChild(z);E.appendChild(w);E.appendChild(A);D.appendChild(E);D.appendChild(q);document.body.appendChild(D);p(b,q,v.Gd,!0,l);B.dA=B.Md.length-1;f=B.Tu();q=f[1];q.dv=C;q.hw=w;q.zx=z;q.ww=A;q.Kx=E;q.Yp=D}l=f[0].parentNode;""!==l.style.display&&(l.style.display="");q.C=v.Gd;q.B=v.Sl+80;q.resize();q.s.notification.clear(!0,
!0);q.s.notification.clear(!1,!0);q.Xt=!0;q.ci(b,!0);q.Xt||g(q)}function m(b,l){var f=l[0],q=l[1];l=l[2];if(b&&b.me){if(null!==q){q=q.getElementsByTagName("a")[0];var w=document.createElement("a");w.setAttribute("href","#");w.innerHTML="Show in Viewer";registerEvent(w,"click",u,!1);q?(l=document.createTextNode(" / "),q.parentNode.appendChild(l),q.parentNode.appendChild(w)):l.parentNode.appendChild(w)}y.Ia&&(B.pe[B.pe.length]=new d(b.name,f,b.ca+b.ao,b.width,b.height))}}function r(b,l,f,q,w){l=f.create("",
b,l,m,null,[b,q,w],!1,null);f.Mt||m(l,[b,q,w])}function u(b){n(this);b.stopPropagation&&b.stopPropagation();b.preventDefault();return!1}function x(){var b=document.getElementsByTagName("div"),l,f;var q=new Allocator;var w=new PatternManager;var z=document.getElementsByTagName("meta");for(l=0;l<z.length;l+=1){var A=z[l];if(A.name===y.tagName&&(y.Ax=!1,y.Kq=!1,A=A.content,(f=A.match(/\S+/g))&&2<=f.length&&5>=f.length))for(y.at=f[0],y.Ro=f[1],A=2;A<f.length;A+=1)switch(f[A]){case "hide":y.Ax=!0;break;
case "limit":y.Kq=!0;break;case "multi":y.Ia=!0;break;default:if("/"===f[A][0])y.Dz=f[A];else if("."===f[A][0])y.PE=f[A];else{var C=f[A];!isNaN(parseFloat(C))&&isFinite(Number(C))&&(y.du=parseFloat(C)|0)}}}AliasManager.Ye();for(z=0;z<b.length;z+=1)(A=b[z],A.className===y.at)?(l=A.getElementsByTagName(y.Ro)[0],A=A.getElementsByTagName("canvas")[0],(f=l.getElementsByTagName(y.Ro)[0])&&(l=f),typedArrays&&l&&(f=e(l),y.Ia&&r(f,q,w,null,null),A&&A.getContext?(-1<y.du&&l.clientHeight>y.du&&(l.style.height=
y.du+"px"),p(f,A,l.offsetWidth,!1,l)):y.Ax&&A&&(A.style.display="none"))):typedArrays&&A.className===y.bt&&A.parentNode.className!==y.at&&(l=A.getElementsByTagName(y.Ro)[0])&&(f=e(l),r(f,q,w,A,l));b=document.getElementsByTagName("a");for(z=0;z<b.length;z+=1)q=b[z],""!==q.accessKey&&-1!==v.yG.indexOf(q.accessKey)&&(q.accessKey="")}var y={tagName:"LifeViewer",at:"rle",Ro:"code",du:37,Ax:!0,Kq:!1,Ia:!1,bt:"codebox",Dz:"",PE:"",pe:[]},v={yG:"0123456789rtyopasghjklxcbn",kk:0,ht:1,tC:2,Xo:64,AD:1,rD:1024,
zD:1,qD:1024,yD:1,pD:100,aL:[0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3],tA:[1,10,11,17,18,2,3,4,5,7,12,13,14,15,16,0,6,8,9,19],Oo:0,dE:1,eE:2,bE:3,gE:4,fE:5,hE:6,iE:7,cE:8,JD:9,jJ:"Top Left;Top;Top Right;Right;Bottom Right;Bottom;Bottom Left;Left;Middle".split(";"),et:15,cJ:5,pj:1E8,Vr:0,FA:1,GA:2,HA:3,KA:4,LA:5,JA:6,IA:7,aE:0,Jy:1,PD:2,YD:3,QD:4,$D:5,Wy:6,$q:7,UD:8,ZD:9,WD:10,RD:11,VD:12,SD:13,TD:14,XD:15,Ly:3,oF:[1,3,7,6],Xi:Math.sqrt(3),cH:65536,eH:500,fH:17,IC:13750737,JC:15066597,lt:7368816,mt:5263440,
XE:.016,RK:16,ID:16384,oC:.7,$t:1E4,xK:"Script errors",Gg:-2,Eg:2,BD:2,sD:4,pC:4,rF:16.7,vD:9,mD:14,uH:13,mq:null,uD:1,kD:16,nC:3,xg:0,zi:1,Ms:2,Kh:3,Lp:4,Mp:5,Np:6,Vs:7,Ws:8,Ns:9,Ss:10,Rs:11,Qs:12,Ts:13,Us:14,Ps:15,Op:16,Os:17,Pw:18,Sp:19,Qp:20,Tp:21,Vp:22,Up:23,Rp:24,Kp:25,Pp:26,Ow:27,Rw:28,Qw:29,Nw:30,eJ:0,fJ:1,uI:2,eD:3,iD:4,gD:5,WC:6,Ja:[0,6,2,5,3,4,1],ZE:"Dead Alive History Mark1 MarkOff Mark2 Kill".split(" "),PL:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),mJ:0,lJ:160,lE:10,dz:100,
kE:20,cI:18.5,YE:1E3/60,CL:!1,ft:1800,VH:"LifeViewer",Qz:"LifeViewer Image",uF:"LifeViewer",hv:519,tF:"Chris Rowett",Ut:1,Ot:10,oy:0,Go:1,Ze:2,wk:3,Tl:0,Fo:1,Ul:2,rv:1.25,xI:.99,Tt:0,lD:10,Sm:10,jD:32,bc:.0625,Hc:64,Nq:-16,Mq:-1,Fg:1,Ql:60,on:1,kg:64,uC:"Courier",aB:"Arial",Ug:"18px Arial",Rg:"14px Arial",Su:"9px Arial",qs:"rgb(240,255,255)",FG:"rgb(0,0,0)",qE:"rgb(240,255,255)",rE:"rgb(0,0,0)",GB:2,Vt:1,Pt:64,EG:.2,XC:"rgb(240,255,255)",II:"rgb(0,0,0)",HI:18,wD:4,nD:128,GI:"Arial",so:"rgb(32,255,255)",
kq:"#000000",Ci:"rgb(255,96,96)",jt:"rgb(128,128,128)",RI:64,QI:64,xD:480,Gd:560,NI:4096,rI:80,vk:240,Qt:4096,Sl:480,vB:132,OF:292,hA:0,$E:1,aF:2,OI:0,KI:16,Vk:0,UC:1,Rz:2,wq:3,eF:4,ZB:5,BB:6,tD:7,HB:8},B={m:new Allocator,Md:[],dA:-1,lu:null,pe:[],Tu:function(){var b=null;-1!==this.dA&&(b=this.Md[this.dA]);return b},hI:function(b){var l=null;0<=b&&b<this.Md.length&&(l=this.Md[b][1]);return l},LL:function(){return this.Md.length},zL:function(){var b=0,l;for(l=0;l<this.Md.length;l+=1){var f=this.Md[l][1];
f.Ua&&(b+=1)}return b},ZJ:function(){var b,l=0;for(b=0;b<this.Md.length;b+=1){var f=this.Md[b][1];f.Db.current=f.Yd(v.oy,!0,f);f.s.Qg(!0);l+=1}return l},WK:function(){var b,l=0;for(b=0;b<this.Md.length;b+=1){var f=this.Md[b][1];f.Ua&&(f.Db.current=f.Yd(v.Ze,!0,f),l+=1)}return l},XK:function(b){var l,f=0;for(l=0;l<this.Md.length;l+=1){var q=this.Md[l][1];q!==b&&q.Ua&&(q.Db.current=q.Yd(v.Ze,!0,q),f+=1)}return f}};k.prototype.Es=function(){var b,l=this.zf,f=this.ag,q=[];for(b=0;10>b;b+=1){var w=b===
f?"current ":"activate ";w+="clipboard";null!==l[b]&&(w+=" ("+l[b].width+" x "+l[b].height+")");q[b]=w}this.Ip.w=q};k.prototype.aD=function(b){window.confirm("Open last saved pattern?")&&c(b.element)};k.prototype.Cc=function(){var b=1<<v.et,l=this.Xc>>v.et;l===this.Pm.length&&(this.Pm[l]=this.a.m.I(Int16,b,"View.currentEdit"+l));return this.Pm[l]};k.prototype.Uc=function(b,l,f){var q=this.a.getState(b,l,!1),w=this.Xc,z=v.et;var A=w>>z;var C=1<<z,D=C-1,E=this.Pm,F=(this.a.width>>1)-(this.nb>>1),G=
(this.a.height>>1)-(this.qb>>1);var H=this.a.h;var I=2<H&&!(this.a.$a||this.a.D||this.a.Y),O=!1;0<q&&I&&(q=H-q);if(f!==q){if(!this.oe){A>=E.length&&this.Cc();H=E[A];w&=D;I=f<<8|q;if(0<w)if(4<=w){var K=H[w-1];16384<=K?H[w-3]===I&&H[w-2]===l-G&&H[w-4]===b-F-(K-16384)-2&&(H[w-1]+=1,O=!0):H[w-2]===I&&H[w-1]===l-G&&H[w-3]===b-F-1&&(H[w]=16384,w+=1,this.Xc+=1,w===C&&this.Cc(),O=!0)}else A=this.Xc,K=E[A-1>>z][A-1&D],16384<=K?H[A-3>>z][A-3&D]===I&&H[A-2>>z][A-2&D]===l-G&&H[A-4>>z][A-4&D]===b-F-(K-16384)-
2&&(H[A-1>>z][A-1&D]+=1,O=!0):E[A-2>>z][A-2&D]===I&&E[A-1>>z][A-1&D]===l-G&&E[A-3>>z][A-3&D]===b-F-1&&(H[w]=16384,w+=1,this.Xc+=1,w===C&&(H=this.Cc()),O=!0);O||(H[w]=b-F,w+=1,this.Xc+=1,w===C&&(H=this.Cc(),w=0),H[w]=f<<8|q,w+=1,this.Xc+=1,w===C&&(H=this.Cc(),w=0),H[w]=l-G,this.Xc+=1,w+1===C&&this.Cc())}this.Bi=-1;return this.a.Vi(b,l,f,!0)}};k.prototype.$y=function(b,l){var f=0,q=(this.a.width>>1)-(this.nb>>1),w=(this.a.height>>1)-(this.qb>>1);if(b)if(l)for(f=b.length;0<f;){var z=b[f-1];16384<=z&&
--f;f-=3;l=b[f]+q;var A=b[f+1]&255;var C=b[f+2]+w;this.a.Vi(l,C,A,!0);if(16384<=z)for(z-=16384;0<=z;)l+=1,this.a.Vi(l,C,A,!0),--z}else for(;f<b.length;)if(l=b[f]+q,A=b[f+1]>>8,C=b[f+2]+w,this.a.Vi(l,C,A,!0),f+=3,z=b[f],16384<=z)for(f+=1,z-=16384;0<=z;)l+=1,this.a.Vi(l,C,A,!0),--z};k.prototype.Xz=function(b){for(var l=this.pc-1,f=this.Eb,q=!1;0<=l&&!q;)this.Jf[l].dh<=b?("advance outside"===this.Jf[l].action&&--l,q=!0):--l;q&&(this.pc=l+1,b=this.pc>=this.rn?this.Jf[this.pc-1]:this.Jf[this.pc],b.selection?
(f.f=b.selection.f,f.g=b.selection.g,f.l=b.selection.l,f.o=b.selection.o,this.tb=!0):this.tb=!1,this.Bh=!1,this.ii())};k.prototype.ii=function(){var b=this.pc,l=this.rn,f=this.Jf;if(1<b){var q="undo ";var w=f[b-1];if(null===w.Wm){var z=w.dh;1<b&&(z=f[b-2].dh);this.a.v===z?q+=w.action:(q=1<this.a.v-z?q+"play":q+"step",q+=" from "+z)}else q=""===w.action?q+"edit":q+w.action;this.Wj.w=q}b<l&&(q="redo ",w=f[b],null===w.Wm?(z=w.dh,z===this.a.v?q+=w.action:(q=1<z-this.a.v?q+"play":q+"step",q+=" to "+z)):
q=""===w.action?q+"edit":q+w.action,this.zn.w=q)};k.prototype.Rt=function(b){var l=this.tb?this.Eb:null;return null===b&&null===l?!0:null===b&&null!==l||null!==b&&null===l?!1:b.f===l.f&&b.g===l.g&&b.l===l.l&&b.o===l.o?!0:!1};k.prototype.$j=function(b,l,f,q){var w=!1;if(0<this.pc){var z=this.Jf[this.pc-1];z.dh===b&&null===l&&""===f&&this.Rt(z.selection)&&(w=!0)}w||(this.Jf[this.pc]={dh:b,Wm:l,action:f,selection:q},this.pc+=1)};k.prototype.wb=function(b){var l=this.a.v,f=null,q=null,w=this.Eb,z=null,
A=v.et,C=1<<A,D=C-1;A=this.Xc>>A;if(!this.oe){this.Ua&&(0<this.pc&&(z=this.Jf[this.pc-1]),z&&z.selection&&(q=new BoundingBox(z.selection.f,z.selection.g,z.selection.l,z.selection.o)),this.$j(l,f,"",q),q=null);this.tb&&(q=new BoundingBox(w.f,w.g,w.l,w.o));if(0<this.Xc){f=this.a.m.I(Int16,this.Xc,"View.editCells"+this.pc);for(z=w=0;w<A;)f.set(this.Pm[w].slice(),z),w+=1,z+=C;this.Xc&D&&f.set(this.Pm[w].slice(0,this.Xc&D),z);this.Xc=0}this.$j(l,f,b,q);this.rn=this.pc;this.ii()}};k.prototype.WA=function(b){var l=
b.a.v,f=b.pc,q=b.Eb,w=1,z=!1;if(!b.oe){this.Ua&&(b.Db.current=b.Yd(v.Ze,!0,b),f=b.pc);if(0<f)for(;0<w;){var A=b.Jf[f-1];var C=A.dh;var D=A.selection;z||"advance outside"!==A.action||(z=!0,w=3);null===A.Wm&&1<f&&(C=b.Jf[f-2].dh);1<f&&(D=b.Jf[f-2].selection);C<l?(0===C?b.reset(b):b.xr(C),l=b.a.v):b.$y(A.Wm,!0);D?(q.f=D.f,q.g=D.g,q.l=D.l,q.o=D.o,b.tb=!0):b.tb=!1;b.Bh=!1;"reverse playback"===A.action&&(b.a.Tc=!0);--f;b.pc=f;--w}else 0<l&&b.reset(b);this.ii();this.a.Mh();(this.a.pb||b.a.Fc)&&this.a.xn()}};
k.prototype.Bz=function(b){var l=b.a.v,f=b.Eb,q=1,w=!1;if(!b.oe){for(;0<q&&b.pc<b.rn;){var z=b.Jf[b.pc];w||"advance outside"!==z.action||(w=!0,q=3);z.dh===l&&null===z.Wm&&""===z.action&&(b.pc+=1);z.dh>l?(b.rK(z.dh),l=b.a.v):b.$y(z.Wm,!1);z.selection?(f.f=z.selection.f,f.g=z.selection.g,f.l=z.selection.l,f.o=z.selection.o,b.tb=!0):b.tb=!1;b.Bh=!1;"reverse playback"===z.action&&(b.a.Tc=!0);b.pc+=1;--q}this.ii();this.a.Mh();(this.a.pb||b.a.Fc)&&this.a.xn()}};k.prototype.bk=function(b,l,f,q){var w=[],
z,A=this.a.h,C=this.na[q];q=C[0];var D=C[1],E=C[2];C=C[3];var F=new Pattern("rleToCellList",this.P),G=2<A&&!(this.a.$a||this.a.D||this.a.Y);b+=" ";if(-1!==this.P.ho(F,b,!1,this.a.m)){if(-1!==this.P.ho(F,b,!0,this.a.m))for(z=0;z<F.height;z+=1){var H=F.Ig[z];for(b=0;b<F.width;b+=1){var I=H[b];G&&0<I&&(I=A-I);w[w.length]=l+b*q+z*D;w[w.length]=f+b*E+z*C;w[w.length]=I}}}else w[0]="error";return w};k.prototype.ev=function(b){var l=0,f=b.indexOf("["),q=b.indexOf("]");if(-1!==f&&-1!==q&&f<q&&q===b.length-
1){for(f+=1;f<q&&0<=l;){var w=b.charCodeAt(f)-48;0>w||9<w?l=-1:(l=10*l+w,f+=1)}0<l&&(this.Ct=!0)}return l};k.prototype.XG=function(b){var l=0>this.Yl?-this.Yl:this.Yl,f=0>this.am?-this.am:this.am;l=2*(l<f?f:l);b<l&&(b=l);return b};k.prototype.WG=function(b){var l=0>this.Xl?-this.Xl:this.Xl,f=0>this.bm?-this.bm:this.bm;l=2*(l<f?f:l);b<l&&(b=l);return b};k.prototype.rG=function(b,l){var f,q=!1;for(f=0;!q&&f<this.Kj.length;)b===this.Kj[f].name?q=!0:f+=1;if(q)for(b=this.Kj[f].xH,f=0;f<b.length;f+=1)l[l.length]=
b[f];return q};k.prototype.nG=function(b,l,f){var q,w=!1;if(ScriptParser.kn(l))b[b.length]=[Keywords.$o+" "+l,"name is reserved word"];else{for(q=0;!w&&q<this.Kj.length;)l===this.Kj[q].name?w=!0:q+=1;if(w)b[b.length]=[Keywords.$o+" "+l,"name already defined"];else{w=!1;for(q=0;!w&&q<f.length;)1>f[q]?w=!0:q+=1;w?b[b.length]=[Keywords.$o+" "+l+" "+f[q],"invalid delta"]:(b=f.slice(),this.Kj[this.Kj.length]={name:l,xH:b})}}};k.prototype.mG=function(b,l,f,q,w,z){var A,C=!1;if(ScriptParser.kn(l))b[b.length]=
[Keywords.Cn+" "+l,"name is reserved word"];else if(-1!==l.indexOf("["))b[b.length]=[Keywords.Cn+" "+l,"name can not contain ["];else{for(A=0;!C&&A<this.Ri.length;)l===this.Ri[A].name?C=!0:A+=1;C?b[b.length]=[Keywords.Cn+" "+l,"name already defined"]:(f=this.bk(f,q,w,z),"error"!==f[0]?this.Ri[this.Ri.length]={name:l,cells:f}:b[b.length]=[Keywords.Cn+" "+l,"invalid RLE"])}};k.prototype.qG=function(b,l,f,q,w,z,A,C,D,E,F){var G=0,H=!1,I=[],O=this.na[F],K=O[0],M=O[1],J=O[2],X=O[3];O=v.pj;var R=-v.pj,
U=v.pj,Y=-v.pj,da=C.indexOf("["),V=C,ka=0,ma=[];-1!==da&&(V=C.substr(0,da),ka=this.ev(C));for(;G<this.Ri.length&&!H;)this.Ri[G].name===V?(H=!0,I=this.Ri[G].cells.slice()):G+=1;if(H)for(G=0;G<I.length;)C=I[G],F=I[G+1],I[G]=D+C*K+F*M,I[G+1]=E+C*J+F*X,G+=3;else I=this.bk(C,D,E,F),"error"!==I[0]&&(H=!0);-1===ka&&(H=!1);if(H&&0<I.length){for(G=0;G<I.length;)D=I[G],E=I[G+1],D<O&&(O=D),D>R&&(R=D),E<U&&(U=E),E>Y&&(Y=E),G+=3;D<this.Yl&&(this.Yl=D);D>this.am&&(this.am=D);E<this.Xl&&(this.Xl=E);E>this.bm&&(this.bm=
E);K=Array.ea(Uint8,Y-U+1,R-O+1,0,this.a.m,"View.rle"+this.mg.length);for(G=0;G<I.length;)D=I[G],E=I[G+1],K[E-U][D-O]=I[G+2],G+=3;ma[0]=b;for(G=0;G<f.length;G+=1)ma[ma.length]=ma[ma.length-1]+f[G];this.mg[this.mg.length]={Nh:ma,end:l,every:q,mode:w,cells:I,map:K,f:O,g:U,width:R-O+1,height:Y-U+1,TH:ka,deltaX:z,deltaY:A};0<q&&(this.Aj=!0);ma[ma.length-1]>this.uk&&(this.uk=ma[ma.length-1])}return H};k.prototype.AJ=function(){var b,l,f=this.a.width,q,w=this.a.H;for(b=0;b<this.mg.length;b+=1){var z=this.mg[b];
var A=z.TH;if(0<A){var C=z.cells;var D=(f>>1)-(z.width>>1);var E=(f>>1)-(z.height>>1);var F=0;w.f=D;w.l=D+z.width-1;w.g=E;w.o=E+z.height-1;for(this.a.v=0;F<C.length;)this.a.Vi(D+C[F]-z.f,E+C[F+1]-z.g,C[F+2],!0),F+=3;for(;0<A;)this.a.$e(!1,!0,!0,this.Sb),this.a.We(),--A;C=[];F=0;var G=q=v.pj;for(l=w.g;l<=w.o;l+=1)for(A=w.f;A<=w.l;A+=1){var H=this.a.getState(A,l,!1);0!==H&&(C[F]=A-D+z.f,C[F+1]=l-E+z.g,C[F+2]=H,C[F]<q&&(q=C[F]),C[F+1]<G&&(G=C[F+1]),F+=3)}z.cells=C.slice();z.width=w.l-w.f+1;z.height=
w.o-w.g+1;z.g=G;z.f=q;z.map=Array.ea(Uint8,z.height,z.width,0,this.a.m,"View.rle"+b);for(F=0;F<C.length;)A=C[F],l=C[F+1],z.map[l-z.g][A-z.f]=C[F+2],F+=3;this.a.Gp(!1)}}this.Ct&&this.a.Gp(!1)};k.prototype.ak=function(b){var l=!1,f=this.a.v;var q=!1;if(this.a.ia||this.a.D)f=this.a.Hf;0!==b.every&&(this.a.ia||this.a.D)&&null!==this.a.yc&&f<this.a.Ji&&(l=!1,q=!0);if(!q)if(0!==b.every&&f>=b.Nh[0]&&0===(f-b.Nh[0])%b.every)-1!==b.end&&f>b.end||(l=!0);else for(q=0;q<b.Nh.length&&!l;)f===b.Nh[q]?l=!0:q+=1;
return l};k.prototype.zG=function(){for(var b=!1,l=0,f=this.mg.length;l<f&&!b;)b=this.ak(this.mg[l]),l+=1;return b};k.prototype.Ki=function(){var b,l=this.a.v;var f=0;var q=this.a.width,w=this.a.h-1;for(b=0;b<this.mg.length;b+=1){var z=this.mg[b];if(this.ak(z)){var A=z.mode;var C=(q>>1)-(this.nb>>1);var D=(q>>1)-(this.qb>>1);var E=z.map;if(0!==z.every&&(0!==z.deltaX||0!==z.deltaY)){var F=(l-z.Nh[0])/z.every;C+=z.deltaX*F;D+=z.deltaY*F}C+=z.f;D+=z.g;for(z=0;z<E.length;z+=1){var G=E[z];if(this.a.D||
this.a.Y)for(F=0;F<G.length;F+=1){var H=G[F];var I=this.a.getState(C+F,D+z,!1);switch(A){case v.aE:f=0;break;case v.Jy:f=H&I;break;case v.PD:f=H&w-I;break;case v.YD:f=H;break;case v.QD:f=w-H&I;break;case v.$D:f=I;break;case v.Wy:f=H^I;break;case v.$q:f=H|I;break;case v.UD:f=w-(H|I);break;case v.ZD:f=w-(H^I);break;case v.WD:f=w-I;break;case v.RD:f=H|w-I;break;case v.VD:f=w-H;break;case v.SD:f=w-H|I;break;case v.TD:f=w-(H&I);break;case v.XD:f=1}this.a.Vi(C+F,D+z,f,!0)}else if(this.a.pb)for(F=0;F<G.length;F+=
1)H=G[F],f=H&1,I=this.a.getState(C+F,D+z,!1),I&=1,f=0===(A&8>>(f+f|I))?0:1,this.a.Vi(C+F,D+z,f,!0);else for(F=0;F<G.length;F+=1)H=G[F],f=0===H?0:1,I=this.a.getState(C+F,D+z,!1),I=0===I?0:1,f=0===(A&8>>(f+f|I))?0:1,this.a.Vi(C+F,D+z,f,!0)}}}if(this.Aj||l<=this.uk)this.a.aa=1;this.OD()};k.prototype.OD=function(){var b,l=this.a.v;for(b=0;b<this.pc;b+=1)this.Jf[b].dh===l&&this.$y(this.Jf[b].Wm,!1);this.a.Mh()};k.prototype.Zk=function(b){this.gn=this.Ll=this.zq=this.Bq=this.sk=this.Aq=this.yq=this.xq=
this.hn=this.Dq=this.Cq=b};k.prototype.QG=function(){this.Zk(!1)};k.prototype.CK=function(){this.Zk(!0)};k.prototype.VB=function(){this.qt=[];this.rt=[]};k.prototype.MG=function(b){var l=b.Oc.toDataURL("image/png"),f;(f=document.getElementById("screenshot"))?f.src=l:(f=window.open("",v.Qz))?(f.width=b.C+20,f.height=b.B+20,f.document.open(),f.document.write('<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>'+v.Qz+'</title>\n\t</head>\n\t<body>\n\t\t<img width="'+b.C+'" height="'+
b.B+'" src="'+l+'" alt="'+v.Qz+'"/>\n\t</body>\n</html>\n'),f.document.close(),b.s.notification.L("Image Captured",300,!0)):b.s.notification.L("Could not open Image window!",v.ft,!0)};k.prototype.aH=function(b){var l=this.a.ob,f=this.a.Z,q=this.a.Ra,w=this.a.hc,z=b.width,A=b.height,C=this.Kc,D=this.Lc,E=this.a.vb,F=this.a.vb>>4,G=this.a.yb,H=null,I=z,O=A;var K=Math.round(-this.a.ua/2);var M=Math.floor((this.a.ua-1)/2);var J=Math.round(-this.a.ra/2);var X=Math.floor((this.a.ra-1)/2);var R=C-(this.a.width>>
1);var U=R+z-1;var Y=D-(this.a.height>>1),da=Y+A-1;A=this.a.h;var V=!0;z=2===A&&this.a.ya;-1!==this.a.sa&&(0!==this.a.ua&&(R<K||U>M)&&(V=!1),0!==this.a.ra&&(Y<J||da>X)&&(V=!1),V||(this.lB=!0,0!==this.a.ua?(C=Math.round(this.a.width/2)+K,I>M-K+1&&(I=M-K+1)):C=Math.round(this.a.width/2),0!==this.a.ra?(D=Math.round(this.a.height/2)+J,O>X-J+1&&(O=X-J+1)):D=Math.round(this.a.height/2)));b.$&&(0!==(C&1)&&(C+=1),0!==(D&1)&&(D+=1));b.ia&&(0===(C&1)&&--C,0===(D&1)&&--D);for(M=0;M<O;M+=1){R=b.me[M];U=l[M+D&
G];if(this.cd||this.a.D||this.a.Y)for(J=b.Ig[M],H=f[M+D&G],K=0;K<I;K+=1)X=J[K],0<X&&(X+=this.J),H[K+C&E]=X;else if(2<A)for(J=b.Ig[M],H=f[M+D&G],K=0;K<I;K+=1)X=J[K],0<X&&!this.a.$a&&(X=A+this.J-X),H[K+C&E]=X;z&&(H=f[M+D&G]);for(K=0;K<I;K+=1)0!==(R[K>>4]&1<<(~K&15))&&(U[K+C>>4&F]|=1<<(~(K+C)&15),z&&(H[K+C&E]=LifeConstants.sb))}if(w)for(M=0;M<O;M+=1)for(J=b.Ig[M],l=w[M+D&G],K=0;K<I;K+=1)(X=J[K])&&(l[K+C&E]=v.Ja[X]+128);(this.a.D||this.a.Y)&&q.Ya.set(f.Ya)};k.prototype.gt=function(){var b=!1;-1!==this.a.sa&&
0!==this.a.ua&&0!==this.a.ra&&(b=!0);return b};k.prototype.nv=function(){var b=!1;-1===this.a.sa||0!==this.a.ua&&0!==this.a.ra||(b=!0);return b};k.prototype.iv=function(b,l,f){b=b[0];l&&(f.qd=b);return[b,100*b]};k.prototype.gB=function(b,l,f){l&&(f.ng=b[0]);return[f.ng,v.jJ[f.ng+.5|0]]};k.prototype.qH=function(b){b.Ha||(b.ng=(b.ng+.5|0)+1,b.ng>=v.JD&&(b.ng=0),b.wn.current=b.gB([b.ng,b.ng],!0,b))};k.prototype.GF=function(b,l,f){l&&(f.yn=b[0]);return[f.yn,f.yn]};k.prototype.Bl=function(b,l,f){l&&(f.Sg=
(f.a.h-f.Wh)*b[0]|0);b[1]=f.Sg+"-"+(f.Sg+f.Wh-1);return b};k.prototype.Zj=function(b,l,f){var q=b[0],w=0;l?(f.Dg=!0,f.a.zoom=v.bc*Math.pow(v.Hc/v.bc,b[0])/f.a.Jc):(q=Math.log(f.a.zoom*f.a.Jc/v.bc)/Math.log(v.Hc/v.bc),0>q?q=0:1<q&&(q=1));this.yd&&!this.df?w=f.a.zoom*f.a.Jc:w=f.a.zoom;w<v.bc?w=v.bc:w>v.Hc&&(w=v.Hc);1>w&&(w=-1/w);return[q,w]};k.prototype.GG=function(b){var l=b/6E4|0;b=b%6E4/1E3;var f="";0<l&&(f=l+":",10>b&&(f+="0"));return f+=b.toFixed(2)};k.prototype.zg=function(b,l,f){var q=this.a.zoom,
w=this.a.wa,z=this.a.pa,A=6,C=this.Rl,D=this.Eb;var E=(this.a.width>>1)-(this.nb>>1)+(this.Kb<<1);var F=(this.a.height>>1)-(this.qb>>1)+(this.Lb<<1);f===v.ht&&(C.f=D.f+E,C.l=D.l+E,C.f>C.l&&(E=C.l,C.l=C.f,C.f=E),C.g=D.g+F,C.o=D.o+F,C.g>C.o&&(E=C.o,C.o=C.g,C.g=E));this.hb?(f=this.a.zg(f,C,this.lb,this.C*this.se,this.B*this.se,v.bc,v.Hc,v.rv,this.nb,this.qb,this.Ha&&this.cd,this.Rh,this.yd,this.Sk,this.Uj,this.Vj,this.Tk,this.di,this.qc),f[0]/=this.se):(D=v.rI,this.Ic&&(D=0),f=this.a.zg(f,C,this.lb,
this.C,this.B-D,v.bc,v.Hc,v.rv,this.nb,this.qb,this.Ha&&this.cd,this.Rh,this.yd,this.Sk,this.Uj,this.Vj,this.Tk,this.di,this.qc));this.qc&&!b?(24<this.a.zoom&&(A=3),1<this.Ca&&(A=1),this.a.zoom=(this.a.zoom*(A-1)+f[0])/A,this.a.wa=(this.a.wa*(A-1)+f[1])/A,this.a.pa=(this.a.pa*(A-1)+f[2])/A,b=this.a.zoom>q?this.a.zoom/q-1:q/this.a.zoom-1,w=this.a.wa>w?this.a.wa-w:w-this.a.wa,z=this.a.pa>z?this.a.pa-z:z-this.a.pa,this.Fm=b,w>this.Fm&&(this.Fm=w),z>this.Fm&&(this.Fm=z),.01>=this.Fm&&(this.a.zoom=f[0],
this.a.wa=f[1],this.a.pa=f[2])):(this.sm=this.a.width/2-this.a.wa,this.tm=this.a.height/2-this.a.pa,this.Jn=this.a.zoom,this.rm=this.a.angle,this.ik=this.a.width/2-f[1],this.Zm=this.a.height/2-f[2],this.Cl=f[0],this.ko=this.rm,this.Kr=WaypointConstants.To,l?this.Wg=0:(this.Wg=WaypointConstants.To,this.XA()));this.Bc&&(this.Bc.current=this.Zj([this.a.zoom,this.a.zoom],!1,this));this.Bd&&(this.Bd.current=this.$r([this.a.angle,this.a.angle],!1,this))};k.prototype.YG=function(b,l){-1!==this.a.sa&&this.Mg?
(this.Kc=(this.a.width>>1)+this.Kb,this.Lc=(this.a.height>>1)+this.Lb):(this.Kc=Math.round((this.a.width-b)/2)+this.Kb,this.Lc=Math.round((this.a.height-l)/2)+this.Lb);!this.Ha&&this.a.pb||!this.P.yj||-1===this.a.h||(this.Ha=this.cd=!0)};k.prototype.Cr=function(b){var l=b;0>b&&(b=-b);var f=b+String();1E9<=b?f="1B+":1E8<=b?f=(b/1E6|0)+"M":1E7<=b?f=(Math.floor(Number(b/1E5))/10).toFixed(1)+"M":1E6<=b?f=(Math.floor(Number(b/1E4))/100).toFixed(2)+"M":1E5<=b&&(f=(b/1E3|0)+"K");0>l&&(f="-"+f);return f};
k.prototype.wp=function(b,l){var f=this.s.xk,q=this.s.yk;l=b+l;var w=-this.a.angle,z=Math.sin(w/180*Math.PI);w=Math.cos(w/180*Math.PI);0>l?l=0:1<l&&(l=1);b=v.bc*Math.pow(v.Hc/v.bc,b);l=v.bc*Math.pow(v.Hc/v.bc,l);l<v.bc?l=v.bc:l>v.Hc&&(l=v.Hc);f-=this.C/2;q-=this.B/2;f=(f-l/b*f)/l;b=(q-l/b*q)/l;this.a.wa-=f*w+b*-z;this.a.pa-=f*z+b*w;l=Math.log(l/v.bc)/Math.log(v.Hc/v.bc);this.Bc.current=this.Zj([l,l],!0,this)};k.prototype.xw=function(b,l){var f=v.kg;b.a.ya&&(f=4*b.a.Wb.ed+1,-1!==b.a.sa&&(f+=2*b.a.Wb.ed),
b.a.Wb.type===this.P.sg&&(f=-1!==b.a.sa?f+b.a.ra/2:f+(b.a.H.o-b.a.H.g+1)/2),f<v.kg&&(f=v.kg));for(;b.a.OG(l,f);)b.Ae+=b.a.width>>2,b.Ai+=b.a.height>>2,b.Ge+=b.a.width>>2,b.Ui+=b.a.height>>2,b.a.R&&(b.Ae-=b.a.height>>3,b.Ge-=b.a.height>>3),b.Kc+=b.a.width>>2,b.Lc+=b.a.height>>2,l.f+=b.a.width>>2,l.l+=b.a.width>>2,l.g+=b.a.height>>2,l.o+=b.a.height>>2};k.prototype.UB=function(b){var l=!1,f=b.Eb,q=b.Rl,w=(b.a.width>>1)-(b.nb>>1)+(b.Kb<<1),z=(b.a.height>>1)-(b.qb>>1)+(b.Lb<<1);q.f=f.f+w;q.g=f.g+z;q.l=
f.l+w;q.o=f.o+z;b.xw(b,q);w=(b.a.width>>1)-(b.nb>>1);z=(b.a.height>>1)-(b.qb>>1);0>f.f+w&&(f.f=-w,l=!0);f.f+w>=b.a.width&&(f.f=b.a.width-1-w,l=!0);0>f.l+w&&(f.l=-w,l=!0);f.l+w>=b.a.width&&(f.l=b.a.width-1-w,l=!0);0>f.g+z&&(f.g=-z,l=!0);f.g+z>=b.a.height&&(f.g=b.a.height-1-z,l=!0);0>f.o+z&&(f.o=-z,l=!0);f.o+z>=b.a.height&&(f.o=b.a.height-1-z,l=!0);return l};k.prototype.lL=function(b){b.Og.current=b.Rj/b.Nn*100;b.Og.c=!1;b.Xe.ye=0};k.prototype.mL=function(b,l){b.Og.current=b.a.v/l*100;b.Og.c=!1;b.Xe.ye=
0};k.prototype.kL=function(b){var l=!1,f=!1,q=0;b.Gc||-1===b.Va||(l=!0);!b.Je&&b.Wc&&(f=!0);if(l||f){var w=!1;if(f&&l)q=b.elapsedTime/b.S.RH(b.Va);else if(f){if(l=b.S.JI().xd)q=b.elapsedTime/l,1<q&&(w=!0)}else 0<b.Va&&(q=b.a.v/b.Va);1<q&&(q=1);b.Og.current=100*q}else w=!0;(b.Og.c=w)?b.Xe.ye=b.i.ye:b.Xe.ye=0};k.prototype.LH=function(){this.Nk.gH(this.a.width/2-this.a.fe,this.a.height/2-this.a.ge,this.a.ja,this.a.eb,this.a.C,this.a.B,this.a.Sd,this.a.Ee[0])};k.prototype.zE=function(){var b=this.i.hh-
this.C/2,l=this.i.Fj-this.B/2,f=this.Lc-this.a.pa,q=this.Kc-this.a.wa-(this.a.R?this.a.pa/2:0),w=this.a.zoom;var z=this.a.zoom*(this.a.$&&4<=w?v.Xi:1);var A=-1;-1!==this.i.hh&&(0!==this.a.eb&&(A=Math.sqrt(b*b+l*l),l=180/Math.PI*Math.atan2(l,b),l-=this.a.eb,b=A*Math.cos(Math.PI/180*l),l=A*Math.sin(Math.PI/180*l)),z=l/z-f+this.a.Nb,b=b/w+(this.a.R?f/2+z/2:0)-q+this.a.Pb,this.a.$&&(b-=this.a.zoom/32*.2),q=b-Math.floor(b),f=z-Math.floor(z),b-=q,z-=f,this.a.$&&(0===(b+this.Kc+z+this.Lc&1)?1<q+f&&(b+=1):
1>1-q+f&&(b+=1)),A=this.a.getState(b+this.Kc,z+this.Lc,this.cd&&this.Ha));return A};k.prototype.fv=function(b,l){var f=b-this.C/2,q=l-this.B/2;l=this.Lc-this.a.pa;var w=this.Kc-this.a.wa-(this.a.R?this.a.pa/2:0),z=0,A=0,C=0,D=0,E=this.a.zoom,F=this.a.zoom*(this.a.$&&4<=E?v.Xi:1);-1!==b&&(0!==this.a.eb&&(b=Math.sqrt(f*f+q*q),q=180/Math.PI*Math.atan2(q,f),q-=this.a.eb,f=b*Math.cos(Math.PI/180*q),q=b*Math.sin(Math.PI/180*q)),z=q/F-l+this.a.Nb,A=f/E+(this.a.R?l/2+z/2:0)-w+this.a.Pb,this.a.$&&(A-=this.a.zoom/
32*.2),D=A-Math.floor(A),C=z-Math.floor(z),A-=D,z-=C);this.a.$&&(0===(A+this.Kc+z+this.Lc&1)?1<D+C&&(A+=1):1>1-D+C&&(A+=1));this.tj=A+this.Kc;this.uj=z+this.Lc};k.prototype.Au=function(b,l,f,q,w){var z=Math.abs(f-b),A=Math.abs(q-l),C=b<f?1:-1,D=l<q?1:-1,E=z-A,F=this.a.width,G=this.a.height,H;for(H=0|this.Uc(b,l,w);F!==this.a.width;)F<<=1,G<<=1,b+=F>>2,l+=F>>2,f+=F>>2,q+=F>>2,this.Ae+=F>>2,this.Ai+=G>>2,this.Ge+=F>>2,this.Ui+=G>>2,this.a.R&&(this.Ae-=G>>3,this.Ge-=G>>3),this.Kc+=F>>2,this.Lc+=G>>2;
for(;b!==f||l!==q;){var I=E+E;I>-A&&(E-=A,b+=C);I<z&&(E+=z,l+=D);for(H|=this.Uc(b,l,w);F!==this.a.width;)F<<=1,G<<=1,b+=F>>2,l+=F>>2,f+=F>>2,q+=F>>2,this.Ae+=F>>2,this.Ai+=G>>2,this.Ge+=F>>2,this.Ui+=G>>2,this.a.R&&(this.Ae-=G>>3,this.Ge-=G>>3),this.Kc+=F>>2,this.Lc+=G>>2}return H};k.prototype.GK=function(){var b=170,l=this.Re.Cz,f=this.Re.im,q=this.uq.im;this.oq.setPosition(Menu.ka,0,b-48);this.Cg.NK(b-48);this.Re.setPosition(Menu.ka,f,b);this.uq.setPosition(Menu.ka,q,b);b+=l;this.li.setPosition(Menu.ka,
f,b);this.pq.setPosition(Menu.ka,q,b);b+=l;"Oscillator"!==this.ub||this.Of||(this.ej.setPosition(Menu.ka,f,b),this.nq.setPosition(Menu.ka,q,b),b+=l);this.ki.setPosition(Menu.ka,f,b);this.vt.setPosition(Menu.ka,q,b);b+=l;"Spaceship"!==this.ub||this.a.R||this.a.$||(this.mi.setPosition(Menu.ka,f,b),this.wt.setPosition(Menu.ka,q,b),b+=l);"Still Life"!==this.ub&&(this.pi.setPosition(Menu.ka,f,b),this.yt.setPosition(Menu.ka,q,b),b+=l,this.Of||this.a.R||this.a.$||(this.oi.setPosition(Menu.ka,f,b),this.xt.setPosition(Menu.ka,
q,b),b+=l));"Spaceship"===this.ub&&(this.a.R||this.a.$||(this.ri.setPosition(Menu.ka,f,b),this.zt.setPosition(Menu.ka,q,b),b+=l),this.si.setPosition(Menu.ka,f,b),this.sq.setPosition(Menu.ka,q,b),b+=l);"Still Life"!==this.ub&&(this.ni.setPosition(Menu.ka,f,b),this.rq.setPosition(Menu.ka,q,b),b+=l);"Oscillator"!==this.ub||this.Of||(this.ti.setPosition(Menu.ka,f,b),this.tq.setPosition(Menu.ka,q,b),b+=l,this.fj.setPosition(Menu.ka,f,b),this.Hx.setPosition(Menu.ka,q,b))};k.prototype.oL=function(b){var l=
0;this.Pd[this.sd]=b;this.sd+=1;this.sd>=v.cJ&&(this.sd=0);for(b=0;b<this.Pd.length;b+=1)l+=this.Pd[b];l/=this.Pd.length;this.zd.Ma=String(Math.round(l));this.zd.c=!1};k.prototype.Bw=function(){var b;for(b=0;b<this.Pd.length;b+=1)this.Pd[b]=0;this.sd=0;this.zd.c=!0};k.prototype.MK=function(){var b=this.i.hh-this.C/2,l=this.i.Fj-this.B/2,f=this.Lc-this.a.pa,q=this.Kc-this.a.wa-(this.a.R?this.a.pa/2:0),w=this.a.zoom,z=this.a.zoom*(this.a.$&&4<=w?v.Xi:1);var A=9999<this.a.ga?99999:9999;if(-1===this.i.hh)this.cj.Ma=
"",this.cj.c=!this.Vg;else{if(0!==this.a.eb){var C=Math.sqrt(b*b+l*l);l=180/Math.PI*Math.atan2(l,b);l-=this.a.eb;b=C*Math.cos(Math.PI/180*l);l=C*Math.sin(Math.PI/180*l)}z=l/z-f+this.a.Nb;b=b/w+(this.a.R?f/2+z/2:0)-q+this.a.Pb;this.a.$&&(b-=this.a.zoom/32*.2);q=b-Math.floor(b);f=z-Math.floor(z);b-=q;z-=f;this.a.$&&(0===(b+this.Kc+z+this.Lc&1)?1<q+f&&(b+=1):1>1-q+f&&(b+=1));f=this.a.getState(b+this.Kc,z+this.Lc,this.cd&&this.Ha);b+=this.Kb;z+=this.Lb;-1===this.a.sa||this.Mg||(b-=Math.floor((-1===this.Qj?
this.nb:this.Qj)/2),z-=Math.floor((-1===this.Pj?this.qb:this.Pj)/2));b=b<-A||b>A?Number(b/1E3).toFixed(1)+"K":String(b);A=z<-A||z>A?Number(z/1E3).toFixed(1)+"K":String(z);this.cj.Ma=b+","+A+"="+f;this.cj.c=!1}this.cj.enabled=this.Vg||!this.Ua&&-1!==this.i.hh?this.ha||this.Yb||0===this.nb?!1:!0:!1;this.tb||this.xj?(this.km.enabled=!0,b=this.Eb.l>this.Eb.f?this.Eb.l-this.Eb.f+1:this.Eb.f-this.Eb.l+1,z=this.Eb.o>this.Eb.g?this.Eb.o-this.Eb.g+1:this.Eb.g-this.Eb.o+1,this.km.Ma=b+" x "+z):this.km.enabled=
!1};k.prototype.GJ=function(b){if(!this.Ic&&!this.hb)if(0<this.ha)0<b?this.Nu(this,b/125*3):this.Mu(this,-b/125*3);else if(0<this.Yb)0<b?this.Lu(this,b/125*3):this.Ku(this,-b/125*3);else if(!this.Cd){var l=this.Bc.current[0];this.wp(l,b/125*.05)}};k.prototype.fL=function(b){var l=b.a.v,f=" ";if(b.a.ia||b.a.D)l=b.a.Hf;b.mk?(0>l&&(f=""),b.Xe.lower[0]="+"+f+b.Cr(l),b.Xe.w=["toggle generation statistics\ngeneration +"+l]):(0>l+b.Oh&&(f=""),b.Xe.lower[0]="T"+f+b.Cr(l+b.Oh),b.Xe.w=["toggle generation statistics\ngeneration "+
(l+b.Oh)]);b.a.ia?(b.Lf.Ma=b.a.v,b.Lf.w="absolute generation "+b.a.v):b.mk?(1E9<=l?b.Lf.Ma="1B+":b.Lf.Ma=l,b.Lf.Ma=l,b.Lf.w="generation "+l):(l+=b.Oh,1E9<=l?b.Lf.Ma="1B+":b.Lf.Ma=l,b.Lf.w="absolute generation "+l);b.bn.w=b.Lf.w};k.prototype.yL=function(b,l){var f=l.S.current;var q=!1,w=!1,z=!1,A=!1,C=!1,D,E=l.a.H,F=new BoundingBox(E.f,E.g,E.l,E.o);l.Cd=!1;l.Px&&(l.Px=!1,b=0);l.Ha||l.kL(l);l.Ca=l.Kd.current[0];l.Ua?(b>v.cI&&(w=!0),b>v.YE&&(b=v.YE),!l.Ua||l.Wc&&!l.Je||(l.kh+=l.Ca*l.eg*b/1E3,l.lb+=l.eg*
b/1E3,(l.lb|0)>l.a.v?(l.lb+=l.Ca-1,l.Yh=!0):l.elapsedTime+=b)):l.Yh&&(C=!0,l.lb=l.bA?l.a.v+1:l.a.v+l.Ca,l.kh=l.lb);l.YA();l.Wc&&!l.Je&&l.Ua?(l.Dg&&!l.S.IB(l.elapsedTime+b)&&(l.Dg=!1,l.elapsedTime=l.S.pH(l.a.width/2-l.a.wa,l.a.height/2-l.a.pa,l.a.zoom,l.a.angle,l.a.M,l.a.le*v.Sm,l.a.pf,l.eg,l.Ca,l.a.v,l.elapsedTime)),f.tf&&(l.zg(!0,!1,v.kk),l.Dg=!1,f.x=l.a.width/2-l.a.wa,f.y=l.a.height/2-l.a.pa,l.hb&&(l.a.zoom*=l.se),f.zoom=l.a.zoom),(z=l.S.update(l,l.elapsedTime+b,l.a.v))?(f.tf&&(f.tf=!1,l.hb&&(l.a.zoom=
f.zoom/l.se),l.Bc&&(l.Bc.current=l.Zj([l.a.zoom,l.a.zoom],!1,l))),l.lb+=l.eg*b/1E3,(l.lb|0)>l.a.v&&(l.lb+=l.Ca-1,l.Yh=!0)):(l.Ua&&(l.Cd=!0),l.a.wa=l.a.width/2-f.x,l.a.pa=l.a.height/2-f.y,l.a.zoom=f.zoom,l.hb&&(l.a.zoom=l.a.zoom/l.se),l.Bc&&(l.Bc.current=l.Zj([l.a.zoom,l.a.zoom],!1,l)),l.a.angle=f.angle,l.Bd&&(l.Bd.current=[l.a.angle,l.a.angle]),l.a.M=f.M,l.Wd&&(l.Wd.current=[l.a.M,l.a.M]),l.a.le=f.depth/v.Sm+v.Tt,l.Yc&&(l.Yc.current=[Math.sqrt(l.a.le),l.a.le*v.Sm]),l.eg=f.tc,l.Zb&&(l.Zb.current=[Math.sqrt((f.tc-
v.Fg)/(v.Ql-v.Fg)),l.yC(f.tc)]),l.Ca=f.step,l.Kd.current=[l.Ca,l.Ca],f.kc>l.a.v?(l.Yh=!0,l.lb=f.kc):l.Yh=!1,f.Ef!==l.Jq&&(""===f.Ef?l.s.notification.clear(!1,!1):l.s.notification.L(ScriptParser.op(this,f.Ef),21600,!1),l.Jq=f.Ef),f.vc!==l.by&&(l.mm(f.vc,l.a.ql,l),l.by=f.vc)),l.Yh||(l.elapsedTime+=b)):l.qc&&l.Ua&&(l.Cd=!0);l.Cd&&(l.Wg=-1);f=0;if(l.Yh){if(l.a.aa){var G=performance.now();var H=(l.lb|0)-l.a.v;for(D=0;!A&&l.a.v<(l.lb|0);){f=performance.now()-G;if(l.a.v===l.Rb-1&&!l.Ie||f>v.rF&&!C)l.a.v!==
l.Rb-1||l.Ie?A=l.nl:A=!0;l.a.Tc&&l.wb("reverse playback");F.set(E);l.Vg&&(l.a.v===(l.lb|0)-1||A)?l.a.$e(!0,l.oe,l.Ec,l.Sb):l.a.$e(!1,l.oe,l.Ec,l.Sb);D+=1;(l.a.Pk||l.zG()||l.a.v===(l.lb|0)||A)&&!(0===l.a.aa&&2<l.a.h)&&(l.a.We(),l.Ki(),l.Aj||l.a.v<=l.uk)&&(l.a.aa=1);0===l.a.aa&&E.set(F);l.uK(b,H);-1!==l.Va&&l.a.v>=l.Va&&!l.Gc&&(l.elapsedTime=0,l.reset(l),l.Te&&l.$f&&(l.Db.current=l.Yd(v.Ze,!0,l),l.s.notification.L("LOOP reached - Play to continue ",180,!0)),z&&(l.Cd=!0));l.a.aa||(A=!0)}l.a.aa||(l.ox=
l.J+(0<l.a.h?l.a.h:0),-1===l.Bi&&(l.Bi=l.a.v,l.a.D||l.a.Y?l.a.Gp(!1):l.a.Gp(!0),!l.oo||-1!==l.Va&&!l.Gc||l.Ym||l.s.notification.L("Life ended at generation "+l.Bi,600,!0)));l.lb-=H-D;0>l.lb&&(l.lb=0,l.kh=0);D<H&&(l.a.v!==l.Rb||l.Ie)&&l.Oi?l.oL(D):l.Bw()}else l.Bw(),l.ox&&(--l.ox,b=l.a.v,l.a.v=l.Bi,l.a.We(),l.a.v=b),l.a.v+=l.Ca,-1!==l.Va&&l.a.v>=l.Va&&!l.Gc&&(l.elapsedTime=0,l.reset(l),z&&(l.Cd=!0));l.a.v!==l.Rb||l.Ie||(l.Db.current=l.Yd(v.Ze,!0,l),l.oo&&l.s.notification.L("STOP reached - Play to continue ",
180,!0))}else l.Bw();l.Yh&&!l.Ua&&l.wb("");l.Bd.locked=l.Cd&&l.Wc||l.a.R||l.a.$;l.vi.locked=l.Cd&&l.Wc;l.jk.locked=l.Cd||l.qc&&l.Ua;l.Zb.locked=l.Cd&&l.Wc;l.Kd.locked=l.Cd&&l.Wc;l.fi.locked=l.Cd&&l.Wc;l.Bc.locked=l.Cd;l.Wd.locked=l.Cd&&l.Wc||l.a.R&&l.a.te||l.a.$;l.Yc.locked=l.Cd&&l.Wc||l.a.R&&l.a.te||l.a.$;l.wheelDelta&&(l.GJ(l.wheelDelta),l.wheelDelta=0);l.CE(l,w,f,C);l.Yh=!1;l.bA=!1;if(l.Ua||l.qc&&l.Fm>l.IG||-1!==l.Wg)q=!0;l.s.Qg(q)};k.prototype.CE=function(b,l,f,q){b.qc&&(b.Ua||b.Wc)&&b.zg(!1,
!1,v.kk);b.a.QJ(b.Zp,b.bi);b.bi&&b.LH();b.Zp&&b.s.Qg(!0);b.a.ct();b.a.te&&b.a.R&&4<=b.a.zoom?b.a.JH():b.a.$&&4<=b.a.zoom&&b.a.NH();b.Ar&&(2===b.Ar&&b.a.dt(b.Lg,1,!0,b.hb,b),b.MG(b),2===b.Ar&&b.a.ct(),b.Ar=0);b.a.KH(b);b.a.v&&b.a.aa&&(b.Rl.f=b.a.H.f,b.Rl.g=b.a.H.g,b.Rl.l=b.a.H.l,b.Rl.o=b.a.H.o,b.xw(b,b.Rl));b.ai&&b.S.dx(b);!b.Rc||b.he||b.Tf||b.a.dt(b.Lg,b.qd,!1,b.hb,b);b.ha?Help.gx(b):b.fd.length&&Help.fx(b);b.fL(b);b.Xm.Ma=b.GG(b.elapsedTime);b.dm.Ma=b.Cr(b.a.ma);b.gt()?b.sj.Ma=(100*b.a.ma/(b.a.ra*
b.a.ua)|0)+"%":(b.sj.Ma=b.Cr(b.a.Gb),b.xl.Ma=b.Cr(b.a.Xb));b.dm.w="alive "+b.a.ma;b.gt()?b.sj.w="density "+(100*b.a.ma/(b.a.ra*b.a.ua)|0)+"%":(b.sj.w="births "+b.a.Gb,b.xl.w="deaths "+b.a.Xb);b.Oi?b.eL(f,l,q,b):(b.Zb.Nc=b.jk.Nc,b.Kd.Nc=b.jk.Nc);b.MK();-1!==b.Wg&&b.XA();b.gL();b.qL();b.hL();b.rL(b.ha||b.fd.length);!b.Pc.current[0]||b.zj&&b.Ua||(b.uc.globalAlpha=.5,b.uc.fillStyle="black",b.uc.fillRect(0,0,b.Oc.width,b.Oc.height),b.uc.globalAlpha=1)};k.prototype.eL=function(b,l,f,q){b>v.rF&&!f?(q.Mi+=
v.kE,q.Mi>=2*v.dz&&(q.Mi=0)):0<q.Mi&&(q.Mi-=v.kE);l&&!f?q.Ni<v.lJ&&(q.Ni+=v.lE):q.Ni>v.mJ&&(q.Ni-=v.lE);q.Mi>=v.dz&&(q.NL=2*v.dz-q.Mi);b=q.Xn>>16;l=q.Xn>>8&255;f=q.Xn&255;128<=b?64<=l||64<=f?(l-=q.Ni,f-=q.Ni,0>l&&(l=0),0>f&&(f=0)):(l+=q.Ni,255<l&&(l=255)):(b+=q.Ni,255<b&&(b=255));q.Zb.Nc="rgb("+b+","+l+","+f+")";b=q.Xn>>16;l=q.Xn>>8&255;f=q.Xn&255;128<=l?(b-=q.Ni,0>b&&(b=0),f-=q.Mi,0>f&&(f=0)):(l+=q.Mi,255<l&&(l=255));q.Kd.Nc="rgb("+b+","+l+","+f+")"};k.prototype.YA=function(){if(this.yd&&!this.df){this.a.Pb=
this.kh*(this.Uj+this.Tk)/2;this.a.Nb=this.kh*(this.Sk+this.Vj)/2;var b=this.a.NF(0,this.Sk,this.Uj,this.Vj,this.Tk,this.C,this.B-80,v.bc,v.Hc,v.rv);var l=this.a.NF(this.kh,this.Sk,this.Uj,this.Vj,this.Tk,this.C,this.B-80,v.bc,v.Hc,v.rv);this.a.Jc=l/b}else this.a.Pb=0,this.a.Nb=0,this.a.Jc=1;this.Bc.current=this.Zj([this.a.zoom,this.a.zoom],!1,this)};k.prototype.rL=function(b){var l=!(this.ha&&this.Hl===v.Vk),f,q=0,w=[],z=[],A=this.Pc.current[0];this.Db.Ag[1]=this.oe||0===this.a.v&&(!this.a.ia&&!this.a.D||
null===this.a.yc)?!0:!1;var C=b||!this.Oj;for(f=0;f<=this.a.af;f+=1)this.A[f].c=C;this.bl.c=C;this.$k.c=C;this.cl.c=C;this.al.c=C;C=b||!this.Qi||"Empty"===this.ub||"none"===this.ub;this.Cg.c=b||!this.Qi;this.oq.c=C;this.Re.c=C;this.li.c=C;this.ki.c=C;this.mi.c=C||"Spaceship"!==this.ub||this.a.R||this.a.$;this.pi.c=C||"Still Life"===this.ub;this.oi.c=C||"Still Life"===this.ub||this.Of||this.a.R||this.a.$;this.ej.c=C||"Oscillator"!==this.ub||this.Of;this.ri.c=C||"Spaceship"!==this.ub||this.a.R||this.a.$;
this.si.c=C||"Spaceship"!==this.ub;this.ni.c=C||"Still Life"===this.ub;this.ti.c=C||"Oscillator"!==this.ub||this.Of;this.fj.c=C||"Oscillator"!==this.ub||this.Of;this.uq.c=C;this.pq.c=C;this.vt.c=C;this.wt.c=C||"Spaceship"!==this.ub||this.a.R||this.a.$;this.yt.c=C||"Still Life"===this.ub;this.xt.c=C||"Still Life"===this.ub||this.Of||this.a.R||this.a.$;this.nq.c=C||"Oscillator"!==this.ub||this.Of;this.zt.c=C||"Spaceship"!==this.ub||this.a.R||this.a.$;this.sq.c=C||"Spaceship"!==this.ub;this.rq.c=C||
"Still Life"===this.ub;this.tq.c=C||"Oscillator"!==this.ub||this.Of;this.Hx.c=C||"Oscillator"!==this.ub||this.Of;this.zn.locked=this.pc===this.rn;this.Wj.locked=1>=this.pc||"undo "===this.Wj.w;this.vi.c=b;this.Bc.c=b;this.jk.c=b;this.Qh.c=b;this.Hm.c=b;this.vm.c=b;this.Yg.c=b;this.Pl.c=b;this.td.c=b;C=(this.eo.c=b)||!this.Rc||this.he||this.Tf||A;this.Ko.c=C;this.dj.c=C;this.Eo.c=C;C=b||this.Rc||this.Tf||A;(this.a.ia||this.a.D)&&null!==this.a.yc&&(this.Wp.c=C);this.bn.c=b;this.Lf.c=b;this.Qd.c=b;this.Xm.c=
b;this.jd.c=b;C=(this.dm.c=b)||this.nv();this.rj.c=C;C=(this.sj.c=C)||this.gt();this.gd.c=C;this.xl.c=C;this.jm.c=b;this.jk.c=b;this.hg.c=b||!this.Rk;this.K.c=!(this.ke||this.fd.length);this.jl.Ma=this.Ik||this.Jk||this.Kk||this.Lk||this.Oj?"Back":"Close";C=(this.jl.c=b)||this.Oj;this.Yc.c=C;this.Bd.c=C;this.Wd.c=C;C=b||this.Oj||this.Ik||this.Jk||this.Lk||this.Kk;this.br.c=C;this.fi.c=C;this.vq.c=C;this.Xp.c=C;this.gu.c=C;this.Fl.c=C;C=b||!this.Kk;this.kj.c=C;this.lj.c=C;this.jj.c=C;this.ij.c=C;this.Yo.c=
C;this.uo.c=C;C=b||!this.Jk;this.no.c=C;this.Pr.c=C;this.vo.c=C;this.ap.c=C;this.ap.locked=!this.lk;this.sr.c=C;C=b||!this.Ik;this.Jl.c=C;this.Dp.c=C;this.Cj.c=C;this.lp.c=C;this.Nl.c=C;this.Wo.c=C;this.$n.c=C;this.Em.c=C;C=b||!this.Lk;this.to.c=C;this.ym.c=C;this.om.c=C;this.yo.c=C;this.Ap.c=C;C=this.a.$a||!this.ta;this.Yo.locked=C;this.uo.locked=C;this.vh.c=b||!(this.Ik||this.Jk||this.Lk||this.Kk);this.vh.Ma=this.Ik?"Display":this.Jk?"Advanced":this.Lk?"Playback":this.Kk?"Pattern":"";this.yo.locked=
-1!==this.a.Nd||this.a.cu||this.a.ya&&!(1===this.a.Wb.ed&&this.a.Wb.type===this.P.Pf&&2===this.a.Wb.Dn)||this.a.$||this.a.De;this.fi.locked=this.cd||this.a.$a||this.a.Y;this.Cj.locked=this.a.R&&this.a.te||this.a.$;this.Jl.locked=!this.a.R;C=b||0===this.S.nc.length||A;this.Pq.c=C;this.pr.c=C;C=b||!this.$c||this.he||this.Tf||this.Rc;this.Se.c=C;this.dc.c=C;this.kf.c=C;this.lc.c=C;this.Ke.c=C;this.Na.c=C;this.gj.c=C;this.ih.c=C;this.lh.c=C;this.nh.c=C;this.jh.c=C;this.ab.c=C;this.rb.c=C;this.Fb.c=C;
this.fb.c=C;this.fd.length?(this.K.w="close errors",this.K.Ma="Esc",this.K.Oa("16px Arial"),this.K.Nc=this.vi.Nc):(this.K.w="close window",this.K.Ma="X",this.K.Oa("24px Arial"),this.K.Nc="red");this.wh.c=!(this.ha&&this.Hl!==v.Vk);this.fa.c=!(this.ha&&this.Hl!==v.Vk)||!this.Dr;this.Oe.c=l;this.Pe.c=l;this.Ne.c=l;this.Qe.c=l;this.Me.c=l;this.we.c=l;this.hd.c=l;this.xe.c=l||0===this.S.Ho();this.qh.c=!(this.ha&&this.Hl!==v.Vk)||this.Dr;if(this.mj){this.mj=!1;q=this.fa.y;for(f=0;f<this.ba.length&&q<this.B-
66*this.i.zh;)w[f]=this.ba[f][1],z[f]="",q+=26*this.i.zh,f+=1;this.fa.lower=w;this.fa.w=z;this.fa.BK(26*w.length);this.fa.current=0}C=b||!this.Tf||A;this.Nf.c=C;this.Gm.c=C;this.nn.c=C;this.Ip.c=C;this.wn.c=C;this.vn.c=C;this.be.c=C;this.ce.c=C;this.uf.c=C;C=b||!this.Tf||A;this.qf.c=C;this.rf.c=C;this.sf.c=C;this.lf.c=C;this.de.c=C;this.ve.c=C;this.Mf.c=C;this.wf.c=C;this.La.c=C;this.ae.c=C;this.$d.c=C;this.Dc.c=C||!this.a.pb;this.W.c=C;this.Dk.c=C;C=b||!this.Tf||A||2>=this.a.h||this.a.$a;this.kd.c=
C||this.a.D;C=this.Ha;this.wn.locked=C;this.vn.locked=C;C=!this.tb;this.be.locked=C;C=!(this.tb||this.ad)||this.Ha;this.W.bg(C);this.kd.bg(C);this.Dk.bg(C);this.qf.bg(C);this.rf.bg(C);this.sf.bg(C);this.lf.bg(C);this.de.bg(C);this.ve.bg(C);this.Mf.bg(C);this.wf.bg(C);this.La.bg(C);this.ae.bg(C);this.$d.bg(C);this.Dc.bg(C);C=!this.tb||this.Ha;this.ce.locked=C;C=!this.Ep||this.ad||null===this.zf[this.ag]||this.Ha;this.uf.locked=C;C=b||!this.he||!this.Er||A;this.vd.c=C;this.j.c=C;if(2>=this.a.h&&!this.a.Y)for(f=
0;f<this.j.lower.length;f+=1)2>=f?0===f?q=f:q=1===f?LifeConstants.sb:LifeConstants.gk:q=128+v.Ja[f],this.j.Im[f]="rgb("+this.a.Sa[q]+","+this.a.Qa[q]+","+this.a.Pa[q]+")";else for(f=0;f<this.j.lower.length;f+=1)q=0===f+this.Sg?0:this.a.D||this.a.Y?f+this.Sg+this.J:this.J+this.a.h-(f+this.Sg),this.j.Im[f]="rgb("+this.a.Sa[q]+","+this.a.Qa[q]+","+this.a.Pa[q]+")";C=b||!this.he||A;this.mh.c=C;this.oh.c=C;this.jp.c=C;this.ig.c=C;this.th.c=b||!this.he||!this.Er||this.a.h<=this.Wh||A;this.a.h>this.Wh&&
this.ol();if(0<this.ha){f=0;for(q=-1;f<this.ba.length&&-1===q;)this.ba[f][0]>this.ha?q=this.ba[f][0]:f+=1;f===this.ba.length&&(q=f);-1!==q&&(this.fa.current=f-1)}this.zj&&(this.i.c=this.Ua?!0:!1)};k.prototype.hL=function(){var b=-(this.a.width/2-this.a.wa-this.a.Pb|0),l=-(this.a.height/2-this.a.pa-this.a.Nb|0),f=String(b),q=String(l);this.Se.c=!this.$c;this.dc.c=!this.$c;this.kf.c=!this.$c;this.lc.c=!this.$c;this.Ke.c=!this.$c;this.Na.c=!this.$c;this.gj.c=!this.$c;this.ih.c=!this.$c;this.lh.c=!this.$c;
this.nh.c=!this.$c;this.jh.c=!this.$c;this.ab.c=!this.$c;this.rb.c=!this.$c;this.fb.c=!this.$c;this.Fb.c=!this.$c;if(-99999>b||99999<b)f=(b/1E3|0)+"K";if(-99999>l||99999<l)q=(l/1E3|0)+"K";this.dc.Ma=f;this.lc.Ma=q;this.Na.Ma=this.a.angle.toFixed(0)+"\u00b0";this.ab.Ma=this.Gs.toFixed(3);this.rb.Ma=this.Is.toFixed(3);this.Fb.Ma=this.Js.toFixed(3);this.fb.Ma=this.Hs.toFixed(3)};k.prototype.qL=function(){0===this.a.v?this.Js=this.Gs=this.Is=this.Hs=0:(this.Is=(this.a.H.o-this.a.xf.o)/this.a.v,this.Hs=
(this.a.H.g-this.a.xf.g)/this.a.v,this.Gs=(this.a.H.l-this.a.xf.l)/this.a.v,this.Js=(this.a.H.f-this.a.xf.f)/this.a.v)};k.prototype.gL=function(){this.vi.current=[this.qc];this.Hm.current=[!this.$f&&this.Te];this.Hm.locked=!this.Te;this.yd?(this.Yg.lower[0]="TRACK",this.Yg.current=[!this.df&&this.yd],this.Yg.locked=!this.yd,this.Yg.w=["toggle track mode"]):(this.Yg.lower[0]="WAYPT",this.Yg.current=[!this.Je&&this.Wc],this.Yg.locked=!this.Wc,this.Yg.w=["toggle waypoint mode"]);this.Pl.current=[!this.Gc&&
-1!==this.Va];this.Pl.locked=-1===this.Va;this.Pl.w=["loop at "+this.Va];this.vm.current=[!this.Ie&&-1!==this.Rb];this.vm.locked=-1===this.Rb;this.vm.w=["stop at "+this.Rb]};k.prototype.uK=function(b,l){if(this.a.v>=this.Aa.length){var f=this.a.m.I(Float32,this.Aa.length+v.ID,"View.elapsedTimes");f.set(this.Aa);this.Aa=f}this.elapsedTime+=b/l;this.Aa[this.a.v]=this.elapsedTime};k.prototype.vL=function(b){var l=b.YK,f=b.Nn-b.Rj;if(b.Rj<b.Nn)if(0<b.Hw)--b.Hw;else if(b.Bt)b.xm.innerHTML=b.Lr,b.Rj=b.Nn;
else{f<l&&(l=f);var q=document.createElement("textarea");b.Bx(q);if(l!==f)for(;"\n"!==b.Lr[b.Rj+l];)--l;q.innerHTML=b.Lr.substr(b.Rj,l);b.Rj+=l;b.xm.appendChild(q)}else b.As||(b.s.notification.L("Press Enter to complete copy",1E4,!0),b.As=!0);b.lL(b);b.a.ct();b.ai&&b.S.dx(b);b.Rc&&b.a.dt(b.Lg,b.qd,!1,b.hb,b);b.ha?Help.gx(b):b.fd.length&&Help.fx(b);b.s.Qg(!0)};k.prototype.xL=function(b){var l=performance.now();for(b.i.locked=!0;b.Sb&&13>performance.now()-l;){b.a.$e(!1,b.oe,b.Ec,b.Sb);b.a.We();b.Ki();
if(b.Aj||b.a.v<=b.uk)b.a.aa=1;var f=b.a.gJ(b.qq);0<f.length&&(f[0]===LifeConstants.PB?(f[0]="Nothing Identified",b.ay="none",b.ub="None",b.Gq="",b.Do="",b.Fq="",b.Gt="",b.zo="",b.Hq="",b.Co="",b.Ao="",b.Iq="",b.Bo="",b.Ft="",b.Ht=""):(b.ay=f[0],b.ub=f[1],"Empty"!==b.ub&&(b.Gq=f[2],b.Do=f[3],b.Fq=f[4],b.Gt=f[5],b.zo=f[6],b.Hq=f[7],b.Co=f[8],b.Ao=f[9],b.Iq=f[10],b.Bo=f[11],b.Ft=f[12],b.Ht=f[13],b.uq.Ma=b.ub,b.pq.Ma=b.zo,b.pq.w=-1===b.zo.indexOf("|")?"":"min | max | average",b.vt.Ma=b.Fq,b.wt.Ma=b.Gq,
b.yt.Ma=b.Co,b.zt.Ma=b.Hq,b.sq.Ma=b.Do,b.sq.w=-1===b.Do.indexOf("|")?"":"simplified | unsimplified",b.rq.Ma=b.Ao,b.rq.w=-1===b.Ao.indexOf("|")?"":"min | max | average",b.Hx.Ma=b.Iq,b.xt.Ma=b.Bo,b.nq.Ma=b.Ft,b.nq.w="rotor | stator | total",b.tq.Ma=b.Ht,b.tq.w="active | rotor"),b.Qi=!0,b.Of=b.qq,b.GK()),b.Sb=!1,b.Ua&&(b.Db.current=b.Yd(v.Ze,!0,b)),b.wb(""),b.oq.Ma=f[0],"Empty"===b.ub||"None"===b.ub?(b.s.notification.L(f[0],240,!1),b.Qi=!1):(b.s.notification.clear(!0,!1),b.s.notification.clear(!1,!1),
b.zg(!0,!1,v.kk)),b.a.At(b.Sb),b.qq=!1,b.i.locked=!1)}b.CE(b,!1,0,!1);b.lb=b.a.v;b.kh=b.a.v;b.s.Qg(!0)};k.prototype.wL=function(b){for(var l=b.Gw,f=performance.now(),q,w=b.a.qg.MI*LifeConstants.Fr;b.a.v<l-1&&13>performance.now()-f;)if(q=l-1-b.a.v<=w?!1:!0,b.a.$e(!1,q,b.Ec,b.Sb),b.a.We(),b.Ki(),b.Aj||b.a.v<=b.uk)b.a.aa=1;if(b.a.v===l-1){b.a.$e(b.Vg,!1,b.Ec,b.Sb);b.a.We();b.Ki();if(b.Aj||b.a.v<=b.uk)b.a.aa=1;b.Om=!1;b.Fw&&b.s.notification.clear(!0,!1);b.i.locked=!1}else b.i.locked=!0;b.mL(b,l);b.a.ct();
b.ai&&b.S.dx(b);b.Rc&&b.a.dt(b.Lg,b.qd,!1,b.hb,b);b.ha?Help.gx(b):b.fd.length&&Help.fx(b);b.s.Qg(!0)};k.prototype.sB=function(b,l){l.Om?l.wL(l):l.Sb?l.xL(l):l.Hp?l.vL(l):l.yL(b,l)};k.prototype.hB=function(b){b.a.v=0;b.a.Hf=0;b.a.Ji=0;b.lb=0;b.kh=0;b.elapsedTime=0;b.a.wa=b.a.width>>1;b.a.pa=b.a.height>>1;b.a.wa&=b.a.width-1;b.a.pa&=b.a.height-1;b.a.aa=1;b.Px=!0;b.Bi=-1};k.prototype.IF=function(b,l,f){l&&(f.bi=b[0]);return[f.bi]};k.prototype.BF=function(b,l,f){l&&(f.Rh=b[0]);return[f.Rh]};k.prototype.EF=
function(b,l,f){l&&(f.a.pk=b[0]);return[f.a.pk]};k.prototype.CF=function(b,l,f){l&&(f.$c=b[0]);return[f.$c]};k.prototype.eB=function(b,l,f){l&&(f.Rc=b[0],f.Rc&&f.td.current!==v.Ul&&(f.td.current=f.Yj(v.Ul,!0,f)));return[f.Rc]};k.prototype.wv=function(b,l,f){l&&(f.a.xi=b[0]);return[f.a.xi]};k.prototype.DF=function(b,l,f){l&&(f.ai=b[0]);return[f.ai]};k.prototype.xF=function(b,l,f){l&&(f.a.nd=b[0]);return[f.a.nd]};k.prototype.wF=function(b,l,f){l&&(f.Dh=b[0],f.Dh&&!f.a.Ub&&(f.he||f.Tf)&&(f.Qh.current=
f.rp([!0],!0,f)));return[f.Dh]};k.prototype.vF=function(b,l,f){l&&(f.a.gl=b[0]);return[f.a.gl]};k.prototype.tB=function(b,l,f){l&&(f.zj=b[0]);return[f.zj]};k.prototype.AF=function(b,l,f){l&&(f.a.te=b[0],f.qF());return[f.a.te]};k.prototype.xv=function(b,l,f){l&&(f.a.If=b[0],f.a.yg=b[0]);return[f.a.If]};k.prototype.jB=function(b,l,f){l&&(f.s.nm=b[0]);f.s.Qg(!0);return[f.s.nm]};k.prototype.Yn=function(b,l,f){l&&(f.s.Mk=b[0]);f.s.Qg(!0);return[f.s.Mk]};k.prototype.mm=function(b,l,f){if(f.a.pf!==b)for(f.a.JK(b,
l,f),1<f.a.ql&&(f.s.Cm=f.a.ql),l=0;l<=this.a.af;l+=1)this.A[l].current=b!==v.tA[l]?[!1]:[!0]};k.prototype.Dm=function(b,l,f){l&&(f.Ca=b[0]+.5|0);return[f.Ca,f.Ca]};k.prototype.yC=function(b){return(10>b.toFixed(1)?b.toFixed(1):b.toFixed(0))+"/s"};k.prototype.Xj=function(b,l,f){l?(f.eg=v.Fg+b[0]*b[0]*(v.Ql-v.Fg),b=b[0]):b=Math.sqrt((f.eg-v.Fg)/(v.Ql-v.Fg));return[b,f.yC(f.eg)]};k.prototype.QE=function(b){b.fp=b.a.zoom;b.hb&&(b.fp=b.fp*b.se);b.Oz=b.a.angle;b.Ge=b.a.wa;b.Ui=b.a.pa};k.prototype.dK=function(b){b.sm=
b.a.width/2-b.a.wa;b.tm=b.a.height/2-b.a.pa;b.Jn=b.a.zoom;b.rm=b.a.angle;b.ik=b.a.width/2-b.Ge;b.Zm=b.a.height/2-b.Ui;b.ko=b.Oz;b.hb?b.Cl=b.fp/b.se:b.Cl=b.fp;b.Wg=0};k.prototype.$J=function(b,l){b.a.zoom=b.qC;b.hb&&(b.a.zoom=b.a.zoom/b.se);b.Bc&&(b.Bc.current=b.Zj([b.a.zoom,b.a.zoom],!1,b));b.a.angle=b.io;b.Bd&&(b.Bd.current=[b.io,b.io]);b.a.wa=b.Ae;b.a.pa=b.Ai;l&&(b.mm(b.Zs,1,b),b.cd&&(b.a.Mm=0),l=Math.sqrt((b.Ww-v.Fg)/(v.Ql-v.Fg)),b.Zb.current=b.Xj([l,l],!0,b),b.Ca=b.Ys,b.Kd.current=[b.Ca,b.Ca],
b.a.M=b.jo,b.Wd.current=[b.jo,b.jo],l=Math.sqrt(b.Vw),b.Yc.current=b.Uk([l,l],!0,b))};k.prototype.zB=function(b){b?(this.a.wa+=this.a.Pb,this.a.pa+=this.a.Nb,this.a.zoom*=this.a.Jc):(this.YA(),this.a.wa-=this.a.Pb,this.a.pa-=this.a.Nb,this.a.zoom/=this.a.Jc,this.YA());this.a.zoom<v.bc?this.a.zoom=v.bc:this.a.zoom>v.Hc&&(this.a.zoom=v.Hc)};k.prototype.EE=function(b){b.elapsedTime=0;b.cd||(b.a.Hu(b.oe),b.a.aa=1,b.a.Gu())};k.prototype.reset=function(b){var l=!1,f=!1;this.Zp&&this.a.OC();0===b.a.v&&b.s.GE();
if(0===b.elapsedTime||b.ot)l=!0;b.Gc||-1===b.Va||b.a.v>=b.Va&&(f=!0);b.a.Sc=!1;b.a.Tc=!1;b.a.Ji=0;f||l||(b.Wc&&(b.Je=!0),b.yd&&(b.df=!0),-1!==b.Va&&(b.Gc=!0),-1!==b.Rb&&(b.Ie=!0),b.rs&&(b.qc=!1));b.elapsedTime=0;b.a.Pb=0;b.a.Nb=0;b.a.Jc=1;if(l){(this.a.ia||this.a.D)&&null!==this.a.yc&&b.Iu&&(b.a.Tc=!0);b.Wc&&(b.Je=!1);b.yd&&(b.df=!1);b.rs&&(b.qc=!0);if(!f||b.Wc||b.qc)b.$J(b,l),b.qc&&b.zg(!0,!1,v.kk);b.Gc=!1;f||(b.Ie=!1)}b.cd||(b.a.Hu(b.oe),b.lb=b.a.v,b.kh=b.lb,b.a.aa=1);b.Ec||b.a.FE();b.a.Gu();b.Jq=
"";b.by=-1;b.Dg=!1;b.S.bK();b.Sb&&(b.Sb=!1,b.s.notification.clear(!0,!1));b.a.At(b.Sb);b.s.notification.clear(!1,!1);b.Bi=-1;b.a.Sq=0;b.Xz(b.a.v);b.Qi=!1;b.OD()};k.prototype.Pu=function(b){var l=this.a.Sc,f;b?b=f="pause":(b="play",this.a.ia||this.a.D?(this.a.Tc&&(l=!l),f=l?"reverse":"play"):f="play");if(this.a.ia||this.a.D){l=this.a.Sc;this.a.Tc&&(l=!l);if(l){var q="stepback";l="stepforward";var w="step back";var z="step forward"}else q="stepforward",l="stepback",w="step forward",z="step back";this.Db.icon[v.Ze]=
this.O.icon(q);this.Db.w[v.Ze]=w;this.Db.icon[v.Go]=this.O.icon(l);this.Db.w[v.Go]=z}this.Db.icon[v.wk]=this.O.icon(f);this.Db.w[v.wk]=b};k.prototype.rh=function(b,l){l.Hl=b;l.ha=1;l.Dr=!0;l.qt=[];l.rt=[];this.mj=!0};k.prototype.fs=function(b){b.rh(v.UC,b)};k.prototype.Vv=function(b){b.rh(v.Rz,b)};k.prototype.qv=function(b){b.rh(v.wq,b)};k.prototype.cw=function(b){b.rh(v.eF,b)};k.prototype.Lt=function(b){b.rh(v.ZB,b)};k.prototype.$m=function(b){b.rh(v.BB,b)};k.prototype.hs=function(b){b.rh(v.tD,b)};
k.prototype.an=function(b){b.rh(v.HB,b)};k.prototype.vv=function(b,l,f){l&&(f.ha=f.ba[b][0],f.Dr=!1);return b};k.prototype.cB=function(b,l,f){l&&(f.oj=b[0],f.oj&&f.ts(f));return[f.oj]};k.prototype.dB=function(b,l,f){l&&(f.wj=b[0],f.wj&&(f.Wu=!0));return[f.wj]};k.prototype.Yj=function(b,l,f){var q=b;if(l){switch(b){case v.Tl:f.So=!1;f.Ha||f.a.$a?q=f.td.current:(f.he=!0,f.mh.current=f.Tj([!1],!0,f),f.Tf=!1);f.xs(f);f.Dh&&(f.Qh.current=f.rp([!0],!0,f));break;case v.Fo:f.he=!1;f.mh.current=f.Tj([!1],
!0,f);f.Tf=!0;f.Dh&&(f.Qh.current=f.rp([!0],!0,f));break;case v.Ul:f.he=!1,f.Tf=!1,f.mh.current=f.Tj([!1],!0,f),f.xs(f),f.Dh&&(f.Qh.current=f.rp([!1],!0,f))}f.qt=[];f.rt=[];f.Pc.current[0]&&(f.Pc.current=f.Sr([!1],!0,f),f.s.uh=!0)}f.Wz(q);return q};k.prototype.Wz=function(b){if(this.ha||this.Yb)this.i.Ou("grab");else switch(b){case v.Tl:this.i.Ou("auto");break;case v.Ul:this.i.Ou("grab");break;case v.Fo:this.i.Ou("crosshair")}};k.prototype.yF=function(b,l,f){l&&(f.ag=b,f.Es(),f.nn.current=[!1],f.s.uh=
!0);return f.ag};k.prototype.fB=function(b,l,f){l&&(f.Zl=b,f.Qc=v.oF[b]);return f.Zl};k.prototype.rH=function(b){b.Ha||(b.Zl+=1,3<b.Zl&&(b.Zl=0),b.vn.current=b.fB(b.Zl,!0,b))};k.prototype.sx=function(b){var l="";this.a.Y||(2>=this.a.h?l=this.a.pb?v.ZE[b]:b?"Alive":"Dead":0===b?l="Dead":this.a.D?(0!==(b&1)&&(l+="N"),0!==(b&2)&&(l+="E"),0!==(b&4)&&(l+="S"),0!==(b&8)&&(l+="W")):l=this.a.Y?"State "+String(b):1===b?"Alive":"Dying "+String(b-1));return l};k.prototype.iB=function(b,l,f){var q=b;l&&(2>=f.a.h?
f.cg=b:(b+=f.Sg,0===b?f.cg=0:f.a.D||f.a.Y?f.cg=b:f.cg=f.a.h-b),f.mh.current=f.Tj([!1],!0,f),f.a.Y?f.s.notification.L("Drawing with state "+b,120,!0):f.s.notification.L("Drawing with state "+b+" ("+f.sx(b)+")",120,!0));return q};k.prototype.Zi=function(b){var l=this.a.h,f=this.Wh;-1===l&&(f=l=2);this.a.pb&&(f=l=7);b<l&&(b>=f?(this.Sg=b-f+1,b=f-1):b>=this.Sg?b-=this.Sg:(this.Sg=b,b=0),this.vd.current=this.iB(b,!0,this))};k.prototype.zv=function(b,l,f){var q=0;if(l)for(;q<b.length;)b[q]&&(b[q]=!1,f.vd.current=
f.iB(q,!0,f)),q+=1;return b};k.prototype.YJ=function(b){var l=0,f=this.cg,q=this.a.Vd;var w=this.Eb;var z=q.f,A=q.l;var C=q.g;q=q.o;var D=(this.a.width>>1)-(this.nb>>1)+(this.Kb<<1);var E=(this.a.height>>1)-(this.qb>>1)+(this.Lb<<1);2<this.a.h&&!this.a.D&&!this.a.Y&&0<b&&(b=this.a.h-b);this.tb&&(z=w.f+D,A=w.l+D,z>A&&(D=A,A=z,z=D),C=w.g+E,q=w.o+E,C>q&&(D=q,q=C,C=D));if(f!==b){for(;C<=q;C+=1)for(w=z;w<=A;w+=1)E=this.a.getState(w,C,!1),2<this.a.h&&!this.a.D&&!this.a.Y&&0<E&&(E=this.a.h-E),E===b&&(this.Uc(w,
C,f),l+=1);0<l&&((this.a.pb&&6===b||6===f)&&this.a.xn(),this.wb("replace states"))}else this.s.notification.L("Cell and drawing state are the same",120,!0)};k.prototype.Aw=function(b,l,f){var q=b.cg,w=b.a.Vd,z=0,A=0;if(0<q)if(2<b.a.h&&!b.a.D&&!b.a.Y&&(q=b.a.h-q),b.a.pb&&1<q&&(A=q&1),b.a.pb&&l)if(f){for(f=w.g;f<=w.o;f+=1)for(l=w.f;l<=w.l;l+=1){var C=b.a.getState(l,f,!1);3<=C&&5>=C&&(b.Uc(l,f,C&1),z+=1)}0<z&&b.wb("clear [R]History marked cells")}else{for(f=w.g;f<=w.o;f+=1)for(l=w.f;l<=w.l;l+=1)C=b.a.getState(l,
f,!1),1<C&&(b.Uc(l,f,C&1),z+=1);0<z&&(this.a.xn(),b.wb("clear [R]History cells"))}else{for(f=w.g;f<=w.o;f+=1)for(l=w.f;l<=w.l;l+=1)C=b.a.getState(l,f,!1),C===q&&(b.Uc(l,f,A),z+=1);0<z&&(b.a.pb&&6===q&&this.a.xn(),b.wb("clear state "+q+" cells"))}return z};k.prototype.Yd=function(b,l,f){var q=b,w=f.Ie,z=f.Gc,A=f.Je,C=f.$f,D=f.qc,E=f.df,F=40,G=0,H=0,I=0,O=0,K=0,M=0,J=0;if(l){f.So=!1;switch(b){case v.oy:f.$f=f.ot||f.Te&&0===f.a.v&&0===f.elapsedTime?!1:!0;f.Te&&!f.$f?(b=v.wk,f.Ua=!0,f.Ym=0===f.a.ma?!0:
!1):(b=v.Ze,f.Ua=!1);f.wb("");f.reset(f);f.Xc=0;l="Reset";!f.Gc&&z&&-1!==f.Va&&(H=1);f.Gc&&!z&&-1!==f.Va&&(H=-1);!f.Ie&&w&&-1!==f.Rb&&(I=1);f.Ie&&!w&&-1!==f.Rb&&(I=-1);!D&&f.qc&&(J=1);D&&!f.qc&&(J=-1);!f.Je&&A&&(O=1);f.Je&&!A&&(O=-1);!f.df&&E&&(K=1);f.df&&!E&&(K=-1);!f.$f&&C&&f.Te&&(M=1);f.$f&&!C&&f.Te&&(M=-1);if(0!==H||0!==I||0!==O||0!==K||0!==M||0!==J)l="",0!==H&&(G+=1,l+="Loop"),0!==I&&(0<G&&(l=0<Math.abs(O)+Math.abs(K)+Math.abs(M)+Math.abs(J)?l+", ":l+" and "),G+=1,l+="Stop"),0!==O&&(0<G&&(l=
0<Math.abs(K)+Math.abs(M)+Math.abs(J)?l+", ":l+" and "),G+=1,l+="Waypoints"),0!==K&&(0<G&&(l=0<Math.abs(M)+Math.abs(J)?l+", ":l+" and "),G+=1,l+="Track"),0!==M&&(0<G&&(l=0!==J?l+", ":l+" and "),G+=1,l+="AutoStart"),0!==J&&(0<G&&(l+=" and "),l+="AutoFit"),l=0<I||0<H||0<O||0<K||0<M||0<J?l+" On":l+" Off",F=120;f.s.notification.L(l,F,!0);break;case v.wk:f.Ua?(f.Ua=!1,f.wb(""),(f.a.v!==f.Rb||f.Ie||f.oo)&&f.s.notification.L("Pause",40,!0)):(f.Wc&&!f.Je&&(f.a.ia||f.a.D)&&(f.a.Sc||!f.a.Sc&&f.a.Tc)&&f.ax(f),
f.Ua=!0,f.wb(""),f.Ym=0===f.a.ma?!0:!1,f.s.notification.L("Play",40,!0));break;case v.Go:if(f.Ua)f.Ua=!1,f.wb(""),f.s.notification.L("Pause",40,!0);else if((f.a.ia||f.a.D)&&null!==f.a.yc){f.a.Tc=!f.a.Tc;f.a.Tc&&f.wb("reverse playback");f.wb("");for(w=0;w<f.Ca;w+=1)f.a.$e(!0,f.oe,f.Ec,f.Sb),f.a.We(),f.lb=f.a.v;f.a.Tc=!0}else 0<f.a.v&&(f.Xz(f.a.v-f.Ca),f.xr(f.a.v-f.Ca));break;case v.Ze:f.Ua?(f.Ua=!1,f.wb(""),(f.a.v!==f.Rb||f.Ie||f.oo)&&f.s.notification.L("Pause",40,!0)):(f.Yh=!0,f.wb(""),f.Ym=0===f.a.ma?
!0:!1)}q=b;f.Pu(f.Ua)}return q};k.prototype.$r=function(b,l,f){l&&(f.Dg=!0,f.a.angle=b[0]);return[f.a.angle,f.a.angle]};k.prototype.bs=function(b,l,f){l?(f.Dg=!0,f.a.M=b[0]+.5|0,b=b[0]):b=f.a.M;return[b,f.a.M]};k.prototype.Uk=function(b,l,f){return l?(f.Dg=!0,f.a.le=b[0]*b[0],[b[0],f.a.le*v.Sm]):[Math.sqrt(f.a.le),f.a.le*v.Sm]};k.prototype.IH=function(b,l,f,q){var w=this.cg;-1===f&&-1===q?(this.fr=this.zE(),2<this.a.h&&!this.a.D&&!this.a.Y&&(w=this.a.h-w),this.fr=this.In&&this.fr===w?0:this.cg):(this.fv(f,
q),f=this.tj,q=this.uj,this.fv(b,l),b=this.tj,l=this.uj,this.Au(f,q,b,l,this.fr)&&this.a.xn());0<this.a.ma&&(this.Bi=-1,this.a.aa=1)};k.prototype.Bv=function(b,l,f,q){q.zj&&!f&&(q.Db.current=q.Yd(v.Ze,!0,q))};k.prototype.tv=function(b,l,f,q){q.zF(b,l,f,q,!1)};k.prototype.FH=function(b,l){l=(b.Uh-l)/b.jq;-1!==b.Uh&&(0<l?b.Mu(b,l):0>l&&b.Nu(b,-l))};k.prototype.EH=function(b,l){l=(b.Uh-l)/b.jq;-1!==b.Uh&&(0<l?b.Ku(b,l):0>l&&b.Lu(b,-l))};k.prototype.GH=function(b,l,f){l=(b.ln-l)/b.a.ja;f=(b.Uh-f)/b.a.ja/
(b.a.$&&4<=b.a.ja?v.Xi:1);if(-1!==b.Uh){var q=b.a.R||b.a.$?0:-b.a.angle;if(!b.Cd){var w=Math.sin(q/180*Math.PI);q=Math.cos(q/180*Math.PI);b.Dg=!0;b.a.wa+=l*q+f*-w;b.a.pa+=l*w+f*q}}};k.prototype.AH=function(b,l,f){var q=b.Ua,w=b.Xc;b.Gj||(b.Ua&&b.eu&&(b.Ua=!1,b.So=!0),q&&(b.Xc=0,b.wb(""),b.Xc=w),b.IH(l,f,b.ln,b.Uh),q&&b.wb(""))};k.prototype.HH=function(b,l,f){b.ad||b.zH(b,l,f)};k.prototype.zH=function(b,l,f){var q=b.Eb,w=(b.a.width>>1)-(b.nb>>1)+(b.Kb<<1),z=(b.a.height>>1)-(b.qb>>1)+(b.Lb<<1),A=b.a.ia?
-1:0,C=Math.round((b.a.width-b.a.ua)/2)+A;A=Math.round((b.a.height-b.a.ra)/2)+A;var D=C+b.a.ua-1,E=A+b.a.ra-1;-1!==b.sa&&(0===b.a.ua&&(C=0,D=b.a.width-1),0===b.a.ra&&(A=0,E=b.a.height-1));if(-1!==l&&-1!==f)if(this.fv(l,f),-1===b.Uh)b.TE=l,b.UE=f,b.tb=!1,b.Bh=!1;else{if(b.xj)q.l=b.tj-w,q.o=b.uj-z;else if(l!==b.TE||f!==b.UE)l=!1,-1!==b.a.sa&&(b.tj<C||b.tj>D||b.uj<A||b.uj>E)&&(l=!0),l||(b.xj=!0,q.f=b.tj-w,q.l=q.f,q.g=b.uj-z,q.o=q.g);b.xj&&(b.UB(b),w=(b.a.width>>1)-(b.nb>>1)+(b.Kb<<1),z=(b.a.height>>
1)-(b.qb>>1)+(b.Lb<<1));b.xj&&-1!==b.a.sa&&(C-=w,D-=w,A-=z,E-=z,q.f<q.l?(q.f<C&&(q.f=C),q.l>D&&(q.l=D)):(q.l<C&&(q.l=C),q.f>D&&(q.f=D)),q.g<q.o?(q.g<A&&(q.g=A),q.o>E&&(q.o=E)):(q.o<A&&(q.o=A),q.g>E&&(q.g=E)))}};k.prototype.Du=function(b){b.tb=!1;b.Bh=!1;b.wb("cancel selection");b.xj=!1};k.prototype.DH=function(b){b.ad?b.ez(b,b.tj,b.uj,!0):b.yH(b)};k.prototype.ts=function(b){var l=b.Eb,f=b.a.H,q=l.f,w=l.g,z=l.l,A=l.o,C,D=0,E=(b.a.width>>1)-(b.nb>>1)+(b.Kb<<1),F=(b.a.height>>1)-(b.qb>>1)+(b.Lb<<1);
if(q>z){var G=q;q=z;z=G}w>A&&(G=w,w=A,A=G);q<f.f-E&&(q=f.f-E);w<f.g-F&&(w=f.g-F);z>f.l-E&&(z=f.l-E);A>f.o-F&&(A=f.o-F);f=z+1;G=q-1;var H=A+1;var I=w-1;for(C=w;C<=A;C+=1)for(w=q;w<=z;w+=1){var O=b.a.getState(w+E,C+F,!1);0<O&&(C<H&&(H=C),C>I&&(I=C),w<f&&(f=w),w>G&&(G=w),D+=1)}0<D&&(l.f=f,l.g=H,l.l=G,l.o=I)};k.prototype.yH=function(b){var l=b.Eb;if(b.xj)if(b.tb=!0,b.xj=!1,b.Bh=!1,b.oj&&b.ts(b),b.tb){var f=l.l<l.f?l.f-l.l+1:l.l-l.f+1;l=l.o<l.g?l.g-l.o+1:l.o-l.g+1;b.wb("selection ("+f+" x "+l+")")}else b.Du(b);
else b.Du(b)};k.prototype.CH=function(b,l,f){-1!==l&&-1!==f&&(b.Ox=!0,l=b.zE(),b.jr?(b.YJ(l),b.jr=!1,b.mh.current=b.Tj([!1],!0,b)):(b.fr=l,b.Zi(l)))};k.prototype.BH=function(b){b.So&&(b.Ua=!0,b.So=!1,b.s.Qg(!0));0<b.Xc&&(b.a.Mh(),b.wb(""))};k.prototype.zF=function(b,l,f,q,w){-1!==b&&-1!==l&&q.s.hasFocus&&(f?(q.Pc.current[0]||(q.ha?q.FH(q,l):q.Yb?q.EH(q,l):!q.he&&!q.Tf||w?q.GH(q,b,l):q.he?q.AH(q,b,l):q.Tf&&q.HH(q,b,l)),q.ln=b,q.Uh=l):-1!==q.ln?(q.ha||q.Pc.current[0]||(q.he?q.Gj?q.CH(q,b,l):q.BH(q):
q.Tf&&q.DH(q)),q.ln=-1,q.Uh=-1):q.ha||q.Pc.current[0]||(q.Gj?q.s.notification.L("Now click on a cell",180,!0):q.ad&&q.s.notification.L("Now click to paste",180,!0)))};k.prototype.Wl=function(b,l){8>this.a.zoom&&(0>b?b=-8:0<b&&(b=8),0>l?l=-8:0<l&&(l=8));this.Uh=this.ln=0;this.zF(b,l,!0,this,!0);this.Uh=this.ln=-1};k.prototype.bu=function(b){var l=v.mq;null===l&&(l=new Image,l.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABpAAAAAoCAIAAAB2CC60AAAABnRSTlMAAAAAAABupgeRAAASX0lEQVR4nO2dWZLkKgxFnR294FpK7Zj34dcEiRiEkATY93xUZNlYEoMYZGxfFwAAAAAAAAAAAAAAAAAA7Pj5+TE9/masyxZl/kLuSqdVb308S9NIYHcWAAAAAAAAUOTvagMA0CeEkB35fD4OklfpXUUIwccMN0UALOH39/fn5+f399ftuCxePHM25fZon79Mk8DpYDwCAFggc3l0FAAALRCwA4/FYqRsh+fW6vWHLolVJigWMh8AygEoQoN6d7iNHtc6G0G0DliA8QgAIGbI0zn9ADoKAIAWf1YbAIAJ99zdTn5ttF6ldxVvyy8Aj6S4L8/orFu0bp97G8AHjEfguq7wzWpzwBlkrp12JtTr0Q8AADxBwA48Fru5e3vWvkrvKt6WXwCeyv3krNHZ+DvbAWf0F73HO8F4NBqlOi6kFXpc1/X5BzM9ABlD/l5sSGhaAAAt8EgseDIWyzbmTvglelfxtvwC8CQ8t9ddLtG0LCYIVlHcopKuY4eOM2sT49HFNvguW3HuxCGJycKsXU4zEmN2jUtmLAFPhdNy0jQ+Dem4jggAAAAokw2ciuNoW/IqvZQlXyzVulm9+U3vVV+J3blMUjasvg1NytjhK7FZ4vmz7ZYca6S4z6W2/6V7PNMiYMl+nCVKHTCqXL5qseViOcsri99s5huY7MLJImpcXjsluGRzju4W9qfdYLrNLE2jW1Pqlb6qi144NABwIlMv1LSg5nijN8eGjE+FzORavdC0DBOrjkpVypkjJ9OrhUrVCIQ46B2KqamQPd2WnVXJr7rMhi6m8LXlfJn1ybpiF3ZZRbK2tINJlHQbmttv+qNokvrZm7TVxTpS3IQVeDvsaALm1N9uoOcrHfXcYtFZOyxzQNcq9uXjkdEEZhRmtRZdb1SR4NrJQadxeaMh8TflmaI1J4y/u10cM+WoXj6b6+XXSHG8mOyWR+2ZOVu75P7huQl6oV4V1L24zfIBBWzNqrh1qKCVvitk0mzZ5V2rnOuCalQpZ44c/8w+kiU77I5j3rk8y9nCKdT7PVqkC91ZpcuyZtWuulVnr8oOu1piPrQpctJzhjnThiRTKjCjLUcxRwLcStuBTaztlp5K2baFj141qXQHaRx189nne4euE3X91Mh5V+ktWkJ/Fw9mR4bskRkvvkqxjvbXq6JuXuMOjfmdLClPlarsv8Mu7HHDcFsUK55f1KaVsknXEPCmBmBM+tqRd3Z0My97yiapRSFp8S7ZI1w8vlUt0z1o99cb7I6nZxtWGZ29SKvTqo7sxvtQ26atpd2eL40eY4lS8BKy0U22kxQYoTLszksDN8V+tTiIfEqfIC8myM4OVZBgYiZuAxbj7856xagv9kcvgY/Ps3BJMg/3oxOYJlJ0ZzxZ4ICj0aLBbTWNO9GjwBHEDs3tVcF78lQXe3OdMokxNa031nXPxtDhaDRNwEy0rnFVfN42vVZl4T2qVKARvI12zC6mMVJtIXYTVBxQ0HW0VwfPLnNT6Dww/NsWR+8DxQBcuxlM1gi9tj1kaNV+Ojrz/6qo3hYMuM/AIYRiythXYhG2u1H3XrFA3Qa3Ya90nEdNwl/F7c9oc/LPbDr92rDxb042YR2Kj9jVdbcej/YpReI+uNoWPLuzDrN88VqCk17c8hWVehL1wneegdEMlr5bCg2mzWjXERPXtnd50tZr11lZ6KXjRTFeFjvh4qa5eLlgS13XvKI6XS0XonUEhzF3lR+9jQfsTR4L2N28eSR+sPNsm7WzPAqk8CvOs/nFHiyEkG61czNgE1QCDaMVV7xxrcW2ndiGqHxWoi25xm477NKrhuSP2/U/svX2qphd1CuY+2lNF0+ZdtY25szInNyn09hkZ12e/OdFUrRaiyD9/g0MWNAIz2UhPBozbcT4VGjvjdUdRgXRuqcu0DCZfBLP2Jv8R3xlXOu+BNP8ipuL4i5oFTlGbG4eOA4690Ibc8C0kDnCTxmYHRBH3LJvzg6dvclm+Vrel8pJd0MMSeAnFkdkxLtj/Pso046xKPl0D/38o3hQxrxJ8Xdaobrr/GIo0D+zmUlLVA8Z6a8U1KDVUayg9C7vpzQKKPaZ3WjCZ/ouTnHcHPpL5Yzq1bJfBSwHwJ7IA3Y3b2jZC/PoM5k4ogaPMBLsT9aQXjtjtritlJWts892s8PJb2iim+amFvOyO57h//WJIIqmDfGR3vkfsqq4WuPLHzJv4QgYklcHKMqsnXptn2yHW5HG/u3ZEzZBNJDO5NHOd+bzb/9abM/xd23wipfEH64WayCI1p2YzRp0evZa1ItibdkWAykO0RVdqoYKSlYl2zW9NeGj6btCBFNwsd6aDQ05zGRivRnpzZN2gkl1XUUydcchqN/uglyd9vNukaEFs2x1PUqcb9GD9HjG8nLWLSJFacx+MpvbWYcLqXamkEbfm07EG1PYUWOyXWluv7sG6J5NCd935mmZCEjlBHL/v5Y+Y2ZE41w74wKTBhdVN+zJVqeyCmJ2uY0jKY+fAJiiUqFUJp0zt1W0tXMGpm6aWoJ51fOoFD6/G9Edc1+olw7uNEGmPe3EZmzgXz6jqDZu8v9SOaN6Z1B3KCaTNcuUYzpn5ujVDewsH8GXl6eJ3iDFSK9W+q6QtliL7M/nV6CUmc1uSi2NApNAg1p0Ses4h6HKcqjZWhMabVfWZVs7zjSSk2yytGmJdd3W2pFTmTO6GolT+bW/DRva9tyVXtwlZ3o8S1BLo3I2khbapXfrNZOj3sbaepnqjNq/BaE0LquIZXqoXXdhx84GR8MULeR0mDUzRgXy09ipnkfdibRSvlbvkIXM9pMlkxWCURbotdTy0b9UzqheLftllwuYt9nfj/go6l2Vha2MUdE7+0gsZZNaEeNsf1FXI/7auG2oonp/DjX7IgODOM0zWJW72l6PZxC+p1B2Kqy1DBG+b7H67JJo3GoWcD89SjejWR/PmPmaRPds/J0Vl9ZTCamcWCnzYt/JZHtuiOUnXn43fpTw79nhndvecsMWPoW0UHVqw1oDTCnOXcUTWl1pNeiu3sY8Kro2PdvYXM/fKDeZNYGE4rgp2GE36lwW4/4Qj19kRcI42eUzqhUteTn6AbsbFPTmHF07RxsPbraatm5ljAoNHwl6S3GxJyoWePiO1pnqSmUWJ6/qitzwfJOdQ3HNh1DfTK1qUJ5tdi4fWqch2W1nN2MvLv98usqFql+L7kDsP6xfyQQpC+TFlpOepc0pHXpGG1sM989kYUaCIFp3okOhHxhFVlwoZF2sAnYAAJCRdt/OXXkxrNON9ZxFSPZ33BMph0IWqLCO1qUHjSq3Nnm10PU8HIrr3LXEsxmq9EOr7+54t+oN0pJMDaNDxgrrwKMotvyZEJKiNEoatr6SaF3NZS4Svyual05CDnIrQbRuq44OgAdjFbDT2uwKjDi6do42/s2kFedZiQ8LzBWhM6fiGmx+gkUvXzUfXRWtu564w870Ydji51Oww+4sZIVJbxtko0B6d6FxR+eUPRExBLbakDJpx0jttPDKohaf8lmo+uXQYt9HWlF4bBgN4TTSTQ9mZydj90x/VBzpBNG6I7rljFX9AB3magd3Q1Zc6Gx10Q/YnT4iOttf1NVw3eKpV/nSoWaDSPf+pIU6/vETaczY4mL40svyDj64dsvkU281mz4YG39nxaU1W03lnLuWWEtcYRZXp1p0pR1acbt1AlstBdNhyNkkO9WblO2GREdQ8QhdaRRaj+nwlKXMTsVGlRoZj2zVIRQpjptDf6mcUb1a9g/hXzvMcLCF3lG0bKOiZix5OZoBuycVrmdeZnRN2nlcfR1ncAqnG3pDV/Ux3v3UUBqJA/wDCrm7Srzbku7SYm25rY3WXQY77O5taMWvu5oeT8+2bVM86xBN+3iFUMW5OGWpb2Rno2pOKZkiIaF4UIDYjGwu8UmW1o0ZyNHl7wkKqo3uJNZ0SpxKptUaA3PXtxMxDZtpJ11/1B3mahOb9l8t7UtwXmoVde28DJm3befcnYXOnEmxPmp6aypG03eF0At9iqKopT2KzKjrqs7kq5QzRw7HmMeQZZYOfpwsN3a1GNH91uTN0EzCaHVdC8wJgjvLy5kW0WgudAtZNlGbN8A0WtfO1IfxShp+mkga1fL8XTTA9N9IIPsUdBtGIPf/jWhPHubTO5OVWK3/HBLIuZzZmWxYYhtSa/bxeNsvtAZumfdxruqmsVOdJr5/LGmT/G5Et8PZvPu6RBbGPioblTJnoWOK5yjT9uhJ4Vdp3OT/pXJG9WrZryKKyYzGVf7LR7FUjQTOmHHjX55Weqs3+75R1lrXq5W+K2RUkVaBMOVrqWNq5yfYTdER0Dxq5bqxlUblOIch+42quFiSio3Ks5ztciGm5q0NVDRyDp5CcTec6XGmARZnb2JfF/9Vqb5MjkOTkDVsRXfQpdZVuqm26zdeRa24Uo8TXD6aWFZrnKu6aexUx5QqCIykBmil1NW7CpmF4Xv6XTzLOUgF8m3gWMg3YEhyIOPm6F8qZ1Svlv1aAu2cN9UyZMykRnCtK09bvdaNdVSvVvquEJl5k8XSFauukWlD10KtnDLNeBg0m1oZR8AuiqXlqdioFgbsikf8qXl019PFujgHT8ehXcVTxTTMs6NKI9ZVFr7XEkYqxK16z9Ets8fTQtN+41W0y4rjF0OlrV5rnKu6aexUX3rRuplWzReios5ImgViC0MyP6QHsyOh50e1C8WoC2xoGf37SOycV2yGj8Zn41yeuk3or8CC5XsaF8J53OlQtn0ZwZvb2+ns1qKiPc9oVDvkYqjfUH8dxq16h3I4jvhKu+Ijq3Znr+sK9k8SWctX7NlM7RSQZm0rw47gYUNMl/ajtZ6WADBDbMnth0/j31B6fpZKaxwZNS9zKIseRvYOu0f2dQ9e7INDGQvYPdItBah7sjhYplsjG8bs0OTOBXX3Epj9xmR7qN1hRjOT0d5DR5PNn43xO4dZvulaYn7hlLnMU9c8b6O9ht+HhmvsbPYmbDhPphQt1I0mUxX+LceuIrqzi/SU+qshuxqNQLQuA2E7MENjsBA4Djdg92yflKHrybFes1d4Uo2X5Up1q7nI41ud+l04wAGFrI5/v4Fo3STdfXB2Z8/dYae4RqUxuxlpFiiu6rd6s7gdm5sHtEidd89K110ovoFsvOiGs2ncqniqLXDUwvRfowWg4O/jQdgOiCl2xTLH+cNR9hKflKFYPnxRppWySXVvYgZ4GGhXJ5Iu1++3P2BgmqT2/Vbrs1fpeSKVqXAqJy6Z5sVGyeo7SmgbFr/cZHOyHIWE+wgtik+Cn6EaxA5qtSEtbu/IQsb7m70P+xdU0cL9zV5CbPnRKTLvoB11PE69Jg1mKfbnn29UZF424+/OesWcOBiBHSj2DwJaATu0Tj4WZaVVx/Oq/XHYGeEjZJVeNwLBXyZNH8jd70PXfiAlLimfVI/FD63G7W8Wx1PaCYzOhlI0rRvT6R5P/y2uoxTRvVGnImeIRm95dFe5w3h0l96qUbuhOpAtPzFs97x+1YH9i2vhIuIsPt9PONXcIZtPZgdTQv1WhBj1ni0TXtPFPH6WXjHoJ4GAdnfBFaJkDAAbkU1MFVdubclL9M58yFVG40m3a9HTT3TYVh9Tl5ezaQACLCTdkub5m2PPzNlGyvC9w+7+kXVx8ffQ8XTFpeUygUQD52X6q3gb/uNRIE/MTaqWUVPtbJJMHeeqbho71Sei5QivIovfXYwCzJKlY9DOTcti/N1ZLwAAgF1IO3fTO1GNuz2eeim16JLWcUrQ+8q7oigLrMu2sS+JYR04krvSi7vkTI+nZ+lv3bMRHweHv7yZVeNRd3uIAJnN2YTB3x3s8ttN41nU4LWkbabWeHQbFRoqAACA59AdRI3kr9JLcQ7Y6WbcuhgnQcAOWLCqXWVni8lUzqZYN+awd9AfmPKq8ajBU5f34ngc4nRgntq0n5MYAABk9D86AcChBLNd6O031KzSu4q35Xch6gsVrFtAiumXKOLvkLzDzujv5k8hATswHkWOfh1hg482qzMEtoDp3elzst1r0boAACr8XW0AACZYr9Zqc/dVelfhk19Mei7M/IAlnl+fyN7sY/1XViDgRDAeAQBkUL9uO3vAp1oAAF4gYAceSxrY0hpTOcGyVXr9obMZlfxSmVgjAaDL5JOzgrMRROuABRiPAACKxM101N/jkYBvegAA7EHADjwQu7GzLXmV3lW4WbVn9gE4F/r46h1uqz3WOn82cruzz1/wHjAeAQDUWTXtBwAAAAAAAAAAAAAAAADAjvwHXOCRqfndkrIAAAAASUVORK5CYII=",
v.mq=l);this.O=new IconManager(l,b);this.O.add("play",40,40);this.O.add("pause",40,40);this.O.add("tostart",40,40);this.O.add("menu",40,40);this.O.add("stepback",40,40);this.O.add("stepforward",40,40);this.O.add("autofit",40,40);this.O.add("fit",40,40);this.O.add("grid",40,40);this.O.add("shrink",40,40);this.O.add("draw",40,40);this.O.add("hexgrid",40,40);this.O.add("lines",40,40);this.O.add("pan",40,40);this.O.add("pick",40,40);this.O.add("states",40,40);this.O.add("hexagongrid",40,40);this.O.add("trianglegrid",
40,40);this.O.add("inside",40,40);this.O.add("undo",40,40);this.O.add("redo",40,40);this.O.add("drawpause",40,40);this.O.add("invertselection",40,40);this.O.add("autoshrink",40,40);this.O.add("selectlibrary",40,40);this.O.add("cut",40,40);this.O.add("copy",40,40);this.O.add("paste",40,40);this.O.add("flipx",40,40);this.O.add("flipy",40,40);this.O.add("rotatecw",40,40);this.O.add("rotateccw",40,40);this.O.add("random",40,40);this.O.add("smart",40,40);this.O.add("outside",40,40);this.O.add("select",
40,40);this.O.add("reverse",40,40);this.O.add("uturn",40,40);this.O.add("nudgeright",40,40);this.O.add("nudgeleft",40,40);this.O.add("nudgeup",40,40);this.O.add("nudgedown",40,40)};k.prototype.OE=function(b){var l=!1,f=null;""===b&&(b="Life");try{f=this.P.create("","x = 1, y = 1, rule = "+(b+"\nb!"),this.a.m,null,null,[],this)}catch(q){f=null}f&&f.me&&(l=!0);return l};k.prototype.SB=function(b){var l=window.prompt("Change rule",(""===b.pd?b.Cb:b.pd)+b.cm);if(null!==l)if(b.OE(l)){""===l&&(l="Life");
var f=l.indexOf(":");-1!==f?(b.Cb=l.substr(0,f),b.cm=l.substr(f)):(b.Cb=l,b.cm="");b.pd="";f=b.a.qw(b,b.a,!0);b.ke&&(b.C=b.Wq,b.B=b.Vq);b.ci(f,!1)}else b.s.notification.L("Invalid rule",180,!0)};k.prototype.eC=function(){var b=0,l=this.a.Wb.ed,f="",q,w;var z="R"+l+",C"+(this.a.Wb.Dn+",");switch(this.a.Wb.type){case this.P.Pf:f="";b=(2*l+1)*(2*l+1);break;case this.P.sg:f="N";b=2*l*(l+1)+1;break;case this.P.Fp:f="C";b=0;var A=l*l+l;for(w=-l;w<=l;w+=1){for(q=0;(q+1)*(q+1)+w*w<=A;)q+=1;b+=2*q+1}}l=this.Qb.random()*
b|0;z+="S"+String(l);l=(this.Qb.random()*(b-l)|0)+l;0<l&&(z+="-"+String(l));l=(this.Qb.random()*(b-1)|0)+1;z+=",B"+String(l);l=(this.Qb.random()*(b-l)|0)+l;0<l&&(z+="-"+String(l));""!==f&&(z+=",N"+f);return z};k.prototype.fC=function(){var b=0,l=this.a.Wb.ed,f="",q,w;var z="R"+l+",C"+(this.a.Wb.Dn+",");z+="M1,";switch(this.a.Wb.type){case this.P.Pf:f="M";b=(2*l+1)*(2*l+1);break;case this.P.sg:f="N";b=2*l*(l+1)+1;break;case this.P.Fp:f="C";b=0;var A=l*l+l;for(w=-l;w<=l;w+=1){for(q=0;(q+1)*(q+1)+w*
w<=A;)q+=1;b+=2*q+1}}l=this.Qb.random()*b|0;z+="S"+String(l);l=(this.Qb.random()*(b-l)|0)+l;0<l&&(z+=".."+String(l));l=(this.Qb.random()*(b-1)|0)+1;z+=",B"+String(l);l=(this.Qb.random()*(b-l)|0)+l;0<l&&(z+=".."+String(l));return z+(",N"+f)};k.prototype.iC=function(){var b="W";var l=2*(127*this.Qb.random()|0);return b+=String(l)};k.prototype.gC=function(b){var l="B",f,q,w=8,z="";if(this.a.R)w=6,z=this.P.st;else if(this.a.$)switch(this.a.Ld){case this.P.Vn:w=3;z=this.P.Wr;break;case this.P.Wn:w=9;z=
this.P.Yr;break;case this.P.zm:w=12,z=this.P.Xr}else this.a.De&&(w=4,z=this.P.kv);var A=new Uint8Array(w+1);var C=new Uint8Array(w+1);var D=q=50;-1!==this.Bk&&(D=q=this.Bk);-1!==this.Ck&&(q=this.Ck);-1!==this.hm&&(D=this.hm);for(f=0;f<=w;f+=1)A[f]=q,C[f]=D;-1===this.Bk&&-1===this.Ck&&(A[0]=25);for(f=0;f<this.ph.length;f+=2)this.ph[f]<=w&&(A[this.ph[f]]=this.ph[f+1]);for(f=0;f<this.Pi.length;f+=2)this.Pi[f]<=w&&(C[this.Pi[f]]=this.Pi[f+1]);for(f=2<this.a.h||b?1:0;f<=w;)100*this.Qb.random()<=A[f]&&
(l+=String(f)),f+=1;l+="/S";for(f=0;f<=w;f+=1)100*this.Qb.random()<=C[f]&&(l+=String(f));2<this.a.h&&(l+="/"+this.a.h);return l+=z.toUpperCase()};k.prototype.hC=function(b){var l=b?this.P.kJ.toUpperCase()+",":"M",f,q=!1;var w=0;var z=[];var A=this.a.$g;if(this.yu){q=new Uint8Array(16);b=new Uint8Array(16);for(f=0;16>f;f+=1)q[f]=f,b[f]=A[f];for(f=0;16>f;f+=1){var C=A[f];for(w=b=0;16>w;w+=1)C===A[w]&&(b+=1);var D=new Uint8Array(b);for(w=b=0;16>w;w+=1)C===A[w]&&(D[b]=w,b+=1);z[f]=D}for(f=1;16>f;f+=1).5>=
this.Qb.random()&&(D=z[f],b=this.Qb.random()*D.length|0,b=D[b],A=q[f],q[f]=q[b],q[b]=A);for(f=0;15>f;f+=1)l+=q[f]+",";l+=q[f]}else if(this.vu){f=16;b?(b=0,w|=1):(b=16*this.Qb.random()|0,15==b?(q=!0,w|=32769,--f):(b=0,w|=1));l+=String(b);for(--f;65535!==w;){b=this.Qb.random()*f|0;for(C=0;0<=b;)0===(w&1<<C)&&--b,C+=1;l+=","+String(C-1);w|=1<<C-1;--f}q&&(l+=",0")}else{b?b=0:(b=16*this.Qb.random()|0,15===b?q=!0:b=0);l+=String(b)+",";for(f=1;15>f;f+=1)b=16*this.Qb.random()|0,l+=String(b)+",";b=q?0:16*
this.Qb.random()|0;l+=String(b)}return l};k.prototype.sz=function(b,l){var f="",q,w,z=0,A,C=[],D=0,E=b.uu,F=b.zu,G=b.tu/100,H=!1;-1!==b.Cb.indexOf("|")&&(H=!0);if(2>=b.a.h&&!b.a.If)C[0]="b",C[1]="o",D=2;else for(b.a.If?D=2:D=b.a.h,C[0]=".",w=0;w<D-1;w+=1)C[w+1]=24<=w?String.fromCharCode(112+(w/24|0)-1)+String.fromCharCode(65+w%24):String.fromCharCode(65+w);-1!==b.a.Nd&&(E=1);for(q=0;q<E;q+=1){var I=this.Qb.random()<=G?(this.Qb.random()*(D-1)|0)+1:0;for(w=A=1;w<F;w+=1)z=this.Qb.random()<=G?(this.Qb.random()*
(D-1)|0)+1:0,z!==I&&(1<A&&(f+=A),f+=C[I],A=0,I=z),A+=1;0!==z&&(1<A&&(f+=A),f+=C[z]);q<E-1&&(f+="$\n")}f+="!\n";b.tr||l||(b.a.Y||(b.a.ia||b.a.D?(b.Cb=b.hC(b.a.D),H&&(b.Cb+="|"+b.hC(b.a.D))):b.a.ya?b.mB?(b.Cb=b.fC(),H&&(b.Cb+="|"+b.fC())):(b.Cb=b.eC(),H&&(b.Cb+="|"+b.eC())):-1!==b.a.Nd?(b.Cb=b.iC(),H&&(b.Cb+="|"+b.iC())):(b.Cb=b.gC(H),H&&(b.Cb+="|"+b.gC(H)))),b.a.pb&&(b.Cb+="History"),l=AliasManager.eq(b.Cb),null!==l?b.pd=l:b.pd="");l=b.a.rc;l+="x = "+v.Xo+", y = "+v.Xo+", rule = ";l+=(""===b.pd?b.Cb:
b.pd)+b.cm+"\n";l=l+f+b.a.Xf;if(b.Wj.locked||window.confirm("Create new random pattern?"))b.ke&&(b.C=b.Wq,b.B=b.Vq),b.ci(l,!1),b.Nz(b)};k.prototype.FD=function(b){var l=window.prompt("Create new pattern with rule",(""===b.pd?b.Cb:b.pd)+b.cm);null!==l&&(b.OE(l)?(""===l&&(l="Life"),b.ke&&(b.C=b.Wq,b.B=b.Vq),b.ci("x = 1, y = 1, rule = "+(l+"\nb!"),!1)):b.s.notification.L("Invalid rule",180,!0))};k.prototype.qF=function(){this.Qh.icon=this.a.R?this.a.te?[this.O.icon("hexagongrid")]:[this.O.icon("hexgrid")]:
this.a.$?[this.O.icon("trianglegrid")]:[this.O.icon("grid")]};k.prototype.Fv=function(b,l){b.s.hasFocus&&(b.Om||(b.wheelDelta=-l.deltaY,1===l.deltaMode&&(b.wheelDelta*=45),b.s.Qg(!0)),l.preventDefault())};k.prototype.XA=function(){var b=this.S.JB(0===this.Kr?0:this.Wg/this.Kr),l=this.rm,f=this.ko;this.a.wa=this.a.width/2-(this.sm+b*(this.ik-this.sm));this.a.pa=this.a.height/2-(this.tm+b*(this.Zm-this.tm));this.a.zoom=this.Jn*Math.pow(this.Cl/this.Jn,b);180<f-l?l+=360:-180>f-l&&(f+=360);this.a.angle=
(l+b*(f-l))%360;this.$s&&(this.a.le=this.eA+b*(this.kx-this.eA),this.Yc.current=this.Uk([this.a.le,this.a.le],!1,this));this.Kt&&(this.a.M=this.fA+b*(this.lx-this.fA),this.Wd.current=this.bs([this.a.M,this.a.M],!1,this));this.Wg+=1;this.Wg>this.Kr&&(this.Wg=-1,this.a.zoom=this.Cl,this.a.angle=f%360,this.a.wa=this.a.width/2-this.ik,this.a.pa=this.a.height/2-this.Zm,this.$s&&(this.a.le=this.kx,this.Yc.current=this.Uk([this.a.le,this.a.le],!1,this)),this.Kt&&(this.a.M=this.lx,this.Wd.current=this.bs([this.a.M,
this.a.M],!1,this)));this.Bc&&(this.Bc.current=this.Zj([this.a.zoom,this.a.zoom],!1,this));this.Bd&&(this.Bd.current=this.$r([this.a.angle,this.a.angle],!1,this))};k.prototype.Vz=function(b,l){var f=b.S.nc[l];b.sm=b.a.width/2-b.a.wa;b.tm=b.a.height/2-b.a.pa;b.Jn=b.a.zoom;b.rm=b.a.angle;f.ug?b.ik=f.x:b.ik=b.sm;f.Wf?b.Zm=f.y:b.Zm=b.tm;f.ue?b.Cl=f.zoom:b.Cl=b.Jn;f.Ch?b.ko=f.angle:b.ko=b.rm;b.a.R&&(b.ik+=b.a.pa/2);b.$s=f.Lh;b.$s&&(b.eA=b.a.le,b.kx=f.depth/v.Sm);b.Kt=f.Vh;b.Kt&&(b.fA=b.a.M,b.lx=f.M);b.Wg=
0;b.Kr=f.Hj;b.XA();f.Bn&&b.EE(b);f.Hg===WaypointConstants.play?b.Db.current=b.Yd(v.wk,!0,b):f.Hg===WaypointConstants.stop&&b.Ua&&(b.Db.current=b.Yd(v.Ze,!0,b));f.Uf&&b.mm(f.vc,b.a.ql,b);b.s.notification.L("POI "+(l+1),60,!0);""!==f.Ef?b.s.notification.L(f.Ef,180,!1):b.s.notification.clear(!1,!0);f.um&&(b.Rb=f.Rb);f.Ol&&(b.Va=f.Va);f.Ph&&(b.eg=Math.sqrt((f.tc-v.Fg)/(v.Ql-v.Fg)),b.Zb.current=b.Xj([b.eg,b.eg],!0,b));f.ei&&(b.Ca=f.step,b.Kd.current=b.Dm([b.Ca,b.Ca],!0,b));f.Jr&&(b.a.v>f.kc&&b.EE(b),b.a.v<
f.kc&&(b.Om=!0,b.Gw=f.kc,b.Fw=!1));f.nk&&(b.a.Ub=f.Zc);f.Uu&&(this.bi=f.qm)};k.prototype.Gh=function(b,l,f){var q=l/b.a.Jc;f&&(l=1<=l?Math.round(l):1/Math.round(1/l),q=l/b.a.Jc);b.Cd||(b.sm=b.a.width/2-b.a.wa,b.tm=b.a.height/2-b.a.pa,b.Jn=b.a.zoom,b.rm=b.a.angle,b.ik=b.sm,b.Zm=b.tm,b.Cl=q,b.ko=b.rm,b.Wg=0)};k.prototype.qB=function(b){b.WA(b)};k.prototype.Sv=function(b){b.Bz(b)};k.prototype.vs=function(b){b.Ik||b.Jk||b.Kk||b.Lk||b.Oj?(b.Ik=!1,b.Jk=!1,b.Kk=!1,b.Lk=!1,b.Oj=!1):b.Pc.current=[!1]};k.prototype.Mv=
function(b){b.Kk=!0};k.prototype.pu=function(b){b.Ik=!0};k.prototype.Nv=function(b){b.Lk=!0};k.prototype.pv=function(b){b.Jk=!0};k.prototype.yv=function(b){b.FD(b)};k.prototype.Rv=function(b){b.sz(b,!1)};k.prototype.Uv=function(b){b.Nz(b);b.s.notification.L("Saved",120,!0)};k.prototype.gs=function(b){b.aD(b)};k.prototype.Tv=function(b){b.SB(b)};k.prototype.bw=function(b){b.Oj=!0};k.prototype.re=function(b,l,f){f&&(l[0]?(this.mm(v.tA[b],1,this),this.Pc.current[0]&&(this.Pc.current=this.Sr([!1],!0,
this))):(this.Pc.current[0]&&(this.Pc.current=this.Sr([!1],!0,this)),l[0]=!0));return l};k.prototype.sw=function(b,l,f){return f.re(0,b,l)};k.prototype.vw=function(b,l,f){return f.re(1,b,l)};k.prototype.Ay=function(b,l,f){return f.re(2,b,l)};k.prototype.cz=function(b,l,f){return f.re(3,b,l)};k.prototype.oz=function(b,l,f){return f.re(4,b,l)};k.prototype.zz=function(b,l,f){return f.re(5,b,l)};k.prototype.Pz=function(b,l,f){return f.re(6,b,l)};k.prototype.nA=function(b,l,f){return f.re(7,b,l)};k.prototype.VA=
function(b,l,f){return f.re(8,b,l)};k.prototype.bB=function(b,l,f){return f.re(9,b,l)};k.prototype.Tw=function(b,l,f){return f.re(10,b,l)};k.prototype.jx=function(b,l,f){return f.re(11,b,l)};k.prototype.px=function(b,l,f){return f.re(12,b,l)};k.prototype.xx=function(b,l,f){return f.re(13,b,l)};k.prototype.Ex=function(b,l,f){return f.re(14,b,l)};k.prototype.Nx=function(b,l,f){return f.re(15,b,l)};k.prototype.Qx=function(b,l,f){return f.re(16,b,l)};k.prototype.dy=function(b,l,f){return f.re(17,b,l)};
k.prototype.gy=function(b,l,f){return f.re(18,b,l)};k.prototype.py=function(b,l,f){return f.re(19,b,l)};k.prototype.Fx=function(b){b.Qi=!1};k.prototype.lv=function(b){b.Rc=!1;b.Fl.current=b.eB([b.Rc],!0,b)};k.prototype.Ju=function(b){b.fd.length?(b.fd=[],b.Yb=0,b.Wz(b.td.current)):t()};k.prototype.uE=function(b){--b.wg;0>b.wg&&(b.wg=b.S.nc.length-1);b.Vz(b,b.wg)};k.prototype.GD=function(b){b.wg+=1;b.wg>=b.S.nc.length&&(b.wg=0);b.Vz(b,b.wg)};k.prototype.Av=function(b){b.Vc+=1;b.Vc>=B.pe.length&&(b.Vc=
0);b.ci(B.pe[b.Vc].pattern,!1)};k.prototype.Ov=function(b){--b.Vc;0>b.Vc&&(b.Vc=B.pe.length-1);b.ci(B.pe[b.Vc].pattern,!1)};k.prototype.aw=function(b){b.mA();b.ha&&(b.ha=0);b.Pc.current[0]=!1;b.s.uh=!0};k.prototype.Wv=function(b){b.Dr=!0};k.prototype.nB=function(b){b.rh(v.Vk,b)};k.prototype.SG=function(b,l){var f=0;if(b.a.pb&&l)for(;f<b.mb.length;)1<b.mb[f]&&(b.mb[f]&=1),f+=1;else for(;f<b.mb.length;)b.mb[f]=0,f+=1};k.prototype.WB=function(b){var l=b.Eb,f=l.f,q=l.l,w=l.g;l=l.o;var z=b.a.H,A=z.f,C=
z.l,D=z.g;z=z.o;var E=(b.a.width>>1)-(b.nb>>1)+(b.Kb<<1);var F=(b.a.height>>1)-(b.qb>>1)+(b.Lb<<1);if(!b.Ha&&b.tb){if(f>q){var G=q;q=f;f=G}w>l&&(G=l,l=w,w=G);f+=E;q+=E;w+=F;l+=F;for(G=D;G<=z;G+=1)for(D=A;D<=C;D+=1)G>=w&&G<=l&&D>=f&&D<=q||(E=b.a.getState(D,G,!1),0!==E&&b.Uc(D,G,0));b.wb("clear cells outside selection")}};k.prototype.TG=function(b,l){var f=b.Eb,q=f.f,w=f.l,z=f.g;f=f.o;var A=(b.a.width>>1)-(b.nb>>1)+(b.Kb<<1),C=(b.a.height>>1)-(b.qb>>1)+(b.Lb<<1);if(!b.Ha&&b.tb){if(q>w){var D=w;w=q;
q=D}z>f&&(D=f,f=z,z=D);if(b.a.pb&&l){for(D=z;D<=f;D+=1)for(z=q;z<=w;z+=1){var E=b.a.getState(z+A,D+C,!1);1<E&&b.Uc(z+A,D+C,E&1)}this.a.xn()}else for(D=z;D<=f;D+=1)for(z=q;z<=w;z+=1)E=b.a.getState(z+A,D+C,!1),0!==E&&b.Uc(z+A,D+C,0);b.a.sh=!0;b.a.Mh();b.Bh=!1;b.a.pb&&l?b.wb("clear [R]History cells in selection"):b.wb("clear cells in selection")}};k.prototype.bx=function(b,l){b.Ha||(b.ad?b.SG(b,l):b.TG(b,l))};k.prototype.Et=function(b){b.bx(b,!1)};k.prototype.lq=function(b){b.WB(b)};k.prototype.Dt=function(b){b.bx(b,
!0)};k.prototype.SE=function(b){var l=b.Eb,f=b.a.H,q=(b.a.width>>1)-(b.nb>>1)+(b.Kb<<1),w=(b.a.height>>1)-(b.qb>>1)+(b.Lb<<1);0<b.a.ma?(l.f=f.f-q,l.g=f.g-w,l.l=f.l-q,l.o=f.o-w,b.tb=!0,b.Bh=!1,f=l.l<l.f?l.f-l.l+1:l.l-l.f+1,l=l.o<l.g?l.g-l.o+1:l.o-l.g+1,b.wb("select all ("+f+" x "+l+")")):b.Du(b)};k.prototype.xE=function(b,l,f){b.Ha||(!b.zk&&b.wj&&(l?b.Jp(b,!0):b.Ha?b.Jp(b,!0):f?b.Bs(b,!0):b.Bs(b,!1)),b.Sw(b,b.ag,!1,!1))};k.prototype.lC=function(b){b.xE(b,!1,!1)};k.prototype.Sw=function(b,l,f,q){var w=
b.Eb,z=w.f,A=w.l,C=w.g;w=w.o;var D,E=b.a.h,F=2<E&&!(this.a.$a||this.a.D||this.a.Y),G=(b.a.width>>1)-(b.nb>>1)+(b.Kb<<1),H=(b.a.height>>1)-(b.qb>>1)+(b.Lb<<1);if(b.tb){if(z>A){var I=A;A=z;z=I}C>w&&(I=w,w=C,C=I);var O=A-z+1;var K=w-C+1;var M=b.a.m.I(Uint8,O*K,"View.pasteBuffer"+l);I=0;for(D=C;D<=w;D+=1)for(C=z;C<=A;C+=1){var J=b.a.getState(C+G,D+H,!1);0<J&&F&&(J=E-J);M[I]=J;b.Uc(C+G,D+H,0);I+=1}b.zf[l]={buffer:M,width:O,height:K};b.mb=M;b.cf=O;b.bf=K;b.Es();b.a.sh=!0;b.a.Mh();b.Ep=!0;b.ie=!1;b.Bh=!0;
q||(f?b.wb("advance outside"):b.wb("cut"))}};k.prototype.wE=function(b,l,f){b.zk||!b.wj&&b.tb||(l?b.Jp(b,!0):b.Ha?b.Jp(b,!0):f?b.Bs(b,!0):b.Bs(b,!1));b.tb&&(b.bH(b,b.ag),b.Wu||(b.Wu=!0,b.s.notification.L("For external clipboard enable Sync",180,!0)))};k.prototype.Wt=function(b){b.wE(b,!1,!1)};k.prototype.bH=function(b,l){var f=b.Eb,q=f.f,w=f.g,z=f.l;f=f.o;var A,C=b.a.h,D=2<C&&!(this.a.$a||this.a.D||this.a.Y),E=(b.a.width>>1)-(b.nb>>1)+(b.Kb<<1),F=(b.a.height>>1)-(b.qb>>1)+(b.Lb<<1);if(b.tb){if(q>
z){var G=q;q=z;z=G}w>f&&(G=w,w=f,f=G);var H=z-q+1;var I=f-w+1;var O=b.a.m.I(Uint8,H*I,"View.pasteBuffer"+l);G=0;for(A=w;A<=f;A+=1)for(w=q;w<=z;w+=1){var K=b.a.getState(w+E,A+F,!1);0<K&&D&&(K=C-K);O[G]=K;G+=1}b.zf[l]={buffer:O,width:H,height:I};b.mb=O;b.cf=H;b.bf=I;b.Es();b.Ep=!0;b.ie=!1;b.Bh=!0}};k.prototype.xs=function(b){b.ad=!1;b.s.notification.clear(!0,!1);b.ie&&b.WA(b);b.ie=!1};k.prototype.UH=function(b,l){var f=this.Qc;l?b.tb?(b.Sw(b,b.ag,!0,!1),b.a.$e(!0,b.oe,b.Ec,b.Sb),b.a.We(),b.wb(""),this.Qc=
v.Ly,b.ou(b,!0,!0),this.Qc=f):b.s.notification.L("Advance Outside needs a selection",180,!0):b.ie?b.rC(b):b.tb?(b.Bh||b.lC(b),b.Ep&&b.rC(b)):b.s.notification.L("Advance Selection needs a selection",180,!0)};k.prototype.rC=function(b){var l,f,q,w=b.cf,z=b.bf,A=b.mb,C=b.Eb,D=b.a.H,E=b.lo,F=b.a.Zc,G=b.a.lg,H=b.a.Z,I=b.a.dk,O=b.a.da,K=b.a.oa,M=b.a.Ga,J=b.a.za,X=b.a.width,R=b.a.height,U=b.a.ob,Y=b.a.cc,da=b.a.Ve,V=b.a.Cp,ka=b.a.md,ma=b.a.ld,ea=b.a.va,aa=b.a.qa,ca=b.a.vb,ba=b.a.yb,na=b.a.v,ja=new BoundingBox(0,
0,0,0);ja.f=D.f;ja.g=D.g;ja.l=D.l;ja.o=D.o;b.a.vG();var T=Math.round((b.a.width-b.nb)/2);var S=Math.round((b.a.height-b.qb)/2)-2;for(q=l=0;q<z;q+=1)for(f=0;f<w;f+=1){var W=A[l];0<W&&b.a.Vi(f+T,q+S,W,!1);l+=1}b.a.$e(!1,!0,!0,b.Sb);b.a.We();if(b.a.aa){b.cf=D.l-D.f+1;b.bf=D.o-D.g+1;b.mb=b.a.m.I(Uint8,b.cf*b.bf,"View.pasteBuffer");l=0;for(q=D.g;q<=D.o;q+=1)for(f=D.f;f<=D.l;f+=1)b.mb[l]=b.a.getState(f,q,!1),l+=1;b.ie?(E.f+=D.f-T,E.g+=D.g-S,E.l=E.f+b.cf-1,E.o=E.g+b.bf-1):(E.f=C.f+D.f-T,E.g=C.g+D.g-T,E.l=
E.f+b.cf-1,E.o=E.g+b.bf-1);b.ie=!0}else b.ie=!1;b.a.Zc=F;b.a.lg=G;b.a.Z=H;b.a.dk=I;b.a.da=O;b.a.oa=K;b.a.Ga=M;b.a.za=J;b.a.width=X;b.a.height=R;b.a.ob=U;b.a.cc=Y;b.a.H.f=ja.f;b.a.Ve=da;b.a.Cp=V;b.a.md=ka;b.a.ld=ma;b.a.va=ea;b.a.qa=aa;b.a.vb=ca;b.a.yb=ba;b.a.v=na;D.f=ja.f;D.g=ja.g;D.l=ja.l;D.o=ja.o};k.prototype.ez=function(b,l,f,q){var w,z=b.cf,A=b.bf,C=b.mb;var D=b.Rl;var E=b.a.width;switch(b.ng+.5|0){case v.dE:l-=z>>1;break;case v.eE:l-=z-1;break;case v.iE:f-=A>>1;break;case v.cE:l-=z>>1;f-=A>>1;
break;case v.bE:l-=z-1;f-=A>>1;break;case v.hE:f-=A-1;break;case v.fE:l-=z>>1;f-=A-1;break;case v.gE:l-=z-1,f-=A-1}D.f=l;D.g=f;D.l=l+z;D.o=f+A;for(b.xw(b,D);E!==b.a.width;)l+=E>>1,f+=E>>1,E<<=1;switch(b.Qc){case v.$q:for(w=D=0;w<A;w+=1)for(E=0;E<z;E+=1){var F=C[D];0<F&&b.Uc(l+E,f+w,F);D+=1}break;case v.Ly:for(w=D=0;w<A;w+=1)for(E=0;E<z;E+=1)F=C[D],b.Uc(l+E,f+w,F),D+=1;break;case v.Wy:for(w=D=0;w<A;w+=1)for(E=0;E<z;E+=1){F=C[D];var G=this.a.getState(l+E,f+w,!1);b.Uc(l+E,f+w,G^F);D+=1}break;case v.Jy:for(w=
D=0;w<A;w+=1)for(E=0;E<z;E+=1)F=C[D],G=this.a.getState(l+E,f+w,!1),b.Uc(l+E,f+w,G&F),D+=1}b.ad=!1;b.ie=!1;b.s.notification.clear(!0,!1);q&&b.wb("paste")};k.prototype.$l=function(b,l,f){var q=(b.a.width>>1)-(b.nb>>1)+(b.Kb<<1),w=(b.a.height>>1)-(b.qb>>1)+(b.Lb<<1),z=b.Eb,A=z.f,C=z.g,D=z.l,E=z.o,F=D-A+1,G=E-C+1;var H=0;var I=b.a.width-1;var O=0;var K=b.a.height-1;if(!b.Ha&&b.tb)if(-1!==b.a.sa&&(0!==b.a.ua?(H=Math.round((b.a.width-b.a.ua)/2)-1,I=H+b.a.ua-1+2):(H=0,I=b.a.width-1),0!==b.a.ra?(O=Math.round((b.a.height-
b.a.ra)/2)-1,K=O+b.a.ra-1+2):(O=0,K=b.a.height-1)),A+q+l>H&&D+q+l<I&&C+w+f>O&&E+w+f<K){b.Sw(b,b.ag,!1,!0);q+=l;w+=f;H=0;D=b.zf[b.ag].buffer;for(O=0;O<G;O+=1)for(I=0;I<F;I+=1)E=D[H],b.Uc(A+I+q,C+O+w,E),H+=1;z.f+=l;z.l+=l;z.g+=f;z.o+=f;b.wb("nudge "+(0===l?-1===f?"up":"down":-1===l?"left":"right"))}else b.s.notification.L("No room to nudge selection",180,!0)};k.prototype.ou=function(b,l,f){var q=(b.a.width>>1)-(b.nb>>1)+(b.Kb<<1),w=(b.a.height>>1)-(b.qb>>1)+(b.Lb<<1),z=b.Eb,A=b.lo,C=z.f,D=z.g,E=z.l;
z=z.o;var F;if(!b.Ha&&null!==b.zf[b.ag])if(l)if(b.tb)if(b.ie&&(C=A.f,D=A.g,E=A.l,z=A.o),C>E&&(l=C,C=E,E=l),D>z&&(l=D,D=z,z=l),E=E-C+1,z=z-D+1,b.cf>E||b.bf>z)b.s.notification.L("Paste does not fit in selection",180,!0);else{l=b.ng;b.ng=v.Oo;for(F=D;F<=D+z-b.bf;F+=b.bf)for(A=C;A<=C+E-b.cf;A+=b.cf)b.ez(b,A+q,F+w,!1);b.ng=l;b.oj&&b.ts(b);f?b.wb("advance outside"):b.wb("paste to selection");b.ie=!1}else b.s.notification.L("Paste to Selection needs a selection",180,!0);else b.az(b,b.ag),b.ie=!1,b.s.notification.L("Now click to paste",
180,!0)};k.prototype.iJ=function(b){b.ie?b.ou(b,!0,!1):b.ez(b,b.tj,b.uj,!0)};k.prototype.jE=function(b){b.ou(b,!1,!1)};k.prototype.az=function(b,l){0<=l&&l<b.zf.length&&(null!==b.zf[l]?(b.ad=!0,b.ie=!1,b.mb=b.zf[l].buffer,b.cf=b.zf[l].width,b.bf=b.zf[l].height,b.td.current!==v.Fo&&(b.td.current=b.Yj(v.Fo,!0,b))):(b.ad=!1,b.ie=!1,b.s.notification.L("Clipboard empty",180,!0)))};k.prototype.IJ=function(b,l){var f,q=b.a.h;-1===q&&(q=2);for(f=0;f<b.mb.length;f+=1){var w=100*b.Qb.random()<=b.yn?2===q||
l?q-1:(b.Qb.random()*(q-1)|0)+1:0;b.mb[f]=w}};k.prototype.JJ=function(b,l){var f=b.Eb,q=f.f,w=f.l,z=f.g;f=f.o;var A=(b.a.width>>1)-(b.nb>>1)+(b.Kb<<1),C=(b.a.height>>1)-(b.qb>>1)+(b.Lb<<1),D=b.a.h;if(b.tb){if(q>w){var E=w;w=q;q=E}z>f&&(E=f,f=z,z=E);-1===D&&(D=2);for(E=z;E<=f;E+=1)for(z=q;z<=w;z+=1){var F=100*b.Qb.random()<=b.yn?2===D||l?D-1:(b.Qb.random()*(D-1)|0)+1:0;b.Uc(z+A,E+C,F)}b.a.sh=!0;b.a.Mh();b.wb("random "+b.yn+"%")}};k.prototype.su=function(b,l){b.Ha||(b.ad?b.IJ(b,l):b.JJ(b,l))};k.prototype.Qv=
function(b){b.Ha||b.su(b,!1)};k.prototype.Pv=function(b){b.su(b,!0)};k.prototype.YH=function(b){var l=b.cf,f=b.bf,q=l>>1,w,z,A;for(z=A=0;z<f;z+=1){if(b.a.D)for(w=0;w<q;w+=1){var C=b.mb[A+w];var D=b.mb[A+l-w-1];b.mb[A+w]=D&5|(D&2)<<2|(D&8)>>2;b.mb[A+l-w-1]=C&5|(C&2)<<2|(C&8)>>2}else for(w=0;w<q;w+=1)C=b.mb[A+w],b.mb[A+w]=b.mb[A+l-w-1],b.mb[A+l-w-1]=C;A+=l}};k.prototype.ZH=function(b){var l=b.Eb,f=l.f,q=l.l,w=l.g;l=l.o;var z,A=b.a.h,C=2<A&&!(this.a.$a||this.a.D||this.a.Y),D=(b.a.width>>1)-(b.nb>>1)+
(b.Kb<<1),E=(b.a.height>>1)-(b.qb>>1)+(b.Lb<<1);if(b.tb){if(f>q){var F=q;q=f;f=F}w>l&&(F=l,l=w,w=F);F=b.a.m.I(Uint8,q-f+1,"View.flipRow");for(z=w;z<=l;z+=1){for(w=f;w<=q;w+=1){var G=b.a.getState(w+D,z+E,!1);C&&0<G&&(G=A-G);F[w-f]=G}if(b.a.D)for(w=f;w<=q;w+=1)G=F[q-w],b.Uc(w+D,z+E,G&5|(G&2)<<2|(G&8)>>2);else for(w=f;w<=q;w+=1)b.Uc(w+D,z+E,F[q-w])}b.a.sh=!0;b.a.Mh();b.wb("flip horizontally")}};k.prototype.$H=function(b){var l=b.cf,f=b.bf,q=f>>1,w,z,A;for(w=A=0;w<l;w+=1){if(b.a.D)for(z=0;z<q;z+=1){var C=
b.mb[A+z*l];var D=b.mb[A+(f-z-1)*l];b.mb[A+z*l]=D&10|(D&1)<<2|(D&4)>>2;b.mb[A+(f-z-1)*l]=C&10|(C&1)<<2|(C&4)>>2}else for(z=0;z<q;z+=1)C=b.mb[A+z*l],b.mb[A+z*l]=b.mb[A+(f-z-1)*l],b.mb[A+(f-z-1)*l]=C;A+=1}};k.prototype.aI=function(b){var l=b.Eb,f=l.f,q=l.l,w=l.g;l=l.o;var z,A=b.a.h,C=2<A&&!(this.a.$a||this.a.D||this.a.Y),D=(b.a.width>>1)-(b.nb>>1)+(b.Kb<<1),E=(b.a.height>>1)-(b.qb>>1)+(b.Lb<<1);if(b.tb){if(f>q){var F=q;q=f;f=F}w>l&&(F=l,l=w,w=F);for(F=b.a.m.I(Uint8,l-w+1,"View.flipColumn");f<=q;f+=
1){for(z=w;z<=l;z+=1){var G=b.a.getState(f+D,z+E,!1);C&&0<G&&(G=A-G);F[z-w]=G}if(b.a.D)for(z=w;z<=l;z+=1)G=F[l-z],b.Uc(f+D,z+E,G&10|(G&1)<<2|(G&4)>>2);else for(z=w;z<=l;z+=1)b.Uc(f+D,z+E,F[l-z])}b.a.sh=!0;b.a.Mh();b.wb("flip vertically")}};k.prototype.ME=function(b,l){var f=b.cf,q=b.bf,w,z,A=b.a.m.I(Uint8,f*q,"View.pasteBuffer");for(z=0;z<q;z+=1)for(w=0;w<f;w+=1)if(b.a.D)if(l){var C=b.mb[z*f+w];A[w*q+(q-z-1)]=C<<1&15|(C&8)>>3}else C=b.mb[z*f+w],A[(f-w-1)*q+z]=C>>1&15|(C&1)<<3;else l?A[w*q+(q-z-1)]=
b.mb[z*f+w]:A[(f-w-1)*q+z]=b.mb[z*f+w];b.mb=A;b.cf=q;b.bf=f};k.prototype.NE=function(b,l,f){var q=b.Eb,w=q.f,z=q.l,A=q.g,C=q.o,D=0,E=b.a.h;var F=!0;var G=2<E&&!(this.a.$a||this.a.D||this.a.Y),H=b.a.ia?-1:0;var I=Math.round((b.a.width-b.a.ua)/2)+H;var O=Math.round((b.a.height-b.a.ra)/2)+H;var K=I+b.a.ua-1;var M=O+b.a.ra-1;H=(b.a.width>>1)-(b.nb>>1)+(b.Kb<<1);var J=(b.a.height>>1)-(b.qb>>1)+(b.Lb<<1);if(b.tb){if(w>z){var X=z;z=w;w=X}A>C&&(X=C,C=A,A=X);X=w+(z-w+1-1>>1);var R=A+(C-A+1-1>>1);var U=X+A-
R;var Y=R+w-X;var da=X+C-R;R=R+z-X;var V=q.f;var ka=q.g;var ma=q.l;var ea=q.o;q.f=U;q.g=Y;q.l=da;q.o=R;q.f>q.l&&(X=q.f,q.f=q.l,q.l=X);q.g>q.o&&(X=q.g,q.g=q.o,q.o=X);if(-1!==b.a.sa){if(q.f+H<I||q.l+H>K||q.g+J<O||q.o+J>M)b.s.notification.L("Rotation does not fit in bounded grid",180,!0),F=!1}else b.UB(b)?(b.s.notification.L("Rotation does not fit on grid",180,!0),F=!1):(H=(b.a.width>>1)-(b.nb>>1)+(b.Kb<<1),J=(b.a.height>>1)-(b.qb>>1)+(b.Lb<<1));if(F){l?(F=Y,M=da,K=1,O=-1):(F=R,M=U,K=-1,O=1);I=b.a.m.I(Int16,
3*(z-w+1)*(C-A+1),"View.rotateCells");for(da=A;da<=C;da+=1){X=F;for(U=w;U<=z;U+=1)Y=b.a.getState(U+H,da+J,!1),G?0<Y&&(Y=E-Y):b.a.D&&(Y=l?Y<<1&15|(Y&8)>>3:Y>>1&15|(Y&1)<<3),I[D]=M,I[D+1]=X,I[D+2]=Y,D+=3,X+=K;M+=O}H=(b.a.width>>1)-(b.nb>>1)+(b.Kb<<1);J=(b.a.height>>1)-(b.qb>>1)+(b.Lb<<1);for(D=0;D<I.length;)U=I[D],da=I[D+1],Y=I[D+2],b.Uc(U+H,da+J,Y),D+=3;for(U=w;U<q.f;U+=1)for(da=A;da<=C;da+=1)b.Uc(U+H,da+J,0);for(U=q.l+1;U<=z;U+=1)for(da=A;da<=C;da+=1)b.Uc(U+H,da+J,0);for(da=A;da<q.g;da+=1)for(U=w;U<=
z;U+=1)b.Uc(U+H,da+J,0);for(da=q.o+1;da<=C;da+=1)for(U=w;U<=z;U+=1)b.Uc(U+H,da+J,0);b.a.sh=!0;b.a.Mh();b.wb(f)}else q.f=V,q.g=ka,q.l=ma,q.o=ea}};k.prototype.Gv=function(b){b.Ha||b.$l(b,-1,0)};k.prototype.Hv=function(b){b.Ha||b.$l(b,1,0)};k.prototype.Lv=function(b){b.Ha||b.$l(b,0,-1)};k.prototype.Ev=function(b){b.Ha||b.$l(b,0,1)};k.prototype.vC=function(b){b.Ha||(b.ad?b.YH(b):b.ZH(b))};k.prototype.wC=function(b){b.Ha||(b.ad?b.$H(b):b.aI(b))};k.prototype.LE=function(b){b.Ha||(b.ad?b.ME(b,!0):b.NE(b,
!0,"rotate clockwise"))};k.prototype.KE=function(b){b.Ha||(b.ad?b.ME(b,!1):b.NE(b,!1,"rotate counter-clockwise"))};k.prototype.zI=function(b){var l=0,f=b.a.h;if(!b.Ha)for(-1===f&&(f=2);l<b.mb.length;){var q=b.mb[l];b.mb[l]=f-q-1;l+=1}};k.prototype.AI=function(b){var l=b.Eb,f=l.f,q=l.l,w=l.g;l=l.o;var z=(b.a.width>>1)-(b.nb>>1)+(b.Kb<<1),A=(b.a.height>>1)-(b.qb>>1)+(b.Lb<<1),C=b.a.h;if(!b.Ha&&b.tb){if(f>q){var D=q;q=f;f=D}w>l&&(D=l,l=w,w=D);-1===C&&(C=2);for(D=w;D<=l;D+=1)for(w=f;w<=q;w+=1){var E=
b.a.getState(w+z,D+A,!1);!b.a.D&&2<C&&0<E&&(E=C-E);b.Uc(w+z,D+A,C-E-1)}b.a.sh=!0;b.a.Mh();b.wb("invert cells in selection")}};k.prototype.SC=function(b){b.Ha||(b.ad?b.zI(b):b.AI(b))};k.prototype.ax=function(b){b.a.Tc=b.a.Tc?!1:!0;b.Pu(b.Ua);var l=b.a.Sc;b.a.Tc&&(l=!l);b.s.notification.L("Playback "+(l?"Reverse":"Forward"),40,!0)};k.prototype.Xu=function(b){b.zg(!0,!0,v.kk);b.Ua||(b.Dg=!0)};k.prototype.Gx=function(b){b.a.zw=!1;b.a.yw=0;b.a.aa?(b.Sb?(b.Sb=!1,b.s.notification.L("Identify Cancelled",
120,!1)):(b.Sb=!0,b.Qi=!1,b.qq?b.s.notification.L("Identifying (fast)...",216E3,!1):b.s.notification.L("Identifying...",216E3,!1)),b.wb("")):(b.s.notification.L("Empty Pattern",120,!1),b.Sb=!1,b.Qi=!1);b.a.At(b.Sb);b.ha=0;b.vs(b);b.vs(b);b.s.uh=!0;b.i.locked=!1};k.prototype.rp=function(b,l,f){l&&(f.a.Ub=b[0]);return[f.a.Ub]};k.prototype.hF=function(b,l,f){l&&(f.Lg=b[0]);return[f.Lg]};k.prototype.sv=function(b,l,f){l&&(f.eu=b[0]);return[f.eu]};k.prototype.BA=function(b,l,f){l&&(f.Oi=b[0]);return[f.Oi]};
k.prototype.DA=function(b,l,f){l&&(f.nl=b[0]);return[f.nl]};k.prototype.Sr=function(b,l,f){l&&(0!==f.ha&&b[0]&&(f.ha=0,f.qk.current=f.sp([f.ha],!0,f)),b[0]||f.vs(f));return b};k.prototype.CA=function(b,l,f){l&&(f.In=b[0]);return[f.In]};k.prototype.kl=function(b,l,f){l&&(f.Er=b[0]);return[f.Er]};k.prototype.Tj=function(b,l,f){l&&(f.Gj=b[0],f.Gj?f.jr?f.s.notification.L("Replace: Now click on a cell",180,!0):f.s.notification.L("Pick: Now click on a cell",180,!0):(f.Ox||f.s.notification.clear(!0,!1),
f.Ox=!1,f.jr=!1));return[f.Gj]};k.prototype.gF=function(b,l,f){l&&(f.qc=b[0],f.qc&&!f.Ua&&f.zg(!0,!0,v.kk));return[f.qc]};k.prototype.ew=function(b,l,f){l&&-1!==f.Va&&(f.Gc=!b[0],f.Wc?(f.Je=f.Gc,f.s.notification.L("Loop and Waypoints "+(f.Gc?"Off":"On"),40,!0)):f.yd?(f.df=f.Gc,f.s.notification.L("Loop and Track "+(f.Gc?"Off":"On"),40,!0),f.zB(f.df)):f.s.notification.L("Loop "+(f.Gc?"Off":"On"),40,!0));return[f.Gc]};k.prototype.dw=function(b,l,f){l&&f.Te&&(f.$f=!b[0]);return[f.$f]};k.prototype.fw=
function(b,l,f){l&&-1!==f.QL&&(f.Ie=!b[0]);return[f.Ie]};k.prototype.EA=function(b,l,f){l&&(f.yd?(f.df=!b[0],f.zB(f.df),-1!==f.Va?(f.Gc=f.df,f.s.notification.L("Loop and Track "+(f.Gc?"Off":"On"),40,!0)):f.s.notification.L("Track "+(f.df?"Off":"On"),40,!0)):f.Wc&&(f.Je=!b[0],f.Je&&(f.s.notification.clear(!1,!1),f.Jq=""),-1!==f.Va?(f.Gc=f.Je,f.s.notification.L("Loop and Waypoints "+(f.Gc?"Off":"On"),40,!0)):f.s.notification.L("Waypoints "+(f.Je?"Off":"On"),40,!0)));return f.yd?[f.df]:[f.Je]};k.prototype.sp=
function(b,l,f){l&&(f.ha=b[0],f.ha?(f.fd.length&&f.rh(v.Rz,f),f.Pc.current[0]&&(f.Pc.current=f.Sr([!1],!0,f))):(f.rh(v.Vk,f),f.ha=0));f.Wz(f.td.current);return[f.ha]};k.prototype.HF=function(b,l,f){l&&(f.mk=b[0]);return[f.mk]};k.prototype.FF=function(b,l,f){l&&(f.a.Ng=b[0],f.a.Jx());return[f.a.Ng]};k.prototype.jv=function(b,l,f){l&&(f.Vg=b[0],f.Vg&&(f.a.aa?0<f.a.v&&-1===f.a.h&&(--f.a.v,f.a.$e(!0,f.oe,f.Ec,f.Sb),f.Ki()):(f.a.ma=0,f.a.Gb=0,f.a.Xb=0)));f.s.Qg(!0);return[f.Vg]};k.prototype.Lu=function(b,
l){1<b.Yb&&(b.Yb-=l,1>b.Yb&&(b.Yb=1))};k.prototype.Ku=function(b,l){b.Yb<b.fd.length-b.dd+1&&(b.Yb+=l,b.Yb>b.fd.length-b.dd+1&&(b.Yb=b.fd.length-b.dd+1))};k.prototype.Nu=function(b,l){1<b.ha&&(b.ha-=l,1>b.ha&&(b.ha=1))};k.prototype.Mu=function(b,l){b.ha<b.Io-b.dd&&(b.ha+=l,b.ha>b.Io-b.dd&&(b.ha=b.Io-b.dd))};k.prototype.zJ=function(b){for(var l=b.ba.length-1,f=!1;0<=l&&!f;)b.ha<=b.ba[l][0]?--l:f=!0;f&&(b.ha=b.ba[l][0])};k.prototype.aJ=function(b){for(var l=0,f=!1;l<b.ba.length&&!f;)b.ha>=b.ba[l][0]?
l+=1:f=!0;f&&(b.ha=b.ba[l][0])};k.prototype.rK=function(b){for(;this.a.v<b-1;)this.a.aa?(this.a.$e(!1,!1,this.Ec,this.Sb),0===this.a.aa&&2<this.a.h||this.a.We(),0===this.a.aa&&2>=this.a.h&&(this.a.aa=1,this.a.$e(!1,!1,this.Ec,this.Sb),--this.a.v)):(this.a.v+=1,this.a.We()),this.Ki();this.a.v<b&&(this.a.aa?(this.a.$e(this.Vg,!1,this.Ec,this.Sb),0===this.a.aa&&2<this.a.h||this.a.We(),0===this.a.aa&&2>=this.a.h&&(this.a.aa=1,this.a.$e(!1,!1,this.Ec,this.Sb),--this.a.v)):(this.a.v+=1,this.a.We()),this.Ki());
this.elapsedTime=this.Aa[b];this.kh=this.lb=b};k.prototype.xr=function(b){var l=this.J+(0<this.a.h?this.a.h:0);!this.oe&&this.s.nz&&(this.s.nz=!1,0>b&&(b=0),this.elapsedTime=this.Aa[b],this.kh=this.lb=b,-1!==this.Bi&&b>this.Bi+l?this.a.v=b:this.a.xr(b,this.Vg,this.Ec,this),this.S.VK(this.elapsedTime),this.Dg=!0,b!==this.a.v&&(this.Om=!0,this.Gw=b,this.a.Hu(!1),this.s.notification.L("Computing previous generations",1E4,!0),this.Fw=!0))};k.prototype.Bx=function(b){b.style.width="2em";b.style.height=
"2em";b.style.padding=0;b.style.BL="none";b.style.outline="none";b.style.boxShadow="none";b.style.background="transparent";b.style.position="fixed";b.style.left="-100px";b.style.top="0px"};k.prototype.Ds=function(b,l,f){var q="textarea";b.Lr=l;b.Rj=0;b.Nn=l.length;if(f){var w=performance.now()-b.Cs;w<v.eH&&b.Nn<v.cH?f=!1:b.Bt||(q="div")}b.Mn=document.createElement("div");b.Mn.contentEditable=!0;b.Bx(b.Mn);b.xm=document.createElement(q);b.Bx(b.xm);b.xm.contentEditable=!0;b.Mn.appendChild(b.xm);document.body.appendChild(b.Mn);
f?(b.Hw=v.fH,b.s.notification.L("Copying...",1E4,!0),b.Hp=!0,b.As=!1,b.i.locked=!0):(b.xm.innerHTML=l,b.$B(b,f))};k.prototype.$B=function(b,l){b.Bt?b.xm.focus():b.Mn.focus();try{document.execCommand("selectAll"),document.execCommand("copy")}catch(f){}document.body.removeChild(b.Mn);b.Lr="";b.uc.canvas.focus();b.s.notification.L("Copied to external clipboard",180,!0);l&&(b.Hp=!1,b.i.locked=!1);b.Cs=-1};k.prototype.ui=function(b){var l=ColourManager.ze,f=Object.keys(l),q=b.red,w=b.green;b=b.blue;for(var z=
"",A=!1,C=null,D=0;D<f.length&&!A;)C=l[f[D]],C[1]===q&&C[2]===w&&C[3]===b?(A=!0,D=f.length):D+=1;A?z=C[0]:z=q+" "+w+" "+b;return z};k.prototype.Zn=function(b,l){return b.red===l.red&&b.green===l.green&&b.blue===l.blue};k.prototype.aC=function(b,l){var f="#C "+Keywords.En+" ",q=String(-(b.a.width/2-b.a.wa-b.a.Pb|0)),w=String(-(b.a.height/2-b.a.pa-b.a.Nb|0)),z=b.a.zoom,A=b.a.angle|0,C=b.a.bb[b.a.pf];0!==b.a.v&&(f+=Keywords.Ir+b.a.v+" ");f+=Keywords.gf+" "+q+" "+Keywords.hf+" "+w+" ";f+=Keywords.Od+
" "+(z===(z|0)?String(z):String(z.toFixed(2)))+" ";f+=Keywords.il+" "+A+" ";f+=Keywords.gp+"\n";if(l){f+="#C "+Keywords.En+" ";if(b.Jh){if(2<b.a.h){if(f+=Keywords.Da+" "+Keywords.Zu+" "+b.ui(C.hi),f+=" "+Keywords.Da+" "+Keywords.Yu+" "+b.ui(C.Yf),b.Zn(C.xc.U,C.hi)||(f+=" "+Keywords.Da+" "+Keywords.av+" "+b.ui(C.xc.U)),b.Zn(C.xc.T,C.xc.U)||(f+=" "+Keywords.Da+" "+Keywords.$u+" "+b.ui(C.xc.T)),C.Al||(f+=" "+Keywords.Da+" "+Keywords.sA+" "+b.ui(C.Ob.U)),C.Al||!b.Zn(C.Ob.T,C.Ob.U))f+=" "+Keywords.Da+
" "+Keywords.rA+" "+b.ui(C.Ob.T)}else f+=Keywords.Da+" "+Keywords.Zu+" "+b.ui(C.Xa),f+=" "+Keywords.Da+" "+Keywords.Yu+" "+b.ui(C.kb.T),b.Zn(C.kb.T,C.kb.U)||(f+=" "+Keywords.Da+" "+Keywords.qA+" "+b.ui(C.kb.U)),b.Zn(C.Za.U,C.Xa)||(f+=" "+Keywords.Da+" "+Keywords.av+" "+b.ui(C.Za.U)),b.Zn(C.Za.T,C.Za.U)||(f+=" "+Keywords.Da+" "+Keywords.$u+" "+b.ui(C.Za.T));f+=" "+Keywords.gp+"\n#C "+Keywords.En+" "}f+=Keywords.Qk+" "+C.name+" ";b.J!==b.Nt&&(f+=Keywords.ut+" "+b.J+" ");f+=Keywords.up+" "+b.C+" ";f+=
Keywords.qo+" "+b.B+" ";f+=Keywords.gp+"\n"}b.Ds(b,f,!1)};k.prototype.Nz=function(b){b.element.innerHTML=b.a.qw(b,b.a,!0);b.element.value=b.element.innerHTML};k.prototype.Jp=function(b,l){b.Cs=performance.now();y.Ia?b.Ds(b,B.pe[b.Vc].pattern,l):b.Ds(b,e(b.element),l)};k.prototype.Bs=function(b,l){b.Cs=performance.now();b.Ds(b,b.a.qw(b,b.a,l),!0)};k.prototype.es=function(b,l){var f=l.charCode||l.keyCode;if(b.Om?KeyProcessor.EJ(b,f,l):b.Sb?KeyProcessor.FJ(b,f,l):b.Hp?KeyProcessor.DJ(b,f,l):KeyProcessor.CJ(b,
f,l))b.s.Qg(!0),l.preventDefault()};k.prototype.nL=function(){this.a.pb?(this.La.setPosition(Menu.gb,-85,-130),this.W.setPosition(Menu.gb,-130,-130),this.W.w="random fill",this.Dk.setPosition(Menu.gb,-235,-130)):2>=this.a.h?(this.La.setPosition(Menu.gb,-40,-130),this.W.setPosition(Menu.gb,-85,-130),this.W.w="random fill",this.Dk.setPosition(Menu.gb,-190,-130)):(this.La.setPosition(Menu.gb,-40,-130),this.a.D?(this.W.setPosition(Menu.gb,-85,-130),this.W.w="random multi-state fill",this.Dk.setPosition(Menu.gb,
-190,-130)):(this.W.setPosition(Menu.gb,-130,-130),this.W.w="random multi-state fill",this.kd.setPosition(Menu.gb,-85,-130),this.Dk.setPosition(Menu.gb,-235,-130)))};k.prototype.pL=function(){if(this.B<v.Sl)this.Oe.setPosition(Menu.od,10,50),this.Pe.setPosition(Menu.ka,0,50),this.Ne.setPosition(Menu.mc,-160,50),this.Qe.setPosition(Menu.od,10,100),this.Me.setPosition(Menu.ka,0,100),this.we.setPosition(Menu.mc,-160,100),0<this.S.Ho()?(this.hd.setPosition(Menu.od,10,150),this.xe.setPosition(Menu.mc,
-160,150)):this.hd.setPosition(Menu.ka,0,150);else{var b=0<this.S.Ho()?-175:-150;this.Oe.setPosition(Menu.Bb,0,b);this.Pe.setPosition(Menu.Bb,0,b+50);this.Ne.setPosition(Menu.Bb,0,b+100);this.Qe.setPosition(Menu.Bb,0,b+150);this.Me.setPosition(Menu.Bb,0,b+200);this.we.setPosition(Menu.Bb,0,b+250);this.hd.setPosition(Menu.Bb,0,b+300);this.xe.setPosition(Menu.Bb,0,b+350)}};k.prototype.DK=function(){var b="white",l="black",f="rgb(0,240,32)",q="blue",w="grey",z="white";var A=this.la[v.Sp];-1!==A?(b="rgb("+
(A>>16)+","+(A>>8&255)+","+(A&255)+")",this.O.Bu=!0,this.O.Az=this.a.jg?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255):(this.O.Bu=!0,A=16777215,this.O.Az=this.a.jg?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255);A=this.la[v.Qp];-1!==A?l="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")":A=0;this.Xn=A;A=this.la[v.Tp];-1!==A&&(f="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");A=this.la[v.Vp];-1!==A&&(q="rgb("+(A>>16)+","+(A>>8&255)+","+
(A&255)+")");A=this.la[v.Up];-1!==A?w="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")":A=8421504;this.O.HC=this.a.jg?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255;A=this.la[v.Rp];-1!==A&&(z="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");this.s.Br(b,l,f,q,w,z)};k.prototype.fu=function(){var b,l=0;this.i=this.s.lH(this.sB,this.hB,this);this.i.cx=this.tv;this.i.kB=this.Bv;this.oq=this.i.xa(Menu.ka,0,52,480,48,"Banner");this.oq.Oa("32px Arial");this.Re=this.i.xa(Menu.ka,
-160,100,160,32,"Type");this.li=this.i.xa(Menu.ka,-160,140,160,32,"Cells");this.ki=this.i.xa(Menu.ka,-160,180,160,32,"Bounding Box");this.mi=this.i.xa(Menu.ka,-160,240,160,32,"Direction");this.pi=this.i.xa(Menu.ka,-160,280,160,32,"Period");this.ri=this.i.xa(Menu.ka,-160,320,160,32,"Slope");this.si=this.i.xa(Menu.ka,-160,360,160,32,"Speed");this.ni=this.i.xa(Menu.ka,-160,400,160,32,"Heat");this.fj=this.i.xa(Menu.ka,-160,440,160,32,"Volatility");this.oi=this.i.xa(Menu.ka,-160,460,160,32,"Mod");this.ej=
this.i.xa(Menu.ka,-160,500,160,32,"Active Cells");this.ti=this.i.xa(Menu.ka,-160,540,160,32,"Temperature");this.uq=this.i.xa(Menu.ka,80,100,320,32,"");this.pq=this.i.xa(Menu.ka,80,140,320,32,"");this.vt=this.i.xa(Menu.ka,80,180,320,32,"");this.wt=this.i.xa(Menu.ka,80,220,320,32,"");this.yt=this.i.xa(Menu.ka,80,260,320,32,"");this.zt=this.i.xa(Menu.ka,80,300,320,32,"");this.sq=this.i.xa(Menu.ka,80,340,320,32,"");this.rq=this.i.xa(Menu.ka,80,380,320,32,"");this.Hx=this.i.xa(Menu.ka,80,420,320,32,"");
this.xt=this.i.xa(Menu.ka,80,460,320,32,"");this.nq=this.i.xa(Menu.ka,80,500,320,32,"");this.tq=this.i.xa(Menu.ka,80,540,320,32,"");this.Se=this.i.xa(Menu.od,0,40,16,20,"X");this.Se.Oa(v.Rg);this.Se.Mr=Menu.Ce;this.kf=this.i.xa(Menu.od,70,40,16,20,"Y");this.kf.Oa(v.Rg);this.kf.Mr=Menu.Ce;this.Ke=this.i.xa(Menu.od,140,40,16,20,"A");this.Ke.Oa(v.Rg);this.Ke.Mr=Menu.Ce;this.dc=this.i.xa(Menu.od,16,40,54,20,"");this.dc.Oa(v.Rg);this.dc.textAlign=Menu.right;this.dc.w="camera X position";this.lc=this.i.xa(Menu.od,
86,40,54,20,"");this.lc.Oa(v.Rg);this.lc.textAlign=Menu.right;this.lc.w="camera Y position";this.Na=this.i.xa(Menu.od,156,40,40,20,"");this.Na.Oa(v.Rg);this.Na.textAlign=Menu.right;this.Na.w="camera angle";this.gj=this.i.xa(Menu.od,196,40,4,20,"");this.ih=this.i.xa(Menu.mc,-280,40,20,20,"E");this.ih.Oa(v.Rg);this.lh=this.i.xa(Menu.mc,-210,40,20,20,"S");this.lh.Oa(v.Rg);this.nh=this.i.xa(Menu.mc,-140,40,20,20,"W");this.nh.Oa(v.Rg);this.jh=this.i.xa(Menu.mc,-70,40,20,20,"N");this.jh.Oa(v.Rg);this.ab=
this.i.xa(Menu.mc,-260,40,50,20,"");this.ab.Oa(v.Rg);this.ab.textAlign=Menu.right;this.ab.w="bounding box east edge velocity";this.rb=this.i.xa(Menu.mc,-190,40,50,20,"");this.rb.Oa(v.Rg);this.rb.textAlign=Menu.right;this.rb.w="bounding box south edge velocity";this.Fb=this.i.xa(Menu.mc,-120,40,50,20,"");this.Fb.Oa(v.Rg);this.Fb.textAlign=Menu.right;this.Fb.w="bounding box west edge velocity";this.fb=this.i.xa(Menu.mc,-50,40,50,20,"");this.fb.Oa(v.Rg);this.fb.textAlign=Menu.right;this.fb.w="bounding box north edge velocity";
this.Hm=this.i.cb(this.dw,Menu.mc,-210,0,38,20,["START"],[!1],Menu.Ia);this.Hm.Oa(v.Su);this.Hm.w=["autostart"];this.vm=this.i.cb(this.fw,Menu.mc,-210,20,38,20,["STOP"],[!1],Menu.Ia);this.vm.Oa(v.Su);this.vm.w=["stop"];this.Yg=this.i.cb(this.EA,Menu.mc,-172,0,38,20,["WAYPT"],[!1],Menu.Ia);this.Yg.Oa(v.Su);this.Yg.w=["toggle waypoint mode"];this.Pl=this.i.cb(this.ew,Menu.mc,-172,20,38,20,["LOOP"],[!1],Menu.Ia);this.Pl.Oa(v.Su);this.Pl.w=["toggle loop mode"];this.td=this.i.cb(this.Yj,Menu.od,90,0,120,
40,["","",""],v.Ul,Menu.pm);this.td.icon=[this.O.icon("draw"),this.O.icon("select"),this.O.icon("pan")];this.td.w=["draw","select","pan"];this.fa=this.i.cb(this.vv,Menu.mc,-80,100,80,60,["1","2"],0,Menu.pm);this.fa.orientation=Menu.vertical;this.fa.w=["",""];this.fa.Oa("14px Arial");this.qk=this.i.cb(this.sp,Menu.mc,-40,0,40,40,["Help"],[!1],Menu.Ia);this.qk.w=["toggle help display"];this.qk.Oa("16px Arial");this.wh=this.i.Fa(this.nB,Menu.mc,-40,50,40,["^"]);this.wh.w=["show help topics"];this.qh=
this.i.Fa(this.Wv,Menu.mc,-40,100,40,["<"]);this.qh.w=["show help sections"];this.Oe=this.i.Fa(this.fs,Menu.ka,0,50,150,["Keys"]);this.Oe.w=["show keyboard shortcuts"];this.Pe=this.i.Fa(this.Vv,Menu.ka,0,100,150,["Scripts"]);this.Pe.w=["show script commands"];this.Ne=this.i.Fa(this.qv,Menu.ka,0,150,150,["Info"]);this.Ne.w=["show pattern and engine information"];this.Qe=this.i.Fa(this.cw,Menu.ka,0,200,150,["Themes"]);this.Qe.w=["show colour Themes"];this.Me=this.i.Fa(this.Lt,Menu.ka,0,250,150,["Colours"]);
this.Me.w=["show colour names"];this.we=this.i.Fa(this.$m,Menu.ka,0,300,150,["Aliases"]);this.we.w=["show rule aliases"];this.hd=this.i.Fa(this.hs,Menu.ka,0,350,150,["Memory"]);this.hd.w=["show memory usage"];this.xe=this.i.Fa(this.an,Menu.ka,0,350,150,["Annotations"]);this.xe.w=["show annotations"];this.vi=this.i.cb(this.gF,Menu.od,0,0,40,40,["Auto"],[!1],Menu.Ia);this.vi.icon=[this.O.icon("autofit")];this.vi.w=["toggle autofit"];this.vi.Oa("16px Arial");this.jk=this.i.Fa(this.Xu,Menu.od,45,0,40,
"");this.jk.icon=this.O.icon("fit");this.jk.w="fit pattern to display";this.Qh=this.i.cb(this.rp,Menu.mc,-85,0,40,40,["Grid"],[!1],Menu.Ia);this.Qh.icon=[this.O.icon("grid")];this.Qh.w=["toggle gridlines"];this.Qh.Oa("16px Arial");this.Og=this.i.pG();this.Og.locked=!0;this.bn=this.i.xa(Menu.Wi,0,-130,42,30,"Gen");this.bn.textAlign=Menu.left;this.bn.Oa(v.Ug);this.bn.w="generation";this.Lf=this.i.xa(Menu.Wi,42,-130,98,30,"");this.Lf.textAlign=Menu.right;this.Lf.Oa(v.Ug);this.Lf.w="generation";this.Qd=
this.i.xa(Menu.Wi,0,-100,70,30,"Time");this.Qd.textAlign=Menu.left;this.Qd.Oa(v.Ug);this.Qd.w="elapsed time";this.Xm=this.i.xa(Menu.Wi,70,-100,70,30,"");this.Xm.textAlign=Menu.right;this.Xm.Oa(v.Ug);this.Xm.w="elapsed time";this.km=this.i.xa(Menu.Wi,166,-70,130,30,"");this.km.textAlign=Menu.left;this.km.Oa(v.Ug);this.km.w="selection size";this.cj=this.i.xa(Menu.Wi,0,-70,166,30,"");this.cj.textAlign=Menu.left;this.cj.Oa(v.Ug);this.cj.w="cell state at cursor position";this.Xe=this.i.cb(this.jv,Menu.Wi,
0,-40,100,40,[""],[this.Vg],Menu.Ia);this.Xe.w=["toggle generation statistics\ngeneration "+(this.a.v+this.Oh)];this.Ek=this.i.xa(Menu.Wi,0,-40,this.C-40,40,"");this.Ek.textAlign=Menu.left;this.Ek.c=!0;this.jd=this.i.xa(Menu.gb,-70,-130,70,30,"Alive");this.jd.textAlign=Menu.left;this.jd.Oa(v.Ug);this.jd.w="current population";this.dm=this.i.xa(Menu.gb,-140,-130,70,30,"");this.dm.textAlign=Menu.right;this.dm.Oa(v.Ug);this.dm.w="alive";this.rj=this.i.xa(Menu.gb,-70,-100,70,30,"Births");this.rj.textAlign=
Menu.left;this.rj.Oa(v.Ug);this.rj.w="cells born this generation";this.sj=this.i.xa(Menu.gb,-140,-100,70,30,"");this.sj.textAlign=Menu.right;this.sj.Oa(v.Ug);this.sj.w="births";this.gd=this.i.xa(Menu.gb,-70,-70,70,30,"Deaths");this.gd.textAlign=Menu.left;this.gd.Oa(v.Ug);this.gd.w="cells died this generation";this.xl=this.i.xa(Menu.gb,-140,-70,70,30,"");this.xl.textAlign=Menu.right;this.xl.Oa(v.Ug);this.xl.w="deaths";this.jm=this.i.xa(Menu.Wi,0,-160,140,30,this.Cb);this.jm.Oa(v.Ug);this.Bc=this.i.nj(this.Zj,
Menu.ka,0,0,v.vB,40,0,1,.1,"Zoom ","",1);this.Bc.w="camera zoom";this.Wd=this.i.nj(this.bs,Menu.oB,30,0,40,292,v.Ot,v.Ut,1,"Layers ","",0);this.Wd.w="number of layers";this.Yc=this.i.nj(this.Uk,Menu.ix,-70,0,40,292,1,0,.1,"Depth ","",2);this.Yc.w="depth between layers";this.Bd=this.i.nj(this.$r,Menu.ka,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.Bd.w="camera angle";this.hg=this.i.Fa(this.aw,Menu.gb,-40,-90,40,"");this.hg.icon=this.O.icon("shrink");this.hg.w="shrink to thumbnail";this.vh=this.i.xa(Menu.ka,
0,100,120,40,"");this.Jl=this.i.cb(this.AF,Menu.Bb,-100,-75,180,40,["Hexagons"],[this.a.te],Menu.Ia);this.Jl.w=["toggle hexagonal cells"];this.Dp=this.i.cb(this.xF,Menu.Bb,100,-75,180,40,["Cell Borders"],[this.a.nd],Menu.Ia);this.Dp.w=["toggle cell borders"];this.Cj=this.i.cb(this.EF,Menu.Bb,-100,-25,180,40,["Major GridLines"],[this.a.pk],Menu.Ia);this.Cj.w=["toggle major gridlines"];this.lp=this.i.cb(this.IF,Menu.Bb,100,-25,180,40,["Starfield"],[this.bi],Menu.Ia);this.lp.w=["toggle starfield display"];
this.Nl=this.i.cb(this.DF,Menu.Bb,-100,25,180,40,["Annotations"],[this.ai],Menu.Ia);this.Nl.w=["toggle annotations"];this.Wo=this.i.cb(this.xv,Menu.Bb,100,25,180,40,["[R]History"],[this.a.If],Menu.Ia);this.Wo.w=["toggle [R]History display"];this.$n=this.i.cb(this.wF,Menu.Bb,-100,75,180,40,["Auto GridLines"],[this.Dh],Menu.Ia);this.$n.w=["automatically turn on gridlines for Draw and Select and off for Pan"];this.Em=this.i.cb(this.vF,Menu.Bb,100,75,180,40,["Alt GridLines"],[this.a.gl],Menu.Ia);this.Em.w=
["toggle alternating gridlines"];this.to=this.i.cb(this.BF,Menu.Bb,-100,-50,180,40,["AutoFit History"],[this.Rh],Menu.Ia);this.to.w=["toggle AutoFit History"];this.ym=this.i.cb(this.DA,Menu.Bb,100,-50,180,40,["Throttle"],[this.nl],Menu.Ia);this.ym.w=["toggle playback throttling"];this.om=this.i.cb(this.BA,Menu.Bb,-100,0,180,40,["Perf. Warning"],[this.Oi],Menu.Ia);this.om.w=["toggle performance warning display"];this.yo=this.i.cb(this.wv,Menu.Bb,100,0,180,40,["Kill Gliders"],[this.a.xi],Menu.Ia);this.yo.w=
["toggle kill escaping gliders"];this.Ap=this.i.cb(this.tB,Menu.Bb,0,50,180,40,["AutoHide UI"],[this.zj],Menu.Ia);this.Ap.w=["toggle hide UI on playback"];this.kj=this.i.Fa(this.Tv,Menu.Bb,0,-125,180,"Change Rule");this.kj.w="change rule";this.jj=this.i.Fa(this.yv,Menu.Bb,0,-75,180,"New Pattern");this.jj.w="new pattern";this.ij=this.i.Fa(this.gs,Menu.Bb,0,-25,180,"Load Pattern");this.ij.w="load last saved pattern";this.lj=this.i.Fa(this.Uv,Menu.Bb,0,25,180,"Save Pattern");this.lj.w="save pattern";
this.Yo=this.i.Fa(this.Rv,Menu.Bb,0,75,180,"Randomize");this.Yo.w="randomize pattern and rule";this.uo=this.i.Fa(this.Gx,Menu.Bb,0,125,180,"Identify");this.uo.w=["identify oscillator or spaceship period"];this.no=this.i.cb(this.Yn,Menu.Bb,0,-100,180,40,["Frame Times"],[this.s.Mk],Menu.Ia);this.no.w=["toggle timing display"];this.Pr=this.i.cb(this.jB,Menu.Bb,0,-50,180,40,["Timing Details"],[this.s.nm],Menu.Ia);this.Pr.w=["toggle timing details"];this.vo=this.i.cb(this.CF,Menu.Bb,0,0,180,40,["Display Info Bar"],
[this.$c],Menu.Ia);this.vo.w=["toggle Information Bar"];this.ap=this.i.cb(this.HF,Menu.Bb,0,50,180,40,["Relative Gen"],[this.mk],Menu.Ia);this.ap.w=["toggle absolute/relative generation display"];this.sr=this.i.cb(this.FF,Menu.Bb,0,100,180,40,["Render Quality"],[this.a.Ng],Menu.Ia);this.sr.w=["toggle anti-aliased cell display"];this.qr=this.i.Fa(this.Ov,Menu.kp,-135,-90,120,"Prev");this.qr.w="go to previous universe";this.Qq=this.i.Fa(this.Av,Menu.kp,135,-90,120,"Next");this.Qq.w="go to next universe";
this.K=this.i.Fa(this.Ju,Menu.gb,-40,-85,40,"Esc");this.K.w="close errors";this.K.Oa("16px Arial");this.pr=this.i.Fa(this.uE,Menu.oB,10,0,40,"<");this.pr.w="go to previous POI";this.Pq=this.i.Fa(this.GD,Menu.ix,-50,0,40,">");this.Pq.w="go to next POI";this.Ko=this.i.nj(this.iv,Menu.ka,0,45,172,40,0,1,this.qd,"Opacity ","%",0);this.Ko.w="graph opacity";this.Eo=this.i.cb(this.hF,Menu.mc,-85,45,40,40,[""],[!1],Menu.Ia);this.Eo.icon=[this.O.icon("lines")];this.Eo.w=["toggle graph lines/points"];this.Cg=
this.i.Fa(this.Fx,Menu.mc,-40,45,40,"X");this.Cg.w="close results";this.dj=this.i.Fa(this.lv,Menu.mc,-40,45,40,"X");this.dj.w="close graph";this.mh=this.i.cb(this.Tj,Menu.od,0,45,40,40,[""],[this.Gj],Menu.Ia);this.mh.icon=[this.O.icon("pick")];this.mh.w=["pick state"];this.ig=this.i.cb(this.kl,Menu.od,45,45,40,40,[""],[this.Er],Menu.Ia);this.ig.icon=[this.O.icon("states")];this.ig.w=["toggle states display"];this.oh=this.i.cb(this.sv,Menu.od,90,45,40,40,[""],[this.eu],Menu.Ia);this.oh.icon=[this.O.icon("drawpause")];
this.oh.w=["toggle pause playback while drawing"];this.jp=this.i.cb(this.CA,Menu.od,135,45,40,40,[""],[this.In],Menu.Ia);this.jp.icon=[this.O.icon("smart")];this.jp.w=["toggle smart drawing"];this.Pc=this.i.cb(this.Sr,Menu.gb,-40,-40,40,40,[""],[!1],Menu.Ia);this.Pc.icon=[this.O.icon("menu")];this.Pc.w=["toggle settings menu"];this.br=this.i.Fa(this.Mv,Menu.Bb,0,-125,150,"Pattern");this.br.w="pattern settings";this.jl=this.i.Fa(this.vs,Menu.kp,0,-100,120,"Back");this.jl.w="";this.fi=this.i.Fa(this.bw,
Menu.Bb,0,-75,150,"Theme");this.fi.w="choose colour theme";this.Fl=this.i.cb(this.eB,Menu.Bb,0,-25,150,40,["Graph"],[this.Rc],Menu.Ia);this.Fl.w=["toggle population graph display"];this.vq=this.i.Fa(this.pv,Menu.Bb,0,25,150,"Advanced");this.vq.w="advanced settings";this.Xp=this.i.Fa(this.pu,Menu.Bb,0,75,150,"Display");this.Xp.w="display settings";this.gu=this.i.Fa(this.Nv,Menu.Bb,0,125,150,"Playback");this.gu.w="playback settings";var f=-1;for(b=0;b<=this.a.af;b+=1){var q=v.tA[b];var w=v.aL[b];w!==
f?(l=120,f=w):l+=60;this.A[b]=this.i.cb(null,Menu.ka,140*w-210,l,120,40,[this.bv(q)],[!1],Menu.Ia);this.A[b].w=["select "+this.bv(q)+" theme"];this.A[b].Oa("20px Arial")}this.A[0].Ab=this.sw;this.A[1].Ab=this.vw;this.A[2].Ab=this.Ay;this.A[3].Ab=this.cz;this.A[4].Ab=this.oz;this.A[5].Ab=this.zz;this.A[6].Ab=this.Pz;this.A[7].Ab=this.nA;this.A[8].Ab=this.VA;this.A[9].Ab=this.bB;this.A[10].Ab=this.Tw;this.A[11].Ab=this.jx;this.A[12].Ab=this.px;this.A[13].Ab=this.xx;this.A[14].Ab=this.Ex;this.A[15].Ab=
this.Nx;this.A[16].Ab=this.Qx;this.A[17].Ab=this.dy;this.A[18].Ab=this.gy;this.A[19].Ab=this.py;this.bl=this.i.xa(Menu.ka,-210,60,120,40,"Default");this.$k=this.i.xa(Menu.ka,-70,60,120,40,"Classic");this.cl=this.i.xa(Menu.ka,70,60,120,40,"Program");this.al=this.i.xa(Menu.ka,210,60,120,40,"Basic");this.Zb=this.i.nj(this.Xj,Menu.gb,-365,-40,75,40,0,1,0,"","",-1);this.Zb.w="steps per second";this.Kd=this.i.nj(this.Dm,Menu.gb,-285,-40,75,40,v.on,v.kg,1,"x","",0);this.Kd.w="generations per step";this.zd=
this.i.xa(Menu.gb,-285,-60,75,20,0);this.zd.Oa(v.Ug);this.zd.c=!0;this.Wj=this.i.Fa(this.qB,Menu.gb,-455,-40,40,"");this.Wj.icon=this.O.icon("undo");this.Wj.w="undo";this.zn=this.i.Fa(this.Sv,Menu.gb,-410,-40,40,"");this.zn.icon=this.O.icon("redo");this.zn.w="redo";this.eo=this.i.cb(this.dB,Menu.mc,-130,0,40,40,["Sync"],[this.wj],Menu.Ia);this.eo.w=["sync cut and copy with external clipboard"];this.eo.Oa("15px Arial");this.Db=this.i.cb(this.Yd,Menu.gb,-205,-40,160,40,["","","",""],v.Ze,Menu.pm);this.Db.icon=
[this.O.icon("tostart"),this.O.icon("stepback"),this.O.icon("stepforward"),this.O.icon("play")];this.Db.w=["reset","previous generation","next generation","play"];this.vd=this.i.cb(this.iB,Menu.mc,-280,45,280,20,"0123456".split(""),this.cg,Menu.pm);this.vd.w="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.vd.Oa("14px Arial");this.j=this.i.cb(this.zv,Menu.mc,-280,65,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],Menu.Ia);this.j.w="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");
this.j.ye=1;this.th=this.i.nj(this.Bl,Menu.od,180,45,100,40,0,1,0,"","",-1);this.th.w="select drawing states range";this.Nf=this.i.Fa(this.SE,Menu.od,0,45,40,"All");this.Nf.icon=this.O.icon("select");this.Nf.w="select all cells";this.Nf.Oa("16px Arial");this.Gm=this.i.cb(this.cB,Menu.od,45,45,40,40,["Auto"],[this.oj],Menu.Ia);this.Gm.icon=[this.O.icon("autoshrink")];this.Gm.w=["toggle auto shrink selection"];this.Gm.Oa("16px Arial");this.nn=this.i.cb(null,Menu.od,90,45,40,40,[""],[!1],Menu.Ia);this.nn.icon=
[this.O.icon("selectlibrary")];this.nn.w=["clipboard library"];this.Ip=this.i.cb(this.yF,Menu.ka,0,90,400,40,"0123456789".split(""),this.ag,Menu.pm);this.Es();this.vn=this.i.cb(this.fB,Menu.mc,-160,45,160,40,["AND","CPY","OR","XOR"],v.oF[this.Zl],Menu.pm);this.vn.w=["paste mode","paste mode","paste mode","paste mode"];this.vn.Oa("16px Arial");this.ce=this.i.Fa(this.lC,Menu.od,135,45,40,"");this.ce.icon=this.O.icon("cut");this.ce.w="cut";this.be=this.i.Fa(this.Wt,Menu.od,180,45,40,"");this.be.icon=
this.O.icon("copy");this.be.w="copy";this.uf=this.i.Fa(this.jE,Menu.od,225,45,40,"");this.uf.icon=this.O.icon("paste");this.uf.w="paste";this.qf=this.i.Fa(this.Gv,Menu.gb,-175,-175,40,"");this.qf.icon=this.O.icon("nudgeleft");this.qf.w="nudge left";this.rf=this.i.Fa(this.Hv,Menu.gb,-130,-175,40,"");this.rf.icon=this.O.icon("nudgeright");this.rf.w="nudge right";this.sf=this.i.Fa(this.Lv,Menu.gb,-85,-175,40,"");this.sf.icon=this.O.icon("nudgeup");this.sf.w="nudge up";this.lf=this.i.Fa(this.Ev,Menu.gb,
-40,-175,40,"");this.lf.icon=this.O.icon("nudgedown");this.lf.w="nudge down";this.de=this.i.Fa(this.vC,Menu.gb,-265,-85,40,"");this.de.icon=this.O.icon("flipx");this.de.w="flip horizontally";this.ve=this.i.Fa(this.wC,Menu.gb,-220,-85,40,"");this.ve.icon=this.O.icon("flipy");this.ve.w="flip vertically";this.Mf=this.i.Fa(this.LE,Menu.gb,-175,-85,40,"");this.Mf.icon=this.O.icon("rotatecw");this.Mf.w="rotate clockwise";this.wf=this.i.Fa(this.KE,Menu.gb,-130,-85,40,"");this.wf.icon=this.O.icon("rotateccw");
this.wf.w="rotate counter-clockwise";this.ae=this.i.Fa(this.Et,Menu.gb,-85,-85,40,"");this.ae.icon=this.O.icon("inside");this.ae.w="clear cells in selection";this.$d=this.i.Fa(this.lq,Menu.gb,-40,-85,40,"");this.$d.icon=this.O.icon("outside");this.$d.w="clear cells outside selection";this.Dc=this.i.Fa(this.Dt,Menu.gb,-40,-130,40,"R");this.Dc.icon=this.O.icon("select");this.Dc.w="clear [R]History cells";this.Dc.Oa("16px Arial");this.La=this.i.Fa(this.SC,Menu.gb,-85,-130,40,"");this.La.icon=this.O.icon("invertselection");
this.La.w="invert cells in selection";this.W=this.i.Fa(this.Qv,Menu.gb,-130,-130,40,"");this.W.icon=this.O.icon("random");this.W.w="random fill";this.kd=this.i.Fa(this.Pv,Menu.gb,-175,-130,40,"2");this.kd.icon=this.O.icon("random");this.kd.w="random 2-state fill";this.Dk=this.i.nj(this.GF,Menu.gb,-275,-130,100,40,1,100,this.yn,"","%",0);this.Dk.w="random fill density";this.wn=this.i.nj(this.gB,Menu.mc,-265,45,100,40,0,v.JD-1,this.ng,"","",-1);this.wn.w="paste location";this.wn.Oa("16px Arial");this.Wp=
this.i.Fa(this.ax,Menu.gb,-40,-85,40,"");this.Wp.icon=this.O.icon("uturn");this.Wp.w="reverse playback direction";this.nn.ks([this.Ip]);this.Pc.ks([this.vh,this.Wd,this.Yc,this.Bd,this.jl,this.fi,this.br,this.vq,this.Xp,this.gu,this.ym,this.om,this.hg,this.K,this.Ap,this.$n,this.Em,this.Jl,this.Dp,this.Nl,this.yo,this.Fl,this.no,this.Pr,this.vo,this.lp,this.to,this.Cj,this.qr,this.Qq,this.Wo]);this.Xe.ks([this.jd,this.dm,this.rj,this.sj,this.gd,this.xl,this.bn,this.Lf,this.Qd,this.Xm,this.jm]);this.qk.ks([this.fa,
this.wh,this.qh])};k.prototype.fn=function(b){var l=this,f=0,q=0;this.Oc=b;this.Oc.getContext&&(f=this.Oc.width,q=this.Oc.height,f!==this.Dj&&y.Kq&&(f=this.Dj),f<v.Gd&&(f=v.Gd),q<v.vk&&(q=v.vk),f&=-8,this.Oc.width!==f&&(this.Oc.width=f),this.Oc.height!==q&&(this.Oc.height=q),this.uc=this.Oc.getContext("2d",{alpha:!1}),this.uc.globalAlpha=1,this.uc.fillStyle="black",this.uc.imageSmoothingEnabled=!1,this.uc.HL="low",this.uc.fillRect(0,0,this.Oc.width,this.Oc.height),this.uc.textAlign="left",this.uc.textBaseline=
"middle",this.C=this.Oc.width,this.B=this.Oc.height,this.a=new Life(this.uc,this.C,this.B,512,512,this.P),this.a.wI(this.uc,this.C,this.B),this.Aa=this.a.m.I(Float32,v.ID,"View.elapsedTimes"),this.Nk=new Stars(v.$t,this.a.m),this.bu(this.uc),this.s=new MenuManager(this.Oc,this.uc,"24px Arial",this.O,this,this.gv),this.s.Mk=!1,this.a.iH(),this.fu(),this.fz=this.Db.im,this.rx=this.Zb.im,this.jA=this.Kd.im,registerEvent(this.Oc,"wheel",function(w){l.Fv(l,w)},!1),this.s.notification.enabled=!0,this.s.jG(this.i),
registerEvent(this.Oc,"keydown",function(w){l.es(l,w)},!1))};k.prototype.bv=function(b){var l=this.a.bb,f="";b|=0;b<l.length&&(f=l[b].name);return f};k.prototype.ZK=function(b){var l=!1,f=this.a.bb,q=0;for(b=b.toLowerCase();q<f.length-1&&!l;)f[q].name.toLowerCase()===b?l=!0:q+=1;l||(q=-1);return q};k.prototype.uL=function(b){var l=this.S.cq();l.ug||(l.x=this.a.width/2-this.a.wa);l.Wf||(l.y=this.a.height/2-this.a.pa);l.ue||(l.zoom=this.a.zoom);l.Ch||(l.angle=this.a.angle);l.Vh||(l.M=this.a.M);l.Lh||
(l.depth=this.a.le);l.Ph||(l.tc=this.eg);l.ei||(l.step=this.Ca);l.Uf||(l.vc=this.a.pf);this.S.yJ(b)};k.prototype.XH=function(b){var l=b,f=this.uc,q=b.length;f.font=(18*this.i.zh|0)+"px "+v.aB;var w=f.measureText(b).width;if(500<w){--q;for(w=f.measureText(b.substr(0,q)+"...").width;500<w;)--q,w=f.measureText(b.substr(0,q)+"...").width;l=l.substr(0,q)+"..."}return l};k.prototype.KJ=function(b,l){ScriptParser.hJ(this,b,l)};k.prototype.eK=function(){this.a.ga=1<<v.uH;this.Rm=this.uA=-1;this.vz=this.zk=
this.vy=this.Yt=this.Ic=!1;this.a.Pb=0;this.a.Nb=0;this.a.Jc=1;this.$c=this.rs=this.qc=this.QC=!1;this.fk=this.bh=this.ec=null;this.Ci=v.Ci;this.a.Fi=this.a.oI;this.a.Ei=this.a.nI;this.a.Di=this.a.mI;this.a.Gi=this.a.pI;this.a.Hi=this.a.qI;this.$f=this.Te=this.ot=!1;this.Rb=-1;this.Ie=!1;this.Va=-1;this.Vg=this.df=this.Un=this.yd=this.Sn=this.Wc=this.Je=this.Gc=!1;this.J=this.Nt=2<this.a.h?63<=256-this.a.h?63:256-this.a.h:63;this.he=!1;this.a.xi=!1;this.a.Sq=0};k.prototype.lA=function(){this.$i?(n(this.element),
this.s.hasFocus=!1):(this.C=this.Yk,this.B=this.wA,this.qc?(this.hb=!1,this.zg(!0,!1,v.kk)):this.a.zoom=this.el,this.Bc&&(this.Bc.current=this.Zj([this.a.zoom,this.a.zoom],!1,this)),this.ha=this.dl,this.hb=!1,this.s.hb=!1,this.i.c=!1,this.s.notification.L("Shrink with hotkey N",100,!0),this.resize())};k.prototype.gv=function(b){b.hb?b.lA():b.Ic&&(b.zk||b.Jp(b,!1));b.As=!1};k.prototype.resize=function(){this.ku&&(B.lu.Fz=this.hj-this.C,this.hj=this.C,this.ku=!1);this.Oc.width=this.C;this.Oc.height=
this.B;this.uc.textBaseline="middle";this.a.HE(this.C,this.B)};k.prototype.mA=function(){this.Yk=this.C;this.wA=this.B;this.el=this.a.zoom;this.dl=this.ha;this.C=this.C/this.se|0;this.B=this.B/this.se|0;this.a.zoom=this.a.zoom/this.se;this.C&=-8;this.i.c=!0;this.s.hb=!0;this.s.se=this.se;this.hb=!0;this.resize()};k.prototype.ol=function(){var b=this.a.h,l,f="";b>this.Wh&&(b=this.Wh);this.vd.lower=[];this.vd.w=[];this.vd.Nj(40*b);this.j.lower=[];this.j.w=[];this.j.current=[];this.j.Nj(40*b);this.j.ye=
1;for(l=0;l<b;l+=1){var q=l+this.Sg;this.vd.lower[l]=String(q);0===q?f="dead":this.a.D?f=this.sx(q):f=this.a.Y?"state "+String(q):1===q?"alive":"dying "+String(q-1);this.vd.w[l]=f;this.j.lower[l]="";this.j.w[l]=f;this.j.current[l]=!1}q=this.cg;0<q&&(this.a.D||this.a.Y||(q=this.a.h-q));this.vd.current=q-this.Sg};k.prototype.QK=function(){var b=this.a.h,l=this.i.ff;this.cg=1;this.Sg=0;this.ig.current=[this.kl([!0],!0,this)];this.Wh=7+((this.C/l-v.Gd)/(40*l)|0);this.Wh>b&&(this.Wh=b);this.a.pb?(this.vd.lower=
"0123456".split(""),this.vd.Nj(280),this.vd.w="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.vd.current=this.cg,this.j.lower="      ".split(" "),this.j.Nj(280),this.j.w="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.j.ye=1,this.j.current=[!1,!1,!1,!1,!1,!1,!1]):2>=b?(this.vd.lower=["0","1"],this.vd.Nj(80),this.vd.w=["dead","alive"],this.vd.current=this.cg,this.j.lower=["",""],this.j.Nj(80),this.j.w=["dead","alive"],this.j.ye=1,this.j.current=[!1,!1]):(this.cg=this.a.D||
this.a.Y?1:b-1,this.ol(),this.vd.Nj(40*this.Wh),this.j.Nj(40*this.Wh),this.th.current=this.Bl([0,0],!0,this));this.vd.setPosition(Menu.mc,-this.vd.ur,45);this.j.setPosition(Menu.mc,-this.j.ur,65)};k.prototype.zK=function(b){var l=this.a.af;-1===b&&(this.Jh?b=l:b=this.a.pb?10:2<this.a.h&&!this.a.D&&!this.a.Y?11:this.a.ia?17:this.a.D||this.a.Y?18:1);this.Ls&&b!==l&&(this.a.bb[l].set(this.a.bb[b]),b=l,this.a.bb[l].dn=this.a.vf,this.Jh=!0);this.mm(b,1,this)};k.prototype.RE=function(){var b=window.innerWidth,
l=window.innerHeight,f=this.C,q=this.B+80;f*=this.devicePixelRatio;q*=this.devicePixelRatio;var w=this.devicePixelRatio;this.ef=1;if(f>b||q>l)if(w=f/b,q/l>w&&(w=q/l),f/=w,q=this.B*this.devicePixelRatio/w,w=f/this.C,q/this.B<w&&(w=q/this.B),f<v.Gd||q<v.vk)w=f/v.Gd,q/v.vk<w&&(w=q/v.vk),f/=w,q/=w,this.ef=w,w=1;this.C=f&-8;this.B=q|0;this.s.ef=this.ef;B.lu.ef=this.ef;this.i.gK(w);this.O.HK(w);this.jq=18*w|0;this.ro=this.jq+"px "+v.uC;this.Il=this.jq+"px "+v.aB;this.C!==this.hj&&(this.ku=!0)};k.prototype.XB=
function(){this.lk=!1;this.Oh=0;this.Mg=!1;this.fm=this.em=0;this.cr=this.Qo=this.cm=this.pd=this.Cb="";this.er=this.Ak=this.qb=this.nb=0;this.Li="(none)";this.a.$a=!1;this.a.ia=!1;this.a.D=!1;this.a.pb=!1;this.a.Fc=!1;this.a.If=!1;this.a.R=!1;this.a.$=!1;this.a.Ld=this.P.zm;this.a.De=!1;this.a.Nd=-1;this.a.cu=!1;this.a.h=-1;this.a.sa=-1;this.ta=this.cd=this.a.ya=!1;this.a.Y=!1;this.a.Lj=null;this.a.Mj=null;this.a.Xd=null;this.a.Id=null;this.a.pg=[];this.a.Jd=null;this.a.og=0;this.a.Ti=0;this.a.Fk=
0};k.prototype.ci=function(b,l){b=this.P.create("",b,this.a.m,this.bj,this.bj,[l],this);this.P.Mt||this.bj(b,[l],this)};k.prototype.bj=function(b,l,f){var q=!1;var w=0;var z=l[0];f.Bt=-1!==window.navigator.userAgent.indexOf("Edge")?!0:!1;f.a.gl=!0;f.a.Ng=!1;f.a.ek=null;f.Ym=!1;f.Bi=-1;f.ym.current=f.DA([!0],!0,f);f.Oj=!1;f.Jk=!1;f.Ik=!1;f.Lk=!1;f.Kk=!1;f.a.pf=-1;f.s.GE();f.wj=!1;f.oj=!1;f.tb=!1;f.xj=!1;f.zf=[];for(l=0;10>l;l+=1)f.zf[l]=null;f.ag=0;f.Ep=!1;f.mb=null;f.ad=!1;f.cf=0;f.bf=0;f.ie=!1;f.Bh=
!1;f.vn.current=f.fB(2,!0,f);f.So=!1;f.Kj=[];f.Zo=[];f.fd=[];f.Ri=[];f.Jf=[];f.Pm=[];f.Xc=0;f.pc=0;f.rn=0;f.a.sh=!1;f.mg=[];f.Qc=v.$q;f.No=0;f.Yq=-1;f.Mo=[];f.Zq=0;f.Aj=!1;f.Dy=0;f.Ey=0;f.uk=0;f.Ct=!1;f.Yl=v.pj;f.am=-v.pj;f.Xl=v.pj;f.bm=-v.pj;f.s.notification.clear(!0,!0);f.s.notification.clear(!1,!0);f.a.Sc=!1;f.a.Tc=!1;f.mB=!1;if(b){f.lk=f.P.lk;f.Oh=f.P.qx;f.Mg=f.P.Mg;f.em=f.P.mu;f.fm=f.P.nu;f.Qj=f.P.Qj;f.Pj=f.P.Pj;f.nb=b.width;f.qb=b.height;f.Qo=b.name;f.cr=b.MD;f.Li=b.Li;""===f.Li&&(f.Li="(none)");
f.Ak=b.ud;f.er=b.Uq;f.Cb=b.ca;f.pd=b.Gf;f.cm=b.ao;f.a.rc=b.rc;f.a.Xf=b.Xf;f.ta=f.P.ta;f.a.pb=b.fc;f.a.If=b.fc;f.a.Fc=b.Fc;f.a.h=b.h;!f.ta&&2<b.ud&&(f.a.h=b.ud);f.a.Jd=null;f.a.pg=null;-1!==b.qe?(f.a.Sf=b.Sf,f.a.qe=b.qe,f.a.h=b.qe,f.a.$h=b.$h,f.a.Hk=b.Hk,f.a.Lj=b.Lj,f.a.Mj=b.Mj,f.a.Xd=b.Xd,f.a.Id=b.Id,f.a.Y=!0):f.a.Y=!1;null!==b.Jd&&(f.a.pg=b.pg,f.a.Jd=b.Jd,f.a.og=b.og,f.a.Ti=b.Ti,f.a.Fk=b.Fk,f.a.h=b.Rf,f.a.Xd=b.Xd,f.a.Id=b.Id,f.a.Y=!0);f.a.BJ(b.Id);if(f.a.ya=b.ya)f.a.Wb.Gb=b.Ue,f.a.Wb.Vu=b.Cf,f.a.Wb.Dn=
b.h,f.a.Wb.LK(b.Jg,b.Hd),f.P.oc?(f.a.Wb.ns=b.xp,f.a.Wb.os=b.yp,f.a.Wb.oc=!0):f.a.Wb.oc=!1,f.mB=b.Fd;f.a.$a=b.$a;f.a.ia=b.ia;f.a.D=b.D;f.a.te=!0;f.a.R=b.R;f.a.cu=b.R;f.a.$=b.$;f.a.Ld=b.Ld;f.a.De=b.De;f.a.Nd=b.Nd;f.a.sa=b.$b;f.a.ua=b.Be;f.a.ra=b.fg;f.a.Jm=b.fq;f.a.Km=b.po;f.a.ws=b.vx;f.a.tw=b.nt;f.dr=new Uint32Array(f.Ak);for(l=0;l<f.Ak;l+=1)f.dr[l]=f.P.Kn[l]}else f.XB();f.a.PK();f.ai=!0;f.Rc=!1;f.Lg=!0;f.qd=v.oC;f.Ec=b?!1:!0;f.oo=!0;f.mk=!1;f.u=f.P.u;f.a.aa=1;f.a.vr=v.nC;f.Kb=0;f.Lb=0;f.wg=-1;f.Wg=
-1;f.Om=!1;f.Hp=!1;f.i.locked=!1;f.Rh=!1;f.di=!1;f.a.dI();f.a.eI();f.a.pb&&(f.a.mH(),f.a.oH());f.ji="";f.bi=!1;ColourManager.Ye();f.a.Gp(!1);f.a.Ud=v.mt;f.a.gg=v.lt;f.a.vf=10;f.a.wH=10;f.a.pk=!0;f.kC=-1;f.jC=-1;f.eg=60;f.Ca=1;f.a.M=1;f.a.le=.1;f.a.angle=0;f.a.zoom=6;f.a.aK(f.vH,f.tH);f.a.wa=f.a.width/2;f.a.pa=f.a.height/2;f.Zw=!1;f.Xw=!1;f.Yw=!1;f.Ae=0;f.Ai=0;f.Fe=-1;f.Pg=-1;f.Bf=-1;f.Zh=-1;f.la[v.xg]=-1;f.la[v.zi]=-1;f.la[v.Ms]=-1;f.la[v.Kh]=-1;f.la[v.Lp]=-1;f.la[v.Mp]=-1;f.la[v.Np]=-1;f.la[v.Vs]=
-1;f.la[v.Ws]=-1;f.la[v.Ns]=-1;f.la[v.Ss]=-1;f.la[v.Rs]=-1;f.la[v.Qs]=-1;f.la[v.Ts]=-1;f.la[v.Us]=-1;f.la[v.Ps]=-1;f.la[v.Op]=-1;f.la[v.Os]=-1;f.la[v.Pw]=-1;f.la[v.Sp]=-1;f.la[v.Qp]=-1;f.la[v.Tp]=-1;f.la[v.Vp]=-1;f.la[v.Up]=-1;f.la[v.Rp]=-1;f.la[v.Kp]=-1;f.la[v.Pp]=-1;f.la[v.Ow]=-1;f.la[v.Rw]=-1;f.la[v.Qw]=-1;f.la[v.Nw]=-1;f.Lw=v.XC;f.Kw=v.qs;f.Mw=v.qE;f.hb&&f.lA();f.Rk=!1;f.s.hb=!1;f.se=v.pC;f.$i=!1;f.s.$i=!1;f.cv=!1;f.cd=b?!1:!0;f.Ha=!1;f.a.Ub=!1;f.a.nd=!1;f.Db.c=!1;f.td.c=!1;f.Xe.c=!1;f.Zb.c=!1;
f.Kd.c=!1;f.Pc.c=!1;f.Wd.c=!1;f.Yc.c=!1;f.fi.c=!1;f.ym.c=!1;f.om.c=!1;f.i.c=!1;f.Og.c=!1;f.Wj.c=!1;f.zn.c=!1;f.br.c=!1;f.vq.c=!1;f.gu.c=!1;f.Xp.c=!1;f.jl.c=!1;f.Pc.current=[!1];f.Xe.current=[!1];f.ha=0;f.Yb=0;f.nn.current=[!1];f.Gm.current=f.cB([f.oj],!0,f);f.eo.current=f.dB([f.wj],!0,f);f.Wu=!1;f.td.current=f.Yj(v.Ul,!0,f);f.Dk.current=f.GF([50,50],!0,f);f.wn.current=f.gB([v.Oo,v.Oo],!0,f);f.qk.current=f.sp([f.ha],!0,f);f.tl=[96,96,96];f.a.ll=f.a.jg?4284506208:1616929023;f.ul=[128,128,128];f.a.ml=
f.a.jg?4286611584:2155905279;f.wl=[0,255,0];f.a.Tz="rgb(0,255,0)";f.vl=[255,0,0];f.a.By="rgb(255,0,0)";f.sl=[255,255,0];f.a.ls="rgb(255,255,0)";f.S.reset();f.Wc=!1;f.S.PG();f.zj=!1;f.oe=!1;f.Oi=!0;f.Jh=!1;f.Ls=!1;f.a.yg=!1;f.zu=v.Xo;f.uu=v.Xo;f.tu=50;f.tr=!1;f.vu=!1;f.yu=!1;f.Bk=-1;f.Ck=-1;f.hm=-1;f.ph=[];f.Pi=[];f.Iu=!1;if(b){if(b.$a||!f.ta&&2<f.a.h)f.ze=ColourManager.Xs,f.bo="(default)";else if(f.P.yj||b.fc)b.fc?(f.ze=ColourManager.YB("LifeHistory"),f.ze[2]=96):f.ze=ColourManager.YB(b.ca),f.ze.length?
f.bo=b.ca:(f.ze=ColourManager.Xs,f.bo="(default)");f.eK();f.xu=Date.now().toString();b.title&&(l=b.ud,f.a.pb&&(l=7),f.a.D&&(l=16),f.a.Fc&&(l=26),f.KJ(b.title,l),f.fd.length&&(f.Yb=1),f.hb&&z&&(f.hb=!1),-1<f.Fe&&(f.Fe&=-8,f.Fe!==f.C&&(f.C=f.Fe,q=!0)),-1<f.Pg&&f.Pg!==f.B&&(f.B=f.Pg,q=!0),f.ke&&(-1<f.Bf?(f.Bf&=-8,f.Bf!==f.C&&(f.C=f.Bf,q=!0)):f.C<v.Gd&&(f.C=v.Gd),-1<f.Zh&&f.Zh!==f.B&&(f.B=f.Zh,q=!0)));if(!f.ta||f.a.Y)f.J=0;f.Qb.Ye(f.xu);f.ke&&(f.Wq=f.C,f.Vq=f.B,f.RE());b.rg&&0===f.mg.length&&(f.ta=!1);
f.QK();f.DK();f.pL();f.nL();f.a.HJ();f.a.J=f.J;f.$i&&!f.Rc&&(f.Ec=!0,f.Rc=!1);f.a.uG(!f.Ec);if(b.width>f.a.ga||b.height>f.a.ga)f.u="Pattern too big (maximum "+f.a.ga+"x"+f.a.ga+")",f.rg=!0,f.ta=!1,f.XB();-1!==b.$b&&(b.ya&&(w=6*b.Hd),b.Fd&&(w=6*b.Mc),b.Be>=f.a.ga-w||b.fg>=f.a.ga-w)&&(f.u="Bounded grid is too big",f.ta=!1,f.a.sa=-1);f.a.iL(f);f.Ct&&(f.a.bC(),f.AJ());f.lB=!1;if(-1!==f.a.sa){z=f.a.ua;var A=f.a.ra;0===z&&(z=b.width);0===A&&(A=b.height)}else z=b.width,A=b.height,0<f.mg.length&&(z=f.XG(z),
A=f.WG(A));w=v.kg;f.a.ya&&(w=4*f.a.Wb.ed+1,-1!==f.a.sa&&(w+=2*f.a.Wb.ed),f.a.Wb.type===f.P.sg&&(w=-1!==f.a.sa?w+f.a.ra/2:w+(f.a.H.o-f.a.H.g+1)/2),w<v.kg&&(w=v.kg));l=f.a.ga/2-w;f.Mg&&(f.em<-l?f.em=-l:f.em>=l&&(f.em=l-1),f.fm<-l?f.fm=-l:f.fm>=l&&(f.fm=l-1),f.Kb+=f.em,f.Lb+=f.fm);f.Kb<-l?f.Kb=-l:f.Kb>=l&&(f.Kb=l-1);f.Lb<-l?f.Lb=-l:f.Lb>=l&&(f.Lb=l-1);for(;f.a.width<f.a.ga&&(z+w+2*Math.abs(f.Kb)>=f.a.width||A+w+2*Math.abs(f.Lb)>=f.a.height);)f.a.iq(),f.Ae+=f.a.width>>2,f.Ai+=f.a.height>>2,f.Ge+=f.a.width>>
2,f.Ui+=f.a.height>>2,f.a.R&&(f.Ae-=f.a.height>>3,f.Ge-=f.a.height>>3);b.ya&&f.a.Wb.resize(f.a.width,f.a.height);f.YG(b.width,b.height);(f.a.pb||f.a.Fc)&&f.P.Kn[6]&&f.a.xJ(b,f.Kc,f.Lc);f.bh?f.s.notification.vg="rgb("+f.bh[0]+","+f.bh[1]+","+f.bh[2]+")":f.s.notification.vg=f.s.notification.vE;if(null===f.ec)for(l=0;l<f.ze.length;l+=1)f.Qm[l]=f.P.Kn[l]?v.aF:v.hA;f.a.hc?(f.a.jH(f.ze,f.ec),f.a.yg=!0):f.a.yg=!1;b.rg||f.aH(b);f.jm.Ma=""!==f.pd?f.pd:f.Cb;f.jm.w=f.Cb;""!==f.pd&&(f.jm.w+=" alias "+f.pd)}f.Qi=
!1;f.ay="none";f.ub="none";f.Co="none";f.Gq="none";f.Do="none";f.Fq="none";f.Gt="none";f.zo="none";f.Hq="none";f.Ao="none";f.Iq="none";f.Bo="none";f.Sb=!1;f.uo.current=[f.Sb];f.a.At(f.Sb);f.om.current=f.BA([f.Oi],!0,f);f.a.bC();f.zK(f.uA);f.a.ec=f.ec;f.a.$a||!f.ta&&2<f.a.h?f.a.dC(f.ze,f.ec):f.a.cC();f.a.Ed(1);f.a.yK();f.jp.current=f.CA([f.In],!0,f);f.Ko.current=f.iv([f.qd,f.qd],!1,f);f.Eo.current=[f.Lg];f.vi.current=[f.qc];f.Qh.current=[f.a.Ub];f.a.v=0;f.a.Hf=0;f.a.Ji=0;f.lb=0;f.kh=0;f.elapsedTime=
0;f.td.Ag=[!1,!1,!1];f.cd?(b&&(f.a.Ez(f.di),f.ec&&(f.ze=f.ec)),f.UG=f.ze.length,f.a.dC(f.ze,f.ec),f.a.qg.reset(),f.Ec=!0,f.Rc=!1):(f.a.Ez(f.di),f.a.Gu(),2>=f.a.h&&f.a.DE(f.a.ob),f.a.pb&&f.P.Kn[2]&&f.a.dH(b,f.Kc,f.Lc),f.Ki(),0<f.mg.length&&(f.a.Ez(f.di),f.a.Gu(),2>=f.a.h&&f.a.DE(f.a.ob)),f.a.cK(f.a.ob,f.a.Z),b&&0===f.a.ma&&!f.Aj?(f.Ym=!0,f.a.$a||(b.rg?f.s.notification.L("Pattern too big!",v.ft,!1):f.s.notification.L("New pattern",300,!1))):f.Ym=!1,-1!==f.a.sa&&f.a.Uz(),f.a.vK(f.oe),f.a.Hu(f.oe));f.cj.width=
9999<f.a.ga?166:140;f.km.Hn(f.cj.ur);f.Wo.locked=!f.a.pb;f.Wo.current=[f.a.If];f.Fl.locked=f.Ec;f.Fl.current=[f.Rc];f.om.current=[f.Oi];f.ym.current=[f.nl];f.yo.current=[f.a.xi];f.Ap.current=[f.zj];f.$n.current=[f.Dh];f.Em.current=[f.a.gl];f.Em.locked=!f.a.ia;f.Jl.current=[f.a.te];f.Jl.locked=f.a.$;f.Wp.c=(f.a.ia||f.a.D)&&null!==f.a.yc?!1:!0;0===f.S.Ho()?(f.Nl.locked=!0,f.ai=!1):(f.Nl.locked=!1,f.ai=!0);f.Nl.current=[f.ai];f.vo.current=[f.$c];f.ap.current=[f.mk];f.sr.current=[f.a.Ng];f.lp.current=
[f.bi];f.to.current=[f.Rh];f.S.nc.length?(f.pr.c=!1,f.Pq.c=!1):(f.pr.c=!0,f.Pq.c=!0);0===f.a.vf?(f.Cj.current=[!1],f.Cj.locked=!0):(f.Cj.current=[f.a.pk],f.Cj.locked=!1);f.Ec||f.a.FE();l=f.a.zoom;w=f.a.wa;z=f.a.pa;A=f.hb;f.hb=!1;f.zg(!0,!1,v.kk);f.hb=A;f.Zw?f.a.zoom=l:!f.qc&&f.a.zoom>v.jD&&(f.a.zoom=v.jD);f.Xw&&(f.a.wa=w);f.Yw&&(f.a.pa=z);f.Wc&&f.uL(f.fd);f.hb&&f.cv&&(f.a.zoom=f.yA);f.qC=f.a.zoom;f.Bc.current=f.Zj([f.a.zoom,f.a.zoom],!1,f);f.Ae=f.a.wa;f.Ai=f.a.pa;f.io=f.a.angle;f.Bd.current=[f.io,
f.io];f.Zs=f.a.pf;f.mm(f.Zs,f.a.ql,f);f.Ww=f.eg;l=Math.sqrt((f.Ww-v.Fg)/(v.Ql-v.Fg));f.Zb.current=f.Xj([l,l],!0,f);f.Ys=f.Ca;f.Kd.current=f.Dm([f.Ys,f.Ys],!0,f);f.jo=f.a.M;f.Wd.current=[f.jo,f.jo];f.Vw=f.a.le;l=Math.sqrt(f.Vw);f.Yc.current=f.Uk([l,l],!0,f);f.a.aa=1;f.Te&&!f.$f?(f.Ua=!0,f.Db.current=v.wk):(f.Ua=!1,f.Db.current=v.Ze);f.Pu(f.Ua);f.B<v.Sl?(f.Pc.c=!0,f.Db.Hn(f.fz+45),f.Zb.Hn(f.rx+45),f.Kd.Hn(f.jA+45)):(f.Db.Hn(f.fz),f.Zb.Hn(f.rx),f.Kd.Hn(f.jA));f.C>v.Gd&&!f.ke?(l=f.C-v.Gd+v.vB,l>v.OF&&
(l=v.OF),f.Bc.Nj(l)):f.Bc.Nj(v.vB);if(q||f.hb)f.hb?f.mA():f.resize();b||(f.P.rg?f.s.notification.L("Pattern too big!",v.ft,!1):f.s.notification.L("Invalid pattern!",v.ft,!1));f.fd.length?f.ha=0:f.Yb=0;f.ta||(f.Ha=!0,f.a.yg=!1,f.a.$a=!0,f.a.pb=!1,f.a.Fc=!1);if(f.Ha||f.a.$a)f.td.Ag[v.Tl]=!0;f.Ha?(f.Db.c=!0,f.Xe.c=!0,f.Og.c=!0,f.Zb.c=!0,f.Kd.c=!0,f.Wj.c=!0,f.zn.c=!0,f.cd&&(f.Wd.c=!0,f.Yc.c=!0,f.fi.c=!0,f.a.M=1),f.Ek.c=!1,""===f.u?(f.Ek.Ma=Keywords.cs,f.Ek.Kf=v.so):(f.Ek.Ma=f.u,f.Ek.Kf=f.Ci)):f.Ek.c=
!0;540>f.B?f.jl.setPosition(Menu.kp,0,-85):f.jl.setPosition(Menu.kp,0,-100);f.qF();f.Dg=!1;f.Jq="";f.QE(f);f.gt()?(f.rj.Ma="Density",f.rj.w="cell density"):(f.rj.Ma="Births",f.rj.w="cells born this generation");f.s.uh=!0;f.s.Qg(!0);f.ke&&f.dv&&(""===f.ji?f.dv.nodeValue="LifeViewer":f.dv.nodeValue=f.XH(f.ji));y.Ia?(b=f.Qo,""===b&&(b="Universe "+(f.Vc+1)),f.s.notification.L(b,120,!0),f.qr.c=!1,f.Qq.c=!1):(f.qr.c=!0,f.Qq.c=!0);f.wb("");f.Xt&&g(f);8===f.a.zoom&&0<f.sn&&0===(f.sn&3)&&1===(this.Ri.length&
5)?(f.Zp=!0,f.a.OC()):f.Zp=!1;f.a.Jx();(f.a.ia||f.a.D)&&null!==f.a.yc&&f.Iu&&(f.a.Tc=!0,f.Pu(f.Ua))};registerEvent(window,"load",x,!1);window.DocConfig=y;window.Controller=B;window.ViewConstants=v;window.startAllViewers=x;window.updateViewer=n;window.updateMe=c;window.hideViewer=t;window.lifeViewerBuild=v.hv}(),function(){window.Help={Yz:0,RJ:function(d,k,p,h,t,a,e,c,g,n){var m=c,r=!1,u=d.V,x=d.i.ff;a&&(a.fillStyle===ViewConstants.kq&&(r=!0),u>=n&&u<=n+d.dd&&(a.font=d.ro,r||(a.fillStyle=1<(d.ha|0)?
ViewConstants.so:ViewConstants.jt),a.fillText(k,e,c),r||(a.fillStyle=ViewConstants.so),a.fillText(p,e+a.measureText(k).width,c),r||(a.fillStyle=(d.ha|0)<d.Io-d.dd?ViewConstants.so:ViewConstants.jt),a.fillText(h,e+a.measureText(k+p).width,c),r||(a.fillStyle=ViewConstants.so),a.font=d.Il,a.fillText(t,e+d.X[0]*x,c),m+=g));d.V+=1;return m},ow:function(d){d/=1048576;return 10>d?String(d.toFixed(1)):String(d.toFixed(0))},Ta:function(d,k,p,h,t,a,e,c,g){var n=d.V;t&&(c-=6,n>=g&&n<=g+d.dd&&(d=t.fillStyle,
d!==ViewConstants.kq&&(t.fillStyle="rgb("+k+","+p+","+h+")"),t.fillRect(a,e-(c>>1)-1,c,c),t.fillStyle=d))},measureText:function(d,k,p,h){var t=h?d.rt:d.qt;t[d.V]?k=t[d.V]:(k.font=0===h?d.ro:d.Il,k=k.measureText(p).width,t[d.V]=k);return k},b:function(d,k,p,h,t,a,e,c){var g=a,n=String(p).indexOf("\t"),m=0,r=d.V>=c&&d.V<=c+d.dd,u=d.i.ff;if(k.length){r&&(h.font=d.ro,h.fillText(k,t,a));k=this.measureText(d,h,k,0);k>d.X[m]*u&&(r&&(a+=e,g+=e),d.V+=1,r=d.V>=c&&d.V<=c+d.dd);r&&(h.font=d.Il);for(;-1!==n;)r&&
h.fillText(p.substr(0,n),t+d.X[m]*u,a),m+=1,p=p.substr(n+1),n=p.indexOf("\t");n=!1;d.tg&&(k=this.measureText(d,h,p,1),t+d.X[m]*u+k+this.Yz>h.canvas.width&&(k=p.toLowerCase().indexOf("|"),-1===k&&(k=p.toLowerCase().indexOf("s"),-1===k&&(k=p.indexOf("/"),-1!==k&&(k+=1))),-1!==k&&(r&&(h.fillText(p.substr(0,k),t+d.X[m]*u,a),a+=e,g+=e),d.V+=1,(r=d.V>=c&&d.V<=c+d.dd)&&h.fillText("  "+p.substr(k),t+d.X[m]*u,a),n=!0)));n||r&&h.fillText(p,t+d.X[m]*u,a)}else h.font=d.Il,r&&h.fillText(p,t,a);r&&(g+=e);d.V+=
1;return g},ic:function(d,k,p){for(var h=ColourManager.ze,t=Object.keys(h),a="    "+d+"\t"+k+"\t"+p,e=!1,c,g=0;g<t.length&&!e;)c=h[t[g]],c[1]===d&&c[2]===k&&c[3]===p?(a+="\t"+c[0],e=!0,g=t.length):g+=1;return a},Qf:function(d){return this.ic(d.red,d.green,d.blue)},AG:function(d){var k=0,p=0;d.a.aa&&(k=d.a.H.l-d.a.H.f+1,p=d.a.H.o-d.a.H.g+1);-1!==d.a.sa&&(0!==d.a.ua&&(k=d.a.ua),0!==d.a.ra&&(p=d.a.ra));return k+" x "+p},HG:function(d){var k="AutoFit";d.Rh&&(k+=" History");d.di&&(k+=" State 1");return k},
ND:function(d,k){k-=d.length;for(var p="";0<k;)p+=" ",--k;return p+d},Dw:function(d){var k=d.indexOf(","),p=d.lastIndexOf(",");return[d.substring(4,k),d.substring(k+1,p),d.substring(p+1,d.length-1)]},BE:function(d,k,p,h,t,a){var e=h;switch(d.Hl){case ViewConstants.Vk:this.XJ(d,k,p,h,t,a);break;case ViewConstants.UC:this.TJ(d,k,p,h,t,a);break;case ViewConstants.Rz:this.VJ(d,k,p,h,t,a);break;case ViewConstants.wq:this.SJ(d,k,p,h,t,a);break;case ViewConstants.eF:this.WJ(d,k,p,h,t,a);break;case ViewConstants.ZB:this.OJ(d,
k,p,h,t,a);break;case ViewConstants.BB:this.MJ(d,k,p,h,t,a);break;case ViewConstants.tD:this.UJ(d,k,p,h,t,a);break;case ViewConstants.HB:this.NJ(d,k,p,h,t,a)}d.Io=d.V-1;d.V=1;d.X[0]=120;h=e+t*(d.dd+2);h=d.Hl!==ViewConstants.Vk?this.RJ(d,"Up"," / ","Down","scroll help",k,p,h,t,0):h+t;d.ke?this.b(d,"H","close help",k,p,h,t,0):this.b(d,"H / Esc","close help",k,p,h,t,0)},XJ:function(d,k,p,h,t,a){d.V=1;d.tg=!1;d.ba=[];d.X[0]=108;d.ba[0]=[d.V,"Top"];this.b(d,"",ViewConstants.uF+" build "+ViewConstants.hv+
" by "+ViewConstants.tF,k,p,h,t,a)},NJ:function(d,k,p,h,t,a){var e,c=0,g=d.i.ff;d.V=1;d.tg=!1;d.ba=[];d.ba[c]=[d.V,"Top"];c+=1;d.X[0]=128;d.X[1]=208;d.X[2]=288;d.X[3]=368;h=this.b(d,"","Annotations",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Labels"];c+=1;h=this.b(d,"","Labels:",k,p,h,t,a);h=this.b(d,"Number",d.S.yf.length,k,p,h,t,a);for(e=0;e<d.S.yf.length;e+=1){var n="Label "+String(e+1);h=this.b(d,n,d.S.CI(e),k,p,h,t,a);h=this.b(d," ",d.S.DI(e),k,p,h,t,a);h=this.b(d," ",d.S.EI(e),k,p,
h,t,a);n=this.Dw(d.S.FI(e));this.Ta(d,n[0],n[1],n[2],k,p+d.X[0]*g,h,t,a);h=this.b(d,"Colour",this.ic(n[0],n[1],n[2]),k,p,h,t,a)}h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Arrows"];c+=1;h=this.b(d,"","Arrows:",k,p,h,t,a);h=this.b(d,"Number",d.S.jf.length,k,p,h,t,a);for(e=0;e<d.S.jf.length;e+=1)n="Arrow "+String(e+1),h=this.b(d,n,d.S.BG(e),k,p,h,t,a),h=this.b(d," ",d.S.CG(e),k,p,h,t,a),h=this.b(d," ",d.S.DG(e),k,p,h,t,a),n=this.Dw(d.S.qs(e)),this.Ta(d,n[0],n[1],n[2],k,p+d.X[0]*g,h,t,a),h=this.b(d,"Colour",
this.ic(n[0],n[1],n[2]),k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Polygons"];h=this.b(d,"","Polygons:",k,p,h,t,a);h=this.b(d,"Number",d.S.Af.length,k,p,h,t,a);for(e=0;e<d.S.Af.length;e+=1)n="Polygon "+String(e+1),h=this.b(d,n,d.S.tJ(e),k,p,h,t,a),h=this.b(d," ",d.S.uJ(e),k,p,h,t,a),h=this.b(d," ",d.S.vJ(e),k,p,h,t,a),n=this.Dw(d.S.wJ(e)),this.Ta(d,n[0],n[1],n[2],k,p+d.X[0]*g,h,t,a),h=this.b(d,"Colour",this.ic(n[0],n[1],n[2]),k,p,h,t,a)},TJ:function(d,k,p,h,t,a){var e,c=0;d.V=1;d.ba=[];
d.tg=!0;d.X[0]=124;d.ba[c]=[d.V,"Top"];c+=1;h=this.b(d,"","Keyboard commands",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Playback"];c+=1;h=this.b(d,"","Playback controls:",k,p,h,t,a);if(d.cd)h=this.b(d,"R","reset",k,p,h,t,a);else{h=this.b(d,"Enter","toggle play / pause",k,p,h,t,a);h=this.b(d,"Space","pause / next generation",k,p,h,t,a);h=this.b(d,"B","pause / previous generation",k,p,h,t,a);h=this.b(d,"Backspace","pause / previous generation",k,p,h,t,a);h=this.b(d,"Tab","pause / next step",
k,p,h,t,a);h=this.b(d,"Shift Tab","pause / previous step",k,p,h,t,a);if(d.a.ia||d.a.D)h=this.b(d,"U","toggle playback direction",k,p,h,t,a);h=d.ke?this.b(d,"Esc","close LifeViewer",k,p,h,t,a):this.b(d,"Esc","pause if playing",k,p,h,t,a);h=this.b(d,"R","reset to generation 0",k,p,h,t,a);h=this.b(d,"-","decrease generation speed",k,p,h,t,a);h=this.b(d,"+","increase generation speed",k,p,h,t,a);h=this.b(d,"Shift -","minimum generation speed",k,p,h,t,a);h=this.b(d,"Shift +","maximum generation speed",
k,p,h,t,a);h=this.b(d,"D","decrease step size",k,p,h,t,a);h=this.b(d,"E","increase step size",k,p,h,t,a);h=this.b(d,"Shift D","minimum step size",k,p,h,t,a);h=this.b(d,"Shift E","maximum step size",k,p,h,t,a);h=this.b(d,"0","reset step and speed",k,p,h,t,a);h=this.b(d,"Alt T","toggle throttling",k,p,h,t,a);d.Wc?-1!==d.Va?(h=this.b(d,"W","toggle waypoint playback and loop",k,p,h,t,a),h=this.b(d,"Shift P","toggle just loop",k,p,h,t,a)):h=this.b(d,"W","toggle waypoint playback",k,p,h,t,a):-1!==d.Va&&
(h=this.b(d,"W","toggle loop",k,p,h,t,a));d.Te&&(h=this.b(d,"Alt O","toggle autostart",k,p,h,t,a));-1!==d.Rb&&(h=this.b(d,"Alt P","toggle stop",k,p,h,t,a))}h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Multi"];c+=1;h=this.b(d,"","Multi-Viewer controls:",k,p,h,t,a);DocConfig.Ia&&(h=this.b(d,"Page Up","previous universe",k,p,h,t,a),h=this.b(d,"Page Down","next universe",k,p,h,t,a),h=this.b(d,"Home","first universe",k,p,h,t,a),h=this.b(d,"End","last universe",k,p,h,t,a));h=this.b(d,"Shift R","reset all LifeViewers to generation 0",
k,p,h,t,a);h=this.b(d,"Z","stop playback in all other LifeViewers",k,p,h,t,a);h=this.b(d,"Shift Z","stop playback in all LifeViewers",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Camera"];c+=1;h=this.b(d,"","Camera controls:",k,p,h,t,a);if(d.B>=ViewConstants.Sl||(d.hb&&d.wA)>=ViewConstants.Sl)h=this.b(d,"M","toggle settings menu",k,p,h,t,a);h=this.b(d,"V","restore saved camera position",k,p,h,t,a);h=this.b(d,"Shift V","save current camera position",k,p,h,t,a);var g=d.S.nc.length;if(0<g&&(h=
this.b(d,"J","jump to next point of interest",k,p,h,t,a),h=this.b(d,"Shift J","jump to previous point of interest",k,p,h,t,a),9<g&&(g=9),!d.he&&!d.Tf))for(e=1;e<=g;e+=1)h=this.b(d,"Alt "+String(e),"jump to POI #"+String(e),k,p,h,t,a);h=this.b(d,"F","fit pattern to display",k,p,h,t,a);h=this.b(d,"Shift F","toggle autofit",k,p,h,t,a);h=this.b(d,"Shift H","toggle autofit history mode",k,p,h,t,a);h=this.b(d,"Ctrl F","fit selection to display",k,p,h,t,a);h=this.b(d,"Ctrl M","center pattern on display",
k,p,h,t,a);d.a.pb&&(h=this.b(d,"Shift S","toggle autofit state 1 mode",k,p,h,t,a));h=this.b(d,"[","zoom out",k,p,h,t,a);h=this.b(d,"]","zoom in",k,p,h,t,a);h=this.b(d,"Shift [","halve zoom",k,p,h,t,a);h=this.b(d,"Shift ]","double zoom",k,p,h,t,a);h=this.b(d,"1","1x zoom",k,p,h,t,a);h=this.b(d,"2","2x zoom",k,p,h,t,a);h=this.b(d,"4","4x zoom",k,p,h,t,a);h=this.b(d,"8","8x zoom",k,p,h,t,a);h=this.b(d,"6","16x zoom",k,p,h,t,a);h=this.b(d,"3","32x zoom",k,p,h,t,a);h=this.b(d,"Shift 3","64x zoom",k,p,
h,t,a);h=this.b(d,"Shift 1","integer zoom",k,p,h,t,a);h=this.b(d,"Shift 2","-2x zoom",k,p,h,t,a);h=this.b(d,"Shift 4","-4x zoom",k,p,h,t,a);h=this.b(d,"Shift 8","-8x zoom",k,p,h,t,a);h=this.b(d,"Shift 6","-16x zoom",k,p,h,t,a);h=this.b(d,"Left","pan left",k,p,h,t,a);h=this.b(d,"Right","pan right",k,p,h,t,a);h=this.b(d,"Up","pan up",k,p,h,t,a);h=this.b(d,"Down","pan down",k,p,h,t,a);h=this.b(d,"Shift Left","pan north west",k,p,h,t,a);h=this.b(d,"Shift Right","pan south east",k,p,h,t,a);h=this.b(d,
"Shift Up","pan north east",k,p,h,t,a);h=this.b(d,"Shift Down","pan south west",k,p,h,t,a);h=this.b(d,"<","rotate left",k,p,h,t,a);h=this.b(d,">","rotate right",k,p,h,t,a);h=this.b(d,"Shift <","rotate left 90 degrees",k,p,h,t,a);h=this.b(d,"Shift >","rotate right 90 degrees",k,p,h,t,a);h=this.b(d,"5","reset angle",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.cd||(d.ba[c]=[d.V,"View"],c+=1,h=this.b(d,"","View controls:",k,p,h,t,a),h=this.b(d,"Q","increase number of layers",k,p,h,t,a),h=this.b(d,"A","decrease number of layers",
k,p,h,t,a),h=this.b(d,"P","increase layer depth",k,p,h,t,a),h=this.b(d,"L","decrease layer depth",k,p,h,t,a),h=this.b(d,"C","next colour theme",k,p,h,t,a),h=this.b(d,"Shift C","previous colour theme",k,p,h,t,a),h=this.b(d,"Alt C","default theme",k,p,h,t,a),h=this.b(d,"","",k,p,h,t,a));d.ba[c]=[d.V,"Display"];c+=1;h=this.b(d,"","Display controls:",k,p,h,t,a);d.cd||(h=this.b(d,"G","toggle generation statistics",k,p,h,t,a),h=this.b(d,"Shift G","toggle generation display mode",k,p,h,t,a),d.Ec||(h=this.b(d,
"Y","toggle population graph",k,p,h,t,a),h=this.b(d,"Shift Y","toggle graph lines",k,p,h,t,a),h=this.b(d,"7","decrease graph opacity",k,p,h,t,a),h=this.b(d,"9","increase graph opacity",k,p,h,t,a)),h=this.b(d,"Shift W","toggle performance warning",k,p,h,t,a));h=this.b(d,"/","toggle hexagons for hex view",k,p,h,t,a);h=this.b(d,"T","toggle timing information",k,p,h,t,a);h=this.b(d,"Shift T","toggle extended timing information",k,p,h,t,a);h=this.b(d,"I","toggle pattern and engine information",k,p,h,t,
a);h=this.b(d,"Shift I","toggle information bar",k,p,h,t,a);h=this.b(d,"Ctrl Q","toggle cell anti-aliasing",k,p,h,t,a);h=this.b(d,"Alt B","toggle cell borders",k,p,h,t,a);h=this.b(d,"X","toggle gridlines",k,p,h,t,a);0<d.a.vf&&(h=this.b(d,"Shift X","toggle major gridlines",k,p,h,t,a));h=this.b(d,"Ctrl G","toggle auto gridlines",k,p,h,t,a);d.a.ia&&(h=this.b(d,"Alt D","toggle alternating gridlines",k,p,h,t,a));d.a.pb&&(h=this.b(d,"Alt H","[R]History display on",k,p,h,t,a),h=this.b(d,"Alt J","[R]History display off",
k,p,h,t,a));0<d.S.Ho()&&(h=this.b(d,"Shift L","toggle annotation display",k,p,h,t,a));h=this.b(d,"Alt G","toggle kill escaping gliders",k,p,h,t,a);d.Rk&&(h=this.b(d,"N","toggle thumbnail view",k,p,h,t,a));h=this.b(d,"S","toggle stars",k,p,h,t,a);h=this.b(d,"O","open screenshot in separate window",k,p,h,t,a);h=this.b(d,"Shift O","open population graph in separate window",k,p,h,t,a);h=this.b(d,"Shift U","toggle UI",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Pattern"];c+=1;h=this.b(d,"","Pattern controls:",
k,p,h,t,a);h=this.b(d,"Alt N","new pattern",k,p,h,t,a);h=this.b(d,"Alt R","change rule",k,p,h,t,a);h=this.b(d,"Ctrl O","open original or last saved pattern",k,p,h,t,a);h=this.b(d,"Ctrl S","save pattern",k,p,h,t,a);h=this.b(d,"Alt Z","randomize pattern and rule",k,p,h,t,a);h=this.b(d,"Ctrl+Alt Z","randomize pattern only",k,p,h,t,a);h=this.b(d,"F6","toggle oscillator and spaceship identification",k,p,h,t,a);h=this.b(d,"Ctrl+F6","fast identification",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,
"Clipboard"];c+=1;h=this.b(d,"","External clipboard controls:",k,p,h,t,a);h=this.b(d,"Alt S","toggle sync cut and copy with external clipboard",k,p,h,t,a);h=this.b(d,"Ctrl+Shift C","copy original pattern",k,p,h,t,a);h=this.b(d,"Ctrl C","copy current selection",k,p,h,t,a);h=this.b(d,"Ctrl+Alt C","copy current selection with comments",k,p,h,t,a);h=this.b(d,"Ctrl+Shift X","copy original pattern",k,p,h,t,a);h=this.b(d,"Ctrl X","copy current selection",k,p,h,t,a);h=this.b(d,"Ctrl+Alt X","copy current selection with comments",
k,p,h,t,a);h=this.b(d,"K","copy camera position",k,p,h,t,a);h=this.b(d,"Shift K","copy camera position and view",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Edit"];c+=1;h=this.b(d,"","Edit controls:",k,p,h,t,a);h=this.b(d,"F1","toggle draw/pan mode",k,p,h,t,a);h=this.b(d,"F2","draw mode",k,p,h,t,a);h=this.b(d,"Shift F2","toggle smart drawing",k,p,h,t,a);h=this.b(d,"F3","pick mode",k,p,h,t,a);h=this.b(d,"F4","select mode",k,p,h,t,a);h=this.b(d,"F5","pan mode",k,p,h,t,a);h=this.b(d,"Ctrl A",
"select all",k,p,h,t,a);h=this.b(d,"Shift A","shrink selection",k,p,h,t,a);h=this.b(d,"Alt A","toggle auto-shrink selection",k,p,h,t,a);h=this.b(d,"Ctrl C","copy",k,p,h,t,a);h=this.b(d,"Ctrl I","invert selection",k,p,h,t,a);h=this.b(d,"Ctrl K","remove selection",k,p,h,t,a);h=this.b(d,"Ctrl V","paste",k,p,h,t,a);h=this.b(d,"Ctrl+Shift V","paste to selection",k,p,h,t,a);h=this.b(d,"Ctrl X","cut",k,p,h,t,a);h=this.b(d,"Ctrl Y","redo edit",k,p,h,t,a);h=this.b(d,"Ctrl Z","undo edit",k,p,h,t,a);h=this.b(d,
"Ctrl+Shift Z","redo edit",k,p,h,t,a);h=this.b(d,"Ctrl Space","advance selection",k,p,h,t,a);h=this.b(d,"Shift Space","advance outside",k,p,h,t,a);h=this.b(d,"Shift L","cycle paste location",k,p,h,t,a);h=this.b(d,"Shift M","cycle paste mode",k,p,h,t,a);2<d.a.h?(h=this.b(d,"Shift 5","multi-state random fill",k,p,h,t,a),d.a.D||(h=this.b(d,"Ctrl+Shift 5","2-state random fill",k,p,h,t,a))):h=this.b(d,"Shift 5","random fill",k,p,h,t,a);h=this.b(d,"Alt K","pick cell state to replace with drawing state",
k,p,h,t,a);h=this.b(d,"Ctrl+Alt K","clear current drawing state cells",k,p,h,t,a);h=this.b(d,"Del","clear cells in selection",k,p,h,t,a);h=this.b(d,"Shift Del","clear outside selection",k,p,h,t,a);d.a.pb&&(h=this.b(d,"Ctrl Del","clear [R]History cells",k,p,h,t,a),h=this.b(d,"Alt Del","clear [R]History marked cells",k,p,h,t,a));h=this.b(d,">","rotate selection clockwise",k,p,h,t,a);h=this.b(d,"<","rotate selection counter-clockwise",k,p,h,t,a);h=this.b(d,"Alt X","flip selection horizontally",k,p,h,
t,a);h=this.b(d,"Alt Y","flip selection vertically",k,p,h,t,a);h=this.b(d,"Alt Left","nudge selection 1 cell left",k,p,h,t,a);h=this.b(d,"Alt Right","nudge selection 1 cell right",k,p,h,t,a);h=this.b(d,"Alt Up","nudge selection 1 cell up",k,p,h,t,a);h=this.b(d,"Alt Down","nudge selection 1 cell down",k,p,h,t,a);h=this.b(d,"Esc","hide paste",k,p,h,t,a);h=this.b(d,"Enter","perform paste",k,p,h,t,a);d.a.pb?g=7:(g=-1===d.a.h?2:d.a.h,10<g&&(g=10));for(e=0;e<g;e+=1)h=this.b(d,"Ctrl "+e,"select state "+
e+" for drawing",k,p,h,t,a);for(e=0;10>e;e+=1)h=this.b(d,"Alt "+e,"make clipboard "+e+" active",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Help"];h=this.b(d,"","Help controls:",k,p,h,t,a);h=this.b(d,"Up","scroll up one line",k,p,h,t,a);h=this.b(d,"Down","scroll down one line",k,p,h,t,a);h=this.b(d,"Page Up","scroll up one page",k,p,h,t,a);h=this.b(d,"Page Down","scroll down one page",k,p,h,t,a);h=this.b(d,"Shift Page Up","scroll up one section",k,p,h,t,a);h=this.b(d,"Shift Page Down","scroll down one section",
k,p,h,t,a);h=this.b(d,"Home","go to first help page",k,p,h,t,a);this.b(d,"End","go to last help page",k,p,h,t,a)},VJ:function(d,k,p,h,t,a){var e=0;d.V=1;d.tg=!1;d.ba=[];d.X[0]=252;d.ba[e]=[d.V,"Top"];e+=1;h=this.b(d,"","Scripts",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);h=this.b(d,"","Scripts must be embedded in pattern comments",k,p,h,t,a);h=this.b(d,"","Commands must be surrounded by whitespace",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Params"];e+=1;h=this.b(d,"","Parameter conventions:",
k,p,h,t,a);h=this.b(d,"A|B","either A or B",k,p,h,t,a);h=this.b(d,"(A)","A is optional",k,p,h,t,a);h=this.b(d,"A*","zero or more A",k,p,h,t,a);h=this.b(d,"A+","one or more A",k,p,h,t,a);h=this.b(d,"<1..3>","integer range",k,p,h,t,a);h=this.b(d,"<1.0..3.0>","decimal range",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"General"];e+=1;h=this.b(d,"","General:",k,p,h,t,a);h=this.b(d,Keywords.En,"start script section",k,p,h,t,a);h=this.b(d,Keywords.gp,"end script section",k,p,h,t,a);h=this.b(d,Keywords.kA,
"suppress overwrite warning",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Playback"];e+=1;h=this.b(d,"","Playback:",k,p,h,t,a);h=this.b(d,Keywords.us+" ("+Keywords.Mb+")","start play automatically",k,p,h,t,a);h=this.b(d,Keywords.Ii+" <1..>|"+Keywords.Mb,"loop at generation",k,p,h,t,a);h=this.b(d,Keywords.Yi+" <1..>|"+Keywords.Mb,"stop at generation",k,p,h,t,a);h=this.b(d,Keywords.cn+" <"+ViewConstants.Fg+".."+ViewConstants.Ql+">","set steps per second",k,p,h,t,a);h=this.b(d,Keywords.Ln+" <"+
ViewConstants.on+".."+ViewConstants.kg+">","set generations per step",k,p,h,t,a);(d.a.ia||d.a.D)&&d.a.yc&&(h=this.b(d,Keywords.Gz,"set initial playback to Reverse",k,p,h,t,a));h=this.b(d,Keywords.wx,"always use hard reset",k,p,h,t,a);h=this.b(d,Keywords.cs,"disable playback",k,p,h,t,a);h=this.b(d,Keywords.sy,"disable step back",k,p,h,t,a);h=this.b(d,Keywords.uy,"disable stop messages",k,p,h,t,a);h=this.b(d,Keywords.ty,"disable performance warning",k,p,h,t,a);h=this.b(d,Keywords.xy,"disable playback throttling",
k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Camera"];e+=1;h=this.b(d,"","Camera:",k,p,h,t,a);h=this.b(d,Keywords.il+" <0..359>","set camera angle",k,p,h,t,a);h=this.b(d,Keywords.gf+" <-"+(d.a.ga>>1)+".."+(d.a.ga>>1)+">","set camera x position",k,p,h,t,a);h=this.b(d,Keywords.hf+" <-"+(d.a.ga>>1)+".."+(d.a.ga>>1)+">","set camera y position",k,p,h,t,a);h=this.b(d,Keywords.Od+" <"+Number(-1/ViewConstants.bc).toFixed(1)+".."+ViewConstants.Hc.toFixed(1)+">","set camera zoom",k,p,h,t,a);h=this.b(d,
Keywords.gw,"same as "+Keywords.Od,k,p,h,t,a);h=this.b(d,Keywords.ss+" ("+Keywords.Mb+")","fit pattern to display",k,p,h,t,a);h=this.b(d,Keywords.Dx+" ("+Keywords.Mb+")","autofit uses pattern history",k,p,h,t,a);h=this.b(d,Keywords.gA+" ("+Keywords.Mb+")","autofit only uses state 1",k,p,h,t,a);h=this.b(d,Keywords.Ur+" X Y","camera tracking",k,p,h,t,a);h=this.b(d," X ","horizontal speed cells/gen",k,p,h,t,a);h=this.b(d," Y ","vertical speed cells/gen",k,p,h,t,a);h=this.b(d,Keywords.Tn+" E S W N","camera box tracking",
k,p,h,t,a);h=this.b(d," E ","east edge speed cells/gen",k,p,h,t,a);h=this.b(d," S ","south edge speed cells/gen",k,p,h,t,a);h=this.b(d," W ","west edge speed cells/gen",k,p,h,t,a);h=this.b(d," N ","north edge speed cells/gen",k,p,h,t,a);h=this.b(d,Keywords.Tr+" P X Y","camera tracking with loop",k,p,h,t,a);h=this.b(d," P ","period",k,p,h,t,a);h=this.b(d," X ","horizontal speed cells/gen",k,p,h,t,a);h=this.b(d," Y ","vertical speed cells/gen",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Waypoints"];
e+=1;h=this.b(d,"","Waypoints:",k,p,h,t,a);h=this.b(d,Keywords.Ir+" <0..>","waypoint at generation",k,p,h,t,a);h=this.b(d,Keywords.bz+" <0.0..>","pause for time",k,p,h,t,a);h=this.b(d,Keywords.gh+" "+Keywords.Zf+"|"+Keywords.gf+"|"+Keywords.hf+"|"+Keywords.Od,"linear motion",k,p,h,t,a);h=this.b(d,Keywords.wi+" "+Keywords.Zf+"|"+Keywords.gf+"|"+Keywords.hf+"|"+Keywords.Od,"bezier motion (default)",k,p,h,t,a);h=this.b(d,Keywords.fF,"save timing at waypoint start",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,
a);d.ba[e]=[d.V,"POIs"];e+=1;h=this.b(d,"","Points of interest:",k,p,h,t,a);h=this.b(d,Keywords.iu,"define point of interest",k,p,h,t,a);h=this.b(d,Keywords.hu+" <0..>","start POI at generation",k,p,h,t,a);h=this.b(d,Keywords.kr,"reset generation at POI",k,p,h,t,a);h=this.b(d,Keywords.Uo,"start playback at POI",k,p,h,t,a);h=this.b(d,Keywords.Vo,"stop playback at POI",k,p,h,t,a);h=this.b(d,Keywords.lr+" <"+WaypointConstants.pE+".."+WaypointConstants.oE+">","set POI transition speed",k,p,h,t,a);h=this.b(d,
"<command>|ALL "+Keywords.ac,"use initial value for POI",k,p,h,t,a);h=this.b(d,Keywords.rd+"<string>"+Keywords.rd,"define message",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Annotations"];e+=1;h=this.b(d,"","Annotations:",k,p,h,t,a);h=this.b(d,Keywords.Eq+" X Y ZOOM ("+Keywords.je+")","define label at position",k,p,h,t,a);h=this.b(d," "+Keywords.rd+"<string>"+Keywords.rd,"... optionally fix position",k,p,h,t,a);h=this.b(d,Keywords.Ux+" <"+ViewConstants.wD+".."+ViewConstants.nD+">","define label font size",
k,p,h,t,a);h=this.b(d,Keywords.Sx+" <0.0..1.0>","define label font alpha",k,p,h,t,a);h=this.b(d,Keywords.Vx+" <0..> <0..> <0..>","generation range / fade",k,p,h,t,a);h=this.b(d,Keywords.Tx+" <0..359>","label angle",k,p,h,t,a);h=this.b(d," ("+Keywords.je+")","... optionally fix angle",k,p,h,t,a);h=this.b(d,Keywords.Wx+" X Y D|"+Keywords.Mb,"label target and distance",k,p,h,t,a);h=this.b(d,Keywords.Xx+" DX DY|"+Keywords.je,"label move per generation",k,p,h,t,a);h=this.b(d,Keywords.zp+" X1 Y1 X2 Y2 ZOOM",
"define arrow at position",k,p,h,t,a);h=this.b(d," ("+Keywords.je+")","... optionally fix position",k,p,h,t,a);h=this.b(d,Keywords.kw+" <"+ViewConstants.Vt+".."+ViewConstants.Pt+"> <0.0..1.0>","line width and head multiple",k,p,h,t,a);h=this.b(d,Keywords.iw+" <0.0..1.0>","define arrow alpha",k,p,h,t,a);h=this.b(d,Keywords.lw+" <0..> <0..> <0..>","generation range / fade",k,p,h,t,a);h=this.b(d,Keywords.jw+" <0..359>","arrow angle",k,p,h,t,a);h=this.b(d," ("+Keywords.je+")","... optionally fix angle",
k,p,h,t,a);h=this.b(d,Keywords.mw+" X Y D|"+Keywords.Mb,"arrow target and distance",k,p,h,t,a);h=this.b(d,Keywords.nw+" DX DY|"+Keywords.je,"arrow move per generation",k,p,h,t,a);h=this.b(d,Keywords.iz+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",k,p,h,t,a);h=this.b(d," ("+Keywords.je+")","... optionally fix position",k,p,h,t,a);h=this.b(d,Keywords.ju+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",k,p,h,t,a);h=this.b(d," ("+Keywords.je+")","... optionally fix position",k,p,h,t,a);h=this.b(d,Keywords.jz+
" <"+ViewConstants.Vt+".."+ViewConstants.Pt+">","line width",k,p,h,t,a);h=this.b(d,Keywords.gz+" <0.0..1.0>","define polygon alpha",k,p,h,t,a);h=this.b(d,Keywords.kz+" <0..> <0..> <0..>","generation range / fade",k,p,h,t,a);h=this.b(d,Keywords.hz+" <0..359>","polygon angle",k,p,h,t,a);h=this.b(d," ("+Keywords.je+")","... optionally fix angle",k,p,h,t,a);h=this.b(d,Keywords.lz+" X Y D|"+Keywords.Mb,"polygon target and distance",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Display"];e+=1;h=
this.b(d,"","Display:",k,p,h,t,a);h=this.b(d,Keywords.up+" <"+ViewConstants.Gd+".."+d.Dj+">","set LifeViewer width",k,p,h,t,a);h=this.b(d,Keywords.qo+" <"+ViewConstants.vk+".."+ViewConstants.Qt+">","set LifeViewer height",k,p,h,t,a);h=this.b(d,Keywords.nr+" <"+ViewConstants.Gd+".."+d.Dj+">","set popup width",k,p,h,t,a);h=this.b(d,Keywords.mr+" <"+ViewConstants.vk+".."+ViewConstants.Qt+">","set popup height",k,p,h,t,a);h=this.b(d,Keywords.qp+" "+Keywords.rd+"<string>"+Keywords.rd,"set popup window title",
k,p,h,t,a);h=this.b(d," "+Keywords.Vf+"B","program build number",k,p,h,t,a);h=this.b(d," "+Keywords.Vf+"N","pattern name",k,p,h,t,a);h=this.b(d," "+Keywords.Vf+"O","pattern originator",k,p,h,t,a);h=this.b(d," "+Keywords.Vf+"R","rule name",k,p,h,t,a);h=this.b(d," "+Keywords.Vf+"A","rule alias",k,p,h,t,a);h=this.b(d," "+Keywords.Vf+"T","program title",k,p,h,t,a);h=this.b(d," "+Keywords.Vf+"0..9","saved timing as average fps",k,p,h,t,a);h=this.b(d," "+Keywords.Vf+Keywords.Vf,Keywords.Vf+" symbol",k,
p,h,t,a);h=this.b(d,Keywords.mn+" <"+ViewConstants.Ut+".."+ViewConstants.Ot+">","set number of layers",k,p,h,t,a);h=this.b(d,Keywords.Tm+" <"+ViewConstants.Tt.toFixed(1)+".."+ViewConstants.lD.toFixed(1)+">","set layer depth",k,p,h,t,a);h=this.b(d,Keywords.hq+" ("+Keywords.Mb+")","display gridlines",k,p,h,t,a);h=this.b(d,Keywords.gq+" <0..16>","set major grid line interval",k,p,h,t,a);h=this.b(d,Keywords.ut+" <0.."+(2<d.a.h?1:63)+">","number of history states",k,p,h,t,a);h=this.b(d,Keywords.Gr+" ("+
Keywords.Mb+")","display stars",k,p,h,t,a);h=this.b(d,Keywords.yx,"hexagonal cells for hex",k,p,h,t,a);h=this.b(d,Keywords.cA,"square cells for hex",k,p,h,t,a);h=this.b(d,Keywords.ry,"disable menus and hotkeys",k,p,h,t,a);h=this.b(d,Keywords.Cx,"hide menus during playback",k,p,h,t,a);h=this.b(d,Keywords.aA,"show timing information",k,p,h,t,a);h=this.b(d,Keywords.nx,"extended timing information",k,p,h,t,a);h=this.b(d,Keywords.Zz,"show generation statistics",k,p,h,t,a);h=this.b(d,Keywords.$z,"show information bar",
k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Thumb"];e+=1;h=this.b(d,"","Thumbnails:",k,p,h,t,a);h=this.b(d,Keywords.AA+" ("+Keywords.Mb+")","start at 1/"+d.se+" size",k,p,h,t,a);h=this.b(d,Keywords.xA+" <"+ViewConstants.BD+".."+ViewConstants.sD+">","set thumbnail divisor",k,p,h,t,a);h=this.b(d,Keywords.vA+" ("+Keywords.Mb+")","thumbnail launches viewer",k,p,h,t,a);h=this.b(d,Keywords.zA+" <"+Number(-1/ViewConstants.bc).toFixed(1)+".."+ViewConstants.Hc.toFixed(1)+">","set thumbnail zoom",
k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Graph"];e+=1;h=this.b(d,"","Population Graph:",k,p,h,t,a);h=this.b(d,Keywords.it,"display population graph",k,p,h,t,a);h=this.b(d,Keywords.tx+" <0.0..1.0>","population graph opacity",k,p,h,t,a);h=this.b(d,Keywords.ux,"population graph use points",k,p,h,t,a);h=this.b(d,Keywords.Zt,"disable population graph",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Colours"];e+=1;h=this.b(d,"","Colours:",k,p,h,t,a);h=this.b(d,Keywords.Qk+" <0.."+(d.a.af-
1)+">|name","set theme",k,p,h,t,a);h=this.b(d," name = "+Keywords.pp,"set custom theme",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.Zu+" R G B","set theme background",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.Yu+" R G B","set theme alive color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.qA+" R G B","set theme alive ramp",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.av+" R G B","set theme dead color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.$u+" R G B","set theme dead ramp",k,p,
h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.sA+" R G B","set theme dying color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.rA+" R G B","set theme dying ramp",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.MB+" R G B","set boundary color",k,p,h,t,a);h=this.b(d,Keywords.Da+" <0.."+String(d.Ak-1)+"> R G B","set state color",k,p,h,t,a);d.a.pb&&(h=this.b(d,Keywords.Da+" "+Keywords.KD+" R G B","set [R]History state color "+ViewConstants.eJ,k,p,h,t,a),h=this.b(d,Keywords.Da+" "+Keywords.LD+" R G B","set [R]History state color "+
ViewConstants.fJ,k,p,h,t,a),h=this.b(d,Keywords.Da+" "+Keywords.NC+" R G B","set [R]History state color "+ViewConstants.uI,k,p,h,t,a),h=this.b(d,Keywords.Da+" "+Keywords.dD+" R G B","set [R]History state color "+ViewConstants.eD,k,p,h,t,a),h=this.b(d,Keywords.Da+" "+Keywords.hD+" R G B","set [R]History state color "+ViewConstants.iD,k,p,h,t,a),h=this.b(d,Keywords.Da+" "+Keywords.fD+" R G B","set [R]History state color "+ViewConstants.gD,k,p,h,t,a),h=this.b(d,Keywords.Da+" "+Keywords.VC+" R G B","set [R]History state color "+
ViewConstants.WC,k,p,h,t,a));d.a.D&&(h=this.b(d,Keywords.Da+" N*E*S*W* R G B","set PCA state color",k,p,h,t,a));h=this.b(d,Keywords.Da+" "+Keywords.OB+" R G B","set bounded color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.VE+" R G B","set select color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.Po+" R G B","set paste color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.AB+" R G B","set advance color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.hq+" R G B","set grid color",k,p,h,t,a);
h=this.b(d,Keywords.Da+" "+Keywords.gq+" R G B","set grid major color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.Gr+" R G B","set star color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.oA+" R G B","set waypoint message color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.mx+" R G B","set error message color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.DC+" R G B","set graph background color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.CC+" R G B","set graph axis color",k,p,h,t,a);
h=this.b(d,Keywords.Da+" "+Keywords.BC+" R G B","set graph alive color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.EC+" R G B","set graph birth color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.FC+" R G B","set graph death color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.Eq+" R G B","set label text color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.zp+" R G B","set arrow line color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.tE+" R G B","set polygon color",k,p,h,t,a);h=this.b(d,
Keywords.Da+" "+Keywords.lF+" R G B","set UI foreground color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.jF+" R G B","set UI background color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.mF+" R G B","set UI highlight text color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.pF+" R G B","set UI selected color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.nF+" R G B","set UI locked color",k,p,h,t,a);h=this.b(d,Keywords.Da+" "+Keywords.kF+" R G B","set UI border color",k,p,h,t,a);h=this.b(d,
Keywords.Ew,"same as "+Keywords.Da,k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Pattern"];e+=1;h=this.b(d,"","Pattern:",k,p,h,t,a);h=this.b(d,Keywords.mv+" <-"+(d.a.ga>>1)+".."+(d.a.ga>>1)+">","set pattern x offset",k,p,h,t,a);h=this.b(d,Keywords.ov+" <-"+(d.a.ga>>1)+".."+(d.a.ga>>1)+">","set pattern y offset",k,p,h,t,a);h=this.b(d,Keywords.$w+" <"+ViewConstants.uD+".."+ViewConstants.kD+">","set boundary delete range",k,p,h,t,a);h=this.b(d,Keywords.qy,"disable pattern source copy",k,p,h,t,
a);h=this.b(d,Keywords.wy,"hide pattern source",k,p,h,t,a);h=this.b(d,Keywords.fy+" <"+ViewConstants.vD+".."+ViewConstants.mD+">","set maximum grid size 2^n",k,p,h,t,a);h=this.b(d,Keywords.$o+" name X Y (<1..>)+","create a named recipe",k,p,h,t,a);h=this.b(d,Keywords.Cn+" name rle","create a named rle",k,p,h,t,a);h=this.b(d," (X Y) (TRANS)","... X Y and transformation",k,p,h,t,a);h=this.b(d," "+Keywords.PA,"identity",k,p,h,t,a);h=this.b(d," "+Keywords.MA,"flip",k,p,h,t,a);h=this.b(d," "+Keywords.NA,
"flip X",k,p,h,t,a);h=this.b(d," "+Keywords.OA,"flip Y",k,p,h,t,a);h=this.b(d," "+Keywords.SA,"swap X and Y",k,p,h,t,a);h=this.b(d," "+Keywords.TA,"swap X and Y and flip",k,p,h,t,a);h=this.b(d," "+Keywords.RA,"rotate clockwise",k,p,h,t,a);h=this.b(d," "+Keywords.QA,"rotate counter-clockwise",k,p,h,t,a);h=this.b(d,Keywords.Po+" name|rle (X Y)","paste rle at optional X Y",k,p,h,t,a);h=this.b(d," (TRANS)","... optional transformation",k,p,h,t,a);h=this.b(d,Keywords.ar+" <0..>","set paste generation",
k,p,h,t,a);h=this.b(d,"(recipe|<1..>+)*","... optional delta list",k,p,h,t,a);h=this.b(d,Keywords.ar+" "+Keywords.$p+" <1..>","set paste interval",k,p,h,t,a);h=this.b(d," (<0..> (<1..>))","... optional start and end",k,p,h,t,a);h=this.b(d,Keywords.Cy+" X Y","set position delta for "+Keywords.ar+" "+Keywords.$p,k,p,h,t,a);h=this.b(d,Keywords.Ty+" <0..15>|mode","set paste mode",k,p,h,t,a);h=this.b(d," 0   0000  "+Keywords.Zy,"",k,p,h,t,a);h=this.b(d," 1   0001  "+Keywords.Ky,"",k,p,h,t,a);h=this.b(d,
" 2   0010  "+Keywords.Fy,"",k,p,h,t,a);h=this.b(d," 3   0011  "+Keywords.Vy+"|"+Keywords.My,"",k,p,h,t,a);h=this.b(d," 4   0100  "+Keywords.Gy,"",k,p,h,t,a);h=this.b(d," 5   0101  "+Keywords.Yy,"",k,p,h,t,a);h=this.b(d," 6   0110  "+Keywords.Xy,"",k,p,h,t,a);h=this.b(d," 7   0111  "+Keywords.Sy,"",k,p,h,t,a);h=this.b(d," 8   1000  "+Keywords.Oy,"",k,p,h,t,a);h=this.b(d," 9   1001  "+Keywords.Uy,"",k,p,h,t,a);h=this.b(d," 10  1010  "+Keywords.Qy,"",k,p,h,t,a);h=this.b(d," 11  1011  "+Keywords.Hy,
"",k,p,h,t,a);h=this.b(d," 12  1100  "+Keywords.Py,"",k,p,h,t,a);h=this.b(d," 13  1101  "+Keywords.Iy,"",k,p,h,t,a);h=this.b(d," 14  1110  "+Keywords.Ny,"",k,p,h,t,a);h=this.b(d," 15  1111  "+Keywords.Ry,"",k,p,h,t,a);h=this.b(d,Keywords.Rx,"suppress escaping gliders",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[e]=[d.V,"Randomize"];h=this.b(d,"","Randomize:",k,p,h,t,a);h=this.b(d,Keywords.wz+" <string>","set random seed",k,p,h,t,a);h=this.b(d,Keywords.yz+" <"+ViewConstants.AD+".."+ViewConstants.rD+
">","set random pattern width",k,p,h,t,a);h=this.b(d,Keywords.rz+" <"+ViewConstants.zD+".."+ViewConstants.qD+">","set random pattern height",k,p,h,t,a);h=this.b(d,Keywords.qz+" <"+ViewConstants.yD+".."+ViewConstants.pD+">","set random pattern fill percentage",k,p,h,t,a);h=this.b(d,Keywords.ru+" "+Keywords.je,"keep rule fixed",k,p,h,t,a);d.a.ia||d.a.D?(h=this.b(d,Keywords.uz,"only generate reversible rules",k,p,h,t,a),this.b(d,Keywords.xz,"only generate fixed population rules",k,p,h,t,a)):d.a.ya||
-1!==d.a.Nd||(h=this.b(d,Keywords.ru+" <item> <0..100>","set percentage change for <item>",k,p,h,t,a),h=this.b(d," "+Keywords.Zf,"all conditions",k,p,h,t,a),h=this.b(d," "+Keywords.qu,"all birth conditions",k,p,h,t,a),h=this.b(d," "+Keywords.wu,"all survival conditions",k,p,h,t,a),h=this.b(d," "+Keywords.qu+"<0..n>","specified birth condition",k,p,h,t,a),this.b(d," "+Keywords.wu+"<0..n>","specified survival condition",k,p,h,t,a))},SJ:function(d,k,p,h,t,a){var e,c=Controller.Md.length;var g=d.ze;var n=
d.a.bb[d.a.pf];var m=0;var r=d.i.ff;d.V=1;d.tg=!1;d.ba=[];d.X[0]=128;d.ba[m]=[d.V,"Top"];m+=1;h=this.b(d,"","Information",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Display"];m+=1;h=this.b(d,"","Display:",k,p,h,t,a);h=this.b(d,"Size",d.C+" x "+d.B,k,p,h,t,a);h=this.b(d,"Scale",d.i.ff.toFixed(2),k,p,h,t,a);h=this.b(d,"Pixel Ratio",d.devicePixelRatio.toFixed(2),k,p,h,t,a);h=this.b(d,"Window Zoom",d.ef.toFixed(2),k,p,h,t,a);DocConfig.Kq&&(h=this.b(d,"Limit Width",d.Dj,k,p,h,t,a));var u=d.a.ja;
1>u&&(u=-1/u);h=this.b(d,"View","X "+-(d.a.width/2-(d.a.wa+d.a.Pb)|0)+"  Y "+-(d.a.height/2-(d.a.pa+d.a.Nb)|0)+"  Z "+u.toFixed(2)+"  ANGLE "+d.a.angle.toFixed(0),k,p,h,t,a);u=d.fp;1>u&&(u=1/u);h=this.b(d,"Saved View","X "+-(d.a.width/2-d.Ge|0)+"  Y "+-(d.a.height/2-d.Ui|0)+"  Z "+u.toFixed(2)+"  ANGLE "+d.Oz.toFixed(0),k,p,h,t,a);h=this.b(d,"Origin","X "+d.a.Pb.toFixed(2)+"  Y "+d.a.Nb.toFixed(2)+"  Z "+d.a.Jc.toFixed(3),k,p,h,t,a);var x=d.Ha?d.cd?"Multi-State Viewer":"Viewer":d.a.pb?"History Player":
"Player";x=d.ke?x+" (PopUp)":x+" (InLine)";h=this.b(d,"Type",x,k,p,h,t,a);x=d.a.R?"Hexagonal":d.a.$?"Triangular":"Square";h=this.b(d,"Mode",x,k,p,h,t,a);x=d.a.R&&d.a.te?"Hexagonal":d.a.$?"Triangular":"Square";h=this.b(d,"Cells",x,k,p,h,t,a);h=this.b(d,"Quality",d.a.Ng?"High":"Standard",k,p,h,t,a);d.Rk&&(h=this.b(d,"Thumbnail","1/"+d.se,k,p,h,t,a));h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Pattern"];m+=1;h=this.b(d,"","Pattern:",k,p,h,t,a);""!==d.Qo&&(h=this.b(d,"Name",d.Qo,k,p,h,t,a));""!==d.cr&&
(h=this.b(d,"Originator",d.cr,k,p,h,t,a));h=this.b(d,"Actual Size",d.nb+" x "+d.qb,k,p,h,t,a);-1!==d.Qj&&-1!==d.Pj&&(h=this.b(d,"Specified",d.Qj+" x "+d.Pj,k,p,h,t,a));0<d.mg.length&&(h=this.b(d,"Pastes",d.mg.length,k,p,h,t,a),h=this.b(d,"Paste Size",d.am-d.Yl+1+" x "+(d.bm-d.Xl+1)+" from ("+d.Yl+", "+d.Xl+") to ("+d.am+", "+d.bm+")",k,p,h,t,a),h=this.b(d,"Paste Max T",d.uk+(d.Aj?" + "+Keywords.$p:""),k,p,h,t,a));0<d.Ri.length&&(h=this.b(d,"RLEs",d.Ri.length,k,p,h,t,a));0<d.Kj.length&&(h=this.b(d,
"Recipes",d.Kj.length,k,p,h,t,a));h=this.b(d,"Offset","X "+d.Kb+"  Y "+d.Lb,k,p,h,t,a);d.lk&&(h=this.b(d,"CXRLE Gen",d.Oh,k,p,h,t,a));d.Mg&&(h=this.b(d,"CXRLE Pos","X "+d.em+"  Y "+d.fm,k,p,h,t,a));d.lB&&(h=this.b(d,"Clipped",(0===d.a.ua?"Inf":d.a.ua)+" x "+(0===d.a.ra?"Inf":d.a.ra)+" "+d.P.NB(d.a.sa),k,p,h,t,a));d.ta?x=d.Cb:(x=d.Cb,""===x&&(x="(none)"));if("MAP"===x.substr(0,3)&&x.length===d.P.cD+3)for(h=this.b(d,"Rule","MAP",k,p,h,t,a),u=3;u<d.P.cD+3;)h=this.b(d,"  "+(u-3),x.substr(u,16),k,p,h,
t,a),u+=16;else d.tg=!0,h=this.b(d,"Rule",x,k,p,h,t,a),d.tg=!1;""!==d.pd&&(h=this.b(d,"Alias",d.pd,k,p,h,t,a));d.a.Y&&(h=null===d.a.Jd?this.b(d,"Type","@TREE",k,p,h,t,a):this.b(d,"Type","@TABLE ["+d.a.og+(0<d.a.Fk?" / "+d.a.Fk:"")+"]",k,p,h,t,a));if(d.a.ia)x="Margolus";else if(-1!==d.a.Nd)x="1D";else if(d.a.cu)x="Hex";else if(d.a.ya)x=d.a.Wb.type===d.P.Pf?"Moore":d.a.Wb.type===d.P.sg?"von Neumann":"Circular",1<d.a.Wb.ed&&(x+=" range "+d.a.Wb.ed);else if(d.a.$)x="Triangular",d.a.Ld===d.P.Vn?x+=" Edges":
d.a.Ld===d.P.Wn&&(x+=" Vertices");else if(d.a.Y)if(null===d.a.Jd)x=4===d.a.Sf?"von Neumann":"Moore";else switch(d.a.Ti){case PatternConstants.ep:x="von Neumann";break;case PatternConstants.bp:x="Moore";break;case PatternConstants.Gk:x="Hex";break;case PatternConstants.cp:x="1D";break;default:x="unknown"}else x=d.a.De||d.a.D?"von Neumann":"Moore";h=this.b(d,"N'hood",x,k,p,h,t,a);x=d.Ak;2<d.Ak&&d.er!==d.Ak&&(x=d.er+" of "+x);h=this.b(d,"States",x,k,p,h,t,a);if(d.dr)for(e=1;e<d.Ak;e+=1)d.dr[e]&&(h=this.b(d,
"State "+e,d.dr[e],k,p,h,t,a));if(d.a.Id)if(d.X[1]=200,d.X[2]=280,d.X[3]=360,d.X[4]=440,d.a.Id[0].uw!==PatternConstants.Jz)h=this.b(d,"Icons",PatternConstants.pK[d.a.Id[0].uw],k,p,h,t,a);else for(h=this.b(d,"Icons","Size\tNumber\tColours\tGrayScale",k,p,h,t,a),e=0;e<d.a.Id.length;e+=1)u=d.a.Id[e].width,x=u+"x"+u+"\t"+d.a.Id[e].height/u+"\t"+d.a.Id[e].HD+"\t"+(d.a.Id[e].GC?"Yes":"No"),h=this.b(d,"  Set "+e,x,k,p,h,t,a);h=this.b(d,"Decoder",d.Li,k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Identify"];
m+=1;h=this.b(d,"","Identify:",k,p,h,t,a);h=this.b(d,"Enabled",d.Sb?"Yes":"No",k,p,h,t,a);"None"!==d.ub&&"Empty"!==d.ub&&(h=this.b(d,"Type",d.ub,k,p,h,t,a),h=this.b(d,"Cells",d.zo,k,p,h,t,a),"Oscillator"!==d.ub||d.Of||(h=this.b(d,"ActiveCells",d.Ft,k,p,h,t,a)),h=this.b(d,"BoundingBox",d.Fq,k,p,h,t,a),"Oscillator"===d.ub?(h=this.b(d,"Period",d.Co,k,p,h,t,a),d.Of||(h=this.b(d,"Mod",d.Bo,k,p,h,t,a))):"Still Life"!==d.ub&&(h=this.b(d,"Direction",d.Gq,k,p,h,t,a),h=this.b(d,"Period",d.Co,k,p,h,t,a),d.Of||
(h=this.b(d,"Mod",d.Bo,k,p,h,t,a)),h=this.b(d,"Slope",d.Hq,k,p,h,t,a),h=this.b(d,"Speed",d.Do,k,p,h,t,a)),"Still Life"!==d.ub&&(h=this.b(d,"Heat",d.Ao,k,p,h,t,a)),"Oscillator"!==d.ub||d.Of||(h=this.b(d,"Temperature",d.Ht,k,p,h,t,a),h=this.b(d,"Volatility",d.Iq,k,p,h,t,a)),h=this.b(d,"Generation",d.Gt,k,p,h,t,a));h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Grid"];m+=1;h=this.b(d,"","Grid:",k,p,h,t,a);h=this.b(d,"Size",d.a.width+" x "+d.a.height,k,p,h,t,a);h=this.b(d,"Maximum",d.a.ga+" x "+d.a.ga,k,p,
h,t,a);h=this.b(d,"Area",this.AG(d),k,p,h,t,a);h=0!==(d.a.v&1)?this.b(d,"Tiles",d.a.On(d.a.oa)+" / "+d.a.On(d.a.Ga)+" / "+d.a.On(d.a.za),k,p,h,t,a):this.b(d,"Tiles",d.a.On(d.a.da)+" / "+d.a.On(d.a.Ga)+" / "+d.a.On(d.a.za),k,p,h,t,a);d.a.Tg&&(h=this.b(d,"State6",d.a.On(d.a.Tg),k,p,h,t,a));h=this.b(d,"Tile Size",(d.a.Nr<<3)+" x "+d.a.Or,k,p,h,t,a);h=this.b(d,"Generation",d.a.v,k,p,h,t,a);0!==d.Oh&&(h=this.b(d,"AbsoluteGen",d.a.v+d.Oh,k,p,h,t,a));d.a.ia&&(h=this.b(d,"MargolusGen",d.a.Hf+d.Oh,k,p,h,t,
a));d.a.D&&(h=this.b(d,"PCAGen",d.a.Hf+d.Oh,k,p,h,t,a));(d.a.ia||d.a.D)&&d.a.yc&&(u=d.a.Sc,d.a.Tc&&(u=!u),h=this.b(d,"Direction",u?"Reverse":"Forward",k,p,h,t,a));h=this.b(d,"DeleteRange",d.a.vr,k,p,h,t,a);d.a.xi&&(h=this.b(d,"KillGliders",d.a.Sq,k,p,h,t,a));h=this.b(d,"","",k,p,h,t,a);-1!==d.a.sa&&(d.ba[m]=[d.V,"Bounded"],m+=1,h=this.b(d,"","Bounded grid:",k,p,h,t,a),h=this.b(d,"Type",d.P.NB(d.a.sa),k,p,h,t,a),h=0===d.a.ua?this.b(d,"Width","Infinite",k,p,h,t,a):this.b(d,"Width",d.a.ua,k,p,h,t,a),
4!==d.a.sa&&(h=0===d.a.ra?this.b(d,"Height","Infinite",k,p,h,t,a):this.b(d,"Height",d.a.ra,k,p,h,t,a),2===d.a.sa&&(h=d.a.ws?this.b(d,"Twist","Horizontal",k,p,h,t,a):this.b(d,"Twist","Vertical",k,p,h,t,a)),0!==d.a.Jm&&(h=this.b(d,"H'Shift",d.a.Jm,k,p,h,t,a)),0!==d.a.Km&&(h=this.b(d,"V'Shift",d.a.Km,k,p,h,t,a))),h=this.b(d,"","",k,p,h,t,a));d.ba[m]=[d.V,"AutoFit"];m+=1;h=this.b(d,"","AutoFit:",k,p,h,t,a);h=this.b(d,"Enabled",d.qc?"On":"Off",k,p,h,t,a);h=this.b(d,"Mode",this.HG(d),k,p,h,t,a);h=this.b(d,
"","",k,p,h,t,a);d.ba[m]=[d.V,"Track"];m+=1;h=this.b(d,"","Track:",k,p,h,t,a);h=this.b(d,"Enabled",d.yd&&!d.df?"On":"Off",k,p,h,t,a);d.yd&&(d.Sn?(h=this.b(d,"Mode","Track Box",k,p,h,t,a),h=this.b(d,"Definition","E "+d.Uj.toFixed(3)+"  S "+d.Vj.toFixed(3)+"  W "+d.Tk.toFixed(3)+"  N "+d.Sk.toFixed(3),k,p,h,t,a)):(h=this.b(d,"Mode","Track",k,p,h,t,a),h=this.b(d,"Definition","X "+d.Uj.toFixed(3)+"  Y "+d.Vj.toFixed(3),k,p,h,t,a)));h=this.b(d,"Current","E "+d.Gs.toFixed(3)+"  S "+d.Is.toFixed(3)+"  W "+
d.Js.toFixed(3)+"  N "+d.Hs.toFixed(3),k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Undo/Redo"];m+=1;h=this.b(d,"","Undo/Redo:",k,p,h,t,a);h=this.b(d,"Enabled",d.oe?"Off":"On",k,p,h,t,a);if(!d.oe)for(h=this.b(d,"Snapshots",d.a.qg.sL()+"/"+d.a.qg.Fh.length,k,p,h,t,a),h=this.b(d,"Buffer",(d.a.qg.bufferSize()>>10)+"K",k,p,h,t,a),h=this.b(d,"Next Gen",d.a.pn,k,p,h,t,a),h=this.b(d,"Undo",d.pc,k,p,h,t,a),h=this.b(d,"Redo",d.rn-d.pc,k,p,h,t,a),e=0;9>=e;e+=1)null!==d.zf[e]&&(h=this.b(d,"Clip "+e+
(e===d.ag?"*":""),d.zf[e].width+" x "+d.zf[e].height,k,p,h,t,a));h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Engine"];m+=1;h=this.b(d,"","Engine:",k,p,h,t,a);h=this.b(d,"Name",ViewConstants.uF,k,p,h,t,a);h=this.b(d,"Build",ViewConstants.hv,k,p,h,t,a);h=this.b(d,"Author",ViewConstants.tF,k,p,h,t,a);h=this.b(d,"Decoders","RLE, Life 1.06, Life 1.05, Cells",k,p,h,t,a);h=this.b(d,"N'hoods","Moore, Hex, von Neumann, Circular, 1D",k,p,h,t,a);h=this.b(d,"Rules","Wolfram, Totalistic, Generations, Margolus,",
k,p,h,t,a);h=this.b(d," ","Isotropic Non-Totalistic (Hensel, Callahan),",k,p,h,t,a);h=this.b(d," ","Alternating, MAP, Larger than Life (LtL),",k,p,h,t,a);h=this.b(d," ","Higher-range outer-totalistic (HROT),",k,p,h,t,a);h=this.b(d," ","Partitioned cellular automata (PCA)",k,p,h,t,a);h=this.b(d,"Repository","RuleTable (@TABLE, @TREE and @COLORS)",k,p,h,t,a);h=this.b(d,"BoundedGrid","Plane, Torus, Klein, Cross-surface, Sphere",k,p,h,t,a);h=this.b(d,"States","2 state, [R]History, Niemiec, Generations",
k,p,h,t,a);h=this.b(d,"Viewers",c,k,p,h,t,a);h=this.b(d,"Playing",Controller.zL(),k,p,h,t,a);if(DocConfig.Ia){u=Controller.pe.length;h=this.b(d,"Universe","Multi ("+(d.Vc+1)+" of "+u+")",k,p,h,t,a);d.tg=!0;for(e=0;e<u;e+=1)h=this.b(d,String(e+1)+(e===d.Vc?"*":""),Controller.pe[e].name,k,p,h,t,a),h=this.b(d," ",Controller.pe[e].jK,k,p,h,t,a),h=this.b(d," ",Controller.pe[e].width+" x "+Controller.pe[e].height,k,p,h,t,a);d.tg=!1}else h=this.b(d,"Universe","Single",k,p,h,t,a);h=this.b(d,"Endian",littleEndian?
"Little":"Big",k,p,h,t,a);h=this.b(d,"ArrayFill",arrayFill?"Yes":"No",k,p,h,t,a);h=this.b(d,"ArraySlice",arraySlice?"Yes":"No",k,p,h,t,a);h=this.b(d,"CopyWithin",copyWithin?"Yes":"No",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.X[1]=300;d.X[2]=380;d.X[3]=460;d.ba[m]=[d.V,"Rule Cache"];m+=1;h=this.b(d,"","Rule Cache:",k,p,h,t,a);h=this.b(d,"Entries",RuleTreeCache.rules.length,k,p,h,t,a);if(0<RuleTreeCache.rules.length)for(h=this.b(d,"Entry","Name\tSize Kb\tFetch\tDecode",k,p,h,t,a),e=0;e<RuleTreeCache.rules.length;e+=
1)x=RuleTreeCache.rules[e].name,17<x.length&&(x=x.substr(0,17)+"*"),h=this.b(d,String(e),x+"\t"+(RuleTreeCache.St[e].size>>10)+"\t"+RuleTreeCache.St[e].fetch+"ms\t"+RuleTreeCache.St[e].decode+"ms",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.X[1]=210;d.X[2]=270;d.X[3]=330;if(d.cd)for(d.ba[m]=[d.V,"Colours"],m+=1,h=this.b(d,"","Set:",k,p,h,t,a),h=this.b(d,"Name",d.bo,k,p,h,t,a),h=this.b(d,"Used",d.er,k,p,h,t,a),e=0;e<d.Qm.length;e+=1)d.Qm[e]!==ViewConstants.hA&&(c=this.ic(g[e]>>16&255,g[e]>>8&255,g[e]&
255),x=String(e),d.Qm[e]!==ViewConstants.$E||d.ms||(x+="*"),this.Ta(d,g[e]>>16,g[e]>>8&255,g[e]&255,k,p+d.X[0]*r,h,t,a),h=this.b(d,x,c,k,p,h,t,a));else{d.ba[m]=[d.V,"Theme"];m+=1;h=this.b(d,"","Theme:",k,p,h,t,a);d.a.Y||(h=this.b(d,"Name",d.a.bb[d.a.pf].name,k,p,h,t,a),h=this.b(d,"History",d.J,k,p,h,t,a));this.Ta(d,d.a.Sa[0],d.a.Qa[0],d.a.Pa[0],k,p+d.X[0]*r,h,t,a);h=this.b(d,"Background",this.ic(d.a.Sa[0],d.a.Qa[0],d.a.Pa[0]),k,p,h,t,a);if(d.a.$a||d.a.Y)for(e=1;e<d.a.h;e+=1)this.Ta(d,d.a.Sa[e],d.a.Qa[e],
d.a.Pa[e],k,p+d.X[0]*r,h,t,a),h=this.b(d,"State "+e,this.ic(d.a.Sa[e],d.a.Qa[e],d.a.Pa[e]),k,p,h,t,a);else if(d.a.D){for(e=1;16>e;e+=1)g=e+d.J,this.Ta(d,d.a.Sa[g],d.a.Qa[g],d.a.Pa[g],k,p+d.X[0]*r,h,t,a),x="",e&1&&(x+="N"),e&2&&(x+="E"),e&4&&(x+="S"),e&8&&(x+="W"),h=this.b(d,x,this.ic(d.a.Sa[g],d.a.Qa[g],d.a.Pa[g]),k,p,h,t,a);0<d.J&&(g=d.J,this.Ta(d,d.a.Sa[g],d.a.Qa[g],d.a.Pa[g],k,p+d.X[0]*r,h,t,a),h=this.b(d,"Dead",this.ic(d.a.Sa[g],d.a.Qa[g],d.a.Pa[g]),k,p,h,t,a),1<d.J&&(g=1,this.Ta(d,d.a.Sa[g],
d.a.Qa[g],d.a.Pa[g],k,p+d.X[0]*r,h,t,a),h=this.b(d,"DeadRamp",this.ic(d.a.Sa[g],d.a.Qa[g],d.a.Pa[g]),k,p,h,t,a)))}else if(2<d.a.h){g=d.a.h+d.J-1;this.Ta(d,d.a.Sa[g],d.a.Qa[g],d.a.Pa[g],k,p+d.X[0]*r,h,t,a);h=this.b(d,"Alive",this.ic(d.a.Sa[g],d.a.Qa[g],d.a.Pa[g]),k,p,h,t,a);for(e=1;e<d.a.h-1;e+=1)g=d.a.h-e+d.J-1,this.Ta(d,d.a.Sa[g],d.a.Qa[g],d.a.Pa[g],k,p+d.X[0]*r,h,t,a),h=this.b(d,"Dying "+e,this.ic(d.a.Sa[g],d.a.Qa[g],d.a.Pa[g]),k,p,h,t,a);0<d.J&&(g=d.J,this.Ta(d,d.a.Sa[g],d.a.Qa[g],d.a.Pa[g],k,
p+d.X[0]*r,h,t,a),h=this.b(d,"Dead",this.ic(d.a.Sa[g],d.a.Qa[g],d.a.Pa[g]),k,p,h,t,a),1<d.J&&(g=1,this.Ta(d,d.a.Sa[g],d.a.Qa[g],d.a.Pa[g],k,p+d.X[0]*r,h,t,a),h=this.b(d,"DeadRamp",this.ic(d.a.Sa[g],d.a.Qa[g],d.a.Pa[g]),k,p,h,t,a)))}else this.Ta(d,n.kb.T.red,n.kb.T.green,n.kb.T.blue,k,p+d.X[0]*r,h,t,a),h=this.b(d,"Alive",this.Qf(n.kb.T),k,p,h,t,a),n.kb.T.red!==n.kb.U.red||n.kb.T.green!==n.kb.U.green||n.kb.T.blue!==n.kb.U.blue?(this.Ta(d,n.kb.U.red,n.kb.U.green,n.kb.U.blue,k,p+d.X[0]*r,h,t,a),h=this.b(d,
"AliveRamp",this.Qf(n.kb.U),k,p,h,t,a)):h=this.b(d,"AliveRamp","    (none)",k,p,h,t,a),0<d.J&&(this.Ta(d,n.Za.U.red,n.Za.U.green,n.Za.U.blue,k,p+d.X[0]*r,h,t,a),h=this.b(d,"Dead",this.Qf(n.Za.U),k,p,h,t,a),1<d.J&&(n.Za.T.red!==n.Za.U.red||n.Za.T.green!==n.Za.U.green||n.Za.T.blue!==n.Za.U.blue?(this.Ta(d,n.Za.T.red,n.Za.T.green,n.Za.T.blue,k,p+d.X[0]*r,h,t,a),h=this.b(d,"DeadRamp",this.Qf(n.Za.T),k,p,h,t,a)):h=this.b(d,"DeadRamp","    (none)",k,p,h,t,a)));if(d.a.pb)for(e=3;6>=e;e+=1)u=128+ViewConstants.Ja[e],
c=this.ic(d.a.Sa[u],d.a.Qa[u],d.a.Pa[u]),x=ViewConstants.ZE[e],this.Ta(d,d.a.Sa[u],d.a.Qa[u],d.a.Pa[u],k,p+d.X[0]*r,h,t,a),h=this.b(d,x,c,k,p,h,t,a)}-1!==d.a.$b&&(this.Ta(d,d.ul[0],d.ul[1],d.ul[2],k,p+d.X[0]*r,h,t,a),h=this.b(d,"Bounded",this.ic(d.ul[0],d.ul[1],d.ul[2]),k,p,h,t,a));this.Ta(d,d.tl[0],d.tl[1],d.tl[2],k,p+d.X[0]*r,h,t,a);h=this.b(d,"Boundary",this.ic(d.tl[0],d.tl[1],d.tl[2]),k,p,h,t,a);d.bh&&(this.Ta(d,d.bh[0],d.bh[1],d.bh[2],k,p+d.X[0]*r,h,t,a),h=this.b(d,"Text",this.ic(d.bh[0],d.bh[1],
d.bh[2]),k,p,h,t,a));d.fk&&(this.Ta(d,d.fk[0],d.fk[1],d.fk[2],k,p+d.X[0]*r,h,t,a),h=this.b(d,"Error",this.ic(d.fk[0],d.fk[1],d.fk[2]),k,p,h,t,a));this.Ta(d,d.wl[0],d.wl[1],d.wl[2],k,p+d.X[0]*r,h,t,a);h=this.b(d,"Select",this.ic(d.wl[0],d.wl[1],d.wl[2]),k,p,h,t,a);this.Ta(d,d.vl[0],d.vl[1],d.vl[2],k,p+d.X[0]*r,h,t,a);h=this.b(d,"Paste",this.ic(d.vl[0],d.vl[1],d.vl[2]),k,p,h,t,a);this.Ta(d,d.sl[0],d.sl[1],d.sl[2],k,p+d.X[0]*r,h,t,a);h=this.b(d,"Advance",this.ic(d.sl[0],d.sl[1],d.sl[2]),k,p,h,t,a);h=
this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Gridlines"];m+=1;h=this.b(d,"","Gridlines:",k,p,h,t,a);x=d.a.Ub?"On":"Off";d.a.Ub&&!d.a.ah()&&(x+=" (Hidden)");h=this.b(d,"Enabled",x,k,p,h,t,a);this.Ta(d,d.a.Ud>>16,d.a.Ud>>8&255,d.a.Ud&255,k,p+d.X[0]*r,h,t,a);h=this.b(d,"Line Color",this.ic(d.a.Ud>>16,d.a.Ud>>8&255,d.a.Ud&255),k,p,h,t,a);this.Ta(d,d.a.gg>>16,d.a.gg>>8&255,d.a.gg&255,k,p+d.X[0]*r,h,t,a);h=this.b(d,"Major Color",this.ic(d.a.gg>>16,d.a.gg>>8&255,d.a.gg&255),k,p,h,t,a);x=0<d.a.vf&&d.a.pk?String(d.a.vf):
"Off";h=this.b(d,"Interval",x,k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Graph"];m+=1;h=this.b(d,"","Population Graph:",k,p,h,t,a);h=this.b(d,"Enabled",d.Rc?"On":"Off",k,p,h,t,a);h=this.b(d,"Disabled",d.Ec?"On":"Off",k,p,h,t,a);h=this.b(d,"Mode",d.Lg?"Lines":"Points",k,p,h,t,a);h=this.b(d,"Opacity",d.qd.toFixed(2),k,p,h,t,a);this.Ta(d,d.a.Fi[0],d.a.Fi[1],d.a.Fi[2],k,p+d.X[0]*r,h,t,a);h=this.b(d,"Bg Color",this.ic(d.a.Fi[0],d.a.Fi[1],d.a.Fi[2]),k,p,h,t,a);this.Ta(d,d.a.Ei[0],d.a.Ei[1],d.a.Ei[2],
k,p+d.X[0]*r,h,t,a);h=this.b(d,"Axis Color",this.ic(d.a.Ei[0],d.a.Ei[1],d.a.Ei[2]),k,p,h,t,a);this.Ta(d,d.a.Di[0],d.a.Di[1],d.a.Di[2],k,p+d.X[0]*r,h,t,a);h=this.b(d,"Alive Color",this.ic(d.a.Di[0],d.a.Di[1],d.a.Di[2]),k,p,h,t,a);this.Ta(d,d.a.Gi[0],d.a.Gi[1],d.a.Gi[2],k,p+d.X[0]*r,h,t,a);h=this.b(d,"Birth Color",this.ic(d.a.Gi[0],d.a.Gi[1],d.a.Gi[2]),k,p,h,t,a);this.Ta(d,d.a.Hi[0],d.a.Hi[1],d.a.Hi[2],k,p+d.X[0]*r,h,t,a);h=this.b(d,"Death Color",this.ic(d.a.Hi[0],d.a.Hi[1],d.a.Hi[2]),k,p,h,t,a);h=
this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Randomize"];m+=1;h=this.b(d,"","Randomize:",k,p,h,t,a);h=this.b(d,"Custom Seed",d.vz?"On":"Off",k,p,h,t,a);h=this.b(d,"Seed",d.xu,k,p,h,t,a);h=this.b(d,"Width",d.zu,k,p,h,t,a);h=this.b(d,"Height",d.uu,k,p,h,t,a);h=this.b(d,"Fill",d.tu+"%",k,p,h,t,a);h=this.b(d,"Rule Fixed",d.tr?"Yes":"No",k,p,h,t,a);if(!d.tr)if(d.a.ia||d.a.D)h=this.b(d,"Reversible",d.vu?"Only":"Any",k,p,h,t,a),h=this.b(d,"FixedPop",d.yu?"Yes":"No",k,p,h,t,a);else if(!d.a.ya&&-1===d.a.Nd){if(-1===
d.Ck&&-1===d.hm){h=this.b(d,"Chance ALL"+(-1===d.Bk?"*":""),-1===d.Bk?"50%":d.Bk+"%",k,p,h,t,a);u=!1;for(e=0;e<d.ph.length;e+=2)0===d.ph[e]&&(u=!0);u||(h=this.b(d,"Chance B0*","25%",k,p,h,t,a))}else h=this.b(d,"Chance B"+(-1===d.Ck?"*":""),-1===d.Ck?"50%":d.Ck+"%",k,p,h,t,a),h=this.b(d,"Chance S"+(-1===d.hm?"*":""),-1===d.hm?"50%":d.hm+"%",k,p,h,t,a);for(e=0;e<d.ph.length;e+=2)h=this.b(d,"Chance B"+d.ph[e],d.ph[e+1]+"%",k,p,h,t,a);for(e=0;e<d.Pi.length;e+=2)h=this.b(d,"Chance S"+d.Pi[e],d.Pi[e+1]+
"%",k,p,h,t,a)}h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Stars"];m+=1;h=this.b(d,"","Stars:",k,p,h,t,a);h=this.b(d,"Enabled",d.bi?"On":"Off",k,p,h,t,a);this.Ta(d,d.Nk.red,d.Nk.green,d.Nk.blue,k,p+d.X[0]*r,h,t,a);h=this.b(d,"Color",this.Qf(d.Nk),k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[m]=[d.V,"Script"];m+=1;h=this.b(d,"","Script:",k,p,h,t,a);h=this.b(d,"Commands",d.sn,k,p,h,t,a);h=this.b(d,"Errors",d.zy,k,p,h,t,a);if(d.Wc)for(h=this.b(d,"","",k,p,h,t,a),d.ba[m]=[d.V,"Waypoints"],m+=1,h=this.b(d,
"","Waypoints:",k,p,h,t,a),h=this.b(d,"Enabled",d.Je?"Off":"On",k,p,h,t,a),h=this.b(d,"Number",d.S.Ka.length,k,p,h,t,a),e=0;e<d.S.Ka.length;e+=1)x=String(e),e===d.S.Ok&&(x=d.S.IB(d.elapsedTime)?x+">":x+"*"),h=this.b(d,x,d.S.AL(e),k,p,h,t,a);if(d.S.nc.length)for(h=this.b(d,"","",k,p,h,t,a),d.ba[m]=[d.V,"POIs"],h=this.b(d,"","Points of interest:",k,p,h,t,a),h=this.b(d,"Number",d.S.nc.length,k,p,h,t,a),e=0;e<d.S.nc.length;e+=1)x=String(e+1),e===d.wg&&(x+="*"),e===d.Rm&&(x+=" INITIAL"),u=!1,m=d.S.oJ(e),
""!==m&&(h=this.b(d,u?" ":x,(u?"  ":"")+m,k,p,h,t,a),u=!0),m=d.S.sJ(e),""!==m&&(h=this.b(d,u?" ":x,(u?"  ":"")+m,k,p,h,t,a),u=!0),m=d.S.pJ(e),""!==m&&(h=this.b(d,u?" ":x,(u?"  ":"")+m,k,p,h,t,a),u=!0),m=d.S.nE(e),""!==m&&(h=this.b(d,u?" ":x,(u?"  ":"")+m,k,p,h,t,a),u=!0),m=d.S.rJ(e),""!==m&&(h=this.b(d,u?" ":x,(u?"  ":"")+m,k,p,h,t,a),u=!0),m=d.S.qJ(e),""!==m&&(h=this.b(d,u?" ":x,(u?"  ":"")+m,k,p,h,t,a))},WJ:function(d,k,p,h,t,a){var e,c=0,g=d.i.ff;d.V=1;d.tg=!1;d.ba=[];d.X[0]=130;d.X[1]=200;d.X[2]=
250;d.X[3]=300;d.ba[c]=[d.V,"Top"];c+=1;h=this.b(d,"","Themes",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);h=this.b(d,"","Themes are used to provide a visual representation of",k,p,h,t,a);h=this.b(d,"","cell history and longevity and also define grid colours",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Grid"];c+=1;h=this.b(d,"","Grid:",k,p,h,t,a);h=this.b(d,"GRID","grid line colour",k,p,h,t,a);h=this.b(d,"GRIDMAJOR","major grid line colour and interval",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);
d.ba[c]=[d.V,"2-State"];c+=1;h=this.b(d,"","Two-state Themes:",k,p,h,t,a);h=this.b(d,"BACKGROUND","cell never occupied",k,p,h,t,a);h=this.b(d,"ALIVE","cell just born",k,p,h,t,a);h=this.b(d,"ALIVERAMP","cell alive for several generations",k,p,h,t,a);h=this.b(d,"DEAD","cell just died",k,p,h,t,a);h=this.b(d,"DEADRAMP","cell dead for several generations",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);h=this.b(d,"",LifeConstants.ee-LifeConstants.sb+1+" states from ALIVE to ALIVERAMP",k,p,h,t,a);h=this.b(d,"",
d.J+" (HISTORYSTATES) states from DEAD to DEADRAMP",k,p,h,t,a);for(e=0;e<d.a.bb.length-1;e+=1){h=this.b(d,"","",k,p,h,t,a);var n=d.a.bb[e];h=this.b(d,"Name"+(e===d.a.pf&&2>=d.a.h?"*":""),n.name,k,p,h,t,a);this.Ta(d,n.Xa.red,n.Xa.green,n.Xa.blue,k,p+d.X[0]*g,h,t,a);h=this.b(d,"BACKGROUND",this.Qf(n.Xa),k,p,h,t,a);this.Ta(d,n.kb.T.red,n.kb.T.green,n.kb.T.blue,k,p+d.X[0]*g,h,t,a);h=this.b(d,"ALIVE",this.Qf(n.kb.T),k,p,h,t,a);if(n.kb.T.red!==n.kb.U.red||n.kb.T.green!==n.kb.U.green||n.kb.T.blue!==n.kb.U.blue)this.Ta(d,
n.kb.U.red,n.kb.U.green,n.kb.U.blue,k,p+d.X[0]*g,h,t,a),h=this.b(d,"ALIVERAMP",this.Qf(n.kb.U),k,p,h,t,a);this.Ta(d,n.Za.U.red,n.Za.U.green,n.Za.U.blue,k,p+d.X[0]*g,h,t,a);h=this.b(d,"DEAD",this.Qf(n.Za.U),k,p,h,t,a);if(n.Za.T.red!==n.Za.U.red||n.Za.T.green!==n.Za.U.green||n.Za.T.blue!==n.Za.U.blue)this.Ta(d,n.Za.T.red,n.Za.T.green,n.Za.T.blue,k,p+d.X[0]*g,h,t,a),h=this.b(d,"DEADRAMP",this.Qf(n.Za.T),k,p,h,t,a);n.nk&&(this.Ta(d,n.eh>>16,n.eh>>8&255,n.eh&255,k,p+d.X[0]*g,h,t,a),h=this.b(d,"GRID",this.ic(n.eh>>
16,n.eh>>8&255,n.eh&255),k,p,h,t,a),this.Ta(d,n.fh>>16,n.fh>>8&255,n.fh&255,k,p+d.X[0]*g,h,t,a),h=this.b(d,"GRIDMAJOR",this.ic(n.fh>>16,n.fh>>8&255,n.fh&255),k,p,h,t,a),h=this.b(d,"GRIDMAJOR",n.dn,k,p,h,t,a))}h=this.b(d,"","",k,p,h,t,a);d.ba[c]=[d.V,"Multi"];h=this.b(d,"","Multi-state Themes:",k,p,h,t,a);h=this.b(d,"BACKGROUND","cell never occupied",k,p,h,t,a);h=this.b(d,"ALIVE","cell alive",k,p,h,t,a);h=this.b(d,"DYING","cell just starting dying",k,p,h,t,a);h=this.b(d,"DYINGRAMP","cell about to die",
k,p,h,t,a);h=this.b(d,"DEAD","cell just died",k,p,h,t,a);h=this.b(d,"DEADRAMP","cell dead for several generations",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);h=this.b(d,"","Rule defines "+(2>d.a.h?"":String(d.a.h-1)+" ")+"states from DYING to DYINGRAMP",k,p,h,t,a);h=this.b(d,"",d.J+" (HISTORYSTATES) states from DEAD to DEADRAMP",k,p,h,t,a);for(e=0;e<d.a.bb.length-1;e+=1){h=this.b(d,"","",k,p,h,t,a);n=d.a.bb[e];h=this.b(d,"Name"+(e===d.a.pf&&2<d.a.h?"*":""),n.name,k,p,h,t,a);this.Ta(d,n.hi.red,n.hi.green,
n.hi.blue,k,p+d.X[0]*g,h,t,a);h=this.b(d,"BACKGROUND",this.Qf(n.hi),k,p,h,t,a);this.Ta(d,n.Yf.red,n.Yf.green,n.Yf.blue,k,p+d.X[0]*g,h,t,a);h=this.b(d,"ALIVE",this.Qf(n.Yf),k,p,h,t,a);this.Ta(d,n.Ob.U.red,n.Ob.U.green,n.Ob.U.blue,k,p+d.X[0]*g,h,t,a);h=this.b(d,"DYING",this.Qf(n.Ob.U),k,p,h,t,a);if(n.Ob.T.red!==n.Ob.U.red||n.Ob.T.green!==n.Ob.U.green||n.Ob.T.blue!==n.Ob.U.blue)this.Ta(d,n.Ob.T.red,n.Ob.T.green,n.Ob.T.blue,k,p+d.X[0]*g,h,t,a),h=this.b(d,"DYINGRAMP",this.Qf(n.Ob.T),k,p,h,t,a);this.Ta(d,
n.xc.U.red,n.xc.U.green,n.xc.U.blue,k,p+d.X[0]*g,h,t,a);h=this.b(d,"DEAD",this.Qf(n.xc.U),k,p,h,t,a);if(n.xc.T.red!==n.xc.U.red||n.xc.T.green!==n.xc.U.green||n.xc.T.blue!==n.xc.U.blue)this.Ta(d,n.xc.T.red,n.xc.T.green,n.xc.T.blue,k,p+d.X[0]*g,h,t,a),h=this.b(d,"DEADRAMP",this.Qf(n.xc.T),k,p,h,t,a)}},OJ:function(d,k,p,h,t,a){var e,c=ColourManager.ze,g=Object.keys(c),n=d.i.ff;d.V=1;d.tg=!1;d.ba=[];d.X[0]=260;d.X[1]=330;d.X[2]=380;d.X[3]=d.C;d.ba[0]=[d.V,"Top"];h=this.b(d,"","Colours",k,p,h,t,a);h=this.b(d,
"","",k,p,h,t,a);h=this.b(d,"","The following names can be used in place of R G B",k,p,h,t,a);h=this.b(d,"","for example [[ COLOUR ALIVE Green ]]",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);for(e=0;e<g.length;e+=1){var m=c[g[e]];this.Ta(d,m[1],m[2],m[3],k,p+d.X[0]*n,h,t,a);h=this.b(d,m[0],this.ic(m[1],m[2],m[3]),k,p,h,t,a)}},MJ:function(d,k,p,h,t,a){var e,c=0,g=AliasManager.Ad,n=AliasManager.Sz;d.V=1;d.tg=!1;d.ba=[];d.X[0]=260;d.ba[c]=[d.V,"Top"];c+=1;h=this.b(d,"","Aliases",k,p,h,t,a);h=this.b(d,"",
"",k,p,h,t,a);h=this.b(d,"","Alias names can be used as rule names in RLE",k,p,h,t,a);h=this.b(d,"","for example 'rule = HighLife'",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);h=this.b(d,"","* denotes duplicate rule",k,p,h,t,a);d.tg=!0;for(e=0;e<g.length;e+=1)""===g[e][1]?(h=this.b(d,"","",k,p,h,t,a),d.ba[c]=[d.V,n[c-1]],c+=1,h=this.b(d,"",g[e][0]+" Aliases:",k,p,h,t,a)):""!==g[e][0]&&(h=this.b(d,g[e][0]+(g[e][2]?"*":""),g[e][1],k,p,h,t,a))},UJ:function(d,k,p,h,t,a){var e,c=0,g=Controller.Md.length,n=
0,m=0,r=0,u=0,x;d.V=1;d.tg=!1;d.ba=[];d.X[0]=128;d.X[1]=200;d.X[2]=290;d.X[3]=530;d.ba[c]=[d.V,"Top"];c+=1;h=this.b(d,"","Memory usage",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a);if(1<g){d.ba[c]=[d.V,"All"];c+=1;h=this.b(d,"","Memory (all "+g+" LifeViewers):",k,p,h,t,a);for(e=0;e<g;e+=1)if(x=Controller.hI(e))n+=x.a.m.Rq,r+=x.a.m.Qn>>10,m+=x.a.m.Tq,u+=x.a.m.Rn>>10;h=this.b(d,"In Use",n-m+"\t"+((r>>10)-(u>>10))+"M",k,p,h,t,a);h=this.b(d,"Allocations",n+"\t"+(r>>10)+"M",k,p,h,t,a);h=this.b(d,"Frees",m+"\t"+
(u>>10)+"M",k,p,h,t,a);h=this.b(d,"","",k,p,h,t,a)}d.ba[c]=[d.V,"Current"];h=this.b(d,"","Memory (this LifeViewer):",k,p,h,t,a);h=this.b(d,"In Use",d.a.m.Rq-d.a.m.Tq+"\t"+this.ow(d.a.m.Qn-d.a.m.Rn)+"M\t"+(d.a.m.Qn-d.a.m.Rn),k,p,h,t,a);h=this.b(d,"Allocations",d.a.m.Rq+"\t"+this.ow(d.a.m.Qn)+"M\t"+d.a.m.Qn,k,p,h,t,a);h=this.b(d,"Frees",d.a.m.Tq+"\t"+this.ow(d.a.m.Rn)+"M\t"+d.a.m.Rn,k,p,h,t,a);h=this.b(d,this.ND("Bytes",10),"Type\tElements\tName\tCount",k,p,h,t,a);for(e=0;e<d.a.m.Zg.length;e+=1)h=this.b(d,
this.ND(String(d.a.m.Zg[e].size),10),d.a.m.xG(e),k,p,h,t,a);this.b(d,"","",k,p,h,t,a)},gx:function(d){var k=d.uc,p=d.i.ff,h=d.i.zh,t=19*h;d.dd=(d.B/t|0)-6;k.fillStyle="black";k.globalAlpha=.5;k.fillRect(0,0,k.canvas.width,k.canvas.height);k.globalAlpha=1;k.fillStyle=ViewConstants.kq;this.Yz=-2;this.BE(d,k,6*p,14*h,t,d.ha|0);k.fillStyle=ViewConstants.so;this.Yz=0;this.BE(d,k,4*p,12*h,t,d.ha|0)},PJ:function(d,k,p,h,t,a,e,c,g,n){var m=c,r=d.i.ff,u=0,x=!1,y=d.V;a.fillStyle===ViewConstants.kq&&(x=!0);
y>=n&&y<=n+d.dd&&(a.font=d.ro,x||(a.fillStyle=1<(d.Yb|0)?d.Ci:ViewConstants.jt),a.fillText(k,e,c),x||(a.fillStyle=d.Ci),a.fillText(p,e+a.measureText(k).width,c),x||(a.fillStyle=(d.Yb|0)<d.fd.length-d.dd+1?d.Ci:ViewConstants.jt),a.fillText(h,e+a.measureText(k+p).width,c),d.X[0]&&(u=d.X[0]*r),x||(a.fillStyle=d.Ci),a.font=d.Il,a.fillText(t,e+u,c),m+=g);return m},Eu:function(d,k,p,h,t,a,e,c){var g=a,n=d.i.ff,m=0,r=d.V;r>=c&&r<=c+d.dd&&(k.length&&(h.font=d.ro,h.fillText(k,t,a),m=h.measureText(k+" ").width),
d.X[0]&&(m=d.X[0]*n),h.font=d.Il,h.fillText(p,t+m,a),g+=e);d.V+=1;return g},AE:function(d,k,p,h,t,a){var e,c=d.fd,g=h;d.V=1;d.X[0]=0;k.font=d.Il;h=this.Eu(d,"",ViewConstants.xK,k,p,h,t,a);for(e=0;e<c.length;e+=1)h=this.Eu(d,c[e][0],c[e][1],k,p,h,t,a);d.hb||(d.X[0]=120,d.V=1,h=g+t*(d.dd+2),h=this.PJ(d,"Up"," / ","Down","scroll errors",k,p,h,t,0),h=this.Eu(d,"Esc","clear messages",k,p,h,t,0),this.Eu(d,"H  ","help on script commands",k,p,h,t,0))},fx:function(d){var k=d.uc,p=d.i.ff,h=d.i.zh,t=19*h,a=
7;d.hb&&(a=1);d.dd=(d.B/t|0)-a;k.fillStyle="black";k.globalAlpha=.5;k.fillRect(0,0,k.canvas.width,k.canvas.height);k.globalAlpha=1;k.fillStyle=ViewConstants.kq;this.AE(d,k,6*p,14*h,t,d.Yb|0);k.fillStyle=d.Ci;this.AE(d,k,4*p,12*h,t,d.Yb|0)}}}(),window.Keywords={rd:'"',En:"[[",gp:"]]",yE:"QUALITY",fF:"TIME",kA:"SUPPRESS",hu:"POIT",ac:"INITIAL",Mb:"OFF",gA:"STATE1FIT",kr:"POIRESET",Uo:"POIPLAY",Vo:"POISTOP",lr:"POITRANS",wx:"HARDRESET",Ur:"TRACK",Tn:"TRACKBOX",Tr:"TRACKLOOP",uy:"NOREPORT",it:"GRAPH",
Zt:"NOGRAPH",tx:"GRAPHOPACITY",ux:"GRAPHPOINTS",ty:"NOPERFWARNING",Cx:"AUTOHIDEGUI",Zf:"ALL",gh:"LINEAR",wi:"BEZIER",GL:"HEXDISPLAY",OL:"SQUAREDISPLAY",yx:"HEXCELLS",cA:"SQUARECELLS",LB:"CELLBORDERS",RC:"INTEGERZOOM",wz:"RANDSEED",yz:"RANDWIDTH",rz:"RANDHEIGHT",qz:"RANDFILL",uz:"RANDREVERSIBLE",xz:"RANDFIXEDPOP",ru:"RANDCHANCE",qu:"B",wu:"S",$w:"DELETERANGE",aA:"SHOWTIMING",nx:"EXTENDEDTIMING",Zz:"SHOWGENSTATS",$z:"SHOWINFOBAR",wy:"NOSOURCE",iu:"POI",qp:"TITLE",tE:"POLY",ju:"POLYFILL",iz:"POLYLINE",
gz:"POLYALPHA",jz:"POLYSIZE",kz:"POLYT",hz:"POLYANGLE",lz:"POLYTARGET",sE:"POLYTRACK",zp:"ARROW",iw:"ARROWALPHA",kw:"ARROWSIZE",lw:"ARROWT",jw:"ARROWANGLE",mw:"ARROWTARGET",nw:"ARROWTRACK",Eq:"LABEL",Sx:"LABELALPHA",Ux:"LABELSIZE",Vx:"LABELT",Tx:"LABELANGLE",Wx:"LABELTARGET",Xx:"LABELTRACK",je:"FIXED",fy:"MAXGRIDSIZE",Gr:"STARS",pp:"CUSTOM",mv:"XOFFSET",ov:"YOFFSET",Zu:"BACKGROUND",Yu:"ALIVE",qA:"ALIVERAMP",av:"DEAD",$u:"DEADRAMP",sA:"DYING",rA:"DYINGRAMP",lF:"UIFOREGROUND",TL:"UIFOREGROUNDA",jF:"UIBACKGROUND",
RL:"UIBACKGROUNDA",mF:"UIHIGHLIGHT",UL:"UIHIGHTLIGHTA",pF:"UISELECT",WL:"UISELECTA",nF:"UILOCKED",VL:"UILOCKEDA",kF:"UIBORDER",SL:"UIBORDERA",MB:"BOUNDARY",OB:"BOUNDED",VE:"SELECT",AB:"ADVANCE",ss:"AUTOFIT",Dx:"HISTORYFIT",ut:"HISTORYSTATES",Ln:"STEP",sy:"NOSTEPBACK",Ir:"T",bz:"PAUSE",hq:"GRID",gq:"GRIDMAJOR",oA:"TEXT",mx:"ERROR",KD:"OFF",LD:"ON",NC:"HISTORY",dD:"MARK1",hD:"MARKOFF",fD:"MARK2",VC:"KILL",DC:"GRAPHBG",CC:"GRAPHAXIS",BC:"GRAPHALIVE",EC:"GRAPHBIRTH",FC:"GRAPHDEATH",Da:"COLOR",Ew:"COLOUR",
cs:"VIEWONLY",ry:"NOGUI",qy:"NOCOPY",AA:"THUMBNAIL",xA:"THUMBSIZE",vA:"THUMBLAUNCH",Qk:"THEME",us:"AUTOSTART",Ii:"LOOP",Yi:"STOP",il:"ANGLE",mn:"LAYERS",Tm:"DEPTH",cn:"GPS",Od:"ZOOM",gw:"Z",gf:"X",hf:"Y",up:"WIDTH",qo:"HEIGHT",nr:"POPUPWIDTH",mr:"POPUPHEIGHT",zA:"THUMBZOOM",xy:"NOTHROTTLE",Gz:"REVERSESTART",Rx:"KILLGLIDERS",$o:"RECIPE",Cn:"RLE",Po:"PASTE",ar:"PASTET",Cy:"PASTEDELTA",$p:"EVERY",Ty:"PASTEMODE",Zy:"ZERO",Ky:"AND",Fy:"0010",Vy:"X",Gy:"DIFF",Yy:"Y",Xy:"XOR",Sy:"OR",Oy:"NOR",Uy:"XNOR",
Qy:"NOTY",Hy:"1011",Py:"NOTX",Iy:"1101",Ny:"NAND",Ry:"ONE",My:"COPY",PA:"IDENTITY",MA:"FLIP",NA:"FLIPX",OA:"FLIPY",SA:"SWAPXY",TA:"SWAPXYFLIP",RA:"RCW",QA:"RCCW",Vf:"#"},function(){window.KeyProcessor={DJ:function(d,k,p){var h=!0;if(p.ctrlKey&&82===k)return!0;switch(k){case 13:d.Rj===d.Nn&&d.$B(d,!0);break;case 84:d.Yn([!d.s.Mk],!0,d);break;default:h=!1}return h},FJ:function(d,k,p){var h=!0;if(p.ctrlKey||p.metaKey||p.altKey)k=-1;switch(k){case 84:d.Yn([!d.s.Mk],!0,d);break;case 27:case 117:d.Gx(d);
break;default:h=!1}return h},EJ:function(d,k,p){var h=!0;if(p.ctrlKey||p.metaKey||p.altKey)k=-1;switch(k){case 84:d.Yn([!d.s.Mk],!0,d);break;default:h=!1}return h},CJ:function(d,k,p){var h=!0,t=0;if(d.Ic)!d.Yt&&85===k&&p.shiftKey&&(d.Ic=!d.Ic,d.i.c=d.Ic,d.s.Ic=d.Ic);else{p.ctrlKey&&!p.altKey&&37<=k&&40>=k&&(37===k?k=33:38===k?k=36:39===k?k=34:40===k&&(k=35));if(p.altKey&&!p.ctrlKey){if(48<=k&&57>=k)t=k-48,d.Tf||0===d.S.nc.length?d.ag===t?d.ad?d.az(d):d.jE(d):(d.Ip.current=d.yF(t,!0,d),d.ad?d.az(d,
t):d.s.notification.L("Clipboard "+t+" active",80,!0)):(--t,0<=t&&t<d.S.nc.length&&(d.wg=t,d.Vz(d,d.wg)));else switch(k){case 37:d.$l(d,-1,0);break;case 38:d.$l(d,0,-1);break;case 39:d.$l(d,1,0);break;case 40:d.$l(d,0,1);break;case 46:d.Aw(d,!0,!0);d.s.notification.L("Cleared [R]History marked cells",120,!0);break;case 65:d.Gm.current=d.cB([!d.oj],!0,d);d.s.notification.L("Auto-Shrink Selection "+(d.oj?"On":"Off"),40,!0);break;case 66:d.Dp.current=d.xF([!d.a.nd],!0,d);break;case 67:d.cd||!d.fi||d.fi.locked||
(d.mm(d.Zs,d.a.ql,d),d.a.$a||d.Oj||d.s.notification.L(d.bv(d.a.pf)+" Theme",40,!0));break;case 68:d.a.ia&&(d.Em.current=d.vF([!d.a.gl],!0,d),d.s.notification.L("Alternating Gridlines "+(d.a.gl?"On":"Off"),40,!0));break;case 71:d.a.xi=!d.a.xi;d.s.notification.L("Kill Gliders "+(d.a.xi?"On":"Off"),40,!0);break;case 72:d.a.pb&&(d.a.If=!0,d.a.yg=!0,d.s.notification.L("[R]History Display "+(d.a.If?"On":"Off"),40,!0));break;case 74:d.a.pb&&(d.a.If=!1,d.a.yg=!1,d.s.notification.L("[R]History Display "+(d.a.If?
"On":"Off"),40,!0));break;case 75:d.td.current!==ViewConstants.Tl&&(d.td.current=d.Yj(ViewConstants.Tl,!0,d));d.jr=!0;d.mh.current=d.Tj([!0],!0,d);break;case 76:0<d.S.Ho()&&(d.Nl.current=d.DF([!d.ai],!0,d),d.s.notification.L("Annotations "+(d.ai?"On":"Off"),40,!0));break;case 78:d.FD(d);break;case 79:d.Te&&(d.$f=!d.$f,d.Hm.current=[d.$f],d.s.notification.L("AutoStart "+(d.$f?"Off":"On"),40,!0));break;case 80:-1!==d.Rb&&(d.Ie=!d.Ie,d.vm.current=[d.Ie],d.s.notification.L("Stop "+(d.Ie?"Off":"On"),40,
!0));break;case 82:d.SB(d);break;case 83:d.eo.current=d.dB([!d.wj],!0,d);d.s.notification.L("Sync Clipboard "+(d.wj?"On":"Off"),40,!0);break;case 84:d.ym.current=d.DA([!d.nl],!0,d);d.s.notification.L("Throttling "+(d.nl?"On":"Off"),40,!0);break;case 88:d.vC(d);break;case 89:d.wC(d);break;case 90:d.Yo.locked||d.sz(d,!1)}k=-2}switch(k){case 191:case 111:d.a.R&&(d.Jl.current=d.AF([!d.a.te],!0,d),d.s.notification.L("Hex display uses "+(d.a.te?"Hexagons":"Squares"),40,!0));break;case 8:d.Ha||(d.Db.current=
d.Yd(ViewConstants.Go,!0,d));break;case 66:if(!d.Ha&&!d.Db.Ag[1]){if(d.a.ia||d.a.D)t=d.Ca,d.Ca=1;d.Db.current=d.Yd(ViewConstants.Go,!0,d);if(d.a.ia||d.a.D)d.Ca=t}break;case 13:d.ad||d.ie?d.iJ(d):d.Ha||(d.Db.current===ViewConstants.wk?d.Db.current=d.Yd(ViewConstants.wk,!0,d):d.he&&d.s.bd||(d.Db.current=d.Yd(ViewConstants.wk,!0,d)));break;case 9:d.Ha||(d.Ua?d.Db.current=d.Yd(ViewConstants.Ze,!0,d):p.shiftKey?(d.a.ia||d.a.D)&&null!==d.a.yc?d.Db.current=d.Yd(ViewConstants.Go,!0,d):0<d.a.v&&(d.xr(d.a.v-
d.Ca),d.Xz(d.a.v-d.Ca+1)):(d.Yh=!0,d.wb("")));break;case 32:d.Ha||(d.Ua?d.Db.current=d.Yd(ViewConstants.Ze,!0,d):p.ctrlKey||p.shiftKey?d.UH(d,p.shiftKey):(d.Yh=!0,d.bA=!0,d.wb("")));break;case 87:p.shiftKey?(d.om.current=d.BA([!d.Oi],!0,d),d.s.notification.L("Performance Warning "+(d.Oi?"On":"Off"),40,!0)):d.yd?d.Yg.current=d.EA([d.df],!0,d):d.Wc&&(d.Yg.current=d.EA([d.Je],!0,d));break;case 69:!d.Kd.locked&&d.Ca<ViewConstants.kg&&(d.Ca=p.shiftKey?ViewConstants.kg:d.Ca+1,d.Kd.current=d.Dm([d.Ca,d.Ca],
!0,d));break;case 68:!d.Kd.locked&&d.Ca>ViewConstants.on&&(p.shiftKey?d.Ca=ViewConstants.on:--d.Ca,d.Kd.current=d.Dm([d.Ca,d.Ca],!0,d));break;case 90:p.ctrlKey?(p.altKey&&(d.Yo.locked||d.sz(d,!0)),p.shiftKey?d.Bz(d):d.Wj.locked||d.WA(d)):p.shiftKey?(t=Controller.WK(),0===t?d.s.notification.L("No LifeViewers playing",100,!0):1<t&&d.s.notification.L("Paused all LifeViewers",100,!0)):(t=Controller.XK(d),0<t&&(1<t?d.s.notification.L("Paused "+t+" other LifeViewers",100,!0):d.s.notification.L("Paused "+
t+" other LifeViewer",100,!0)));break;case 88:p.ctrlKey?d.xE(d,p.shiftKey,p.altKey):p.shiftKey?(d.Cj.current=d.EF([!d.a.pk],!0,d),0<d.a.vf&&(d.s.notification.L("Major Grid Lines "+(d.a.pk?"On":"Off"),40,!0),d.VB())):(d.a.Ub=!d.a.Ub,d.Qh.current=d.rp([d.a.Ub],!0,d),d.s.notification.L("Grid Lines "+(d.a.Ub?"On":"Off"),40,!0));break;case 89:p.ctrlKey?d.Bz(d):d.Ec?d.s.notification.L("Graph Disabled",40,!0):p.shiftKey?(d.Lg=!d.Lg,d.Eo.current=d.hF([d.Lg],!0,d),d.s.notification.L("Graph "+(d.Lg?"Lines":
"Points"),40,!0)):(d.Rc=!d.Rc,d.Fl.current=d.eB([d.Rc],!0,d),d.s.notification.L("Population Graph "+(d.Rc?"On":"Off"),40,!0));break;case 75:p.ctrlKey?p.altKey?(d.Aw(d,!1,!1),t=d.cg,2<d.a.h&&!d.a.D&&!d.a.Y&&0<t&&(t=d.a.h-t),d.a.Y?d.s.notification.L("Cleared state "+t+" cells",120,!0):d.s.notification.L("Cleared "+d.sx(t)+" cells",120,!0)):d.Du(d):p.shiftKey?(d.aC(d,!0),d.s.notification.L("Copied view to clipboard",180,!0)):(d.aC(d,!1),d.s.notification.L("Copied position to clipboard",180,!0));break;
case 80:p.shiftKey?-1!==d.Va&&(d.Gc=!d.Gc,d.Pl.current=[d.Gc],d.s.notification.L("Loop "+(d.Gc?"Off":"On"),40,!0)):d.cd||d.Yc.locked||(d.Yc.current=.99>=d.Yc.current[0]?d.Uk([d.Yc.current[0]+.01,d.Yc.current[1]],!0,d):d.Uk([1,d.Yc.current[1]],!0,d));break;case 76:p.shiftKey?d.qH(d):d.cd||d.Yc.locked||(d.Yc.current=.01<=d.Yc.current[0]?d.Uk([d.Yc.current[0]-.01,d.Yc.current[1]],!0,d):d.Uk([0,d.Yc.current[1]],!0,d));break;case 81:p.ctrlKey?(d.sr.current=d.FF([!d.a.Ng],!0,d),d.s.notification.L((d.a.Ng?
"High":"Standard")+" Quality Rendering",80,!0)):!d.cd&&!d.Wd.locked&&d.Wd.current[0]<ViewConstants.Ot&&(d.Wd.current=d.bs([d.a.M+1,d.Wd.current[1]],!0,d));break;case 65:p.shiftKey?d.tb&&d.ts(d):p.ctrlKey?d.SE(d):!d.cd&&!d.Wd.locked&&d.Wd.current[0]>ViewConstants.Ut&&(d.Wd.current=d.bs([d.a.M-1,d.Wd.current[1]],!0,d));break;case 82:p.shiftKey?Controller.ZJ():d.Db.current=d.Yd(ViewConstants.oy,!0,d);break;case 83:p.ctrlKey?(d.Nz(d),d.s.notification.L("Saved",120,!0)):p.shiftKey?d.a.pb&&(d.di=!d.di,
d.s.notification.L("AutoFit State 1 Mode "+(d.di?"On":"Off"),40,!0)):(d.lp.current=d.IF([!d.bi],!0,d),d.s.notification.L("Stars "+(d.bi?"On":"Off"),40,!0));break;case 78:d.Rk&&(d.hb?d.lA():(d.mA(),d.ha&&(d.ha=0)));break;case 86:p.ctrlKey?d.ou(d,p.shiftKey):p.shiftKey?(d.QE(d),d.s.notification.L("Saved camera position",100,!0)):d.Cd||(d.dK(d),d.s.notification.L("Restored camera position",100,!0),d.Ua||(d.Dg=!0));break;case 221:d.Cd||(p.shiftKey?d.wp(d.Bc.current[0],Math.log(d.a.zoom*d.a.Jc*2/ViewConstants.bc)/
Math.log(ViewConstants.Hc/ViewConstants.bc)-d.Bc.current[0]):d.wp(d.Bc.current[0],.01));break;case 219:d.Cd||(p.shiftKey?d.wp(d.Bc.current[0],Math.log(d.a.zoom*d.a.Jc/2/ViewConstants.bc)/Math.log(ViewConstants.Hc/ViewConstants.bc)-d.Bc.current[0]):d.wp(d.Bc.current[0],-.01));break;case 53:case 101:p.ctrlKey?p.shiftKey?d.a.D||d.su(d,!0):d.Zi(5):p.shiftKey?d.su(d,!1):d.Bd.locked||(d.a.angle=0,d.Bd.current=[d.a.angle,d.a.angle]);break;case 49:case 97:p.ctrlKey?d.Zi(1):p.shiftKey?(d.Gh(d,d.a.zoom*d.a.Jc,
!0),d.s.notification.L("Integer Zoom",40,!0)):d.Gh(d,1,!1);break;case 50:case 98:p.ctrlKey?d.Zi(2):p.shiftKey?d.Gh(d,.5,!1):d.Gh(d,2,!1);break;case 51:case 99:p.ctrlKey?d.Zi(3):p.shiftKey?d.Gh(d,64,!1):d.Gh(d,32,!1);break;case 52:case 100:p.ctrlKey?d.Zi(4):p.shiftKey?d.Gh(d,.25,!1):d.Gh(d,4,!1);break;case 54:case 102:p.ctrlKey?d.Zi(6):p.shiftKey?d.Gh(d,.0625,!1):d.Gh(d,16,!1);break;case 55:p.ctrlKey?d.Zi(7):d.Ec?d.s.notification.L("Graph Disabled",40,!0):(0<d.qd&&(d.qd-=.05,0>d.qd&&(d.qd=0)),d.Ko.current=
d.iv([d.qd,d.qd],!1,d));break;case 56:case 104:p.ctrlKey?d.Zi(8):p.shiftKey?d.Gh(d,.125,!1):d.Gh(d,8,!1);break;case 57:p.ctrlKey?d.Zi(9):d.Ec?d.s.notification.L("Graph Disabled",40,!0):(1>d.qd&&(d.qd+=.05,1<d.qd&&(d.qd=1)),d.Ko.current=d.iv([d.qd,d.qd],!1,d));break;case 48:case 96:p.ctrlKey?d.Zi(0):(d.Ca=1,d.Kd.current=d.Dm([d.Ca,d.Ca],!0,d),d.Zb.current=d.Xj([1,d.Zb.current[1]],!0,d));break;case 189:case 109:p.ctrlKey&&189==k?h=!1:d.Ha||(d.Ca>ViewConstants.on?(p.shiftKey?d.Ca=ViewConstants.on:--d.Ca,
d.Kd.current=d.Dm([d.Ca,d.Ca],!0,d)):d.Zb&&(d.Zb.current=.01<=d.Zb.current[0]&&!p.shiftKey?d.Xj([d.Zb.current[0]-.01,d.Zb.current[1]],!0,d):d.Xj([0,d.Zb.current[1]],!0,d)));break;case 187:case 107:p.ctrlKey&&187==k?h=!1:!d.Ha&&d.Zb&&(.99>=d.Zb.current[0]&&!p.shiftKey?d.Zb.current=d.Xj([d.Zb.current[0]+.01,d.Zb.current[1]],!0,d):.99>=d.Zb.current[0]?d.Zb.current=d.Xj([1,d.Zb.current[1]],!0,d):(d.Zb.current=d.Xj([1,d.Zb.current[1]],!0,d),d.Ca<ViewConstants.kg&&(d.Ca=p.shiftKey?ViewConstants.kg:d.Ca+
1,d.Kd.current=d.Dm([d.Ca,d.Ca],!0,d))));break;case 188:p.shiftKey&&(d.tb||d.ad)?d.KE(d):d.Bd.locked||(t=d.Bd.current[0],t=p.shiftKey?t-90:t-1,0>t&&(t+=360),d.Bd.current=d.$r([t,t],!0,d));break;case 190:p.shiftKey&&(d.tb||d.ad)?d.LE(d):d.Bd.locked||(t=d.Bd.current[0],t=p.shiftKey?t+90:t+1,360<=t&&(t-=360),d.Bd.current=d.$r([t,t],!0,d));break;case 46:d.tb?p.shiftKey?d.WB(d):d.bx(d,p.ctrlKey):p.ctrlKey&&(t=d.Aw(d,p.ctrlKey,!1))&&d.s.notification.L("Cleared [R]History cells",120,!0);break;case 74:p.ctrlKey&&
p.shiftKey?h=!1:d.S.nc.length?d.Cd||(p.shiftKey?d.uE(d):d.GD(d)):d.s.notification.L("No POIs defined",80,!0);break;case 84:p.shiftKey?d.s.nm=!d.s.nm:d.no.current=d.Yn([!d.s.Mk],!0,d);break;case 85:p.shiftKey?!d.Yt&&(d.Ic=!d.Ic,d.i.c=d.Ic,d.s.Ic=d.Ic)&&(d.ha=0,d.Yb=0):(d.a.ia||d.a.D)&&d.a.yc&&d.ax(d);break;case 71:p.ctrlKey?(d.Dh=!d.Dh,d.$n.current=d.wF([d.Dh],!0,d),d.s.notification.L("Auto Grid Lines "+(d.Dh?"On":"Off"),40,!0)):d.Ha||(p.shiftKey?d.lk&&(d.ap.current=d.HF([!d.mk],!0,d),d.s.notification.L("Generation display "+
(d.mk?"Relative":"Absolute"),40,!0)):(d.jv([!d.Vg],!0,d),d.Xe&&(d.Xe.current=[d.Vg],d.s.uh=!0)));break;case 70:p.ctrlKey?d.tb&&(d.zg(!0,!0,ViewConstants.ht),d.s.notification.L("Fit Selection",80,!0)):p.shiftKey?d.vi.locked||(d.qc=!d.qc,d.vi.current=d.gF([d.qc],!0,d),d.s.notification.L("AutoFit "+(d.qc?"On":"Off"),40,!0)):d.jk.locked||(d.zg(!0,!0,ViewConstants.kk),d.s.notification.L("Fit Pattern",80,!0),d.Ua||(d.Dg=!0));break;case 79:p.ctrlKey?d.aD(d):d.Ar=p.shiftKey?2:1;break;case 37:p.shiftKey?d.Wl(d.a.zoom,
d.a.zoom):d.Wl(d.a.zoom,0);break;case 38:d.ha?d.Nu(d,1):d.Yb?d.Lu(d,1):p.shiftKey?d.Wl(-d.a.zoom,d.a.zoom):d.Wl(0,d.a.zoom);break;case 39:p.shiftKey?d.Wl(-d.a.zoom,-d.a.zoom):d.Wl(-d.a.zoom,0);break;case 40:d.ha?d.Mu(d,1):d.Yb?d.Ku(d,1):p.shiftKey?d.Wl(d.a.zoom,-d.a.zoom):d.Wl(0,-d.a.zoom);break;case 77:p.ctrlKey?(d.zg(!0,!0,ViewConstants.tC),d.s.notification.L("Center Pattern",80,!0)):p.shiftKey?d.rH(d):d.Pc&&!d.Pc.c&&(d.Pc.current[0]=!d.Pc.current[0],d.s.uh=!0);break;case 67:p.ctrlKey?d.wE(d,p.shiftKey,
p.altKey):d.cd||!d.fi||d.fi.locked||(p.shiftKey?(t=d.a.pf-1,0>t&&(d.Jh?t=d.a.af:t=d.a.af-1)):(t=d.a.pf+1,d.Jh?t>=d.a.af+1&&(t=0):t>=d.a.af&&(t=0)),d.mm(t,d.a.ql,d),d.a.$a||d.Oj||d.s.notification.L(d.bv(d.a.pf)+" Theme",40,!0));break;case 72:p.shiftKey?(d.to.current=d.BF([!d.Rh],!0,d),d.s.notification.L("AutoFit History Mode "+(d.Rh?"On":"Off"),40,!0)):(d.fd.length?d.ha=d.ha?0:1:d.ha?d.ha=0:d.hb||(d.ha=1),d.qk.current=d.sp([d.ha],!0,d),d.s.uh=!0);break;case 73:p.ctrlKey&&p.shiftKey?h=!1:p.ctrlKey?
d.SC(d):p.shiftKey?d.vo.current=d.CF([!d.$c],!0,d):(d.ha?d.Hl===ViewConstants.wq?d.ha=0:d.rh(ViewConstants.wq,d):d.hb||d.rh(ViewConstants.wq,d),d.qk.current=d.sp([d.ha],!0,d),d.s.uh=!0);break;case 27:d.ke?d.fd.length?(d.fd=[],d.Yb=0):d.ad||d.ie?d.xs(d):d.Gj?d.mh.current=d.Tj([!1],!0,d):d.Qi?d.Fx(d):hideViewer():d.ha?d.ha=0:d.fd.length?(d.fd=[],d.Yb=0):d.ad||d.ie?d.xs(d):d.Gj?d.mh.current=d.Tj([!1],!0,d):d.Qi?d.Fx(d):d.Ua&&(d.Db.current=d.Yd(ViewConstants.Ze,!0,d));d.qk.current=d.sp([d.ha],!0,d);d.s.uh=
!0;break;case 33:d.ha?p.shiftKey?d.zJ(d):d.Nu(d,d.dd):d.Yb?d.Lu(d,d.dd):DocConfig.Ia&&(--d.Vc,0>d.Vc&&(d.Vc=Controller.pe.length-1),d.ci(Controller.pe[d.Vc].pattern,!1));break;case 34:d.ha?p.shiftKey?d.aJ(d):d.Mu(d,d.dd):d.Yb?d.Ku(d,d.dd):DocConfig.Ia&&(d.Vc+=1,d.Vc>=Controller.pe.length&&(d.Vc=0),d.ci(Controller.pe[d.Vc].pattern,!1));break;case 36:d.ha?d.ha=1:d.Yb?d.Yb=1:DocConfig.Ia&&(d.Vc=0,d.ci(Controller.pe[d.Vc].pattern,!1));break;case 35:d.ha?d.ha=d.Io-d.dd:d.Yb?d.Yb=d.fd.length-d.dd:DocConfig.Ia&&
(d.Vc=Controller.pe.length-1,d.ci(Controller.pe[d.Vc].pattern,!1));break;case 112:d.Ha||(d.he=!d.he,d.td.current=d.Yj(d.he?ViewConstants.Tl:ViewConstants.Ul,!0,d),d.s.notification.L((d.he?"Draw":"Pan")+" Mode",40,!0));break;case 113:p.shiftKey?(d.jp.current=d.CA([!d.In],!0,d),d.s.notification.L("Smart Drawing "+(d.In?"On":"Off"),40,!0)):d.td.current=d.Yj(ViewConstants.Tl,!0,d);break;case 114:d.Ha||(d.td.current=d.Yj(ViewConstants.Tl,!0,d),d.Gj||(d.mh.current=d.Tj([!0],!0,d)));break;case 115:d.td.Ag[ViewConstants.Fo]||
(d.td.current=d.Yj(ViewConstants.Fo,!0,d));break;case 116:d.td.current=d.Yj(ViewConstants.Ul,!0,d);break;case 117:d.uo.locked||(p.ctrlKey&&(d.qq=!0),d.Gx(d));break;default:if(-1===k||116===k)h=!1}}return h}}}());
