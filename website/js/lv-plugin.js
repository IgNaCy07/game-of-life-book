var $a="function"==typeof Object.defineProperties?Object.defineProperty:function(d,m,l){d!=Array.prototype&&d!=Object.prototype&&(d[m]=l.value)},gb="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function hb(d,m){if(m){var l=gb;d=d.split(".");for(var a=0;a<d.length-1;a++){var k=d[a];k in l||(l[k]={});l=l[k]}d=d[d.length-1];a=l[d];m=m(a);m!=a&&null!=m&&$a(l,d,{configurable:!0,writable:!0,value:m})}}
hb("Array.prototype.fill",function(d){return d?d:function(m,l,a){var k=this.length||0;0>l&&(l=Math.max(0,k+l));if(null==a||a>k)a=k;a=Number(a);0>a&&(a=Math.max(0,k+a));for(l=Number(l||0);l<a;l++)this[l]=m;return this}});
hb("Array.prototype.copyWithin",function(d){function m(l){l=Number(l);return Infinity===l||-Infinity===l?l:l|0}return d?d:function(l,a,k){var c=this.length;l=m(l);a=m(a);k=void 0===k?c:m(k);l=0>l?Math.max(c+l,0):Math.min(l,c);a=0>a?Math.max(c+a,0):Math.min(a,c);k=0>k?Math.max(c+k,0):Math.min(k,c);if(l<a)for(;a<k;)a in this?this[l++]=this[a++]:(delete this[l++],a++);else for(k=Math.min(k,c+a-l),l+=k-a;k>a;)--k in this?this[--l]=this[k]:delete this[--l];return this}});
(function(){window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.AH||performance.BH||performance.EH||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);window.cancelRequestAnimationFrame||(window.cancelRequestAnimationFrame=
window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame);window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);var d=new Uint32Array(1);d[0]=4660;52===(new Uint8Array(d.buffer))[0]?window.littleEndian=!0:
window.littleEndian=!1;window.arrayFill=d.fill?!0:!1;window.copyWithin=d.copyWithin?!0:!1;window.registerEvent=function(m,l,a,k){m.addEventListener?m.addEventListener(l,a,k):m.attachEvent("on"+l,a)}})();(function(){function d(a,k,c){this.type=a;this.name=c;this.elements=k;this.size=k*l.Lm(a);this.rm=1}function m(){this.Uf=[];this.Dl=this.ko=this.Cl=this.io=0}var l={Hs:8,Is:40,Fs:9,Gs:10,zs:0,xs:1,ys:2,ss:18,ts:19,Lm:function(a){return 1<<(a&7)},QG:function(a){var k=(0!==(a&16)?"Float":0!==(a&8)?"Uint":"Int")+8*(1<<(a&7));0!==(a&32)&&(k+="Clamped");return k}};m.prototype.NB=function(a){var k="";0<=a&&a<this.Uf.length&&(a=this.Uf[a],k=l.QG(a.type)+"\t"+a.elements+"\t"+a.name+"\t"+a.rm);return k};m.prototype.g=
function(a,k,c){for(var f=0,e=!1,g;f<this.Uf.length&&!e;)g=this.Uf[f],c===g.name?(e=!0,this.ko+=1,this.Dl+=g.elements*l.Lm(g.type)):f+=1;e?(this.Uf[f].type=a,this.Uf[f].elements=k,this.Uf[f].rm+=1,this.Uf[f].size=k*l.Lm(a)):(f=this.Uf.length,this.Uf[f]=new d(a,k,c));this.io+=1;this.Cl+=k*l.Lm(a)};m.prototype.ow=function(a,k,c,f,e){a=a.buffer;f*=l.Lm(k);switch(k){case l.Hs:c=new Uint8Array(a,f,c);break;case l.Is:c=new Uint8Array(a,f,c);break;case l.Fs:c=new Uint16Array(a,f,c);break;case l.Gs:c=new Uint32Array(a,
f,c);break;case l.zs:c=new Int8Array(a,f,c);break;case l.xs:c=new Int16Array(a,f,c);break;case l.ys:c=new Int32Array(a,f,c);break;case l.ss:c=new Float32Array(a,f,c);break;case l.ts:c=new Float64Array(a,f,c);break;default:c=null,alert("Illegal type specified to allocator.typedView for "+e+": "+k)}return c};m.prototype.A=function(a,k,c){switch(a){case l.Hs:k=new Uint8Array(k);break;case l.Is:k=new Uint8Array(k);break;case l.Fs:k=new Uint16Array(k);break;case l.Gs:k=new Uint32Array(k);break;case l.zs:k=
new Int8Array(k);break;case l.xs:k=new Int16Array(k);break;case l.ys:k=new Int32Array(k);break;case l.ss:k=new Float32Array(k);break;case l.ts:k=new Float64Array(k);break;default:k=null,alert("Illegal type specified to allocator.typedMemory for "+c+": "+a)}return k};m.prototype.L=function(a,k,c){var f=null;0<k&&(f=this.A(a,k,c));(f||0===k)&&this.g(a,k,c);return f};m.prototype.MB=function(a,k,c,f){var e=null;0<k&&(e=this.A(a,k,c));(e||0===k)&&this.g(a,k*f,c);return e};Array.X=function(a,k,c,f,e,g){var p=
0,q=[];q.o=e;q.type=a;q.Fb=null;var r=e.L(a,k*c,g);q.Fb=r;if(0<c){for(;p<k;)q[p]=e.ow(r,a,c,p*c,g),p+=1;if(0!==f)if(arrayFill)r.fill(f);else for(p=0;p<r.length;)r[p]=f,p+=1}return q};Array.cn=function(a,k){k=a.o.MB(a.type,a[0].length,k,a.length+1);a[a.length]=k};Array.Xg=function(a,k){k.Fb.set(a.Fb)};Array.Xc=function(a,k,c){var f,e=k.length,g=[],p=k.o,q=k[0].length/l.Lm(a);for(f=0;f<e;f+=1)g[f]=p.ow(k.Fb,a,q,f*q,c);return g};Array.lu=function(a,k,c){var f,e=a.length,g=a.o,p=a.type,q=a[0].length;
for(f=0;f<e;f+=1)g.ow(a.Fb,p,q-k,f*q+k,c)};window.Allocator=m;window.Uint8=l.Hs;window.Uint8Clamped=l.Is;window.Uint16=l.Fs;window.Uint32=l.Gs;window.Int8=l.zs;window.Int16=l.xs;window.Int32=l.ys;window.Float32=l.ss;window.Float64=l.ts})();window.AliasManager={c:[],df:[],de:function(){var d,m;this.c=[];this.df=[];this.df.push("1D");this.c.push(["Wolfram",""]);this.c.push(["Brownian motion","W54"]);this.c.push(["Fishing-net","W110"]);this.c.push(["Heavy triangles","W22"]);this.c.push(["Linear A","W90"]);this.c.push(["Linear B","W150"]);this.c.push(["Pascal's Triangle","W18"]);this.c.push(["Randomizer 1","W30"]);this.c.push(["Randomizer 2","W45"]);this.c.push(["Wolfram 22","W22"]);this.c.push(["Wolfram 30","W30"]);this.c.push(["Wolfram 110",
"W110"]);this.df.push("OT M");this.c.push(["Outer-Totalistic Moore",""]);this.c.push(["","B3/S23"]);this.c.push(["2x2","B36/S125"]);this.c.push(["2x2 2","B3678/S1258"]);this.c.push(["34 Life","B34/S34"]);this.c.push(["3-4 Life","B34/S34"]);this.c.push(["Amoeba","B357/S1358"]);this.c.push(["AntiLife","B0123478/S01234678"]);this.c.push(["Assimilation","B345/S4567"]);this.c.push(["Bacteria","B34/S456"]);this.c.push(["Blinkers","B345/S2"]);this.c.push(["Bugs","B3567/S15678"]);this.c.push(["Castles","B3678/S135678"]);
this.c.push(["Coagulations","B378/S235678"]);this.c.push(["Conway's Game of Life","B3/S23"]);this.c.push(["Conway's Life","B3/S23"]);this.c.push(["Coral","B3/S45678"]);this.c.push(["Corrosion of Conformity","B3/S124"]);this.c.push(["Dance","B34/S35"]);this.c.push(["Day & Night","B3678/S34678"]);this.c.push(["Day and Night","B3678/S34678"]);this.c.push(["Diamoeba","B35678/S5678"]);this.c.push(["DotLife","B3/S023"]);this.c.push(["DrighLife","B367/S23"]);this.c.push(["DryFlock","B37/S12"]);this.c.push(["DryLife",
"B37/S23"]);this.c.push(["DryLife without Death","B37/S012345678"]);this.c.push(["EightFlock","B3/S128"]);this.c.push(["EightLife","B3/S238"]);this.c.push(["Electrified Maze","B45/S12345"]);this.c.push(["Eppstein","B35/S236"]);this.c.push(["Flock","B3/S12"]);this.c.push(["Forest of Ls","B168/S236"]);this.c.push(["Fredkin","B1357/S02468"]);this.c.push(["Gems Minor","B34578/S456"]);this.c.push(["Gems","B3457/S4568"]);this.c.push(["Gnarl","B1/S1"]);this.c.push(["H-Trees","B1/S012345678"]);this.c.push(["HighFlock",
"B36/S12"]);this.c.push(["HighLife","B36/S23"]);this.c.push(["HighLife without Death","B36/S012345678"]);this.c.push(["Holstein","B35678/S4678"]);this.c.push(["HoneyFlock","B38/S128"]);this.c.push(["HoneyLife","B38/S238"]);this.c.push(["Iceballs","B25678/S5678"]);this.c.push(["InverseLife","B012345678/S34678"]);this.c.push(["Invertamaze","B028/S0124"]);this.c.push(["IronFlock","B36/S128"]);this.c.push(["IronLife","B36/S238"]);this.c.push(["Land Rush","B36/S234578"]);this.c.push(["Life SkyHigh","B368/S236"]);
this.c.push(["Life without Death","B3/S012345678"]);this.c.push(["Life","B3/S23"]);this.c.push(["Live Free or Die","B2/S0"]);this.c.push(["LongLife","B345/S5"]);this.c.push(["Long Life","B345/S5"]);this.c.push(["LowDeath without death","B368/S012345678"]);this.c.push(["LowDeath","B368/S238"]);this.c.push(["LowFlockDeath","B368/S128"]);this.c.push(["LowLife","B3/S13"]);this.c.push(["Majority","B45678/S5678"]);this.c.push(["Maze","B3/S12345"]);this.c.push(["Maze with Mice","B37/S12345"]);this.c.push(["Mazectric",
"B3/S1234"]);this.c.push(["Mazectric with Mice","B37/S1234"]);this.c.push(["Morley","B368/S245"]);this.c.push(["Move","B368/S245"]);this.c.push(["Neon Blobs","B08/S4"]);this.c.push(["Pedestrian Flock","B38/S12"]);this.c.push(["Pedestrian Life","B38/S23"]);this.c.push(["Pedestrian Life without Death","B38/S012345678"]);this.c.push(["Persian Rug","B234/S"]);this.c.push(["Plow World","B378/S012345678"]);this.c.push(["Pseudo Life","B357/S238"]);this.c.push(["Replicator","B1357/S1357"]);this.c.push(["Rings 'n' Slugs",
"B56/S14568"]);this.c.push(["Seeds","B2/S"]);this.c.push(["Serviettes","B234/S"]);this.c.push(["Shoots and Roots","B3/S245678"]);this.c.push(["Slow Blob","B367/S125678"]);this.c.push(["SnowLife","B3/S1237"]);this.c.push(["Stains","B3678/S235678"]);this.c.push(["Virus","B36/S235"]);this.c.push(["Vote","B5678/S45678"]);this.c.push(["Vote 4/5","B4678/S35678"]);this.c.push(["Walled Cities","B45678/S2345"]);this.df.push("OT Hex");this.c.push(["Outer-Totalistic Hex",""]);this.c.push(["Fredkin Hex","B135/S0246H"]);
this.c.push(["Hexagonal Life","B2/S34H"]);this.c.push(["HighHexLife","B25/S34H"]);this.c.push(["Replicator Hex","B135/S135H"]);this.df.push("NT M");this.c.push(["Isotropic Non-Totalistic Moore",""]);this.c.push(["15Life","B34r/S23-q4et"]);this.c.push(["104life","B34ky5cy/S23-a4ity6c7"]);this.c.push(["22k","B2-k/S2-k"]);this.c.push(["38life","B35y/S2-n35k6ci"]);this.c.push(["57life","B34tyz5cy/S23-a4it5ej"]);this.c.push(["aLife","B3/S234iw"]);this.c.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);
this.c.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);this.c.push(["Artillery","B3-y7/S2-i3-c4kqt"]);this.c.push(["Atomic","B2ei3i/S1c2-n3jr4an5i6c"]);this.c.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);this.c.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);this.c.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);this.c.push(["Beaecsizae","B34ce/S12-a3"]);this.c.push(["Best Friends","B2ce3aiy/S12aei3r"]);this.c.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);this.c.push(["Blocks for Days",
"B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);this.c.push(["BoatLife","B3-knqy/S2-n3-ey4akwy5aik6kn"]);this.c.push(["boatLife","B3ainqy4aeq5ejn8/S2-in3-aek4aciq5ae6-c7c8"]);this.c.push(["Breps","B34cqy5c/S23-y4y"]);this.c.push(["Breps-2","B3aeijn4n8/S234iqz"]);this.c.push(["Bubbles","B3ai4-a/S23"]);this.c.push(["Butterfly","B2i34e6i7c/S2-i36n"]);this.c.push(["butterflyb7","B2i34e6i7/S2-i36n"]);this.c.push(["Buzz","B2i35-n/S2-ci36k8"]);this.c.push(["CapLife","B36c/S23"]);this.c.push(["CarrierLife",
"B2e3aceik/S23"]);this.c.push(["Cataverters","B3-cen/S234eijkrw5cry6ik"]);this.c.push(["CB2","B2ae4i/S1e2in"]);this.c.push(["cetlife","B34cet/S234jkwyz"]);this.c.push(["CommonRepl","B3/S23-ac4eiy6"]);this.c.push(["Conquerors and Colonizers","B2ace3acei4ace5acei6ace/S"]);this.c.push(["Conway++","B3/S234c"]);this.c.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);this.c.push(["Conway+-2","B3/S2-ak34aikqtwz5inqy"]);this.c.push(["Conway--","B3/S2-ei3"]);this.c.push(["Creperie","B2ikn3aijn/S23-ckqy"]);this.c.push(["Crylife",
"B2n3-cry4kn6i7c/S23-a4i6c"]);this.c.push(["Diamoeral","B2n3ai4a78/S35678"]);this.c.push(["Diamonds","B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);this.c.push(["DLife","B3-n/S23"]);this.c.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);this.c.push(["Dry15Life","B34r7/S23-q4et"]);this.c.push(["DryGoats","B2in37/S123a"]);this.c.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);this.c.push(["Eatsplosion IV","B2n3-q4aqz6n8/S2-in3-q4iz7c8"]);this.c.push(["EightGoats","B2in3/S123a8"]);
this.c.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);this.c.push(["Extension","B2cei3-ijnr4-a6i/S12-cn"]);this.c.push(["fakePiShipLife","B3-ck4e5k6i/S2-in35i6c8"]);this.c.push(["FattyLife","B3-n4nt5qr6i/S23"]);this.c.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);this.c.push(["FlashLife","B2kn3-n4e/S23"]);this.c.push(["Flowflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k7e"]);this.c.push(["Flying Life","B3-k5r/S236n7e"]);this.c.push(["FogLife","B35eq7/S2-i34q"]);this.c.push(["GlideLife",
"B34ek5ak/S2-c34z"]);this.c.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);this.c.push(["GliderRROLife","B2e3einy4ak5ijq7c/S1c2-ai3-ceky4ejny5ceqr6ak"]);this.c.push(["Goat Flock","B2in3/S123a"]);this.c.push(["Goats","B2in3/S123a"]);this.c.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);this.c.push(["Growflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k"]);this.c.push(["guntlife","B35j6a/S2-i34q"]);this.c.push(["Half as Interesting","B2ce3i/S23"]);this.c.push(["hassl8life","B34k5e7c/S23-a4iyz"]);
this.c.push(["hatlife","B35y/S23"]);this.c.push(["HeptaFish","B3-e4i5i/S234e"]);this.c.push(["High15Life","B34r6/S23-q4et"]);this.c.push(["HighGoats","B2in36/S123a"]);this.c.push(["Hive","B3-ry4ckn/S2-in3-cjn4it5aiky6-a7e8"]);this.c.push(["hlife3","B3/S2-in34iw"]);this.c.push(["HoneyGoats","B2in38/S123a8"]);this.c.push(["HouseLife","B2i3/S23-r"]);this.c.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);this.c.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);this.c.push(["ilife","B3/S235i"]);this.c.push(["Immortalife",
"B3-cqy4j/S2-n34i"]);this.c.push(["IronGoats","B2in36/S123a8"]);this.c.push(["Just Friends","B2-a/S12"]);this.c.push(["Kgdm","B3/S2-c3-en4ceitz"]);this.c.push(["klife","B34n/S23"]);this.c.push(["Knyght","B2e3/S23-jq"]);this.c.push(["LambdaLife","B3-k/S2-i3-k4cen"]);this.c.push(["LifeWithoutGliders","B35n/S23"]);this.c.push(["Linea","B2-a3-i/S23-a"]);this.c.push(["LoafLife","B2n3-q/S23"]);this.c.push(["Mooselife","B34kz5e7c/S23-a4ityz5k"]);this.c.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);this.c.push(["MoveIt",
"B368/S23cy45-j6n"]);this.c.push(["movetub","B34e68/S245"]);this.c.push(["movev","B35y68/S245"]);this.c.push(["Movostill","B2i3acijk6i/S23-a4"]);this.c.push(["Movostill 2","B3acijk/S23-a4"]);this.c.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);this.c.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);this.c.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);this.c.push(["Orthogonable","B2e3aiknr4q/S1c2-in3aijry4a"]);this.c.push(["Particles","B2ce3i/S1c2cek"]);this.c.push(["Pedestrian Goats","B2in38/S123a"]);
this.c.push(["Pentadecathlife","B34e5y6cn8/S234c5e"]);this.c.push(["Photics I","B2ae4c678/S01e4aeqrtw5678"]);this.c.push(["Photics II","B2ae4cw5y6i/S01e2i4q"]);this.c.push(["Pi-plicator","B3-ckq/S2-c34ci"]);this.c.push(["PiLife","B37e/S23"]);this.c.push(["plasma1","B012-in3-cky4ar5cjnr6ae/S05aijnr6n"]);this.c.push(["PondLife","B36i/S2-i35i"]);this.c.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);this.c.push(["Prismatika Crystallios","B2ae3r/S1e"]);this.c.push(["PlasmaLife","B34-air/S234-air"]);
this.c.push(["Puffers","B3-nqr6/S235-nqr"]);this.c.push(["quadraticlife","B34j/S23"]);this.c.push(["Quasilinear Collisions","B2-ak3-jnqr/S15678"]);this.c.push(["Rakelife","B3aij/S2-i3ajnr4arz56-a7e"]);this.c.push(["Rainflakes","B2-ac3aei4ey5n6n8/S02-n3aceir4ceyz5e6k"]);this.c.push(["reptlife","B36-k/S2-i34q"]);this.c.push(["Rule X3VI","B2c3aei4ajnr5acn/S2-ci3-ck4in5jkq6c7c"]);this.c.push(["RustyLife","B34-ai/S24-air5-a"]);this.c.push(["Salad","B2i34c/S2-i3"]);this.c.push(["Savanna","B2e3aeiy4ce5i6c7e/S2-n3-a4artz5aeny6cn"]);
this.c.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);this.c.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);this.c.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);this.c.push(["SilverLife","B367/S2-i34q"]);this.c.push(["SLHassleLife","B3-y5cr/S234w6n"]);this.c.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);this.c.push(["SolarWorld","B2ce3ci4iyz5ce6c/S12ce3ae"]);this.c.push(["SmokingLife","B2i34cj6a7c8/S2-i3-a4ceit6in"]);this.c.push(["Smorgasbord","B2e3aijr4q/S1c23-a5"]);this.c.push(["Snowflakes",
"B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);this.c.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);this.c.push(["SparkLife","B36i/S234j"]);this.c.push(["SparseMethuseLife","B35y/S1e2-ci3-a5i"]);this.c.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);this.c.push(["Stars","B2e3-ceny4einqwz5-cikr6cei/S1c2e3aijky4aceijrz5-cejk6-ak7c8"]);this.c.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);this.c.push(["Switches","B2ei3ij4ajnr6ci/S12ce3ajn4qtz5ijnqy6c"]);this.c.push(["Symmetristic",
"B2-ak3-jnqr4ceiqtwz5-jnqr6-ak/S2-ak3-jnqr4ceiqtwz5-jnqr6-ak"]);this.c.push(["TableLife","B3/S23-ai4anq6n"]);this.c.push(["TauLife","B3-nr/S2-i34-aij"]);this.c.push(["tceclife","B36ce7c/S2-i34q"]);this.c.push(["tDryFlock","B37/S12-i4q"]);this.c.push(["tDryLife","B37/S2-i34q"]);this.c.push(["TearfulLife","B34e5c6n/S23-q"]);this.c.push(["tEightLife","B3/S2-i34q8"]);this.c.push(["tflock","B3/S12-i4q"]);this.c.push(["tHighFlock","B36/S12-i4q"]);this.c.push(["tHighLife","B36/S2-i34q"]);this.c.push(["ThisLife",
"B36i/S23-ce5q"]);this.c.push(["tlife","B3/S2-i34q"]);this.c.push(["tPedestrianFlock","B38/S12-i4q"]);this.c.push(["tPedestrianLife","B38/S2-i34q"]);this.c.push(["Train","B34t6k8/S2-i35a7e"]);this.c.push(["Trilobites","B3aijn4w5nq/S2ae3aijr4irz5y"]);this.c.push(["Turro","B2-a3c/S12-i"]);this.c.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);this.c.push(["Virus_v2","B3-nqr6/S235"]);this.c.push(["Wartlife","B3aijnq6n/S2-cn3-ceky4i"]);this.c.push(["Whichlife","B2in3aeijn/S234e"]);this.c.push(["Wild Seas",
"B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);this.c.push(["wlife","B34w/S23"]);this.c.push(["X-rule-pre","B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);this.c.push(["Ylife","B2e3ai4ar/S23-a4a"]);this.c.push(["ZombieLife","B3-nqy4aqz5cn6n8/S2-i3-a4inqz7c8"]);this.df.push("NT Hex");this.c.push(["Isotropic Non-Totalistic Hex",""]);this.c.push(["Hex Life","B2o3m56/S2-p4oH"]);this.c.push(["22da","B2o/S2-mH"]);this.c.push(["Hexrule b2o","B2o/S2m34H"]);this.df.push("OT M G");this.c.push(["Outer-Totalistic Generations Moore",
""]);this.c.push(["9:43 at Knight","237/34578/4"]);this.c.push(["Banners","2367/3457/5"]);this.c.push(["BelZhab","23/23/8"]);this.c.push(["BelZhab Sediment","145678/23/8"]);this.c.push(["Bloomerang","234/34678/24"]);this.c.push(["Bombers","345/24/25"]);this.c.push(["Brain 5","/2/5"]);this.c.push(["Brain 6","6/246/3"]);this.c.push(["Brian's Brain","/2/3"]);this.c.push(["Burst","0235678/3468/9"]);this.c.push(["BurstII","235678/3468/9"]);this.c.push(["Caterpillars","124567/378/4"]);this.c.push(["Chenille",
"05678/24567/6"]);this.c.push(["Circuit Genesis","2345/1234/8"]);this.c.push(["Constellations","/23/3"]);this.c.push(["Cooties","23/2/8"]);this.c.push(["Ebb&Flow","012478/36/18"]);this.c.push(["Ebb&Flow II","012468/37/18"]);this.c.push(["Faders","2/2/25"]);this.c.push(["Fireworks","2/13/21"]);this.c.push(["Flaming Starbows","347/23/8"]);this.c.push(["Free Star","0345/2/10"]);this.c.push(["Frogs","12/34/3"]);this.c.push(["Frozen spirals","356/23/6"]);this.c.push(["Glisserati","035678/245678/7"]);this.c.push(["Glissergy",
"035678/245678/5"]);this.c.push(["Lava","12345/45678/8"]);this.c.push(["Lines","012345/458/3"]);this.c.push(["LivingOn TheEdge","345/3/6"]);this.c.push(["Meteor Guns","01245678/3/8"]);this.c.push(["Nova","45678/2478/25"]);this.c.push(["OrthoGo","3/2/4"]);this.c.push(["Prairie on fire","345/34/6"]);this.c.push(["RainZha","2/23/8"]);this.c.push(["Rake","3467/2678/6"]);this.c.push(["SediMental","45678/25678/4"]);this.c.push(["Snake","03467/25/6"]);this.c.push(["SoftFreeze","13458/38/6"]);this.c.push(["Spirals",
"2/234/5"]);this.c.push(["Star Wars","345/2/4"]);this.c.push(["Sticks","3456/2/6"]);this.c.push(["Swirl","23/34/8"]);this.c.push(["Tadpoles","0125678/345678/64"]);this.c.push(["ThrillGrill","1234/34/48"]);this.c.push(["Transers","345/26/5"]);this.c.push(["TransersII","0345/26/6"]);this.c.push(["Transers 2","0345/26/6"]);this.c.push(["Transers 3","0345/26/7"]);this.c.push(["Wallplicators","345/25678/7"]);this.c.push(["Wanderers","345/34678/5"]);this.c.push(["Worms","3467/25/6"]);this.c.push(["Xtasy",
"1456/2356/16"]);this.df.push("NT M G");this.c.push(["Isotropic Non-Totalistic Generations Moore",""]);this.c.push(["Jellyfish","2ak34-a5-i/2c36k7/4"]);this.c.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);this.c.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);this.df.push("LtL M");this.c.push(["Larger than Life Moore",""]);this.c.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);this.c.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);this.c.push(["Bosco Analogue","R5,C2,M1,S34..53,B31..42,NM"]);
this.c.push(["Bugs R3","R3,C2,M1,S14..23,B14..18,NM"]);this.c.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);this.c.push(["Bugs R6","R6,C2,M1,S47..81,B47..63,NM"]);this.c.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);this.c.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);this.c.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);this.c.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);this.c.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);this.c.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);
this.c.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);this.c.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);this.c.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);this.c.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);this.c.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);this.c.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);this.c.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);this.c.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);this.c.push(["Miniature Bugs",
"R3,C2,M1,S15..22,B14..25,NM"]);this.c.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);this.c.push(["Quadratic Bugs","R6,C2,M1,S47..81,B47..61,NM"]);this.c.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);this.c.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);this.c.push(["Stones","R5,C2,M1,S29..58,B38..61,NM"]);this.c.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);this.c.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);this.c.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);this.c.push(["Waving human intestines",
"R20,C2,M1,S1..21,B1..5,NM"]);this.df.push("LtL M G");this.c.push(["Generations Larger than Life Moore",""]);this.c.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);this.c.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);this.c.push(["ModernArt","R10,C255,M1,S2..3,B3..3,NM"]);this.df.push("HROT M");this.c.push(["Higher-Range Outer-Totalistic Moore",""]);this.c.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);this.c.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
this.c.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);this.c.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);this.c.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
this.c.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);this.df.push("NI NT");this.c.push(["Non-Isotropic",""]);this.c.push(["2CellSlug","MAPBTDe/yAA9/8AAP//AAD//yAA/78AAP//AID//wAA//8AAP//AAD/2wAA//8AgP//AAD//4AA//+AAH//AAD//w"]);this.c.push(["FoxLife","MAPARYXfhZofugWaH7oaIFoxBZofuhogOiAaIFoxIAAgAAWaH7oaIFoxGiA6ICAAIAAaIFoxIAAgACAAIAAAAAAAA"]);
this.c.push(["SemiFelineLife","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaICatGiA6ICAAIAAaICatIAAgACAAIAAAAAAAA"]);this.c.push(["Socrates","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaIDogGiA6ICAAIAAaIDogIAAg00IAmSocrates"]);this.df.push("Alt OT M");this.c.push(["Alternating Outer-Totalistic Moore",""]);this.c.push(["alternlife","B13/S012345678|B/S15"]);this.c.push(["comb625","B3/S348|B2/S356"]);this.c.push(["Fizzler","B13/S3|B/S345678"]);this.c.push(["Jelly","B3/S135|B2/S5"]);this.c.push(["Phoenix",
"B24/S|B35/S"]);this.df.push("Alt NT M");this.c.push(["Alternating Non-Totalistic Moore",""]);this.c.push(["Unidim1","B134578/S02345678|B6i7/S268"]);this.c.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);this.c.push(["Unidim3","B12ci34578/S02345678|B6i7/S268"]);this.c[0][2]=!1;for(d=1;d<this.c.length;d+=1){var l=this.c[d][1];this.c[d][2]=!1;for(m=0;m<d;m+=1)this.c[m][1]===l&&(this.c[m][2]=!0,this.c[d][2]=!0,m=d)}},Wx:function(d){for(var m=null,l=0;l<this.c.length&&null===m;)""!==this.c[l][1]&&this.c[l][0]===
d&&(m=this.c[l][1]),l+=1;if(!m)for(d=d.toLowerCase(),l=0;l<this.c.length&&null===m;)""!==this.c[l][1]&&this.c[l][0].toLowerCase()===d&&(m=this.c[l][1]),l+=1;return m},It:function(d){for(var m=null,l=0;l<this.c.length&&null===m;)""!==this.c[l][1]&&this.c[l][1]===d&&(m=this.c[l][0]),l+=1;return m}};(function(){function d(e,g,p,q,r){this.l=r;this.Ea=e;this.Wa=g;this.zb=p;this.message="";this.aa=e;this.fa=g;this.tb=p;this.hi="";this.context=q;this.$a=!1;this.ha=this.A=0;this.nf="rgb(32,255,255)";this.wz="white";this.g=0;this.animate=!1;this.ec=this.uc="black";this.enabled=!1;this.R=30}function m(e,g,p,q){this.name=e;this.width=g;this.height=p;this.rm=q}function l(e,g){this.context=g;this.aa=e;this.height=this.width=0;this.ha=this.fa=this.A=this.g=null;this.R=[];this.xr=!0;this.ev=-1;this.cy=0;
this.de=!1}function a(e,g,p,q,r,w,v,z,b,h,n,x,u,t,A,y,B,C,F,E){this.id=e;this.w="";this.Ej=-1;this.j=this.Lq=!1;this.Ya=g;this.caller=p;this.icon=F;this.x=r;this.y=w;this.Ef=r;this.g=w;this.position=q;this.width=v;this.height=z;this.border=t;this.type=x;u===f.Us?this.orientation=v>=z?f.ud:f.vertical:this.orientation=u;this.So=this.orientation;this.lower=b;this.upper=h;x===f.Fc?this.current=[n,n]:this.current=n;this.xw=A;this.Ub=y;this.Zu=B;this.fixed=C;this.Qq=!1;this.Yn=this.Xn=this.$n=this.Zn=this.wy=
this.vy=-1;this.textAlign=f.px;this.enabled=!0;this.locked=!1;this.Eg=[];if(this.type===f.list)for(e=0;e<b.length;e+=1)this.Eg[e]=!1;this.Xo=[];this.ir=0;this.dE=!1;this.Lc=E.Lc;this.qd=E.qd;if(x===f.list)for(this.jn=[],e=0;e<b.length;e+=1)this.jn[e]=this.Lc;this.ue=E.ue;this.Te=E.Te;this.Cg=E.Cg;this.Li=E.Li;this.$j=E.$j;this.rl=E.rl;this.sf=E.sf;this.Uh=E.Uh;this.qg=E.qg;this.Ci=E.Ci;this.border=E.border;this.font=E.Vl}function k(e,g,p,q,r){this.context=q;this.Vl=r;this.locked=this.j=!1;this.ai=
this.bg=-1;this.Gk=this.xc=!1;this.fa=6;this.Ya=e;this.ld=[];this.Tb=0;this.Lc="";this.qd=0;this.ue="";this.Te=0;this.Cg="";this.Li=0;this.$j="";this.rl=0;this.sf="";this.Uh=0;this.qg="";this.border=this.Ci=0;this.A=f.Us;this.Nj=this.oj=-1;this.wt=this.Iw=null;this.qp=g;this.caller=p;this.O=null;this.it=this.Sp=this.R="auto"}function c(e,g,p,q,r,w){var v=this,z=0;this.Ut=this.$u=!0;this.Wa=this.$a=40;this.LG=50;this.Fh=0;this.aa=this.fa=this.ha=-1;this.il=!1;this.caller=r;this.ui=this.Ga=this.Pi=
this.hc=!1;this.nd=4;this.Tx=w;this.hasFocus=this.$s=!1;this.hn=!0;this.bp=!1;this.pk=1;this.Lc="black";this.qd=.7;this.ue="white";this.Te=1;this.Cg="rgb(0,240,32)";this.Li=.7;this.$j="blue";this.rl=.7;this.sf="grey";this.Uh=1;this.qg="rgb(32,255,255)";this.border=this.Ci=1;this.ox=function(b){return function(){b.Qc(b)}}(this);this.O=q;this.Zb=e;this.$b=g;this.xc=!1;this.$h=this.Zh=-1;this.wc=null;this.Vl=p;this.bk=this.ck=!1;this.Rq=performance.now();this.hl=5;this.Wo=0;this.hu=[];this.ju=[];this.gu=
[];for(z=0;5>z;z+=1)this.hu[z]=0,this.ju[z]=0,this.gu[z]=0;this.co=null;this.Sg=!1;this.notification=new d(25,100,25,g,this);this.uy=performance.now();this.Gk=this.tw=!1;this.offsetTop=this.offsetLeft=0;this.R=[];this.g=this.A=0;registerEvent(e,"mousedown",function(b){v.tb(v,b)},!1);registerEvent(e,"mousemove",function(b){v.zb(v,b)},!1);registerEvent(e,"mouseup",function(b){v.uc(v,b)},!1);registerEvent(e,"mouseover",function(b){v.ec(v,b)},!1);registerEvent(e,"mouseout",function(b){v.Lb(v,b)},!1);
registerEvent(e,"touchstart",function(b){v.Ea(v,b)},!1);registerEvent(e,"touchmove",function(b){v.Ea(v,b)},!1);registerEvent(e,"touchend",function(b){v.Ea(v,b)},!1)}d.prototype.Ok=function(){var e=!1;if(""!==this.message||""!==this.hi)e=!0;return e};d.prototype.clear=function(e,g){e?""!==this.hi&&(g?this.hi="":this.ha=performance.now()-(this.aa+this.fa)):""!==this.message&&(g?this.message="":this.A=performance.now()-(this.Ea+this.Wa))};d.prototype.N=function(e,g,p){this.enabled&&(p?this.hi!==e&&(this.hi=
e,this.aa=240,this.fa=16*g,this.tb=240,this.ha=performance.now(),this.g=0,this.animate=!1):(this.message=e,this.Ea=240,this.Wa=16*g,this.zb=240,this.A=performance.now()))};d.prototype.Pk=function(e,g){96>this.context.canvas.width&&(this.R=24);var p=this.R;var q=this.context.measureText(e).width>>1;if(this.$a){this.context.fillStyle=this.ec;var r=this.context.globalAlpha;this.context.globalAlpha=.5*r;this.context.fillRect(-q-20,-p,2*q+40,2*p);this.context.globalAlpha=r}this.context.fillStyle=this.uc;
this.context.fillText(e,-q+2,2);g?this.animate?(this.context.fillStyle=128>this.g?"rgb("+2*this.g+","+2*this.g+",255)":"rgb("+2*(256-this.g)+","+2*(256-this.g)+",255)",this.g=this.g+4&255):this.context.fillStyle=this.wz:this.context.fillStyle=this.nf;this.context.fillText(e,-q,0)};d.prototype.Lb=function(e,g,p,q,r,w,v){var z=this.R,b=z+2,h=this.l.nd,n=60,x=!0;this.l.hc?(n=0,w=this.context.canvas.height/2,this.$a=!0):this.$a=!1;""!==e&&(x=!1,r=performance.now()-r,this.context.save(),this.l.Ga&&(v?
(n=0,w=this.context.canvas.height/2):(z/=h,b=b/h|0,w=w/h|0,n=n/h|0)),this.context.font=z+"px Arial",this.context.translate(this.context.canvas.width/2-1,n+w),r<=g?(w=r/g,w*=w,this.context.globalAlpha=w,this.context.scale(w,w)):r>g+p&&r<=g+p+q&&(w=(q-(r-(g+p)))/q,w*=w,this.context.globalAlpha=w,this.context.scale(w,w)),r>g+p+q?x=!0:(g=e.indexOf("\\n"),-1===g?this.Pk(e,v):(this.Pk(e.substr(0,g),v),this.context.translate(0,b),this.Pk(e.substr(g+2),v))),this.context.restore());return x};d.prototype.update=
function(){this.Lb(this.message,this.Ea,this.Wa,this.zb,this.A,81,!1)&&(this.message="");this.l.Ga&&"Expand"!==this.hi&&"Launch"!==this.hi||!this.Lb(this.hi,this.aa,this.fa,this.tb,this.ha,45,!0)||(this.hi="")};l.prototype.Pk=function(e,g,p,q){var r;this.de||(this.width=this.aa.width,this.height=this.aa.height,this.g=document.createElement("canvas"),this.g.width=this.width,this.g.height=this.height,this.A=this.g.getContext("2d"),this.fa=new Image,this.ha=new Image);if(this.xr){this.A.drawImage(this.aa,
0,0);var w=this.A.getImageData(0,0,this.g.width,this.g.height);var v=new Uint32Array(w.data.buffer);for(r=0;r<v.length;r+=1)4294967295===v[r]&&(v[r]=this.cy);this.A.putImageData(w,0,0);this.ha.src=this.g.toDataURL("image/png");this.A.drawImage(this.aa,0,0);w=this.A.getImageData(0,0,this.g.width,this.g.height);v=new Uint32Array(w.data.buffer);for(r=0;r<v.length;r+=1)4294967295===v[r]&&(v[r]=this.ev);this.A.putImageData(w,0,0);this.de=this.xr=!1}this.de||(this.fa.src=this.g.toDataURL("image/png"),this.de=
!0);q?this.context.drawImage(this.ha,e.rm*e.width,0,e.width,e.height,g,p,e.width,e.height):this.context.drawImage(this.fa,e.rm*e.width,0,e.width,e.height,g,p,e.width,e.height)};l.prototype.length=function(){return this.R.length};l.prototype.icon=function(e){var g,p=this.R,q=this.length(),r=null;for(g=0;g<q&&!r;)p[g].name===e?r=p[g]:g+=1;return r};l.prototype.add=function(e,g,p){var q=this.R.length;e=new m(e,g,p,q);this.R[q]=e};var f={Us:0,ud:1,vertical:2,Fc:0,button:1,toggle:2,Df:3,list:4,label:5,
dk:0,ya:1,left:0,px:1,right:2,Yc:0,Jb:1,Bt:2,gb:3,Lr:4,Ui:5,Lw:6,zc:7,Pb:8};a.prototype.Fo=function(e,g,p,q,r,w){this.ue=e;this.Lc=g;this.Cg=p;this.$j=q;this.sf=r;this.qg=w};a.prototype.setPosition=function(e,g,p){this.position=e;this.Ef=g;this.g=p;this.x=g;this.y=p};a.prototype.$B=function(e,g){this.x=this.Ef;this.y=this.g;switch(this.position){case f.Yc:this.x=(e-this.width>>1)+this.Ef;break;case f.Jb:this.x=e+this.Ef;break;case f.Bt:this.y=(g-this.height>>1)+this.g;this.x=e+this.Ef;break;case f.gb:this.x=
e+this.Ef;this.y=g+this.g;break;case f.Lr:this.x=(e-this.width>>1)+this.Ef;this.y=g+this.g;break;case f.Ui:this.y=g+this.g;break;case f.Lw:this.y=(g-this.height>>1)+this.g;break;case f.Pb:this.x=(e-this.width>>1)+this.Ef,this.y=(g-this.height>>1)+this.g}};a.prototype.Vw=function(e,g){var p=this.ir;this.Xo[p]=[e,g];this.ir=p+1};a.prototype.rp=function(e){var g=[],p;var q=e.length;for(p=0;p<q;p+=1)e[p].Vw(this,!0);q=g.length;for(p=0;p<q;p+=1)g[p].Vw(this,!1)};a.prototype.GE=function(e,g){var p=!1;this.enabled&&
e>=this.x&&e<this.x+this.width&&g>=this.y&&g<this.y+this.height&&(p=!0);return p};k.prototype.Fo=function(e,g,p,q,r,w){var v;this.ue=e;this.Lc=g;this.Cg=p;this.sf=r;this.qg=w;for(v=0;v<this.ld.length;v+=1)this.ld[v].Fo(e,g,p,q,r,w)};k.prototype.aa=function(e,g){var p=!1,q=e.ir;e.type===f.list&&e.upper===f.ya?p=e.current[0]:p=e.current===e.upper;e.dE&&(p=!p);if(p&&g)for(g=0;g<q;g+=1)p=p&&this.aa(e.Xo[g][0],e.Xo[g][1]);return p};k.prototype.xA=function(e){var g,p=e.ir;var q=!0;for(g=0;g<p;g+=1)q=q&&
this.aa(e.Xo[g][0],e.Xo[g][1]);e.enabled=q};k.prototype.de=function(){var e;for(e=0;e<this.Tb;e+=1){var g=this.ld[e];g.enabled=!0;switch(g.type){case f.toggle:g.Ya&&(g.current=g.Ya(g.current===g.upper,!1,this.caller)?g.upper:g.lower);break;case f.Fc:g.Ya&&(g.current=g.Ya(g.current,!1,this.caller));break;case f.list:g.Ya&&(g.current=g.Ya(g.current,!1,this.caller))}this.xA(g)}};k.prototype.Qa=function(e,g,p,q,r,w,v,z,b){this.ld[this.Tb]=new a(this.Tb,e,this.caller,g,p,q,r,w,v,b,z,f.list,this.A,this.border,
!0,"","",-1,[],this);this.Tb+=1;return this.ld[this.Tb-1]};k.prototype.Gh=function(e,g,p,q,r,w,v,z,b,h,n,x){this.ld[this.Tb]=new a(this.Tb,e,this.caller,g,p,q,r,w,v,z,b,f.Fc,this.A,this.border,!0,h,n,x,null,this);this.Tb+=1;return this.ld[this.Tb-1]};k.prototype.yb=function(e,g,p,q,r,w){this.ld[this.Tb]=new a(this.Tb,null,null,e,g,p,q,r,0,0,0,f.label,this.A,this.border,!0,w,"",-1,null,this);this.Tb+=1;return this.ld[this.Tb-1]};k.prototype.Pa=function(e,g,p,q,r,w){this.ld[this.Tb]=new a(this.Tb,e,
this.caller,g,p,q,r,40,0,0,0,f.button,this.A,this.border,!0,w,"",-1,null,this);this.Tb+=1;return this.ld[this.Tb-1]};k.prototype.GB=function(){this.ld[this.Tb]=new a(this.Tb,null,null,Menu.Ui,0,-40,100,40,0,100,0,f.Df,this.A,this.border,!1,"","",0,null,this);this.Tb+=1;return this.ld[this.Tb-1]};k.prototype.g=function(e,g,p){var q;e+=String();if(""!==e){this.context.save();this.context.translate(g.x+g.width/2,g.y+g.height/2);this.context.font=g.font;g.So===f.vertical&&this.context.rotate(.5*Math.PI);
var r=this.context.measureText(e).width;var w=g.So===f.vertical?g.height:g.width;if(r>=w-6){if(q=e.length){do{--q;var v=e.substr(0,q)+"...";r=this.context.measureText(v).width}while(1<q&&r>=w-6)}e=v}switch(g.textAlign){case f.left:var z=g.width/2-2;break;case f.px:z=r/2;break;case f.right:z=r/2-(g.width-r)/2+4}this.context.fillStyle=g.Lc;p&&this.context.fillRect(2-z,2,r,2);this.context.fillText(e,2-z+.5,2.5);this.context.fillStyle=g.locked||this.locked?g.sf:g.ue;this.context.fillText(e,-z+.5,.5);
p&&this.context.fillRect(-z,0,r,2);this.context.restore()}};k.prototype.Wa=function(e){this.context.globalAlpha=this.Te;this.g(e.Ub,e,!1)};k.prototype.ha=function(e){this.context.globalAlpha=this.Te;this.g(e.Ub,e,!1)};k.prototype.tb=function(e){var g=(e.current-e.lower)/(e.upper-e.lower);this.context.globalAlpha=e.qd;this.context.fillStyle=e.ue;e.orientation===f.ud?(g*=e.width-3,this.context.fillRect(e.x+(g+1|0),e.y,1,e.height)):(g*=e.height-3,this.context.fillRect(e.x,e.y+(g+1|0),e.width,1));g=e.Ub;
e.xw&&(g=-1!==e.fixed?g+e.current.toFixed(e.fixed):g+e.current,g+=e.Zu);""!==g&&(this.context.globalAlpha=e.Te,this.g(g,e,!1))};k.prototype.zb=function(e,g){var p=(e.current[0]-e.lower)/(e.upper-e.lower);var q=this.fa;e.orientation===f.ud?(p*=e.width-3,p=p+1|0,g&&(this.context.fillStyle=e.Cg,this.context.globalAlpha=e.Li,this.context.fillRect(e.x+p-q,e.y,q,e.height),this.context.fillRect(e.x+p+1,e.y,q,e.height)),e.locked||this.locked?(this.context.fillStyle=e.sf,this.context.globalAlpha=e.Uh):(this.context.fillStyle=
e.ue,this.context.globalAlpha=e.Te),this.context.fillRect(e.x+p,e.y,1,e.height)):(p*=e.height-3,p=p+1|0,g&&(this.context.fillStyle=e.Cg,this.context.globalAlpha=e.Li,this.context.fillRect(e.x,e.y+p-q,e.width,q),this.context.fillRect(e.x,e.y+p+1,e.width,q)),e.locked||this.locked?(this.context.fillStyle=e.sf,this.context.globalAlpha=e.Uh):(this.context.fillStyle=e.ue,this.context.globalAlpha=e.Te),this.context.fillRect(e.x,e.y+p,e.width,1));g=e.Ub;e.xw&&(g=0<=e.fixed?g+e.current[1].toFixed(e.fixed):
g+e.current[1]);g+=e.Zu;""!==g&&(this.context.globalAlpha=this.Te,this.g(g,e,!1))};k.prototype.Lb=function(e){this.context.globalAlpha=this.Te;var g="-"===e.lower&&""===e.upper&&e.current===e.lower;var p=e.Ub;e.xw&&!g&&(p+=e.current);p+=e.Zu;this.g(p,e,g)};k.prototype.$a=function(e,g){var p=e.x;var q=e.y;var r=e.width;var w=e.height;var v=e.orientation;var z=e.current;var b=e.lower;var h=b.length;var n=e.orientation===f.ud?r/h:w/h;this.context.globalAlpha=e.rl;this.context.fillStyle=e.$j;if(e.upper===
f.dk){var x=e.current;0<=x&&x<h&&(e.orientation===f.ud?this.context.fillRect(p+x*n+1,q+1,n-2,w-2):this.context.fillRect(p+1,q+1+x*n,r-2,n-2))}else if(e.orientation===f.ud)for(x=0;x<h;x+=1)z[x]&&this.context.fillRect(p+x*n+1,q+1,n-2,w-2);else for(x=0;x<h;x+=1)z[x]&&this.context.fillRect(p+1,q+1+x*n,r-2,n-2);e.Lq=!1;g?(this.context.globalAlpha=e.Li,this.context.fillStyle=e.Cg,e.orientation===f.ud?(x=(this.bg-p)/r*h|0,0<=x&&x<h&&(e.Eg[x]?e.Lq=!0:this.context.fillRect(p+x*n+.5,q+.5,n-1,w-1))):(x=(this.ai-
q)/w*h|0,0<=x&&x<h&&(e.Eg[x]?e.Lq=!0:this.context.fillRect(p+.5,q+.5+x*n,r-1,n-1))),e.Ej=x):e.Ej=-1;this.context.globalAlpha=this.Te;if(e.orientation===f.ud)for(x=0;x<h;x+=1)e.icon[x]&&this.O.Pk(e.icon[x],e.x+n*x,e.y,this.locked||e.locked||e.Eg[x]);else for(x=0;x<h;x+=1)e.icon[x]&&this.O.Pk(e.icon[x],e.x,e.y+n*x,this.locked||e.locked||e.Eg[x]);this.context.globalAlpha=e.Te;this.context.fillStyle=e.ue;if(v===f.ud)for(x=0;x<h;x+=1)p=b[x],""!==p&&(this.context.save(),this.context.translate((.5+(x-h/
2))*n,0),this.g(p,e,!1),this.context.restore());else for(x=0;x<h;x+=1)p=b[x],""!==p&&(this.context.save(),this.context.translate(0,(.5+(x-h/2))*n),this.g(p,e,!1),this.context.restore())};k.prototype.Ea=function(e,g,p,q){!(p===q||-1===q&&g)||e.type!==f.button&&e.type!==f.toggle?(this.context.fillStyle=e.Lc,this.context.globalAlpha=e.qd):(this.context.fillStyle=e.Cg,this.context.globalAlpha=e.Li);switch(e.type){case f.Df:var r=(e.current-e.lower)/(e.upper-e.lower);this.context.fillStyle=e.$j;this.context.globalAlpha=
e.rl;e.orientation===f.ud?(r*=e.width-3,r=r+1|0,this.context.fillRect(e.x,e.y,r,e.height),this.context.fillStyle=e.Lc,this.context.globalAlpha=e.qd,this.context.fillRect(e.x+r,e.y,e.width-r,e.height)):(r*=e.height-3,r=r+1|0,this.context.fillRect(e.x,e.y,e.width,r),this.context.fillStyle=e.Lc,this.context.fillRect(e.x,e.y+r,e.width,e.height-r));break;case f.Fc:r=(e.current[0]-e.lower)/(e.upper-e.lower);if(p===q||-1===q&&g){var w=this.fa;if(e.orientation===f.ud){r*=e.width-3;r=r+1|0;var v=r-w;0<v&&
this.context.fillRect(e.x,e.y,v,e.height);v=1+r+w;v<e.width&&this.context.fillRect(e.x+v,e.y,e.width-v,e.height)}else r*=e.height-3,r=r+1|0,v=r-w,0<v&&this.context.fillRect(e.x,e.y,e.width,v),v=1+r+w,v<e.height&&this.context.fillRect(e.x,e.y+v,e.width,e.height-v)}else this.context.fillRect(e.x,e.y,e.width,e.height);break;case f.list:w=e.lower.length;if(e.orientation===f.ud)for(v=e.width/w,r=0;r<w;r+=1)this.context.fillStyle=e.jn[r],this.context.fillRect(e.x+r*v+1,e.y+1,v-2,e.height-2);else for(v=
e.height/w,r=0;r<w;r+=1)this.context.fillStyle=e.jn[r],this.context.fillRect(e.x+1,e.y+1+r*v,e.width-2,v-2);break;default:this.context.fillRect(e.x,e.y,e.width,e.height)}e.type!==f.list&&e.icon&&(this.context.globalAlpha=e.Te,this.O.Pk(e.icon,e.x,e.y,this.locked||e.locked));if(0<e.border)switch(e.locked||this.locked?(this.context.strokeStyle=e.sf,this.context.globalAlpha=e.Uh):(this.context.strokeStyle=e.qg,this.context.globalAlpha=e.Ci),this.context.lineWidth=e.border,e.type){case f.label:break;
case f.list:w=e.lower.length;if(e.orientation===f.ud)for(v=e.width/w,r=0;r<w;r+=1)this.locked||e.locked||e.Eg[r]?(this.context.strokeStyle=e.sf,this.context.globalAlpha=e.Uh):(this.context.strokeStyle=e.qg,this.context.globalAlpha=e.Ci),this.context.strokeRect(e.x+.5+r*v,e.y+.5,v-1,e.height-1);else for(v=e.height/w,r=0;r<w;r+=1)this.locked||e.locked||e.Eg[r]?(this.context.strokeStyle=e.sf,this.context.globalAlpha=e.Uh):(this.context.strokeStyle=e.qg,this.context.globalAlpha=e.Ci),this.context.strokeRect(e.x+
.5,e.y+.5+r*v,e.width-1,v-1);break;default:this.context.strokeRect(e.x+.5,e.y+.5,e.width-1,e.height-1)}switch(e.type){case f.button:this.ha(e);break;case f.label:this.Wa(e);break;case f.Fc:this.zb(e,p===q||-1===q&&g);break;case f.toggle:this.Lb(e);break;case f.Df:this.tb(e);break;case f.list:this.$a(e,p===q||-1===q&&g)}if(p===q)switch(e.type){case f.Fc:r=this.ai,e.orientation===f.vertical?(r<e.y?r=e.y:r>=e.y+e.height&&(r=e.y+e.height-1),e.current[0]=(r-e.y)/(e.height-1)*(e.upper-e.lower)+e.lower):
(r=this.bg,r<e.x?r=e.x:r>=e.x+e.width&&(r=e.x+e.width-1),e.current[0]=(r-e.x)/(e.width-1)*(e.upper-e.lower)+e.lower),e.Ya&&(e.current=e.Ya(e.current,!0,e.caller))}if(g&&!this.xc&&e.Qq)switch(e.type){case f.button:e.Ya&&e.Ya(e.caller);break;case f.toggle:e.current=e.current===e.upper?e.lower:e.upper;e.Ya&&e.Ya(e.current===e.upper,!0,e.caller);break;case f.list:w=e.lower.length,v=e.orientation===f.ud?(this.bg-e.x)/e.width*w|0:(this.ai-e.y)/e.height*w|0,e.upper===f.dk?e.Eg[v]||(e.Ya?e.current=e.Ya(v,
!0,e.caller):e.current=v):e.Eg[v]||(e.current[v]=!e.current[v],e.Ya&&e.Ya(e.current,!0,e.caller))}g&&p===q?(e.Qq=this.xc,e.vy=this.bg,e.wy=this.ai):(e.Qq=!1,e.vy=-1,e.wy=-1)};k.prototype.rv=function(e){this.R=e};k.prototype.At=function(){var e,g=!1,p=this.context.canvas.width,q=this.context.canvas.height,r=-1;var w=!1;this.Nj=-1;if(this.j)this.xc?this.oj=-2:(-2===this.oj&&this.Iw&&this.Iw(this.bg,this.ai,this.xc,this.caller),this.xc||(this.oj=-1));else{var v=this.oj;this.context.textAlign="left";
for(e=0;e<this.Tb;e+=1){var z=this.ld[e];if(!z.j){z.$B(p,q);var b=!1;z.GE(this.bg,this.ai)&&(r=e,z.locked||this.locked?g=!0:b=!0);b&&!this.xc&&(this.Nj=e);(this.xc&&-1===v&&b||b&&this.Gk)&&z.type!==f.label&&(v=e,this.Gk&&(z.Qq=!0));e===v&&(z.locked||this.locked)&&(v=-1,b=!1);z.enabled&&this.Ea(z,b,e,v)}}0<=v&&!this.xc&&(w=!0);this.xc&&-1===v&&!g&&(v=-2);-2===v&&this.wt&&!this.locked&&this.wt(this.bg,this.ai,this.xc,this.caller);this.xc||(v=-1);this.oj=v;this.context.globalAlpha=1}0<=r?this.Sp=this.ld[r].type===
f.Fc?this.ld[r].orientation===f.Us||this.ld[r].orientation===f.ud?"ew-resize":"ns-resize":"auto":this.Sp=this.R;return w};c.prototype.Lz=function(){this.R=[];this.g=this.A=0};c.prototype.JB=function(){var e=0;0<this.g&&(e=this.A/this.g);this.R[this.R.length]=e;this.g=this.A=0};c.prototype.LD=function(e){var g=-1;0<=e&&e<this.R.length&&(g=this.R[e]);return g};c.prototype.Fo=function(e,g,p,q,r,w){this.ue=e;this.Lc=g;this.Cg=p;this.sf=r;this.qg=w;this.wc&&this.wc.Fo(e,g,p,q,r,w)};c.prototype.iC=function(){var e=
this.Zb,g=e.offsetParent;this.offsetLeft=e.offsetLeft;for(this.offsetTop=e.offsetTop;g;)this.offsetLeft+=g.offsetLeft,this.offsetTop+=g.offsetTop,g=g.offsetParent;g=e.parentNode;if("fixed"===g.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;else for(;"body"!==g.tagName.toLowerCase();)this.offsetLeft-=g.scrollLeft,this.offsetTop-=g.scrollTop,g=g.parentNode};c.prototype.wC=function(e,
g,p){e=new k(e,g,p,this.$b,this.Vl);e.ue=this.ue;e.Te=this.Te;e.Lc=this.Lc;e.qd=this.qd;e.Cg=this.Cg;e.Li=this.Li;e.$j=this.$j;e.rl=this.rl;e.sf=this.sf;e.Uh=this.Uh;e.qg=this.qg;e.Ci=this.Ci;e.border=this.border;return e};c.prototype.oD=function(){var e=this.wc,g=this.$b,p="";var q=1;if(-1!==e.oj||-1===e.oj&&-1===e.Nj)this.aa=e.oj;if(-1===e.Nj||-1!==this.aa&&this.aa===e.Nj){if(-1!==e.Nj){var r=e.ld[e.Nj];r.id===this.ha&&r.Ej!==this.fa&&(this.aa=-1)}50>this.Fh&&(this.Fh+=1)}else if(r=e.ld[e.Nj],r.id!==
this.ha||r.id===this.ha&&r.Ej!==this.fa?(this.ha=r.id,this.fa=r.Ej,50>this.Fh&&(this.Fh+=1)):0<=this.Fh&&--this.Fh,e=-1!==this.fa?r.w[this.fa]:r.w,""!==e&&-1===this.Fh&&!r.Lq){this.aa=-1;var w=r.x;var v=r.y;var z=r.width;var b=r.height;-1!==r.Ej&&(r.orientation===f.ud?(w+=z/r.lower.length*r.Ej,z/=r.lower.length):(v+=b/r.lower.length*r.Ej,b/=r.lower.length));g.font="18px Arial";var h=g.measureText(e).width;var n=Math.round(w+z/2);v=Math.round(v+b/2);n-=h/2;5>n?n=5:n+h+4>g.canvas.width&&(n=g.canvas.width-
h-4-1);b>z?(-1!==this.Wa&&z<this.Wa&&(z=this.Wa),n>g.canvas.width/2?n=w-h-z/2:n=w+r.width+z/2):(-1!==this.$a&&b<this.$a&&(b=this.$a),v>g.canvas.height/2?v-=b:v+=b);if(h>g.canvas.width){p=(h>>1)+22;p>g.canvas.width&&(p=g.canvas.width);for(h=1;g.measureText(e.substr(0,h)).width<p;)h+=1;for(q=h-1;q>h-5;)p=e[q]," "===p||","===p||"/"===p?(h=q+2,q=h-5):--q;p=e.substr(h-1);e=e.substr(0,h-1);h=g.measureText(e).width;q=g.measureText(p).width;q>h&&(h=q);q=2}g.globalAlpha=this.qd;g.fillStyle=this.Lc;g.fillRect((n-
4|0)-.5,(v-9-4|0)-.5,h+2+8,18*q+8);g.globalAlpha=this.Ci;g.strokeStyle=this.qg;g.strokeRect((n-4|0)-.5,(v-9-4|0)-.5,h+2+8,18*q+8);g.globalAlpha=this.qd;g.strokeStyle=this.Lc;g.beginPath();g.moveTo((n-4|0)+.5,(v-9-4|0)+.5+18*q+8);g.lineTo((n-4|0)+.5+h+2+8,(v-9-4|0)+.5+18*q+8);g.lineTo((n-4|0)+.5+h+2+8,(v-9-4|0)+.5);g.stroke();g.globalAlpha=1;g.fillStyle=this.Lc;g.fillText(e,n+2,v+2);""!==p&&g.fillText(p,n+2,v+18+2);g.fillStyle=this.ue;g.fillText(e,n,v);""!==p&&g.fillText(p,n,v+18)}};c.prototype.Qc=
function(e){var g,p,q,r=e.$b,w=r.canvas.width-86,v=90;e.Ga&&(v=0);e.bp=!1;e.tw=!0;e.co&&(e.wc=e.co,e.co=null,r.font=e.Vl,e.wc.de(),e.wc.qp&&e.wc.qp(e.wc.caller));var z=performance.now();e.Ut&&(e.Rq=z-1E3/60);e.hn||e.notification.Ok()||e.pk||e.LG!==e.Fh&&-1!==e.Fh?(e.Co(e),e.pk&&--e.pk,e.Ut=!1):e.Ut=!0;var b=z-e.Rq;e.Rq=z;e.wc.Ya&&e.wc.Ya(b,e.wc.caller);z=performance.now()-z;var h=performance.now();e.At();e.Gk=!1;e.oD();e.notification.update();h=performance.now()-h;e.hu[e.Wo]=h;for(q=g=0;q<e.hl;q+=
1)g+=e.hu[q];g/=e.hl;e.ju[e.Wo]=z;for(q=p=0;q<e.hl;q+=1)p+=e.ju[q];p/=e.hl;e.gu[e.Wo]=b;for(q=b=0;q<e.hl;q+=1)b+=e.gu[q];b/=e.hl;e.Wo=(e.Wo+1)%e.hl;q=1E3/b;60<q&&(q=60);this.A+=1E3/(z+h);this.g+=1;e.ck&&(r.font="12px Arial",r.globalAlpha=.7,r.fillStyle="black",e.bk?r.fillRect(w,v,88,83):r.fillRect(w,v,88,20),h=(p+g)/16.666666,1<h&&(h=1),r.fillStyle=.5>h?"rgb("+(510*h|0)+",255,0)":"rgb(255,"+(255*(1-2*(h-.5))|0)+",0)",r.fillRect(w,v,88*h|0,20),g=g.toFixed(1),p=p.toFixed(1),4>q.toFixed(1).length?q=
q.toFixed(1):q|=0,r.globalAlpha=1,r.fillStyle="black",z=q+"fps",b=r.measureText(z).width,r.fillText(z,w+36-b,v+12),z=(100*h|0)+"%",b=r.measureText(z).width,r.fillText(z,w+84-b,v+12),e.bk&&(r.fillText("menu",w+6,v+28),r.fillText("work",w+6,v+44),r.fillText("update",w+6,v+60),r.fillText("focus",w+6,v+76),z=g+"ms",b=r.measureText(z).width,r.fillText(z,w+84-b,v+28),z=p+"ms",b=r.measureText(z).width,r.fillText(z,w+84-b,v+44),z=e.hn?"on":"off",b=r.measureText(z).width,r.fillText(z,w+84-b,v+60),z=e.hasFocus?
"on":"off",b=r.measureText(z).width,r.fillText(z,w+84-b,v+76)),r.fillStyle="white",z=q+"fps",b=r.measureText(z).width,r.fillText(z,w+34-b,v+10),z=(100*h|0)+"%",b=r.measureText(z).width,r.fillText(z,w+82-b,v+10),e.bk&&(r.fillText("menu",w+4,v+26),r.fillText("work",w+4,v+42),r.fillText("update",w+4,v+58),r.fillText("focus",w+4,v+74),z=g+"ms",b=r.measureText(z).width,r.fillText(z,w+82-b,v+26),z=p+"ms",b=r.measureText(z).width,r.fillText(z,w+82-b,v+42),z=e.hn?"on":"off",b=r.measureText(z).width,r.fillText(z,
w+82-b,v+58),z=e.hasFocus?"on":"off",b=r.measureText(z).width,r.fillText(z,w+82-b,v+74)),r.globalAlpha=1);e.wc.Sp!==e.wc.it&&(e.wc.it=e.wc.Sp,e.Zb.style.cursor=e.wc.it);e.$u=!0};c.prototype.yB=function(e){e.O=this.O;this.wc?this.co=e:(this.co=null,this.wc=e,this.$b.font=this.Vl,this.wc.de(),this.wc.qp&&this.wc.qp(this.wc.caller),this.Co(this))};c.prototype.At=function(){var e;if(this.wc){var g=this.wc;this.$b.font=this.Vl;g.bg=this.Zh;g.ai=this.$h;g.xc=this.xc;g.Gk=this.Gk;if(g.At()||this.Sg){for(e=
0;e<g.Tb;e+=1){var p=g.ld[e];g.xA(p)}this.Sg=!1}}};c.prototype.Co=function(e){e.bp||(requestAnimationFrame?requestAnimationFrame(e.ox):setTimeout(e.ox,16),e.bp=!0)};c.prototype.Ea=function(e,g){var p="";if("touchend"===g.type){p="mouseup";var q=document.createEvent("MouseEvent");q.initMouseEvent(p,!0,!0,window,1,e.Zn,e.$n,e.Xn,e.Yn,!1,!1,!1,!1,0,null);g.target.dispatchEvent(q);g.preventDefault()}else{if(1===g.touches.length)switch(g.type){case "touchstart":p="mousedown";break;case "touchmove":p="mousemove"}if(""!==
p){var r=g.changedTouches[0];q=document.createEvent("MouseEvent");q.initMouseEvent(p,!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null);r.target.dispatchEvent(q);g.preventDefault();e.Zn=r.screenX;e.$n=r.screenY;e.Xn=r.clientX;e.Yn=r.clientY}}};c.prototype.tb=function(e,g){e.il||(e.Jl(e,g),e.xc=!0,e.tw=!1,g.stopPropagation&&g.stopPropagation(),g.preventDefault())};c.prototype.uc=function(e,g){e.uy=performance.now();e.il||(e.Jl(e,g),e.xc=!1,e.tw||(e.Gk=!0),e.hasFocus||(e.Zb.focus(),
e.hasFocus=!0,e.notification.clear(!0,!1),e.Tx&&e.Tx(e.caller)),g.stopPropagation&&g.stopPropagation(),g.preventDefault())};c.prototype.rx=function(e){e.hasFocus||e.$s&&""!==e.notification.hi||(e.hc?e.Pi||e.notification.N("Copy",3600,!0):e.Ga?e.ui?e.notification.N("Launch",3600,!0):e.notification.N("Expand",3600,!0):e.notification.N("Click to control",3600,!0),e.notification.animate=!0,e.$s=!0)};c.prototype.zb=function(e,g){e.il||(e.rx(e),e.Jl(e,g),g.stopPropagation&&g.stopPropagation(),g.preventDefault())};
c.prototype.ec=function(e,g){e.il||(e.rx(e),g.stopPropagation&&g.stopPropagation(),g.preventDefault())};c.prototype.Lb=function(e,g){var p=performance.now()-e.uy;e.il||(1<p&&(e.hasFocus||e.notification.clear(!0,!1),e.Zb.blur(),e.hasFocus=!1,e.xc=!1,e.Zh=-1,e.$h=-1,e.$s=!1,e.bp||(e.Co(e),2>e.pk&&(e.pk=2))),g.stopPropagation&&g.stopPropagation(),g.preventDefault())};c.prototype.Jl=function(e,g){if(g.pageX||g.pageY){var p=g.pageX;g=g.pageY}else p=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
g=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;e.iC();p-=e.offsetLeft;g-=e.offsetTop;e.Zh=p-1|0;e.$h=g-1|0;e.bp||(e.Co(e),2>e.pk&&(e.pk=2))};c.prototype.Ah=function(e){!e&&!this.notification.Ok()||this.hn||this.Co(this);this.hn=e};window.IconManager=l;window.Menu=f;window.MenuManager=c})();(function(){function d(a,k,c,f,e,g){this.Om=a;this.Pm=k;this.width=c;this.height=f;this.BG=e;this.tD=g}function m(a){var k=a.lastIndexOf(".");-1!==k&&(a=a.substr(0,k));this.name=a;this.kk=this.Kh=0;this.$f=this.ce=this.Sb=-1;this.cm=this.In=0;this.Fq=this.Lt=!1;this.Cp=this.Ne=this.ca="";this.Z=this.U=this.Vn=this.Xb=this.pb=!1;this.Zc=l.Hl;this.ff=-1;this.Ld=this.fe=!1;this.dc=-1;this.Xh=1;this.Af=this.Yw=this.Zw=this.$w=this.ax=this.pe=this.bd=this.Dd=this.Sc=-1;this.sa=!1;this.Oc=-1;this.fn=this.dn=
this.me=this.Fd=null;this.f=this.zf=-1;this.height=this.width=0;this.Ze=this.kd=null;this.vh=this.Rf=this.Rb=this.title="";this.Bf=2;this.mo=0;this.Yk=this.fg=!1;this.Zz=this.Zy="";this.VF=this.kv=this.jv=this.lv=-1;this.$z=this.aA=null}var l={Uy:"none",Ap:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iy:"0123456789abcdef",km:86,Tq:22,Uq:6,eo:8,wD:"XRLE",uz:"Pos",Ux:"Gen",C:"",ZB:":",mx:"ptkcs",ds:"012345678ceaiknjqrytwz-",Rh:"0123456789",vw:"0123456789xyz",uw:"0123",ww:"0123456789",
OG:8191,NG:1038,PG:7157,GA:"0123456omp-",vH:"0123456",TA:"01234",Wz:["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"],Uz:"omp",QF:[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,226,204,106,142,102],[108,170,198]]],cs:" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" "),bs:"  omp omp omp  ".split(" "),uE:[0,2,6,10,13,10,6,2,0],RE:[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,
4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]],RF:[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]],Pj:13,maxWidth:16384,maxHeight:16384,yH:256,vl:new Uint32Array(256),mv:new Uint8Array(8192),iv:new Uint8Array(8192),Em:new Uint8Array(512),hv:new Uint8Array(512),FG:new Uint16Array(512),Ia:!1,$l:!1,Tt:"history",Yr:"l",Xr:"le",Zr:"lv",Ot:"h",Hw:"v",fg:!1,Ht:0,zj:!1,tr:0,ur:0,yh:!1,index:0,pu:1,nu:500,EE:0,
xE:256,BE:0,vE:1,om:0,hs:1,tx:2,er:1,Zq:500,Ry:0,Ky:256,$q:0,Vq:0,yf:0,gg:1,Xs:2,oi:-1,ni:-1,Hl:0,Um:1,Vm:2,en:"|",$d:!1,SF:"@RULE",UF:"@TREE",lv:"num_states",jv:"num_neighbors",kv:"num_nodes",TF:"@TABLE",Xz:"@COLORS",Yz:"@ICONS"};m.prototype.g=function(a){this.ca=a.ca;this.pb=a.pb;this.Ne=a.Ne;this.U=a.U;this.Z=a.Z;this.Kh=a.Kh;this.kk=a.kk;this.Zc=a.Zc;this.ff=a.ff;this.fe=a.fe;this.Ld=a.Ld;this.dc=a.dc;this.Af=a.Af;this.Xh=a.Xh;this.Sc=a.Sc;this.Dd=a.Dd;this.bd=a.bd;this.pe=a.pe;this.sa=a.sa;this.Oc=
a.Oc;this.zf=a.zf;this.f=a.f;this.Bf=a.Bf;a.me&&(this.me=new Uint8Array(a.me.length),this.me.set(a.me));a.Fd&&(this.Fd=new Uint8Array(a.Fd.length),this.Fd.set(a.Fd))};m.prototype.lC=function(a,k){a.me&&(this.fn=k.L(Uint8,a.me.length,"HROT.altSurvivals"),this.fn.set(a.me));a.Fd&&(this.dn=k.L(Uint8,a.Fd.length,"HROT.altBirths"),this.dn.set(a.Fd));this.ax=a.Sc;this.$w=a.Dd;this.Zw=a.bd;this.Yw=a.pe};m.prototype.MF=function(){this.Ne=this.ca="";this.Z=this.U=this.pb=!1;this.kk=this.Kh=0;this.Zc=l.Hl;
this.ff=-1;this.Ld=this.fe=!1;this.Af=this.dc=-1;this.sa=!1;this.f=this.zf=this.Oc=-1;this.Bf=2};m.prototype.gE=function(a){return this.Ld!==a.Ld||this.sa!==a.sa?"Alternate is different rule family":(-1===this.f?this.Bf:this.f)!==(-1===a.f?a.Bf:a.f)?"Alternate has different number of states":this.U!==a.U||this.Z!==a.Z||this.Zc!==a.Zc||this.fe!==a.fe||this.ff!==a.ff||this.Af!==a.Af||this.zf!==a.zf?"Alternate has different neighborhood":this.dc!==a.dc||this.Oc!==a.Oc?"Alternate has different range":
this.pb||a.pb?"Alternate can not use none":""};l.JC=function(a,k,c){var f,e,g=0,p=0,q=0,r=!1;var w=k.length;for(f=e=0;f<w;){var v=k[f];f+=1;switch(e){case 0:switch(v){case "!":e=1;a.Rb+="#C ";var z=!0;break;case "O":case "o":case "*":case ".":e=2;p=g=q=0;var b=--f}break;case 1:"\r"!==v&&"\n"!==v&&(" "===v?z||(a.title+=v,a.Rb+=v):(z=!1,a.title+=v,a.Rb+=v));"\n"===v&&(e=0,a.Rb+=v,a.title+=" ");break;case 2:switch(v){case "O":case "o":case "*":case ".":p+=1;break;case "\n":q+=1;p>g&&(g=p);p=0;break;
case " ":case "\t":break;default:f=w,r=!0}}}if(!r){2===e&&"\n"!==v&&(q+=1,p>g&&(g=p));a.height=q;a.width=g;a.vh="Cells";a.kd=Array.X(Uint16,a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap");f=b;for(e=g=0;f<w;)switch(v=k[f],f+=1,v){case "\n":g+=1;e=0;break;case "O":case "o":case "*":a.kd[g][e>>4]|=1<<(~e&15);e+=1;break;case ".":e+=1}this.Ia=!0;this.Fn(a,"",c)}};l.HC=function(a,k,c){var f,e;var g=k.length;var p=[];var q=0;var r=!1;var w=e=0;var v=!1;for(f=10;f<g;){var z=k[f];f+=1;switch(z){case "\n":v&&
(v=!1,2===b&&r&&(w=-w,r=!1),p[q]=[e,w],q+=1);var b=w=e=0;break;case "-":r=!0;0===b?b=1:1===b&&(b=2);break;case " ":1===b&&(r&&(e=-e,r=!1),b=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===b&&(b=1),1===b?e=10*e+parseInt(z,10):(w=10*w+parseInt(z,10),v=!0)}}v&&(2===b&&r&&(w=-w),p[q]=[e,w],q+=1);if(q){g=k=p[0][0];b=z=p[0][1];for(f=1;f<q;f+=1)e=p[f][0],w=p[f][1],e<k&&(k=e),e>g&&(g=e),w<z&&(z=w),w>b&&(b=w);a.height=b-z+1;a.width=g-k+1;a.kd=Array.X(Uint16,
a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap");a.vh="Life 1.06";this.Fn(a,"",c);for(f=0;f<q;f+=1)e=p[f][0]-k,w=p[f][1]-z,a.kd[w][e>>4]|=1<<(~e&15)}};l.Hx=function(a,k,c,f){var e,g,p=[],q=0,r=k.length;var w="";var v=!1;var z=0,b=0,h=!1,n=!1,x=0,u=0;c=c?10:0;for(this.Ia=!0;c<r&&!n;){var t=k[c];c+=1;switch(z){case 0:switch(t){case "#":z=2;break;case "*":case ".":z=3;var A=g=e=0;var y=--c}break;case 2:switch(t){case "C":case "D":z=1;a.Rb+="#C ";var B=!0;break;case "N":z=0;break;case "R":z=4;break;case "P":z=
5;b=0;h=!1;u=x=0;break;case "\n":z=0;break;default:z=1,B=!0}break;case 1:"\r"!==t&&"\n"!==t&&(" "===t?B||(a.title+=t,a.Rb+=t):(B=!1,a.title+=t,a.Rb+=t));"\n"===t&&(z=0,a.title+=" ",a.Rb+=t);break;case 4:"\n"===t?z=0:(w+=t,v=!0);break;case 5:switch(t){case "\n":z=0;2===b&&h&&(u=-u,h=!1);break;case "-":h=!0;0===b?b=1:1===b&&(b=2);break;case " ":1===b&&(h&&(x=-x,h=!1),b=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===b&&(b=1),1===b?x=10*x+parseInt(t,
10):u=10*u+parseInt(t,10)}break;case 3:switch(t){case "\n":e>g&&(g=e);e=0;A+=1;break;case "#":p[q]=new d(x,u,g,A,y,c-1);q+=1;z=2;break;case "*":case ".":e+=1;break;case " ":case "\t":break;default:n=!0}}}"\n"!==t&&(A+=1);3===z&&(p[q]=new d(x,u,g,A,y,c-1),q+=1);if(q&&!n){x=p[0].Om;u=p[0].Pm;t=x+p[0].width-1;e=u+p[0].height-1;for(c=1;c<q;c+=1)p[c].Om<x&&(x=p[c].Om),p[c].Pm<u&&(u=p[c].Pm),p[c].Om+p[c].width-1>t&&(t=p[c].Om+p[c].width-1),p[c].Pm+p[c].height-1>e&&(e=p[c].Pm+p[c].height-1);a.height=e-u+
1;a.width=t-x+1;a.kd=Array.X(Uint16,a.height,(a.width-1>>4)+1,0,f,"Pattern.lifeMap");a.vh="Life 1.05";a.Ze=Array.X(Uint8,a.height,a.width,0,f,"Pattern.multiStateMap");v?(this.Kx(a,w,!1,f),this.Ia?0<=a.f||a.Xb||(a.Ze=null):(a.f=-1,a.Xb=!1)):this.Fn(a,"",f);for(c=0;c<q;c+=1)for(f=p[c].BG,w=p[c].tD,e=p[c].Om-x,t=p[c].Pm-u,v=e,g=t;f<=w;)switch(t=k[f],f+=1,t){case "\n":g+=1;v=e;break;case "*":a.kd[g][v>>4]|=1<<(~v&15);a.Ze&&(a.Ze[g][v]=1);v+=1;break;default:v+=1}}};l.ak=function(a,k,c,f){var e=0,g,p,q;
c&&(e=4);for(p=0;8192>p;p+=8)for(q=0;4>q;q+=1){c=0;for(g=p+q&f;0<g;)c+=g&1,g>>=1;k===c&&(a[p+q+e]=1)}};l.Ho=function(a,k,c,f){var e=0,g,p,q;c&&(e=16);for(p=0;512>p;p+=32)for(q=0;16>q;q+=1){c=0;for(g=p+q&f;0<g;)c+=g&1,g>>=1;k===c&&(a[p+q+e]=1)}};l.zD=function(a){return(a&7)<<6|(a&448)>>6|a&56};l.Pz=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};l.qG=function(a,k,c){var f;for(f=0;4>f;f+=1)a[k]=c,k=this.Pz(k);k=this.zD(k);for(f=0;4>f;f+=1)a[k]=c,
k=this.Pz(k)};l.fG=function(a,k,c,f,e){var g=c?16:0;if(2>k||4<k)this.Ho(a,k,c,254);else if(c=this.Uz.indexOf(f),-1!==c)for(k=this.QF[k-2][c],c=0;c<k.length;c+=1)f=k[c]+g,a[f]=e,a[f+256]=e,a[f+1]=e,a[f+257]=e};l.pG=function(a,k,c,f,e){var g=0,p=k-1;0===k||8===k?this.Ho(a,k,c,511):(3<p&&(p=6-p,g=495),k=this.Wz[p].indexOf(f),-1!==k&&(g^=this.RF[p][k],c&&(g|=16),this.qG(a,g,e)))};l.jA=function(a,k,c,f){var e=k.length,g=0,p="",q;for(q=0;q<e;q+=1){var r=k.charCodeAt(q)-48;g|=1<<r;this.Ho(a,r,c,f)}for(q=
0;9>q;q+=1)0!==(g&1<<q)&&(p+=String(q));return p};l.hx=function(a){for(var k=0;a;)k+=1,a&=a-1;return k};l.AB=function(a,k){var c="",f=0;if(k[a]){k=k[a];0!==(k&1<<this.Pj)&&(f=1,k&=~(1<<this.Pj));var e=this.hx(k);var g=2>a||4<a?0:3;e+f>g>>1&&(k=~k&(1<<g)-1)&&(f=1-f);if(!f||k)for(c+=String(a),f&&(c+="-"),a=0;a<g;a+=1)0!==(k&1<<a)&&(c+=this.Uz[a])}else c+=String(a);return c};l.BB=function(a,k){var c="",f=0;if(k[a]){k=k[a];0!==(k&1<<this.Pj)&&(f=1,k&=~(1<<this.Pj));var e=this.hx(k);var g=this.uE[a];(f||
7!==e||13!==g)&&e+f>g>>1&&(k=~k&(1<<g)-1)&&(f=1-f);if(!f||k)for(c+=String(a),f&&(c+="-"),e=0;e<g;e+=1)f=this.RE[a][e],0!==(k&1<<f)&&(c+=this.Wz[3][f])}else c+=String(a);return c};l.fA=function(a,k,c){var f=k.length,e=0,g=[],p="",q;k+=" ";for(q=0;7>q;q+=1)g[q]=0;for(q=0;q<f;q+=1){var r=k.charCodeAt(q)-48;if(0<=r&&8>=r){var w=0!==(e&1<<r);e|=1<<r;var v=k[q+1];var z=this.bs[r].indexOf(v);-1!==z||w||this.Ho(a,r,c,254);var b=1;"-"===v&&(b=0,q+=1,v=k[q+1],z=this.bs[r].indexOf(v));-1!==z||"0"<=v&&"9">=v||
" "===v||(this.C=(c?"S":"B")+r+v+" not valid",q=f);w&&(w=0,0===(g[r]&1<<this.Pj)&&(w=1),w!==b&&(this.C=(c?"S":"B")+r+" can not have minus and non-minus",z=-1,q=f));for(;-1!==z;)0!==(g[r]&1<<z)?(this.C="duplicate "+r+this.bs[r][z],z=-1,q=f):(this.fG(a,r,c,v,b),g[r]|=1<<z,b||(g[r]|=1<<this.Pj),q+=1,v=k[q+1],z=this.bs[r].indexOf(v))}else this.C="missing digit prefix"}for(q=0;7>q;q+=1)0!==(e&1<<q)&&(p+=this.AB(q,g));return p};l.hA=function(a,k,c){var f=k.length,e=0,g=[],p="",q;k+=" ";for(q=0;9>q;q+=1)g[q]=
0;for(q=0;q<f;q+=1){var r=k.charCodeAt(q)-48;if(0<=r&&8>=r){var w=0!==(e&1<<r);e|=1<<r;var v=k[q+1];var z=this.cs[r].indexOf(v);-1!==z||w||this.Ho(a,r,c,511);var b=1;"-"===v&&(b=0,q+=1,v=k[q+1],z=this.cs[r].indexOf(v));-1!==z||"0"<=v&&"9">=v||" "===v||(this.C=(c?"S":"B")+r+v+" not valid",q=f);w&&(w=0,0===(g[r]&1<<this.Pj)&&(w=1),w!==b&&(this.C=(c?"S":"B")+r+" can not have minus and non-minus",z=-1,q=f));for(;-1!==z;)0!==(g[r]&1<<z)?(this.C="duplicate "+r+this.cs[r][z],z=-1,q=f):(this.pG(a,r,c,v,b),
g[r]|=1<<z,b||(g[r]|=1<<this.Pj),q+=1,v=k[q+1],z=this.cs[r].indexOf(v))}else this.C="missing digit prefix"}for(q=0;9>q;q+=1)0!==(e&1<<q)&&(p+=this.BB(q,g));return p};l.DC=function(a,k){var c;for(c=0;512>c;c+=1)a[c]=0!==(k&1<<(c&7))?1:0!==(c&16)?1:0};l.ht=function(a,k,c){var f=12,e=l.OG,g=a.Kh,p=a.kk;a.Zc===l.Um?(f=3,e=l.NG):a.Zc===l.Vm&&(f=9,e=l.PG);if(arrayFill)k.fill(0);else for(a=0;a<k.length;a+=1)k[a]=0;if(c)if(arrayFill)c.fill(0);else for(a=0;a<c.length;a+=1)c[a]=0;if(0!==(g&1))if(0!==(p&1<<
f)){g=~g;p=~p;for(a=0;a<=f;a+=1)p&1<<f-a&&this.ak(k,a,!1,e);for(a=0;a<=f;a+=1)g&1<<f-a&&this.ak(k,a,!0,e);c.set(k)}else{for(a=0;a<=f;a+=1)~g&1<<a&&this.ak(c,a,!1,e);for(a=0;a<=f;a+=1)~p&1<<a&&this.ak(c,a,!0,e);for(a=0;a<=f;a+=1)p&1<<f-a&&this.ak(k,a,!1,e);for(a=0;a<=f;a+=1)g&1<<f-a&&this.ak(k,a,!0,e)}else{for(a=0;a<=f;a+=1)0!==(g&1<<a)&&this.ak(k,a,!1,e);for(a=0;a<=f;a+=1)0!==(p&1<<a)&&this.ak(k,a,!0,e);c&&c.set(k)}};l.CC=function(a,k,c,f,e){var g=this.vw,p="",q="";e===l.Um?g=this.uw:e===l.Vm&&(g=
this.ww);for(e=a.Kh=0;e<k.length;e+=1){var r=g.indexOf(k[e]);a.Kh|=1<<r}for(e=a.kk=0;e<c.length;e+=1)r=g.indexOf(c[e]),a.kk|=1<<r;for(e=0;e<g.length;e+=1)0!==(a.Kh&1<<e)&&(p+=g[e]);for(e=0;e<g.length;e+=1)0!==(a.kk&1<<e)&&(q+=g[e]);return-1!==f?q+"/"+p+"/"+f:"B"+p+"/S"+q};l.zC=function(a,k,c,f,e,g,p,q,r,w){var v=0,z=this.FG;var b=(1<<this.eo+1)/6|0;var h=new Uint8Array(512);if(a.pb)c=l.Uy;else if(g)c=this.CC(a,k,c,r,p);else{a=511;e?a=254:q&&(a=186);if(arrayFill)h.fill(0),w.fill(0);else for(g=0;g<
h.length;g+=1)h[g]=0,w[g]=0;for(g=0;g<h.length;g+=1)z[g]=e?g:(g&448)>>6|g&56|(g&7)<<6;if(""!==f){c="MAP";for(g=0;g<b;g+=1)c+=f[g],k=l.Ap.indexOf(f[g]),h[v]=k>>5,v+=1,h[v]=k>>4&1,v+=1,h[v]=k>>3&1,v+=1,h[v]=k>>2&1,v+=1,h[v]=k>>1&1,v+=1,h[v]=k&1,v+=1;k=l.Ap.indexOf(f[g]);h[v]=k>>5;h[v+1]=k>>4&1;c+=l.Ap[k&48];for(g=0;512>g;g+=1){f=0;b=l.eo;for(v=8;0<=v;--v)0!==(a&1<<v)&&(0!==(g&1<<v)&&(f|=1<<b),--b);w[z[g]]=h[f]}-1!==r&&(c+="/"+r)}else q?(v=this.jA(w,k,!1,a),w=this.jA(w,c,!0,a)):e?(v=this.fA(w,k,!1),
w=this.fA(w,c,!0)):(v=this.hA(w,k,!1),w=this.hA(w,c,!0)),c=-1!==r?w+"/"+v+"/"+r:"B"+v+"/S"+w}return c};l.zH=function(a,k){var c,f="";for(c=0;c<=k;c+=1){var e=this.ds[c];-1!==a.indexOf(e)&&(f+=this.ds[k-c])}return f};l.xH=function(a){var k,c="";for(k=0;9>k;k+=1){var f=this.ds[k];-1===a.indexOf(f)&&(c+=f)}return c};l.Ez=function(a){var k=a,c=0;if(-1!==a.indexOf(" "))for(k="";c<a.length;)" "!==a[c]&&(k+=a[c]),c+=1;return k};l.XC=function(a,k){for(var c=!0,f=0,e,g=1;g<k.length&&c;)e=this.Rh.indexOf(k[g]),
-1!==e?f=10*f+e:(this.C="Illegal character in Wolfram rule",c=!1),g+=1;c&&(0>f||254<f?(this.C="Wolfram rule number must be 0-254",c=!1):0!==(f&1)?(this.C="Wolfram rule number must be even",c=!1):(this.DC(this.Em,f),a.ff=f,a.ca="W"+f));return c};l.CB=function(a,k){if(""===k)if(a.U)a.ca+="H";else if(a.fe)a.ca+="V";else if(a.Z)switch(a.Zc){case l.Hl:a.ca+=l.Yr.toUpperCase();break;case l.Um:a.ca+=l.Xr.toUpperCase();break;case l.Vm:a.ca+=l.Zr.toUpperCase()}k=AliasManager.It(a.ca);null===k&&a.Ld&&0===a.Xh&&
(k="R"+a.dc+",C"+a.f+",M1,S"+a.Sc+".."+a.Dd+",B"+a.bd+".."+a.pe+",N",k=a.Af===this.om?k+"M":a.Af===this.hs?k+"N":k+"C",k=AliasManager.It(k));a.Xb&&(a.ca+="History");-1!==a.Sb&&(a.ca+=":"+l.mx[a.Sb].toUpperCase(),a.ca+=a.ce,a.In&&(a.ca+="+"+a.In),a.Lt&&(a.ca+="*"),a.$f!==a.ce||a.cm||a.Fq)&&(a.ca+=","+a.$f,a.cm&&(a.ca+="+"+a.cm),a.Fq&&(a.ca+="*"));null!==k&&(""===k&&(k=a.Xb?"Life":"Conway's Life"),a.Xb&&(k+="History"),a.Ne=k)};l.eH=function(a,k){var c=l.km,f=a.length;f>=c?this.eo=8:(c=l.Tq,f>=c?(this.eo=
6,k.U=!0):(c=l.Uq,f>=c?(this.eo=4,k.fe=!0):c=-1));if(0<=c)for(k=0;k<c;k+=1)-1===l.Ap.indexOf(a[k])&&(c=-1);return c};l.Jd=function(a,k,c,f,e){var g=0,p=k.length,q=a.substr(this.index,p),r;if(q!==k)","===k[0]&&(","===q[0]&&(q=q.substr(1)),k=k.substr(1)),this.C="LtL expected '"+k.toUpperCase()+"' got '"+q.toUpperCase()+"'",this.index=-1;else if(","===k[0]&&(k=k.substr(1)),this.index+=p,p=a[this.index],this.index<a.length?r=p.charCodeAt(0):r=-1,"n"===k)"m"===p||"n"===p||"c"===p?(this.index+=1,g=this.om,
"n"===p?g=this.hs:"c"===p&&(g=this.tx)):(this.C="LtL expected 'NM', 'NN' or 'NC' got 'N"+p.toUpperCase()+"'",this.index=-1);else if(48>r||57<r)this.C="LtL '"+e+k.toUpperCase()+"' needs a number",this.index=-1;else{for(;48<=r&&57>=r;)g=10*g+(r-48),this.index+=1,this.index<a.length?r=a[this.index].charCodeAt(0):r=-1;-1!==c&&g<c&&(this.C="LtL '"+e+k.toUpperCase()+g+"' < "+c,this.index=-1);-1!==f&&g>f&&(this.C="LtL '"+e+k.toUpperCase()+g+"' > "+f,this.index=-1)}return g};l.OC=function(a,k){var c=!1,f=
0;this.index=0;var e=this.Jd(k,"r",this.pu,this.nu,"");-1!==this.index&&(a.dc=e,e=this.Jd(k,",c",this.EE,this.xE,""),-1!==this.index&&(2>e&&(e=2),a.f=e,e=this.Jd(k,",m",this.BE,this.vE,""),-1!==this.index&&(a.Xh=e,e=this.Jd(k,",s",0,-1,""),-1!==this.index&&(a.Sc=e,e=this.Jd(k,"..",a.Sc,-1,"S"),-1!==this.index&&(a.Dd=e,e=this.Jd(k,",b",0,-1,""),-1!==this.index&&(a.bd=e,e=this.Jd(k,"..",a.bd,-1,"B"),-1!==this.index&&(a.pe=e,e=this.Jd(k,",n",-1,-1,""),-1!==this.index&&(a.Af=e,c=!0))))))));if(c)if(this.index!==
k.length)c=!1,this.C="LtL invalid characters after rule";else{switch(a.Af){case l.om:f=(2*a.dc+1)*(2*a.dc+1);break;case l.hs:f=2*a.dc*(a.dc+1)+1;break;case l.tx:e=0;var g=a.dc*a.dc+a.dc;for(k=-a.dc;k<=a.dc;k+=1){for(f=0;(f+1)*(f+1)+k*k<=g;)f+=1;e+=2*f+1}f=e}f-=1-a.Xh;a.bd>f&&(c=!1,this.C="LtL 'B"+a.bd+"..' > "+f);a.pe>f&&(c=!1,this.C="LtL 'B.."+a.pe+"' > "+f);a.Sc>f&&(c=!1,this.C="LtL 'S"+a.Sc+"..' > "+f);a.Dd>f&&(c=!1,this.C="LtL 'S.."+a.Dd+"' > "+f)}return c};l.QC=function(a,k){var c=!1;this.index=
0;a.f=2;a.Xh=1;a.Af=l.om;var f=this.Jd(k,"",this.pu,this.nu,"");-1!==this.index&&(a.dc=f,f=this.Jd(k,",",0,-1,""),-1!==this.index&&(a.bd=f,f=this.Jd(k,",",a.bd,-1,"B"),-1!==this.index&&(a.pe=f,f=this.Jd(k,",",0,-1,""),-1!==this.index&&(a.Sc=f,f=this.Jd(k,",",a.Sc,-1,"S"),-1!==this.index&&(a.Dd=f,c=!0)))));c&&(this.index!==k.length?(c=!1,this.C="LtL invalid characters after rule"):(k=(2*a.dc+1)*(2*a.dc+1),a.bd>k&&(c=!1,this.C="LtL 'B"+a.bd+"..' > "+k),a.pe>k&&(c=!1,this.C="LtL 'B.."+a.pe+"' > "+k),
a.Sc>k&&(c=!1,this.C="LtL 'S"+a.Sc+"..' > "+k),a.Dd>k&&(c=!1,this.C="LtL 'S.."+a.Dd+"' > "+k)));return c};l.PC=function(a,k){var c=!1;this.index=0;-1===a.f&&(a.f=2);a.Xh=1;a.Af=l.om;var f=this.Jd(k,"r",this.pu,this.nu,"");-1!==this.index&&(a.dc=f,f=this.Jd(k,"b",0,-1,""),-1!==this.index&&(a.bd=f,f=this.Jd(k,"t",a.bd,-1,"B"),-1!==this.index&&(a.pe=f,f=this.Jd(k,"s",0,-1,""),-1!==this.index&&(a.Sc=f,f=this.Jd(k,"t",a.Sc,-1,"S"),-1!==this.index&&(a.Dd=f,c=!0)))));c&&(this.index!==k.length?(c=!1,this.C=
"LtL invalid characters after rule"):(k=(2*a.dc+1)*(2*a.dc+1),a.bd>k&&(c=!1,this.C="LtL 'B"+a.bd+"' > "+k),a.pe>k&&(c=!1,this.C="LtL 'B..T"+a.pe+"' > "+k),a.Sc>k&&(c=!1,this.C="LtL 'S"+a.Sc+"..' > "+k),a.Dd>k&&(c=!1,this.C="LtL 'S..T"+a.Dd+"' > "+k)));return c};l.Cz=function(a,k,c,f,e){var g=!1,p,q="HROT.",r,w=0;if(this.index+c>a.length)this.C="HROT '"+k+"' needs "+c+" hex digits";else{for(p=r=0;r<c&&-1!==p;)p=this.iy.indexOf(a[this.index]),-1!==p&&(this.index+=1,r+=1);if(-1===p)this.C="HROT '"+k+
"' expected hex got '"+a[this.index]+"'";else{"B"===k?q+="births":(q+="survivals",w=1);e=e.L(Uint8,(c<<2)+1+w,q);g=0;e[g]=0;g+=1;--r;"S"===k&&(e[g]=0,g+=1);for(;0<=r;)p=this.iy.indexOf(a[this.index-c+r]),--r,e[g]=p&1,g+=1,e[g]=p>>1&1,g+=1,e[g]=p>>2&1,g+=1,e[g]=p>>3&1,g+=1;"B"===k?f.Fd=e:f.me=e;g=!0}}return g};l.Dn=function(a,k){var c=-1;this.index+=1;if(this.index<a.length){var f=a[this.index].charCodeAt(0);if(48>f||57<f)this.C="HROT '"+k+"' needs a number";else for(c=f-48,this.index+=1,f=-1,this.index<
a.length&&(f=a[this.index].charCodeAt(0));48<=f&&57>=f;)c=10*c+(f-48),this.index+=1,this.index<a.length?f=a[this.index].charCodeAt(0):f=-1}else this.C="HROT '"+k+"' needs a number";return c};l.Ix=function(a,k,c,f){var e=!0,g;for(g=this.Dn(a,c);e&&-1!==g;){var p=-1;this.index<a.length&&"-"===a[this.index]&&(p=this.Dn(a,c),-1===p&&(this.C="HROT '"+c+g+"-' needs a number",e=!1));if(e&&(-1===p&&(p=g),g>p&&(this.C="HROT '"+c+g+"-"+p+"' wrong order",e=!1),e)){"S"===c?(this.$q=p,g+=1,p+=1):this.Vq=p;g>f&&
(g=f);for(p>f&&(p=f);g<=p;g+=1)k[g]=1;g=-1;this.index<a.length&&","===a[this.index]&&(g=this.Dn(a,c),-1===g&&(--this.index,this.C=""))}}return e};l.xG=function(a,k){var c=a.dc,f=(2*c+1)*(2*c+1);a.Oc=c;a.zf=a.Af;a.me=k.L(Uint8,f+1,"HROT.survivals");a.Fd=k.L(Uint8,f,"HROT.births");for(c=a.Sc;c<=a.Dd;c+=1)a.me[c]=1;for(c=a.bd;c<=a.pe;c+=1)a.Fd[c]=1;if(this.$d){a.fn=k.L(Uint8,f+1,"HROT.altSurvivals");a.dn=k.L(Uint8,f,"HROT.altBirths");for(c=a.ax;c<=a.$w;c+=1)a.fn[c]=1;for(c=a.Zw;c<=a.Yw;c+=1)a.dn[c]=
1}a.sa=!0};l.MC=function(a,k,c){var f=!1,e,g;this.$q=this.Vq=this.index=e=0;if("r"!==k[this.index])this.C="HROT expected 'R' got '"+k[this.index].MG()+"'";else{var p=this.Dn(k,"R");-1!==p&&(p<this.er?this.C="HROT 'R' < "+this.er:p>this.Zq?this.C="HROT 'R' > "+this.Zq:(a.Oc=p,f=!0,e=(2*p+1)*(2*p+1)))}f&&(f=!1,this.index<k.length?","!==k[this.index]?this.C="HROT expected ',' got "+k[this.index].toUpperCase():(this.index+=1,this.index<k.length?"c"!==k[this.index]?this.C="HROT expected 'C' got "+k[this.index].toUpperCase():
(p=this.Dn(k,"C"),-1!==p&&(p<this.Ry?this.C="HROT 'C"+p+"' < "+this.Ry:p>this.Ky?this.C="HROT 'C"+p+"' > "+this.Ky:(2>p&&(p=2),a.f=p,f=!0))):this.C="HROT expected 'C'"):this.C="HROT expected ','");f&&(f=!1,this.index<k.length?","!==k[this.index]?this.C="HROT expected ',' got "+k[this.index].toUpperCase():(this.index+=1,this.index<k.length?"s"!==k[this.index]?this.C="HROT expected 'S' got "+k[this.index].toUpperCase():(a.me=c.L(Uint8,e+2,"HROT.survivals"),f=this.Ix(k,a.me,"S",e)):this.C="HROT expected 'S'"):
this.C="HROT expected ','");f&&(f=!1,this.index<k.length?","!==k[this.index]?this.C="HROT expected ',' got "+k[this.index].toUpperCase():(this.index+=1,this.index<k.length?"b"!==k[this.index]?this.C="HROT expected 'B' got "+k[this.index].toUpperCase():(a.Fd=c.L(Uint8,e+1,"HROT.births"),f=this.Ix(k,a.Fd,"B",e)):this.C="HROT expected 'B'"):this.C="HROT expected ','");a.zf=this.yf;f&&this.index<k.length&&","===k[this.index]&&(f=!1,this.index+=1,this.index<k.length?"n"===k[this.index]?(this.index+=1,
this.index<k.length?"m"===k[this.index]||"n"===k[this.index]||"c"===k[this.index]?("n"===k[this.index]?a.zf=this.gg:"c"===k[this.index]&&(a.zf=this.Xs),this.index+=1,f=!0):this.C="HROT expected 'NM', 'NN' or 'NC' got 'N"+k[this.index].toUpperCase()+"'":this.C="HROT 'N' needs a neighborhood"):this.C="HROT expected 'N' got '"+k[this.index].toUpperCase()+"'":this.C="HROT expected 'N'");if(f){switch(a.zf){case l.yf:e=(2*a.Oc+1)*(2*a.Oc+1);break;case l.gg:e=2*a.Oc*(a.Oc+1)+1;break;case l.Xs:c=0;e=a.Oc*
a.Oc+a.Oc;for(g=-a.Oc;g<=a.Oc;g+=1){for(p=0;(p+1)*(p+1)+g*g<=e;)p+=1;c+=2*p+1}e=c}--e;this.$q>e&&(f=!1,this.C="HROT 'S"+this.$q+"' > "+e);f&&this.Vq>e&&(f=!1,this.C="HROT 'B"+this.Vq+"' > "+e);f&&(this.index!==k.length?(f=!1,this.C="HROT invalid characters after rule"):a.sa=!0)}return f};l.LC=function(a,k,c){var f=!1,e=0;this.index=0;-1===a.f&&(a.f=2);if("r"!==k[this.index])this.C="HROT expected 'R' got '"+k[this.index].MG()+"'";else{var g=-1;this.index+=1;this.index<k.length&&(g=k[this.index].charCodeAt(0));
if(48>g||57<g)this.C="HROT 'R' needs a number";else{var p=g-48;this.index+=1;g=-1;for(this.index<k.length&&(g=k[this.index].charCodeAt(0));48<=g&&57>=g;)p=10*p+(g-48),this.index+=1,this.index<k.length?g=k[this.index].charCodeAt(0):g=-1;p<this.er?this.C="HROT 'R' < "+this.er:p>this.Zq?this.C="HROT 'R' > "+this.Zq:(a.Oc=p,f=!0,e=p*(p+1))}}f&&(f=!1,this.index<k.length?"b"!==k[this.index]?this.C="HROT expected 'B' got "+k[this.index].toUpperCase()+"'":(this.index+=1,f=this.Cz(k,"B",e,a,c)):this.C="HROT expected 'B'");
f&&(f=!1,this.index<k.length?"s"!==k[this.index]?this.C="HROT expected 'S' got "+k[this.index].toUpperCase()+"'":(this.index+=1,f=this.Cz(k,"S",e,a,c)):this.C="HROT expected 'S'");f&&this.index<k.length&&"z"===k[this.index]&&(a.me[1]=1,this.index+=1);f&&(this.index!==k.length?(f=!1,this.C="HROT invalid characters after rule"):(a.zf=l.yf,a.sa=!0));return f};l.dx=function(a,k){for(var c=a.length,f=-1,e="",g=0;g<c;)1===a[g]?-1===f&&(f=g):-1!==f&&(""!==e&&(e+=","),e+=f+k,g-1!==f&&(e+="-"+(g-1+k)),f=-1),
g+=1;-1!==f&&(""!==e&&(e+=","),e+=f+k,g-1!==f&&(e+="-"+(g-1+k)));return e};l.Fn=function(a,k,c){var f="",e=!1;var g=AliasManager.Wx(k);null!==g&&(f=AliasManager.It(g),k=g);g=k.indexOf(l.en);if(-1===g)(e=this.nt(a,k,c,this.Em))&&a.Z&&this.ht(a,this.mv,this.iv);else if(-1===k.substr(g+1).indexOf(l.en)){if(e=this.nt(a,k.substr(0,g),c,this.hv)){var p=new m(a.name);p.g(a);a.MF();if(e=this.nt(a,k.substr(g+1),c,this.Em))if(this.C=a.gE(p),""===this.C)if(!a.Z&&(this.Em[0]||this.hv[0])||a.Z&&0!==(a.Kh&1)||
0!==(p.Kh&1))this.C="Alternate not supported with B0",e=!1;else{a.Z&&(this.ht(p,this.iv,null),this.ht(a,this.mv,null));if(""!==f)a.Ne=f;else if(""!==a.Ne||""!==p.Ne)""===a.Ne&&(a.Ne=a.ca),""===p.Ne&&(p.Ne=p.ca),a.Ne=p.Ne+l.en+a.Ne;a.ca=p.ca+l.en+a.ca;(a.sa||a.Ld)&&a.lC(p,c);this.$d=!0}else e=!1}}else this.C="Only one alternate allowed";return e};l.nt=function(a,k,c,f){var e=!1,g=null,p=null,q=null,r=this.ds;var w=l.Ot.length;var v=l.Yr.length;var z=l.Xr.length,b=l.Zr.length,h=l.Hw.length,n="";f[0]=
0;var x=AliasManager.Wx(k);null!==x&&(""===k&&(a.ca="Conway's Life"),k=x);if("map"===k.substr(0,3).toLowerCase()){n=k.substr(3);var u=n.indexOf("/");-1===u?"=="===n.substr(-2)&&(n=n.substr(0,n.length-2)):"=="===n.substr(u-2,2)&&(n=n.substr(0,u-2)+n.substr(u));k=this.eH(n,a);if(0<=k)if(e=!0,q=n.substr(k),n=n.substr(0,k),"/"===q[0]){x=1;a.f=0;x<q.length&&("g"===q[x].toLowerCase()||"c"===q[x].toLowerCase())&&(x+=1);for(u=0;x<q.length&&-1!==u;)u=this.Rh.indexOf(q[x]),-1!==u?a.f=10*a.f+u:(this.C="Illegal character in generations number",
a.f=-1,e=!1),x+=1;-1!==a.f&&(2>a.f||256<a.f)&&(this.C="Generations number must be 2-256",a.f=-1,e=!1)}else""!==q&&(x=q.length,this.C="MAP length must be "+l.Uq+", "+l.Tq+" or "+l.km+" not "+(x+k),e=!1);else this.C=n.length===l.km||n.length===l.Tq||n.length===l.Uq?"MAP contains illegal base64 character":"MAP length must be "+l.Uq+", "+l.Tq+" or "+l.km+" not "+n.length}else{k=k.toLowerCase();k=this.Ez(k);e=!0;if("g"===k[0]){x=1;for(u=a.f=0;x<k.length&&-1!==u;)u=this.Rh.indexOf(k[x]),-1!==u&&(a.f=10*
a.f+u,x+=1);1<x&&(2>a.f||256<a.f?(this.C="Generations number must be 2-256",a.f=-1,e=!1):(x<k.length&&"/"===k[x]&&(x+=1),k=k.substr(x),e=!0))}if(e&&(u=k.lastIndexOf("g"),-1!==u&&u!==k.length-1&&!(0<u&&"/"===k[u-1]))){x=u+1;for(u=a.f=0;x<k.length&&-1!==u;)u=this.Rh.indexOf(k[x]),-1!==u&&(a.f=10*a.f+u,x+=1);x===k.length?2>a.f||256<a.f?(this.C="Generations number must be 2-256",a.f=-1,e=!1):(k=k.substr(0,k.lastIndexOf("g")),e=!0):a.f=-1}if(e)if(e=!1,"r"===k[0]||"1"<=k[0]&&"9">=k[0]&&-1!==k.indexOf(",")){if(e=
"r"===k[0]?-1!==k.indexOf(".")?this.OC(a,k):-1!==k.indexOf("t")?this.PC(a,k):-1!==k.indexOf(",")?this.MC(a,k,c):this.LC(a,k,c):this.QC(a,k))a.sa?(a.ca="R"+a.Oc+",",a.ca+="C"+a.f+",",a.ca+="S"+this.dx(a.me,-1)+",",a.ca+="B"+this.dx(a.Fd,0),a.zf!==this.yf&&(a.ca+=",N",a.ca=a.zf===this.gg?a.ca+"N":a.ca+"C")):(a.Ld=!0,a.ca="R"+a.dc+",C"+a.f+",M"+a.Xh+",S"+a.Sc+".."+a.Dd+",B"+a.bd+".."+a.pe+",N",a.ca=a.Af===this.om?a.ca+"M":a.Af===this.hs?a.ca+"N":a.ca+"C",0===a.Xh&&(a.Sc+=1,a.Dd+=1))}else if("w"===k[0])e=
this.XC(a,k);else if(x=k.lastIndexOf(l.Yr),-1!==x&&x===k.length-v&&(a.Z=!0,a.Zc=l.Hl,k=k.substr(0,k.length-v),r=this.vw),x=k.lastIndexOf(l.Xr),-1!==x&&x===k.length-z&&(a.Z=!0,a.Zc=l.Um,k=k.substr(0,k.length-z),r=this.uw),x=k.lastIndexOf(l.Zr),-1!==x&&x===k.length-b&&(a.Z=!0,a.Zc=l.Vm,k=k.substr(0,k.length-b),r=this.ww),x=k.lastIndexOf(l.Ot),-1!==x&&x===k.length-w&&(a.U=!0,k=k.substr(0,k.length-w),r=this.GA),x=k.lastIndexOf(l.Hw),-1!==x&&x===k.length-h&&(a.fe=!0,k=k.substr(0,k.length-h),r=this.TA),
c=k.indexOf("/"),-1===c&&(c=k.indexOf("_")),-1!==c&&(x=k.lastIndexOf("/"),-1===x&&(x=k.lastIndexOf("_")),x!==c&&(q=k.substring(x+1),k=k.substr(0,x),x=k.lastIndexOf(l.Yr),-1!==x&&x===k.length-v&&(a.Z=!0,a.Zc=l.Hl,k=k.substr(0,k.length-v),r=this.vw),x=k.lastIndexOf(l.Xr),-1!==x&&x===k.length-z&&(a.Z=!0,a.Zc=l.Um,k=k.substr(0,k.length-z),r=this.uw),x=k.lastIndexOf(l.Zr),-1!==x&&x===k.length-b&&(a.Z=!0,a.Zc=l.Vm,k=k.substr(0,k.length-b),r=this.ww),x=k.lastIndexOf(l.Ot),-1!==x&&x===k.length-w&&(a.U=!0,
k=k.substr(0,k.length-w),r=this.GA),x=k.lastIndexOf(l.Hw),-1!==x&&x===k.length-h&&(a.fe=!0,k=k.substr(0,k.length-h),r=this.TA))),k===l.Uy)a.pb=!0,a.f=256,e=!0;else{w=k.indexOf("b");v=k.indexOf("s");-1===c?0===w||0===v?-1===v?(g=k,p=""):-1===w?(p=k,g=""):w<v&&-1!==v?(g=k.substring(w+1,v),p=k.substring(v+1)):(p=k.substring(v+1,w),g=k.substring(w+1)):this.C="Unsupported rule name":(-1===w&&-1!==v?w=c:-1!==w&&-1===v&&(v=c),w<v?(g=k.substring(0,c),p=k.substring(c+1)):(g=k.substring(c+1),p=k.substring(0,
c)));-1!==w&&g&&"b"===g[0]&&(g=g.substring(1));-1!==v&&p&&"s"===p[0]&&(p=p.substring(1));if(null!==q)if(x=0,-1!==a.f)this.C="Generations defined twice",g=null;else{a.f=0;x<q.length&&("g"===q[x].toLowerCase()||"c"===q[x].toLowerCase())&&(x+=1);for(u=0;x<q.length&&-1!==u;)u=this.Rh.indexOf(q[x]),-1!==u?a.f=10*a.f+u:(this.C="Illegal character in generations number",a.f=-1,g=null),x+=1;-1!==a.f&&(2>a.f||256<a.f)&&(this.C="Generations number must be 2-256",a.f=-1,g=null)}if(null!==g&&null!==p){e=!0;for(x=
0;x<g.length;)u=r.indexOf(g[x]),-1===u?(this.C="Illegal character in birth specification",e=!1,x=g.length):x+=1;if(e)for(x=0;x<p.length;)u=r.indexOf(p[x]),-1===u?(this.C="Illegal character in survival specification",e=!1,x=p.length):x+=1}}}e&&-1===a.ff&&!1===a.Ld&&!1===a.sa&&(a.ca=this.zC(a,g,p,n,a.U,a.Z,a.Zc,a.fe,a.f,f),""!==this.C&&(e=!1),2===a.f&&(a.f=-1));e&&this.CB(a,n);return e};l.Tl=function(a,k,c,f){var e=0,g=k.length-1,p=!1,q=!0,r,w=0,v=0,z=0,b=0,h=this.vl;for(r=k[e];!p;){var n=r;r=k[e+1];
var x=-1;switch(n){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":b=10*b+parseInt(n,10);break;case "b":x=0;break;case "o":x=1;break;case ".":x=0;break;case "z":x=7;a.Xb=!0;a.Vn=!0;break;case "$":0===b&&(b=1);z+=b;b=0;v>w&&(w=v);v=0;break;case "!":0===b&&(b=1);z+=b;b=0;v>w&&(w=v);p=!0;break;default:q=!1,"A"<=n&&"X">=n?(q=!0,x=n.charCodeAt(0)-64):"p"<=n&&"y">n?"A"<=r&&"X">=r?(q=!0,x=24*(n.charCodeAt(0)-111)+(r.charCodeAt(0)-64),e+=1,r=k[e+1]):"x"===n&&(q=!0,
a.Xb=!0,a.Vn=!0,x=3):"y"===n&&("A"<=r&&"O">=r?(q=!0,x=24*(n.charCodeAt(0)-111)+(r.charCodeAt(0)-64),e+=1,r=k[e+1]):(q=!0,a.Xb=!0,a.Vn=!0,x=5))}if(0<=x)if(0===b&&(b=1),c||(0===h[x]&&(a.mo+=1),h[x]+=b,x>=a.Bf&&(a.Bf=x+1)),0<x&&c)for(;0<b;){a.Ze[z][v]=-1===a.f?x:2===a.f?1===x?LifeConstants.Sa:0:x<a.f?x:1;if(!a.Xb&&-1===a.f||a.Xb&&x&1||-1!==a.f&&1===x)a.kd[z][v>>4]|=1<<(~v&15);v+=1;--b}else v+=b,b=0;q||(" "===n||"\t"===n||"\n"===n?q=!0:(this.C="Illegal character in pattern: "+n,p=a.Yk=!0));e+=1;e===g&&
(p||(0===b&&(b=1),z+=b,b=0,v>w&&(w=v)),p=!0)}c||(0===w&&(z=w=1),a.width=w,a.height=z,w>l.maxWidth||z>l.maxHeight?a.fg=!0:(a.kd=Array.X(Uint16,z,(w-1>>4)+1,0,f,"Pattern.lifeMap"),a.Ze=Array.X(Uint8,z,w,0,f,"Pattern.multiStateMap")),a.vh="RLE");a.Yk&&(e=-1);return e};l.iG=function(a,k){var c=k.indexOf("\n");-1===c&&(c=k.length);a.Zy=k.substring(0,c).trim()};l.Jr=function(a,k,c){for(var f=!1;k<c&&!f;)" "===a[k]?k+=1:f=!0;return k};l.sF=function(a){var k=a.indexOf("\n"),c=0,f=!1,e=0;-1===k&&(k=a.length);
for(;e<k&&!f;)"="===a[e]?f=!0:" "!==a[e]?f=!0:e+=1;if(f&&"="===a[e]){e=this.Jr(a,e+1,k);for(f=!1;e<k&&!f;){var g=l.Rh.indexOf(a[e]);-1!==g?(c=10*c+g,e+=1):f=!0}this.zj=!0;this.Ht=c}};l.Dz=function(a,k){var c=a.indexOf("\n"),f=0,e=0,g=!1,p=!1,q=!1,r=0;-1===c&&(c=a.length);if(k){for(;r<c&&!q;)"="===a[r]?q=!0:" "!==a[r]?q=!0:r+=1;q&&"="===a[r]&&(r+=1)}else q=!0;if(q&&(r=this.Jr(a,r,c),r<c)){"-"===a[r]&&(g=!0,r+=1);for(q=!1;r<c&&!q;)k=l.Rh.indexOf(a[r]),-1!==k?(f=10*f+k,r+=1):q=!0;this.yh=!0;this.tr=
g?-f:f;r=this.Jr(a,r,c);if(r<c&&","===a[r]&&(r=this.Jr(a,r+1,c),r<c)){"-"===a[r]&&(p=!0,r+=1);for(q=!1;r<c&&!q;)k=l.Rh.indexOf(a[r]),-1!==k?(e=10*e+k,r+=1):q=!0;this.ur=p?-e:e}}};l.cC=function(a){var k=a.indexOf(l.wD);0===k&&(k=a.indexOf(l.uz),-1!==k&&this.Dz(a.substr(k+l.uz.length),!0),k=a.indexOf(l.Ux),-1!==k&&this.sF(a.substr(k+l.Ux.length)))};l.hG=function(a,k){var c=k.indexOf("\n");-1===c&&(c=k.length);a.name=k.substring(0,c).trim()};l.Js=function(a,k,c,f){var e=c.indexOf("\n");-1===e&&(e=c.length);
" "===c[0]&&(k+=" ");c=""+c.substring(0,e).trim();a.title+=c+" ";f?a.Rf+=k+c+"\n":a.Rb+=k+c+"\n";return e+1};l.dg=function(a){var k=-1;a+=" ";var c=this.Rh.indexOf(a[this.index]);if(-1!==c)for(k=0;-1!==c;)k=10*k+c,this.index+=1,c=this.Rh.indexOf(a[this.index]);return k};l.UC=function(a,k){k=this.dg(k);a.ce=k;a.$f=k};l.VC=function(a,k){var c=this.dg(k),f=-1,e=0,g=0;if(-1!==c){var p=k[this.index];if("-"===p||"+"===p)this.index+=1,e=this.dg(k),-1===e?c=-1:"-"===p&&(e=-e);if(","===k[this.index])if(this.index+=
1,f=this.dg(k),-1===f)c=-1;else{if(p=k[this.index],"-"===p||"+"===p)this.index+=1,g=this.dg(k),-1===g?c=-1:"-"===p&&(g=-g)}else f=c}0!==e&&0!==g&&(c=-1);0===c&&0===f&&(c=-1);0===e&&0===g||0!==c&&0!==f||(c=-1);a.ce=c;a.$f=f;a.In=e;a.cm=g};l.NC=function(a,k){var c=this.dg(k),f=-1,e=0,g=0,p=!1,q=!1;if(-1!==c){var r=k[this.index];"*"===r&&(p=!0,this.index+=1,r=k[this.index]);if("-"===r||"+"===r)e=this.dg(k),-1===e?c=-1:"-"===r&&(e=-e),this.index+=1,r=k[this.index];if(","===r)if(this.index+=1,f=this.dg(k),
-1===f)c=-1;else{if(r=k[this.index],"*"===r&&(q=!0,this.index+=1,r=k[this.index]),"-"===r||"+"===r)this.index+=1,g=this.dg(k),-1===g?c=-1:"-"===r&&(g=-g)}else f=c}p&&q&&(c=-1);0!==e&&0!==g&&(c=-1);if(p&&0!==g||q&&0!==e)c=-1;if(0===c||0===f)c=-1;p||q||(q=!0);a.ce=c;a.$f=f;a.In=e;a.cm=g;a.Lt=p;a.Fq=q};l.KC=function(a,k){var c=this.dg(k),f=-1;-1!==c&&(","===k[this.index]?(this.index+=1,f=this.dg(k),-1===f&&(c=-1)):f=c);a.ce=c;a.$f=f};l.RC=function(a,k){var c=this.dg(k),f=-1;-1!==c&&(","===k[this.index]?
(this.index+=1,f=this.dg(k),-1===f&&(c=-1)):f=c);0===c&&0===f&&(c=-1);a.ce=c;a.$f=f};l.IC=function(a,k){var c=!1;k=this.Ez(k).toLowerCase();if(""!==k){a.Sb=this.mx.indexOf(k[0]);if(-1!==a.Sb)if(this.index=1,2!==a.Sb&&-1!==k.indexOf("*"))a.ce=-1;else switch(a.Sb){case 0:this.RC(a,k);break;case 1:this.VC(a,k);break;case 2:this.NC(a,k);break;case 3:this.KC(a,k);break;case 4:this.UC(a,k);break;default:a.ce=-1}this.index!==k.length&&(a.ce=-1);-1!==a.ce?c=!0:(a.Sb=-1,this.C="Invalid bounded grid definition '"+
k.toUpperCase()+"'")}return c};l.eq=function(a,k,c,f){var e,g,p=null;if(c[k]===a){for(k+=1;k<f&&" "===c[k];)k+=1;for(k<f&&"="===c[k]&&(k+=1);k<f&&" "===c[k];)k+=1;a=0;var q=e=!1;"-"===c[k]&&(k+=1,q=!0);for(g=c[k].charCodeAt(0);k<f&&48<=g&&57>=g;)a=10*a+(g-48),k+=1,e=!0,k<f&&(g=c[k].charCodeAt(0));for(e&&(p=q?-a:a);k<f&&" "===c[k];)k+=1;for(k<f&&","===c[k]&&(k+=1);k<f&&" "===c[k];)k+=1}return[p,k]};l.TC=function(a,k){this.ni=this.oi=-1;var c=this.eq("x",0,a,k);var f=c[1];c[0]&&(this.oi=c[0]);c=this.eq("y",
f,a,k);f=c[1];c[0]&&(this.ni=c[0]);c=this.eq("h",f,a,k);f=c[1];c[0]&&(this.tr=c[0],this.yh=!0);c=this.eq("v",f,a,k);c[0]&&(this.ur=c[0])};l.Kx=function(a,k,c,f){var e=k.indexOf("\n"),g=k.indexOf("rule"),p=l.Tt.length,q="";-1===e&&(e=k.length);this.TC(k,e);-1===g?c?q="":q=k.substring(1,e).trim():(q=k.substring(g+4,e).trim(),"="===q[0]&&(q=q.substring(1).trim()));a.ca=q;k=q.lastIndexOf(l.ZB);-1!==k&&(this.IC(a,q.substring(k+1))?q=q.substr(0,k).trim():k=-2);c=q.toLowerCase().lastIndexOf(l.Tt);-1!==c&&
c===q.length-p&&(a.Xb=!0,q=q.substr(0,q.length-p).trim());c=q.indexOf(this.en);-1!==c&&q.toLowerCase().substr(0,c).trim().substr(-p)===l.Tt&&(a.Xb=!0,g=q.substr(0,c).trim(),q=g.substr(0,g.length-p)+q.substr(c));-2!==k&&this.Fn(a,q,f)?this.Ia=!0:this.$l=!0;return e+1};l.lx=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};l.Jx=function(a,k,c){var f=0,e=k.length,g=!1,
p=!1;var q=this.vl;var r=4,w;a.pb=!1;a.Sb=-1;a.width=0;a.height=0;a.fg=!1;a.kd=null;a.Ze=null;a.Yk=!1;a.Xb=!1;a.Vn=!1;a.U=!1;a.ff=-1;a.fe=!1;a.f=-1;a.Ld=!1;a.dc=-1;a.Xh=1;a.Sc=-1;a.Dd=-1;a.bd=-1;a.pe=-1;a.sa=!1;a.Fd=null;a.me=null;a.Oc=-1;a.title="";a.Rb="";a.Rf="";a.Bf=2;a.mo=0;if(arrayFill)q.fill(0);else for(w=0;w<q.length;w+=1)q[w]=0;for(k+=" ";f<e&&!a.Yk;)switch(q=k[f],q){case "#":f+=1;q=k[f];f+=1;switch(q){case "N":this.hG(a,k.substring(f));break;case "O":this.iG(a,k.substring(f));break;case "C":this.cC(k.substring(f));
break;case "P":case "R":this.Dz(k.substring(f),!1);break;case "\n":--f}f="\n"===q?f+this.Js(a,"#",k.substring(f),g):f+this.Js(a,"#"+q,k.substring(f),g);break;case "x":f+=this.Kx(a,k.substring(f),!0,c);p=!0;break;case "\n":f+=1;break;default:g?f+=this.Js(a,"",k.substring(f),!0):(g=!0,q=this.Tl(a,k.substring(f),!1,c),-1!==q&&(f=a.fg?f+q:f+this.Tl(a,k.substring(f),!0,c)))}p||(this.Fn(a,"",c)?this.Ia=!0:this.$l=!0);-1!==a.Sb&&(a.sa&&(r=6*a.Oc),a.Ld&&(r=6*a.dc),a.ce>=this.maxWidth-r||a.$f>=this.maxHeight-
r)&&(this.C="Bounded grid is too big",this.Ia=!1,a.Sb=-1);!a.Ld||(1<a.Sb&&(this.C="LtL only supports Plane or Torus",this.Ia=!1,a.Sb=-1),a.U&&(this.C="LtL does not support Hex grid",this.Ia=!1,a.U=!1),0===a.bd&&-1===a.Sb&&(this.C="LtL does not support B0 unbounded",this.Ia=!1),0!==a.Sb&&1!==a.Sb)||0!==a.ce&&0!==a.$f||(this.C="LtL bounded grid must be finite",this.Ia=!1,a.Sb=-1);a.Z&&-1!==a.Sb&&(0!==(a.ce&1)?(this.C="Bounded grid width must be even",this.Ia=!1,a.Sb=-1):0!==(a.$f&1)&&(this.C="Bounded grid height must be even",
this.Ia=!1,a.Sb=-1));!a.sa||(1<a.Sb&&(this.C="HROT only supports Plane or Torus",this.Ia=!1,a.Sb=-1),a.U&&(this.C="HROT does not support Hex grid",this.Ia=!1,a.U=!1),a.Fd&&1===a.Fd[0]&&-1===a.Sb&&(this.C="HROT does not support B0 unbounded",this.Ia=!1),0!==a.Sb&&1!==a.Sb)||0!==a.ce&&0!==a.$f||(this.C="HROT bounded grid must be finite",this.Ia=!1,a.Sb=-1);a.pb&&a.Xb&&(this.C="[R]History not valid with none rule",this.Ia=a.Xb=!1);-1===a.f||!a.Xb||a.Ld||a.sa||(this.C="[R]History not valid with Generations",
this.Ia=a.Xb=!1);-1===a.f||!this.Em[0]||a.Ld||a.sa||(this.C="Generations does not support B0",this.Ia=!1);a.Ld&&a.Xb&&(this.C="[R]History not valid with LtL",this.Ia=a.Xb=!1);a.sa&&a.Xb&&(this.C="[R]History not valid with HROT",this.Ia=a.Xb=!1);this.Ia&&(a.Vn?8<a.Bf&&(this.C="Illegal state in pattern for Niemiec",this.Ia=!1):a.Xb?7<a.Bf&&(this.C="Illegal state in pattern for [R]History",this.Ia=!1):-1!==a.f&&a.Bf>a.f&&(this.C=a.Ld?"Illegal state in pattern for LtL":a.sa?"Illegal state in pattern for HROT":
"Illegal state in pattern for Generations",this.Ia=!1));a.Ld&&this.xG(a,c)};l.sH=function(){return!0};l.rH=function(){return!0};l.tH=function(){return!1};l.WC=function(a,k){var c=-1,f=-1,e=-1,g=!1,p=[],q=[],r=[],w=[],v=1E3;var z=k.yq();z===l.lv&&"="===k.T()&&k.H()&&(c=k.I(),2<=c&&256>=c&&(g=!0));g&&(z=k.yq(),z===l.jv&&"="===k.T()&&k.H()&&(f=k.I(),4===f||8===f))&&(g=!0);g&&(z=k.yq(),z===l.kv&&"="===k.T()&&k.H()&&(e=k.I(),e>=f&&1E8>=e&&(g=!0)));for(z=k.yq();g&&""!==z;){for(;k.py(z);)z=k.T();if(k.im(z)){v=
k.Ss(z);var b=0;r[r.length]=1===v?q.length:p.length;w[w.length]=v;for(z=k.T();g&&!k.py(z);)k.im(z)?(z=k.Ss(z),1===v?0>z||z>=c?g=!1:q[q.length]=z:0>z||z>r.length?g=!1:w[z]!==v-1?g=!1:p[p.length]=r[z],b+=1,z=k.T()):g=!1;b!==c&&(g=!1)}else""!==z&&z!==l.Xz&&z!==l.Yz?g=!1:z=""}p.length+q.length!==e*c&&(g=!1);v!==f+1&&(g=!1);if(g)if(a.ca===a.Zz){a.jv=f;a.lv=c;a.kv=e;a.VF=r[r.length-1];a.$z=new Uint32Array(p.length);a.aA=new Uint32Array(q.length);for(k=0;k<p.length;k+=1)a.$z[k]=p[k];for(k=0;k<q.length;k+=
1)a.aA[k]=q[k];this.C="";this.Ia=!0}else g=!1;return g};l.SC=function(a){var k=!1,c=new Script(a.Rf,!0);if(-1!==c.Tk(l.SF,-1)&&!c.LE()){a.Zz=c.T();var f=c.Tk(l.TF,-1);-1!==f?k=!1:(f=c.Tk(l.UF,-1),-1!==f&&(k=this.WC(a,c)));k&&(a=c.Tk(l.Xz,0),-1!==a&&(k=!0),k&&c.Tk(l.Yz,0))}};l.create=function(a,k,c){a=new m(a);this.Ia=this.$l=this.fg=!1;this.C="";this.zj=!1;this.Ht=0;this.yh=!1;this.ur=this.tr=0;this.ni=this.oi=-1;this.$d=!1;if("!"===k.substr(0,1)||"O"===k.substr(0,1)||"."===k.substr(0,1)||"*"===k.substr(0,
1)||"o"===k.substr(0,1))this.JC(a,k,c),this.Ia=!0;null===a.kd&&(this.Ia=!1,"#Life 1.05"===k.substr(0,10)?this.Hx(a,k,!0,c):"#Life 1.06"===k.substr(0,10)?(this.HC(a,k,c),this.Ia=!0):"#"===k[0]||"x"===k[0]?(this.Jx(a,k,c),null!==a.kd||a.fg||a.Yk||(this.Hx(a,k,!1,c),this.$l=!1,a.Ze=null,a.Xb=!1,a.Bf=2,a.mo=0)):this.Jx(a,k,c));a.fg&&(this.C="Pattern too big (maximum "+this.maxWidth+"x"+this.maxHeight+")",this.fg=!0,a.Yk=!1,a.width=1,a.height=1,a.kd=Array.X(Uint16,a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap"));
-1!==a.Sb?(k=a.ca.lastIndexOf(":"),a.Cp=a.ca.substr(k),a.ca=a.ca.substr(0,k)):a.Cp="";null===a.kd&&""===this.C&&(this.C="Invalid pattern",a=null,this.Ia=!1);a&&a.Yk&&!a.fg&&(a=null,this.Ia=!1);a&&(""!==a.Rb&&"\n"!==a.Rb[a.Rb.length-1]&&(a.Rb+="\n"),""!==a.Rf&&("\n"!==a.Rf[a.Rf.length-1]&&(a.Rf+="\n"),this.SC(a)),""!==this.C&&(a.U||a.Z)&&null===a.ca.match(/[0-9]/)&&(a.U=!1,a.Z=!1));return a};window.PatternManager=l;window.Pattern=m})();(function(){function d(){this.ct=[]}d.prototype.add=function(m,l,a){this.ct[this.ct.length]=m<<16|l<<8|a};window.ColourManager={Ph:[],Ao:[],ly:!1,ot:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,
169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,
59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,
113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,
158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,
108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],fq:[],Gd:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,
245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",
0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",
47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],
gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",
224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",
250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",
25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",
219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],
seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",
255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},uH:function(){return this.fq},wx:function(m){for(var l=0,a=!1,k=[];l<this.Ao.length&&!a;)m===this.Ao[l][0]?a=!0:l+=1;a&&(k=this.Ph[this.Ao[l][1]].ct);return k},qb:function(m){this.Ao[this.Ao.length]=m},de:function(){var m,l=0,a;if(!this.ly){this.ly=!0;for(m=a=0;256>m;m+=1)this.fq[m]=this.ot[a]<<16|this.ot[a+1]<<8|this.ot[a+2],a+=3;m=new d;m.add(0,0,0);m.add(0,255,0);m.add(0,0,128);
m.add(216,255,216);m.add(255,0,0);m.add(255,255,0);m.add(96,96,96);m.add(255,128,128);this.Ph[l]=m;this.qb(["LifeHistory",l]);l+=1;m=new d;m.add(48,48,48);m.add(0,128,255);m.add(255,255,255);m.add(255,128,0);this.Ph[l]=m;this.qb(["WireWorld",l]);l+=1;m=new d;m.add(0,0,0);m.add(255,255,255);m.add(144,128,112);m.add(144,90,45);m.add(192,192,192);m.add(255,0,0);m.add(255,128,0);m.add(255,255,0);m.add(0,255,0);m.add(0,255,208);m.add(0,192,255);m.add(0,0,255);m.add(192,0,255);m.add(255,64,160);m.add(112,
128,144);m.add(0,128,0);m.add(0,96,128);m.add(160,0,80);m.add(40,40,40);m.add(220,220,220);m.add(140,60,0);m.add(0,160,0);m.add(160,160,250);this.Ph[l]=m;this.qb(["WWE",l]);this.qb(["WWE2",l]);this.qb(["WWEJ",l]);this.qb(["WWEJ2",l]);this.qb(["WWEJ3",l]);l+=1;m=new d;m.add(30,30,30);m.add(0,128,128);m.add(0,255,0);m.add(255,0,0);m.add(255,128,0);m.add(255,255,0);m.add(128,0,128);m.add(128,128,128);m.add(255,255,255);m.add(128,128,255);this.Ph[l]=m;this.qb(["Novoloop",l]);l+=1;m=new d;m.add(0,0,0);
m.add(255,128,0);m.add(255,0,0);m.add(0,255,0);m.add(0,0,255);m.add(0,190,0);m.add(0,140,0);m.add(255,255,255);m.add(80,80,80);m.add(95,95,95);m.add(128,128,128);m.add(0,64,0);m.add(255,255,0);m.add(64,0,164);m.add(64,32,64);m.add(80,80,100);m.add(95,95,125);m.add(128,255,128);m.add(64,100,100);this.Ph[l]=m;this.qb(["shapeloop",l]);this.qb(["shapeloop-b",l]);this.qb(["shapeloop2",l]);this.qb(["shapeloop-ltd",l]);this.qb(["2armshapeloop-a",l]);this.qb(["2armshapeloop2-a",l]);this.qb(["shapeloop2a-bounded",
l]);this.qb(["foodshapeloop",l]);this.qb(["foodshapeloop2",l]);l+=1;m=new d;m.add(0,0,0);m.add(255,255,255);m.add(255,0,0);m.add(0,128,255);m.add(170,0,0);m.add(85,0,0);this.Ph[l]=m;this.qb(["b3s23mmg",l]);l+=1;m=new d;m.add(0,0,0);m.add(255,0,0);m.add(0,255,0);m.add(0,0,255);m.add(255,255,0);m.add(0,255,255);m.add(255,0,255);m.add(92,36,110);m.add(0,99,140);m.add(176,196,222);m.add(115,61,26);this.Ph[l]=m;this.qb(["_235_4_O3",l]);this.qb(["0_245_5_O4",l]);this.qb(["0_245_5_O3",l]);this.qb(["58_27_4_O3",
l]);this.qb(["0_24_4H_O3",l]);this.qb(["2_235_4H_O3",l]);this.qb(["24_235_4H_O3",l]);this.qb(["3_25_4_O2",l]);this.qb(["Snake_O5",l]);this.qb(["Mites",l]);this.qb(["Mites2",l]);this.qb(["Mites3",l]);l+=1;m=new d;m.add(48,48,48);m.add(255,128,0);m.add(0,0,255);m.add(32,32,255);m.add(64,64,255);m.add(96,96,255);this.Ph[l]=m;this.qb(["Alpha-1",l]);l+=1;m=new d;m.add(48,48,48);m.add(255,0,0);m.add(255,125,0);m.add(255,150,25);m.add(255,175,50);m.add(255,200,75);m.add(255,225,100);m.add(255,250,125);m.add(251,
255,0);m.add(89,89,255);m.add(106,106,255);m.add(122,122,255);m.add(139,139,255);m.add(27,176,27);m.add(36,200,36);m.add(73,255,73);m.add(106,255,106);m.add(235,36,36);m.add(255,56,56);m.add(255,73,73);m.add(255,89,89);m.add(185,56,255);m.add(191,73,255);m.add(197,89,255);m.add(203,106,255);m.add(0,255,128);m.add(255,128,64);m.add(255,255,128);m.add(33,215,215);m.add(27,176,176);m.add(24,156,156);m.add(21,137,137);this.qb(["JvN29",l]);this.qb(["Hutton32",l]);this.qb(["Nobili32",l]);this.Ph[l]=m}}}})();window.BoundingBox=function(d,m,l,a){this.i=d;this.h=m;this.s=l;this.m=a};(function(){function d(l,a){this.index=a;this.ia=l.Bl[a];this.Ma=l.Ik[a];this.R=l.Bq[a];this.A=l.Gp[a];this.F=new BoundingBox(0,0,0,0);this.oa=new BoundingBox(0,0,0,0);this.ea=this.u=this.hd=this.jc=this.wa=0;this.g=l}function m(l,a){this.o=l;this.zd=[];this.rg=[];this.Bl=[];this.Ik=[];this.Bq=[];this.Gp=[];this.A=[];this.R=0;this.index=-1;this.wE=51;this.g=[];this.ix=a}d.prototype.OF=function(l,a,k){var c=a.length,f=a[0].length,e,g,p=0,q,r=k.To;k=k.Uo;var w,v=0,z=this.R,b=0,h=z[b],n=h.length;Array.Xg(this.ia,
a);for(e=0;e<c;e+=1){var x=this.ia[e];for(a=w=0;a<f;a+=1)if(q=x[a])for(g=15;0<=g;--g){if(0!==(q&1<<g)){var u=v;var t=w;var A=h[p];p+=1;l[u][t]=A&255;l[u][t+1]=A>>8&255;l[u+1][t]=A>>16&255;l[u+1][t+1]=A>>24;u+=2;A=h[p];p+=1;l[u][t]=A&255;l[u][t+1]=A>>8&255;l[u+1][t]=A>>16&255;l[u+1][t+1]=A>>24;u+=2;A=h[p];p+=1;l[u][t]=A&255;l[u][t+1]=A>>8&255;l[u+1][t]=A>>16&255;l[u+1][t+1]=A>>24;u+=2;A=h[p];p+=1;l[u][t]=A&255;l[u][t+1]=A>>8&255;l[u+1][t]=A>>16&255;l[u+1][t+1]=A>>24;u+=2;A=h[p];p+=1;l[u][t]=A&255;
l[u][t+1]=A>>8&255;l[u+1][t]=A>>16&255;l[u+1][t+1]=A>>24;u+=2;A=h[p];p+=1;l[u][t]=A&255;l[u][t+1]=A>>8&255;l[u+1][t]=A>>16&255;l[u+1][t+1]=A>>24;u+=2;A=h[p];p+=1;l[u][t]=A&255;l[u][t+1]=A>>8&255;l[u+1][t]=A>>16&255;l[u+1][t+1]=A>>24;u+=2;A=h[p];p+=1;l[u][t]=A&255;l[u][t+1]=A>>8&255;l[u+1][t]=A>>16&255;l[u+1][t+1]=A>>24;p>=n&&(b+=1,h=z[b],p=0)}w+=r}else w+=r<<4;v+=k}};d.prototype.aG=function(l,a,k){var c=a.length,f=a[0].length,e,g=0,p;var q=0;var r=k.To,w=k.Uo,v,z=0,b=this.R,h=0,n=b[h],x=n.length,
u=b.length;var t=this.g.ix;Array.Xg(a,this.ia);for(e=0;e<c;e+=1){var A=a[e];for(k=0;k<f;k+=1)(p=A[k])&&(q+=t[p])}if(q)for(e=0;e<c;e+=1){A=a[e];for(k=v=0;k<f;k+=1)if(p=A[k])for(q=15;0<=q;--q){if(0!==(p&1<<q)){var y=z;t=v;n[g]=l[y][t]|l[y][t+1]<<8|l[y+1][t]<<16|l[y+1][t+1]<<24;g+=1;y+=2;n[g]=l[y][t]|l[y][t+1]<<8|l[y+1][t]<<16|l[y+1][t+1]<<24;g+=1;y+=2;n[g]=l[y][t]|l[y][t+1]<<8|l[y+1][t]<<16|l[y+1][t+1]<<24;g+=1;y+=2;n[g]=l[y][t]|l[y][t+1]<<8|l[y+1][t]<<16|l[y+1][t+1]<<24;g+=1;y+=2;n[g]=l[y][t]|l[y][t+
1]<<8|l[y+1][t]<<16|l[y+1][t+1]<<24;g+=1;y+=2;n[g]=l[y][t]|l[y][t+1]<<8|l[y+1][t]<<16|l[y+1][t+1]<<24;g+=1;y+=2;n[g]=l[y][t]|l[y][t+1]<<8|l[y+1][t]<<16|l[y+1][t+1]<<24;g+=1;y+=2;n[g]=l[y][t]|l[y][t+1]<<8|l[y+1][t]<<16|l[y+1][t+1]<<24;g+=1;g>=x&&(h+=1,g=0,h>=u&&(Array.cn(b,"Snapshot.gridBufferRow"),u+=1));n=b[h]}v+=r}else v+=r<<4;z+=w}};d.prototype.NF=function(l,a,k){var c=a.length,f=a[0].length,e,g,p,q=0,r,w=k.To<<3,v=k.Uo,z,b=0,h=this.A,n=0,x=h[n],u=x.length;Array.Xg(this.Ma,a);for(e=0;e<c;e+=1){var t=
a[e];for(k=z=0;k<f;k+=1)if(r=t[k])for(g=15;0<=g;--g){if(0!==(r&1<<g))for(p=z;p<z+w;p+=4){var A=b;var y=x[q];q+=1;l[A][p]=y&255;l[A][p+1]=y>>8&255;l[A][p+2]=y>>16&255;l[A][p+3]=y>>24;A+=1;y=x[q];q+=1;l[A][p]=y&255;l[A][p+1]=y>>8&255;l[A][p+2]=y>>16&255;l[A][p+3]=y>>24;A+=1;y=x[q];q+=1;l[A][p]=y&255;l[A][p+1]=y>>8&255;l[A][p+2]=y>>16&255;l[A][p+3]=y>>24;A+=1;y=x[q];q+=1;l[A][p]=y&255;l[A][p+1]=y>>8&255;l[A][p+2]=y>>16&255;l[A][p+3]=y>>24;A+=1;y=x[q];q+=1;l[A][p]=y&255;l[A][p+1]=y>>8&255;l[A][p+2]=y>>
16&255;l[A][p+3]=y>>24;A+=1;y=x[q];q+=1;l[A][p]=y&255;l[A][p+1]=y>>8&255;l[A][p+2]=y>>16&255;l[A][p+3]=y>>24;A+=1;y=x[q];q+=1;l[A][p]=y&255;l[A][p+1]=y>>8&255;l[A][p+2]=y>>16&255;l[A][p+3]=y>>24;A+=1;y=x[q];q+=1;l[A][p]=y&255;l[A][p+1]=y>>8&255;l[A][p+2]=y>>16&255;l[A][p+3]=y>>24;A+=1;y=x[q];q+=1;l[A][p]=y&255;l[A][p+1]=y>>8&255;l[A][p+2]=y>>16&255;l[A][p+3]=y>>24;A+=1;y=x[q];q+=1;l[A][p]=y&255;l[A][p+1]=y>>8&255;l[A][p+2]=y>>16&255;l[A][p+3]=y>>24;A+=1;y=x[q];q+=1;l[A][p]=y&255;l[A][p+1]=y>>8&255;
l[A][p+2]=y>>16&255;l[A][p+3]=y>>24;A+=1;y=x[q];q+=1;l[A][p]=y&255;l[A][p+1]=y>>8&255;l[A][p+2]=y>>16&255;l[A][p+3]=y>>24;A+=1;y=x[q];q+=1;l[A][p]=y&255;l[A][p+1]=y>>8&255;l[A][p+2]=y>>16&255;l[A][p+3]=y>>24;A+=1;y=x[q];q+=1;l[A][p]=y&255;l[A][p+1]=y>>8&255;l[A][p+2]=y>>16&255;l[A][p+3]=y>>24;A+=1;y=x[q];q+=1;l[A][p]=y&255;l[A][p+1]=y>>8&255;l[A][p+2]=y>>16&255;l[A][p+3]=y>>24;A+=1;y=x[q];q+=1;l[A][p]=y&255;l[A][p+1]=y>>8&255;l[A][p+2]=y>>16&255;l[A][p+3]=y>>24;q>=u&&(n+=1,x=h[n],q=0)}z+=w}else z+=
w<<4;b+=v}};d.prototype.XF=function(l,a,k){var c=a.length,f=a[0].length,e,g=0,p;var q=0;var r=k.To<<3,w=k.Uo,v,z=0,b=this.A,h=0,n=b[h],x=n.length,u=b.length;var t=this.g.ix;Array.Xg(a,this.Ma);for(e=0;e<c;e+=1){var A=a[e];for(k=0;k<f;k+=1)(p=A[k])&&(q+=t[p])}if(q)for(e=0;e<c;e+=1){A=a[e];for(k=v=0;k<f;k+=1)if(p=A[k])for(q=15;0<=q;--q){if(0!==(p&1<<q))for(t=v;t<v+r;t+=4){var y=z;n[g]=l[y][t]|l[y][t+1]<<8|l[y][t+2]<<16|l[y][t+3]<<24;g+=1;y+=1;n[g]=l[y][t]|l[y][t+1]<<8|l[y][t+2]<<16|l[y][t+3]<<24;g+=
1;y+=1;n[g]=l[y][t]|l[y][t+1]<<8|l[y][t+2]<<16|l[y][t+3]<<24;g+=1;y+=1;n[g]=l[y][t]|l[y][t+1]<<8|l[y][t+2]<<16|l[y][t+3]<<24;g+=1;y+=1;n[g]=l[y][t]|l[y][t+1]<<8|l[y][t+2]<<16|l[y][t+3]<<24;g+=1;y+=1;n[g]=l[y][t]|l[y][t+1]<<8|l[y][t+2]<<16|l[y][t+3]<<24;g+=1;y+=1;n[g]=l[y][t]|l[y][t+1]<<8|l[y][t+2]<<16|l[y][t+3]<<24;g+=1;y+=1;n[g]=l[y][t]|l[y][t+1]<<8|l[y][t+2]<<16|l[y][t+3]<<24;g+=1;y+=1;n[g]=l[y][t]|l[y][t+1]<<8|l[y][t+2]<<16|l[y][t+3]<<24;g+=1;y+=1;n[g]=l[y][t]|l[y][t+1]<<8|l[y][t+2]<<16|l[y][t+
3]<<24;g+=1;y+=1;n[g]=l[y][t]|l[y][t+1]<<8|l[y][t+2]<<16|l[y][t+3]<<24;g+=1;y+=1;n[g]=l[y][t]|l[y][t+1]<<8|l[y][t+2]<<16|l[y][t+3]<<24;g+=1;y+=1;n[g]=l[y][t]|l[y][t+1]<<8|l[y][t+2]<<16|l[y][t+3]<<24;g+=1;y+=1;n[g]=l[y][t]|l[y][t+1]<<8|l[y][t+2]<<16|l[y][t+3]<<24;g+=1;y+=1;n[g]=l[y][t]|l[y][t+1]<<8|l[y][t+2]<<16|l[y][t+3]<<24;g+=1;y+=1;n[g]=l[y][t]|l[y][t+1]<<8|l[y][t+2]<<16|l[y][t+3]<<24;g+=1;g>=x&&(h+=1,g=0,h>=u&&(Array.cn(b,"Snapshot.colourGridBufferRow"),u+=1),n=b[h])}v+=r}else v+=r<<4;z+=w}};
m.prototype.bufferSize=function(){for(var l=0,a=0;a<this.rg.length;)l+=this.Bl[a].length*this.Bl[a][0].length*2,l+=this.Ik[a].length*this.Ik[a][0].length*2,l+=this.Bq[a].length*this.Bq[a][0].length*4,l+=this.Gp[a].length*this.Gp[a][0].length*4,this.A[a]&&(l+=this.A[a].length*this.A[a][0].length*4),a+=1;return l};m.prototype.dH=function(){for(var l=0,a=0;a<this.rg.length;)this.rg[a]&&(l+=1),a+=1;return l};m.prototype.reset=function(){var l=0,a;this.zd=[];for(this.index=-1;l<this.rg.length;){var k=
!1;for(a=0;a<this.g.length&&!k;)l===this.g[a].index?k=!0:a+=1;k||(this.rg[l]=!1);l+=1}};m.prototype.zG=function(l){var a=null;if(0<this.zd.length)for(a=this.zd[this.index];a&&a.u>l;)a=null,0<this.index&&(this.aa(this.zd[this.index].index),this.zd.pop(),--this.index,0<=this.index&&(a=this.zd[this.index]));return a};m.prototype.Bo=function(l,a,k,c,f,e,g,p,q,r,w,v,z,b,h,n){var x=null,u=0,t=this.g.length,A=!1;f=null!==f;if(h){for(;u<t&&!A;)this.g[u].u===w?A=!0:u+=1;A?x=this.g[u]:alert("reset snapshot at generation "+
w+" not found!")}else if(51>this.zd.length)x=this.gt(v,z,!1,w,f),this.index+=1;else{this.index+=1;if(51<=this.index){this.index=50;this.aa(this.zd[0].index);for(u=0;50>u;u+=1)this.zd[u]=this.zd[u+1];this.zd.pop();this.gt(v,z,!1,w,f)}x=this.zd[this.index]}x.ea=n;x.aG(l,a,b);x.XF(k,c,b);x.F.i=e.i;x.F.s=e.s;x.F.h=e.h;x.F.m=e.m;x.oa.i=g.i;x.oa.s=g.s;x.oa.h=g.h;x.oa.m=g.m;x.wa=p;x.jc=q;x.hd=r;x.u=w};m.prototype.aa=function(l){this.rg[l]=!1};m.prototype.ha=function(l,a,k){for(var c=0,f=!1;c<this.R&&!f;)this.rg[c]?
c+=1:f=!0;f?(l=c,this.rg[c]=!0):(this.Bl[c]=Array.X(Uint16,a,l,0,this.o,"Snapshot.tileGrid"+c),this.Ik[c]=Array.X(Uint16,a,l,0,this.o,"Snapshot.colourTileGrid"+c),this.Bq[c]=Array.X(Uint32,1,1024,0,this.o,"Snapshot.gridBuffer"+c),this.Gp[c]=Array.X(Uint32,1,8192,0,this.o,"Snapshot.colourGridBuffer"+c),k&&(this.A[c]=Array.X(Uint32,1,8192,0,this.o,"Snapshot.overlayGridBuffer"+c)),this.rg[c]=!0,this.R+=1,l=c);return l};m.prototype.gt=function(l,a,k,c,f){var e=0,g=this.g.length,p=!1;l=this.ha(l,a,f);
if(k){for(;e<g&&!p;)this.g[e].u===c?p=!0:e+=1;p?k=this.g[e]:(k=new d(this,l,f),this.g[this.g.length]=k)}else k=new d(this,l,f),this.zd[this.zd.length]=k;return k};m.prototype.fa=function(l,a,k,c){var f=l.ia,e=l.Ma,g=l.ia.length,p=g>>1,q=l.ia[0].length>>1,r=0,w=l.index;this.Bl[w]=Array.X(Uint16,k,a,0,this.o,"Snapshot.tileGrid"+w);this.Ik[w]=Array.X(Uint16,k,a,0,this.o,"Snapshot.colourTileGrid"+w);l.ia=this.Bl[w];l.Ma=this.Ik[w];if(0<c){for(;r<g;)l.ia[r+p].set(f[r],q),l.Ma[r+p].set(e[r],q),r+=1;l.F.i+=
c;l.F.s+=c;l.F.h+=c;l.F.m+=c;l.oa.i+=c;l.oa.s+=c;l.oa.h+=c;l.oa.m+=c}};m.prototype.Nz=function(l,a,k){for(var c=0,f=this.g.length;c<f;)this.fa(this.g[c],l,a,k),c+=1;c=0;for(f=this.zd.length;c<f;)this.fa(this.zd[c],l,a,k),c+=1;for(c=0;c<this.rg.length;)this.rg[c]||(this.Bl[c]=Array.X(Uint16,a,l,0,this.o,"Snapshot.tileGrid"+c),this.Ik[c]=Array.X(Uint16,a,l,0,this.o,"Snapshot.colourTileGrid"+c)),c+=1};window.SnapshotManager=m;window.Snapshot=d})();(function(){function d(m,l){this.o=m;this.a=l;this.Fc=1;this.Do=2;this.jc=m.L(Uint8,0,"HROT.births");this.Nr=m.L(Uint8,0,"HROT.survivals");this.tp=m.L(Uint8,0,"HROT.altBirths");this.up=m.L(Uint8,0,"HROT.altSurvivals");this.type=PatternManager.yf;this.aa=Array.X(Uint32,1,1,0,m,"HROT.counts");this.ha=m.L(Uint32,0,"HROT.widths");this.$a=m.L(Uint8,0,"HROT.colUsed");this.Ea=this.A=this.R=this.fa=0;this.$d=!1}d.prototype.resize=function(m,l){this.aa=Array.X(Uint32,l,m,0,this.o,"HROT.counts");this.$a=this.o.L(Uint8,
m,"HROT.colUsed")};d.prototype.tG=function(m,l){var a=2*l+1,k=l*l+l;this.type=m;this.Fc=l;this.ha=this.o.L(Uint32,a,"HROT.widths");switch(m){case PatternManager.yf:for(m=0;m<a;m+=1)this.ha[m]=l;break;case PatternManager.gg:for(m=0;m<l;m+=1)this.ha[m]=m,this.ha[a-m-1]=m;this.ha[m]=l;break;case PatternManager.Xs:for(m=-l;m<=l;m+=1){for(a=0;(a+1)*(a+1)+m*m<=k;)a+=1;this.ha[m+l]=a}}};d.prototype.g=function(m,l){return 0>m||0>m+l||l-m>=this.R?0:0>l&&m+l<this.A?this.aa[m+l][0]:l>=this.R&&l-m>=this.R-this.A?
this.aa[m+this.R-1-l][this.R-1]:m<this.A?this.aa[m][l]:m-this.A+1+l<=this.Ea?this.aa[this.A-1][m-this.A+1+l]:l-(m-this.A+1)>=this.Ea?this.aa[this.A-1][l-(m-this.A+1)]:this.aa[this.A-1][this.Ea+(m+l+this.A+this.Ea+1)%2]};d.prototype.zb=function(m,l,a,k){var c=this.a.la,f=null,e=this.Fc,g;for(g=0;g<e;g+=1){f=c[l+g];var p=c[k+g+1];p.set(f.slice(m,a+1),m)}for(g=0;g<e;g+=1)f=c[k-g],p=c[l-g-1],p.set(f.slice(m,a+1),m);if(copyWithin)for(g=l;g<=k;g+=1)f=c[g],f.copyWithin(a+1,m,m+e+1),f.copyWithin(m-e-1,a-
e,a+1);else for(g=l;g<=k;g+=1)for(p=0;p<e;p+=1)f[a+p+1]=f[m+p],f[m-p-1]=f[a-p];for(g=0;g<e;g+=1)f=c[l+g],p=c[k+g+1],p.set(f.slice(m,m+e+1),a+1),p.set(f.slice(a-e,a+1),m-e-1);for(g=0;g<e;g+=1)f=c[k-g],p=c[l-g-1],p.set(f.slice(m,m+e+1),a+1),p.set(f.slice(a-e,a+1),m-e-1)};d.prototype.Wa=function(m,l,a,k){var c=this.a.la,f=this.Fc,e,g;if(arrayFill)for(g=0;g<f;g+=1)c[k+g+1].fill(0,m,a+1);else for(g=0;g<f;g+=1){var p=c[k+g+1];for(e=m;e<=a;e+=1)p[e]=0}if(arrayFill)for(g=0;g<f;g+=1)c[l-g-1].fill(0,m,a+1);
else for(g=0;g<f;g+=1)for(p=c[l-g-1],e=m;e<=a;e+=1)p[e]=0;if(arrayFill)for(g=l;g<=k;g+=1)p=c[g],p.fill(0,a+1,a+f+2),p.fill(0,m-f-1,m);else for(g=l;g<=k;g+=1)for(p=c[g],e=0;e<f;e+=1)p[a+e+1]=0,p[m-e-1]=0;if(arrayFill)for(g=0;g<f;g+=1)p=c[k+g+1],p.fill(0,a+1,a+f+2),p.fill(0,m-f-1,m);else for(g=0;g<f;g+=1)for(p=c[k+g+1],e=0;e<f;e+=1)p[e+a+1]=0,p[m-e-1]=0;if(arrayFill)for(g=0;g<f;g+=1)p=c[l-g-1],p.fill(0,a+1,a+f+2),p.fill(0,m-f-1,m);else for(g=0;g<f;g+=1)for(p=c[l-g-1],e=0;e<f;e+=1)p[e+a+1]=0,p[m-e-1]=
0};d.prototype.tb=function(m,l,a,k,c){var f,e,g=this.a.la,p=this.a.za,q=this.a.width,r=0,w=this.a.height,v=0,z=q,b=r,h=w,n=v,x=this.a.F,u=this.a.oa,t=this.Fc,A=c?this.tp:this.jc,y=c?this.up:this.Nr,B=this.aa;var C=this.Do-1;var F=LifeConstants.Sa,E=LifeConstants.Fi,G=this.a.Hp;var H=this.a.f+this.a.S-1;var L=this.a.S,M=0<this.a.S?1:0;var I=f=c=0;if(1===C)for(C=l-t;C<=k+t;C+=1){var D=g[C];var J=B[C];var K=p[C>>4];var P=e=!1;for(l=m-t;l<=a+t;l+=1){var aa=D[l];var ca=J[l];H=0;aa<F?1===A[ca]&&(f+=1,H=
128):0===y[ca]?I+=1:H=128;aa=G[aa+H];D[l]=aa;aa>E&&(e=!0,K[l>>8]|=1<<(~(l>>4)&15),l<q&&(q=l),l>r&&(r=l),aa>=F&&(c+=1,l<z&&(z=l),l>b&&(b=l),P=!0))}e&&(C<w&&(w=C),C>v&&(v=C));P&&(C<h&&(h=C),C>n&&(n=C))}else for(C=l-t;C<=k+t;C+=1){D=g[C];J=B[C];K=p[C>>4];P=e=!1;for(l=m-t;l<=a+t;l+=1)aa=D[l],ca=J[l],aa<=L?1===A[ca]?(aa=H,f+=1):aa>M&&--aa:aa===H?0===y[ca]&&(--aa,I+=1):aa>M&&--aa,D[l]=aa,0<aa&&(e=!0,K[l>>8]|=1<<(~(l>>4)&15),l<q&&(q=l),l>r&&(r=l),aa===H&&(c+=1,l<z&&(z=l),l>b&&(b=l),P=!0));e&&(C<w&&(w=C),
C>v&&(v=C));P&&(C<h&&(h=C),C>n&&(n=C))}this.a.wa=c;this.a.jc=f;this.a.hd=I;0<c?(x.i=q,x.s=r,x.h=w,x.m=v,u.i=z,u.s=b,u.h=h,u.m=n):this.a.ea=0};d.prototype.Lb=function(m){var l,a,k=this.a.F.i,c=this.a.F.s,f=this.a.F.h,e=this.a.F.m,g=this.Fc,p=m?this.tp:this.jc,q=m?this.up:this.Nr,r=g+g;var w=g+1;var v=this.aa,z=this.type,b=this.Do-1,h=this.a.width,n=0,x=this.a.height,u=0,t=h,A=n,y=x,B=u,C=this.a.la,F=this.a.za;var E=this.ha;var G=this.a.na;var H=this.a.pa,L=0,M=0,I=0,D=0,J=0,K=0,P=0,aa=LifeConstants.Sa,
ca=LifeConstants.Fi,V=this.a.Hp;var ba=this.$a;-1!==this.a.ja&&(L=Math.round((this.a.width-G)/2),I=Math.round((this.a.height-H)/2),M=L+G-1,D=I+H-1,1===p[0]&&(k=L+g,c=M-g,e=D-g,f=I+g),1===this.a.ja&&(k-L<g&&(c=M),M-c<g&&(k=L),D-e<g&&(f=I),f-I<g&&(e=D),this.zb(L,I,M,D)),0===this.a.ja&&1===b&&this.a.Px(0),k-L<g&&(k=L+g),M-c<g&&(c=M-g),D-e<g&&(e=D-g),f-I<g&&(f=I+g),z===PatternManager.yf?(k-=r,f-=r,c+=r,e+=r):z===PatternManager.gg&&6<g&&(k-=g,f-=g,c+=g,e+=g));if(z===PatternManager.yf){k-=r;f-=r;c+=r;e+=
r;if(arrayFill)for(a=f;a<f+r;a+=1)v[a].fill(0,k,c+1);else for(a=f;a<f+r;a+=1){var W=v[a];for(l=k;l+8<=c;)W[l]=0,l+=1,W[l]=0,l+=1,W[l]=0,l+=1,W[l]=0,l+=1,W[l]=0,l+=1,W[l]=0,l+=1,W[l]=0,l+=1,W[l]=0,l+=1;for(;l<=c;)W[l]=0,l+=1}if(arrayFill)for(a=f+r;a<=e;a+=1)v[a].fill(0,k,k+r+1);else for(a=f+r;a<=e;a+=1){W=v[a];for(l=k;l+8<=k+r;)W[l]=0,l+=1,W[l]=0,l+=1,W[l]=0,l+=1,W[l]=0,l+=1,W[l]=0,l+=1,W[l]=0,l+=1,W[l]=0,l+=1,W[l]=0,l+=1,W[l]=0,l+=1;for(;l<=k+r;)W[l]=0,l+=1}var U=v[f+r-1];for(a=f+r;a<=e;a+=1){W=v[a];
b=C[a];G=0;for(l=k+r;l+8<=c;)b[l]>=aa&&(G+=1),W[l]=U[l]+G,l+=1,b[l]>=aa&&(G+=1),W[l]=U[l]+G,l+=1,b[l]>=aa&&(G+=1),W[l]=U[l]+G,l+=1,b[l]>=aa&&(G+=1),W[l]=U[l]+G,l+=1,b[l]>=aa&&(G+=1),W[l]=U[l]+G,l+=1,b[l]>=aa&&(G+=1),W[l]=U[l]+G,l+=1,b[l]>=aa&&(G+=1),W[l]=U[l]+G,l+=1,b[l]>=aa&&(G+=1),W[l]=U[l]+G,l+=1;for(;l<=c;)b[l]>=aa&&(G+=1),W[l]=U[l]+G,l+=1;U=W}k+=g;f+=g;c-=g;e-=g;-1!==this.a.ja&&(k+=r,f+=r,c-=r,e-=r);r=C[f][k];G=v[f+g][k+g];var da=0;r<aa?1===p[G]&&(K+=1,da=128):0===q[G]?P+=1:da=128;r=V[r+da];
C[f][k]=r;r>ca&&(ba[k]|=1,u=x=f,F[f>>4][k>>8]|=1<<(~(k>>4)&15),r>=aa&&(J+=1,ba[k]|=2,B=y=f));var T=H=!1;W=v[f+g];U=v[f+g];b=C[f];E=F[f>>4];for(l=k+1;l<=c;l+=1)r=b[l],G=W[l+g]-U[l-w],da=0,r<aa?1===p[G]&&(K+=1,da=128):0===q[G]?P+=1:da=128,r=V[r+da],b[l]=r,r>ca&&(ba[l]|=1,H=!0,E[l>>8]|=1<<(~(l>>4)&15),r>=aa&&(J+=1,ba[l]|=2,T=!0));H&&(u=x=f);T&&(B=y=f);E=b=!1;W=k+g;for(a=f+1;a<=e;a+=1)r=C[a][k],G=v[a+g][W]-v[a-w][W],da=0,r<aa?1===p[G]&&(K+=1,da=128):0===q[G]?P+=1:da=128,r=V[r+da],C[a][k]=r,r>ca&&(a<x&&
(x=a),a>u&&(u=a),b=!0,F[a>>4][k>>8]|=1<<(~(k>>4)&15),r>=aa&&(J+=1,a<y&&(y=a),a>B&&(B=a),E=!0));b&&(ba[k]|=1);E&&(ba[k]|=2);for(a=f+1;a<=e;a+=1){b=C[a];E=F[a>>4];U=v[a+g];var N=v[a-w];W=k+1+g;var O=k+1-w;T=H=!1;for(l=k+1;l<=c;l+=1)r=b[l],G=U[W]+N[O]-U[O]-N[W],da=0,r<aa?1===p[G]&&(da=128,K+=1):0===q[G]?P+=1:da=128,r=V[r+da],b[l]=r,r>ca&&(H=!0,E[l>>8]|=1<<(~(l>>4)&15),ba[l]|=1,r>=aa&&(J+=1,T=!0,ba[l]|=2)),W+=1,O+=1;H&&(a<x&&(x=a),a>u&&(u=a));T&&(a<y&&(y=a),a>B&&(B=a))}for(l=k;l<=c;l+=1)ba[l]&&(l<h&&
(h=l),l>n&&(n=l),0!==(ba[l]&2)&&(l<t&&(t=l),l>A&&(A=l)),ba[l]=0);this.a.wa=J;this.a.jc=K;this.a.hd=P;0<J?(this.a.F.i=h,this.a.F.s=n,this.a.F.h=x,this.a.F.m=u,this.a.oa.i=t,this.a.oa.s=A,this.a.oa.h=y,this.a.oa.m=B):this.a.ea=0}else if(z===PatternManager.gg&&6<g){k-=g;c+=g;f-=g;e+=g;-1===this.a.ja&&(k-=g,c+=g,f-=g,e+=g);this.fa=e-f+1;this.R=c-k+1;this.A=this.fa+(this.R-1)/2|0;this.Ea=this.R/2|0;for(w=0;w<this.A;w+=1)for(W=v[w],b=C[w+f],a=w-1,G=a-1,ba=0;ba<=this.R;ba+=1)W[ba]=this.g(a,ba-1)+this.g(a,
ba+1)-this.g(G,ba),w<this.fa&&b[ba+k]>=aa&&(W[ba]+=1);for(w=g;w<=this.fa-g;w+=1){a=w-1;N=w+g;v=N-1;l=w-g-1;W=l-1;U=w+f;b=C[U];E=F[U>>4];T=H=!1;for(ba=g;ba<=this.R-g;ba+=1)G=ba+g,r=ba-g,G=this.g(N,ba)-this.g(a,G+1)-this.g(a,r-1)+this.g(W,ba)+this.g(v,ba)-this.g(a,G)-this.g(a,r)+this.g(l,ba),O=ba+k,r=b[O],da=0,r<aa?1===p[G]&&(da=128,K+=1):0===q[G]?P+=1:da=128,r=V[r+da],b[O]=r,r>ca&&(O<h&&(h=O),O>n&&(n=O),H=!0,E[O>>8]|=1<<(~(O>>4)&15),r>=aa&&(J+=1,T=!0,O<t&&(t=O),O>A&&(A=O)));H&&(U<x&&(x=U),U>u&&(u=
U));T&&(U<y&&(y=U),U>B&&(B=U))}this.a.wa=J;this.a.jc=K;this.a.hd=P;0<J?(this.a.F.i=h,this.a.F.s=n,this.a.F.h=x,this.a.F.m=u,this.a.oa.i=t,this.a.oa.s=A,this.a.oa.h=y,this.a.oa.m=B):this.a.ea=0}else for(a=f-g;a<=e+g;a+=1){W=v[a];l=k-g;G=0;for(ba=-g;ba<=g;ba+=1)for(p=E[ba+g],b=C[a+ba],w=-p;w<=p;w+=1)b[l+w]>=aa&&(G+=1);W[l]=G;for(l+=1;l<=c+g;){for(ba=-g;ba<=g;ba+=1)p=E[ba+g],b=C[a+ba],b[l-p-1]>=aa&&--G,b[l+p]>=aa&&(G+=1);W[l]=G;l+=1}}-1!==this.a.ja&&(k<L+g&&(k=L+g),c>M-g&&(c=M-g),f<I+g&&(f=I+g),e>D-
g&&(e=D-g));z===PatternManager.yf||z===PatternManager.gg&&6<g||this.tb(k,f,c,e,m);1===this.a.ja&&this.Wa(L,I,M,D)};d.prototype.ec=function(m){var l,a,k=this.a.F.i,c=this.a.F.s,f=this.a.F.h,e=this.a.F.m,g=this.Fc,p=m?this.tp:this.jc,q=m?this.up:this.Nr,r=g+g;var w=g+1;var v=this.aa,z=this.type,b=this.a.width,h=0,n=this.a.height,x=0,u=b,t=h,A=n,y=x,B=this.a.la,C=this.a.za;var F=this.ha;var E=this.a.na;var G=this.a.pa;var H=0,L=0,M=0,I=0,D=0,J=0,K=0,P,aa=this.a.f+this.a.S-1,ca=this.a.S,V=0<this.a.S?
1:0;-1!==this.a.ja&&(H=Math.round((this.a.width-E)/2),M=Math.round((this.a.height-G)/2),L=H+E-1,I=M+G-1,1===p[0]&&(k=H+g,c=L-g,e=I-g,f=M+g),1===this.a.ja&&(k-H<g&&(c=L),L-c<g&&(k=H),I-e<g&&(f=M),f-M<g&&(e=I),this.zb(H,M,L,I)),k-H<g&&(k=H+g),L-c<g&&(c=L-g),I-e<g&&(e=I-g),f-M<g&&(f=M+g),z===PatternManager.yf?(k-=r,f-=r,c+=r,e+=r):z===PatternManager.gg&&6<g&&(k-=g,f-=g,c+=g,e+=g));if(z===PatternManager.yf){k-=r;f-=r;c+=r;e+=r;if(arrayFill)for(a=f;a<f+r;a+=1)v[a].fill(0,k,c+1);else for(a=f;a<f+r;a+=1){var ba=
v[a];for(l=k;l<=c;l+=1)ba[l]=0}if(arrayFill)for(a=f+r;a<=e;a+=1)v[a].fill(0,k,k+r);else for(a=f+r;a<=e;a+=1)for(ba=v[a],l=k;l<k+r;l+=1)ba[l]=0;for(a=f+r;a<=e;a+=1){var W=v[a-1];ba=v[a];E=B[a];G=0;for(l=k+r;l<=c;l+=1)E[l]===aa&&(G+=1),ba[l]=W[l]+G}k+=g;f+=g;c-=g;e-=g;-1!==this.a.ja&&(k+=r,f+=r,c-=r,e-=r);r=B[f][k];G=v[f+g][k+g];r<=ca?1===p[G]?(r=aa,J+=1):r>V&&--r:r===aa?0===q[G]&&(--r,K+=1):r>V&&--r;B[f][k]=r;0<r&&(h=b=k,x=n=f,C[f>>4][k>>8]|=1<<(~(k>>4)&15),r===aa&&(D+=1,t=u=k,y=A=f));var U=P=!1;ba=
v[f+g];W=v[f+g];E=B[f];F=C[f>>4];for(l=k+1;l<=c;l+=1)r=E[l],G=ba[l+g]-W[l-w],r<=ca?1===p[G]?(r=aa,J+=1):r>V&&--r:r===aa?0===q[G]&&(--r,K+=1):r>V&&--r,E[l]=r,0<r&&(l<b&&(b=l),l>h&&(h=l),P=!0,F[l>>8]|=1<<(~(l>>4)&15),r===aa&&(D+=1,l<u&&(u=l),l>t&&(t=l),U=!0));P&&(x=n=f);U&&(y=A=f);F=E=!1;W=k+g;for(a=f+1;a<=e;a+=1)r=B[a][k],G=v[a+g][W]-v[a-w][W],r<=ca?1===p[G]?(r=aa,J+=1):r>V&&--r:r===aa?0===q[G]&&(--r,K+=1):r>V&&--r,B[a][k]=r,0<r&&(a<n&&(n=a),a>x&&(x=a),E=!0,C[a>>4][k>>8]|=1<<(~(k>>4)&15),r===aa&&(D+=
1,a<A&&(A=a),a>y&&(y=a),F=!0));E&&(k<b&&(b=k),k>h&&(h=k));F&&(k<u&&(u=k),k>t&&(t=k));for(a=f+1;a<=e;a+=1){E=B[a];F=C[a>>4];ba=v[a+g];var da=v[a-w];U=P=!1;W=k+1+g;var T=k+1-w;for(l=k+1;l<=c;l+=1)r=E[l],G=ba[W]+da[T]-ba[T]-da[W],r<=ca?1===p[G]?(r=aa,J+=1):r>V&&--r:r===aa?0===q[G]&&(--r,K+=1):r>V&&--r,E[l]=r,0<r&&(F[l>>8]|=1<<(~(l>>4)&15),l<b&&(b=l),l>h&&(h=l),P=!0,r===aa&&(D+=1,U=!0,l<u&&(u=l),l>t&&(t=l))),W+=1,T+=1;P&&(a<n&&(n=a),a>x&&(x=a));U&&(a<A&&(A=a),a>y&&(y=a))}this.a.wa=D;this.a.jc=J;this.a.hd=
K;0<D?(this.a.F.i=b,this.a.F.s=h,this.a.F.h=n,this.a.F.m=x,this.a.oa.i=u,this.a.oa.s=t,this.a.oa.h=A,this.a.oa.m=y):this.a.ea=0}else if(z===PatternManager.gg&&6<g){k-=g;c+=g;f-=g;e+=g;-1===this.a.ja&&(k-=g,c+=g,f-=g,e+=g);this.fa=e-f+1;this.R=c-k+1;this.A=this.fa+(this.R-1)/2|0;this.Ea=this.R/2|0;for(w=0;w<this.A;w+=1)for(ba=v[w],E=B[w+f],a=w-1,G=a-1,W=0;W<=this.R;W+=1)ba[W]=this.g(a,W-1)+this.g(a,W+1)-this.g(G,W),w<this.fa&&E[W+k]===aa&&(ba[W]+=1);for(w=g;w<=this.fa-g;w+=1){a=w-1;T=w+g;v=T-1;l=w-
g-1;ba=l-1;da=w+f;E=B[da];F=C[da>>4];U=P=!1;for(W=g;W<=this.R-g;W+=1){G=W+g;r=W-g;G=this.g(T,W)-this.g(a,G+1)-this.g(a,r-1)+this.g(ba,W)+this.g(v,W)-this.g(a,G)-this.g(a,r)+this.g(l,W);var N=W+k;r=E[N];r<=ca?1===p[G]?(r=aa,J+=1):r>V&&--r:r===aa?0===q[G]&&(--r,K+=1):r>V&&--r;E[N]=r;0<r&&(F[N>>8]|=1<<(~(N>>4)&15),N<b&&(b=N),N>h&&(h=N),P=!0,r===aa&&(D+=1,U=!0,N<u&&(u=N),N>t&&(t=N)))}P&&(da<n&&(n=da),da>x&&(x=da));U&&(da<A&&(A=da),da>y&&(y=da))}this.a.wa=D;this.a.jc=J;this.a.hd=K;0<D?(this.a.F.i=b,this.a.F.s=
h,this.a.F.h=n,this.a.F.m=x,this.a.oa.i=u,this.a.oa.s=t,this.a.oa.h=A,this.a.oa.m=y):this.a.ea=0}else for(a=f-g;a<=e+g;a+=1){ba=v[a];l=k-g;G=0;for(W=-g;W<=g;W+=1)for(p=F[W+g],E=B[a+W],w=-p;w<=p;w+=1)E[l+w]===aa&&(G+=1);ba[l]=G;for(l+=1;l<=c+g;){for(W=-g;W<=g;W+=1)p=F[W+g],E=B[a+W],E[l-p-1]===aa&&--G,E[l+p]===aa&&(G+=1);ba[l]=G;l+=1}}-1!==this.a.ja&&(k<H+g&&(k=H+g),c>L-g&&(c=L-g),f<M+g&&(f=M+g),e>I-g&&(e=I-g));z===PatternManager.yf||z===PatternManager.gg&&6<g||this.tb(k,f,c,e,m);1===this.a.ja&&this.Wa(H,
M,L,I)};d.prototype.JE=function(m){var l=!1;this.$d&&1===(m&1)&&(l=!0);2===this.Do?this.Lb(l):this.ec(l)};window.HROT=d})();(function(){function d(c,f,e,g,p,q,r,w){this.name=c;this.Vk=!1;this.Eq=10;this.mh=this.lh=0;this.Ja=g;this.La=e;this.Ha=f;this.Sf=p;this.ub=q;this.fc=r;this.zi=w;this.Xl=!1;-1===this.ub.M.red&&(this.Xl=!0);128<=(this.Ja.red+this.Ja.green+this.Ja.blue)/3?(this.lh=ViewConstants.ey,this.mh=ViewConstants.dy):(this.lh=ViewConstants.Dq,this.mh=ViewConstants.Cq)}function m(c,f,e){this.red=c;this.green=f;this.blue=e}function l(c,f){this.K=c;this.M=f}function a(c,f,e,g,p){this.o=new Allocator;this.Wg=this.Km=
this.$d=!1;this.jo=0;this.ej=[];this.cj=[];this.kj=[];this.hj=[];this.$g=[];this.Rf=this.Rb="";this.ec=255;this.sb=null;this.kf=this.o.L(Uint8,65536,"Life.bitCounts16");this.Zt();this.mg=this.kg=this.Wa=null;this.bb=this.mb=this.tb=this.sg=0;this.ac=1;this.ea=0;this.pa=this.na=this.ja=-1;this.mn=this.ln=0;this.nx=this.Vs=!1;this.zo=ViewConstants.Lx;this.Wd=[];this.Xd=[];this.Wd[0]=this.o.L(Int32,k.yr,"Life.boundaryX0");this.Xd[0]=this.o.L(Int32,k.yr,"Life.boundaryY0");this.ci=0;this.Pl=4294967295;
this.pb=!1;this.ff=-1;this.Z=!1;this.Zc=PatternManager.Hl;this.U=!1;this.od=!0;this.fe=this.mr=!1;this.f=-1;this.Oa=!1;this.S=0;this.Yf=this.sa=!1;this.ef=new SnapshotManager(this.o,this.kf);this.el=k.Mo;this.gd=this.Nb=this.Yi=!1;this.Ml=this.Vc=this.ee=this.oa=this.F=null;this.title="LifeViewer";this.width=g;this.height=p;this.To=2;this.Uo=16;this.ma=this.width>>4;this.qa=this.height>>4;this.As=this.ef.gt((this.ma-1>>4)+1,this.qa,!0,0);this.D=f;this.B=e;this.hd=this.jc=this.wa=0;this.Sa=k.Sa;this.cd=
k.cd;this.Tc=k.Tc;this.Fi=k.Fi;this.Rq=this.Ja=0;this.G=1;this.Qe=-1;this.Hk=1;this.tj=30;this.angle=this.u=0;this.zoom=6;this.da=this.ga=0;this.jd=.1;this.Ca=0;this.ta=1;this.fd=this.ed=0;this.g=.1;this.Hg=littleEndian;this.hb=[];this.Qf=this.Zd=this.$c=this.jf=this.Cd=this.Lb=this.Ea=this.xg=this.He=this.qe=this.lg=this.se=this.Vd=this.$a=null;this.ie=-1;this.Ke=this.Id=this.Wi=null;this.context=c;this.Na=this.Ka=0;this.ia=Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,"Life.tileGrid");this.Fa=
Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,"Life.nextTileGrid");this.nc=Array.X(Uint8,this.height,(this.width-1>>3)+1,0,this.o,"Life.grid");this.$e=Array.X(Uint8,this.height,(this.width-1>>3)+1,0,this.o,"Life.nextGrid");this.Ua=Array.Xc(Uint16,this.nc,"Life.grid16");this.Ib=Array.Xc(Uint16,this.$e,"Life.nextGrid16");this.bi=this.o.L(Uint32,this.D,"Life.blankPixelRow");this.dd=this.o.L(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.sj=this.o.L(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.Pe=
this.o.L(Uint16,this.ma>>4,"Life.blankTileRow");this.rj=this.o.L(Uint8,this.width,"Life.blankColourRow");this.la=Array.X(Uint8,this.height,this.width,this.Ja,this.o,"Life.colourGrid");this.A=Array.X(Uint8,this.height,this.width,this.Ja,this.o,"Life.smallColourGrid");this.Oh=Array.Xc(Uint16,this.la,"Life.colourGrid16");this.Ge=Array.Xc(Uint32,this.la,"Life.colourGrid32");this.Pf=this.ph=this.ha=this.Ab=null;this.Ma=Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,"Life.colourTileGrid");this.za=Array.X(Uint16,
this.qa,(this.ma-1>>4)+1,0,this.o,"Life.colourTileHistoryGrid");this.Be=this.ad=this.zb=this.aa=null;this.nb=this.o.L(Uint8,256,"Life.redChannel");this.lb=this.o.L(Uint8,256,"Life.greenChannel");this.kb=this.o.L(Uint8,256,"Life.blueChannel");this.Kg=this.o.L(Uint32,256,"Life.pixelColours");this.oh=this.nh=this.Of=this.pg=null;this.Hp=this.o.L(Uint16,2*(this.cd+1)<<8,"Life.colourLookup");this.sk=this.o.L(Uint8,2048,"Life.colourReset");this.Uc=ViewConstants.Dq;this.eh=-1;this.We=ViewConstants.Cq;this.bh=
-1;this.rf=10;this.Ji=!0;this.ZC=10;this.Yd=this.o.L(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.th=this.o.L(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.Y=8192;this.TD=[0,0,48];this.SD=[255,255,255];this.RD=[255,255,255];this.UD=[0,255,0];this.VD=[255,0,0];this.ih=[0,0,48];this.hh=[255,255,255];this.gh=[255,255,255];this.jh=[0,255,0];this.kh=[255,0,0];this.Wb=new HROT(this.o,this);this.coords=this.o.L(Float32,1,"Life.coords");this.R=this.o.L(Uint32,1,"Life.cellColours");this.fa=
0}var k={OD:[[1,1,1],[1,0,0],[0,1,0]],ND:[[1,1,1],[0,0,1],[0,1,0]],QD:[[0,1,0],[1,0,0],[1,1,1]],PD:[[0,1,0],[0,0,1],[1,1,1]],Gb:4096,ug:16,yr:4096,YD:512,Hq:262144,gy:8192,fy:131072,Mo:64,Jy:262144,Uj:12,Sa:64,cd:127,Tc:63,Fi:1,ve:1,ze:2,De:4,te:8,Lf:16,Mf:32,lf:64,mf:128};d.prototype.Go=function(c,f,e){this.Vk=!0;this.Eq=c;this.lh=f.red<<16|f.green<<8|f.blue;this.mh=e.red<<16|e.green<<8|e.blue};d.prototype.eG=function(c,f){this.lh=-1!==c?c:128<=(this.Ja.red+this.Ja.green+this.Ja.blue)/3?ViewConstants.ey:
ViewConstants.Dq;this.mh=-1!==f?f:128<=(this.Ja.red+this.Ja.green+this.Ja.blue)/3?ViewConstants.dy:ViewConstants.Cq};d.prototype.XD=function(c){var f=!0;c||this.La.K.Wt(this.La.M)&&this.Ha.K.Wt(this.Ha.M)&&this.Ha.K.Wt(this.Ja)&&(f=!1);return f};m.prototype.set=function(c){this.red=c.red;this.green=c.green;this.blue=c.blue};m.prototype.Wt=function(c){var f=!1;this.red===c.red&&this.green===c.green&&this.blue===c.blue&&(f=!0);return f};l.prototype.set=function(c){this.K.set(c.K);this.M.set(c.M)};a.prototype.Iq=
function(c,f,e,g,p,q,r){var w=this.D/2,v=this.B/2,z=0,b=this.width/2-.25,h=this.height/2,n=this.coords,x=this.R,u=this.height/2-this.da-this.bb+.5,t=this.width/2-this.ga-this.mb+.5,A=this.zoom*this.ac;if(c>e){var y=e;e=c;c=y}f>g&&(y=g,g=f,f=y);c+=p;e+=p;f+=q;g+=q;x.length!==k.Gb&&(this.coords=this.o.L(Float32,12*k.Gb,"Life.coords"),this.R=this.o.L(Uint32,k.Gb,"Life.cellColours"),n=this.coords,x=this.R);this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(q=p=0;f<=
g;f+=1)if(y=(f-h+u)*A+v,y>=-A&&y<this.B+A){var B=f-h;var C=t-b;for(y=c;y<=e;y+=1){if(0<r[z]){var F=(y+C)*A+w;if(F>=-A&&F<this.D+2*A){x[p]=(0<<k.ug)+q;F=y-b;var E=y+f&1;n[q]=F-1;n[q+1]=B+E;n[q+2]=F+1;n[q+3]=B+E;n[q+4]=F;n[q+5]=B+1-E;q+=6;p+=1;p===k.Gb&&(this.fa=p,this.Qc(!0,!1,!0),q=p=0)}}z+=1}}else z+=e-c+1;this.fa=p;0<p&&this.Qc(!0,!1,!0)};a.prototype.Ak=function(c,f,e,g,p,q){var r=this.D/2,w=this.B/2,v=this.width/2-.25,z=this.height/2,b=this.coords,h=this.R,n=this.height/2-this.da-this.bb+.5,x=
this.width/2-this.ga-this.mb+.5,u=this.zoom*this.ac;if(c>e){var t=e;e=c;c=t}f>g&&(t=g,g=f,f=t);c+=p;e+=p;f+=q;g+=q;h.length!==k.Gb&&(this.coords=this.o.L(Float32,12*k.Gb,"Life.coords"),this.R=this.o.L(Uint32,k.Gb,"Life.cellColours"),b=this.coords,h=this.R);this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(q=p=0;f<=g;f+=1)if(t=(f-z+n)*u+w,t>=-u&&t<this.B+u){var A=f-z;var y=x-v;for(t=c;t<=e;t+=1){var B=(t+y)*u+r;if(B>=-u&&B<this.D+2*u){h[p]=(0<<k.ug)+q;B=t-v;var C=
t+f&1;b[q]=B-1;b[q+1]=A+C;b[q+2]=B+1;b[q+3]=A+C;b[q+4]=B;b[q+5]=A+1-C;q+=6;p+=1;p===k.Gb&&(this.fa=p,this.Qc(!0,!1,!0),q=p=0)}}}this.fa=p;0<p&&this.Qc(!0,!1,!0)};a.prototype.pD=function(){var c=this.la,f=this.Ab,e=null,g=this.Vc,p=this.D/2,q=this.B/2,r,w,v=this.width/2-.25,z=this.height/2,b=ViewConstants.Ba[3]+128,h=ViewConstants.Ba[4]+128,n=ViewConstants.Ba[5]+128,x=ViewConstants.Ba[6]+128,u=this.Sa,t=this.coords,A=this.R,y=g.i,B=g.s;var C=g.h;var F=g.m,E=this.height/2-this.da-this.bb+.5,G=this.width/
2-this.ga-this.mb+.5,H=this.zoom*this.ac,L=!this.Nb&&!this.gd;A.length!==k.Gb&&(this.coords=this.o.L(Float32,12*k.Gb,"Life.coords"),this.R=this.o.L(Uint32,k.Gb,"Life.cellColours"),t=this.coords,A=this.R);-1!==this.ja&&(0!==this.na?(y=Math.round((this.width-this.na)/2)-1,B=y+this.na-1+2):(y=0,B=this.width-1),0!==this.pa?(C=Math.round((this.height-this.pa)/2)-1,F=C+this.pa-1+2):(C=0,F=this.height-1));this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(w=g=0;C<=F;C+=
1){var M=(C-z+E)*H+q;if(M>=-H&&M<this.B+H){M=c[C];f&&(e=f[C]);var I=C-z;var D=G-v;for(r=y;r<=B;r+=1){var J=(r+D)*H+p;if(J>=-H&&J<this.D+2*H){J=M[r];if(e){var K=e[r];if(K===h||K===x)J>u?J=b:J=K;else if(K===b||K===n)J<u?J=h:J=K}0<J&&(A[g]=(J<<k.ug)+w,J=r-v,K=r+C&1,t[w]=J-1,t[w+1]=I+K,t[w+2]=J+1,t[w+3]=I+K,t[w+4]=J,t[w+5]=I+1-K,w+=6,g+=1);g===k.Gb&&(this.fa=g,this.Qc(!0,L,!1),this.gd&&!this.Nb&&(this.context.strokeStyle="rgb("+this.nb[0]+","+this.kb[0]+","+this.lb[0]+")",this.Qc(!1,!1,!1)),w=g=0)}}}}this.fa=
g;0<g&&(this.Qc(!0,L,!1),this.gd&&!this.Nb&&(this.context.strokeStyle="rgb("+this.nb[0]+","+this.kb[0]+","+this.lb[0]+")",this.Qc(!1,!1,!1)),w=0);if(this.Nb){this.context.strokeStyle="rgb("+(this.Uc>>16)+","+(this.Uc>>8&255)+","+(this.Uc&255)+")";this.context.lineWidth=1;F=q/H-E+z|0;g=0;for(C=-q/H-E+z|0;C<=F;C+=1)if(M=(C-z+E)*H+q,M>=-H&&M<this.B+H)for(I=C-z,D=G-v,y=-p/H-D-H|0,B=p/H-D+H|0,r=y;r<=B;r+=1)J=(r+D)*H+p,J>=-H&&J<this.D+H&&(J=r-v,K=r+C&1,t[w]=J-1,t[w+1]=I+K,t[w+2]=J+1,t[w+3]=I+K,t[w+4]=J,
t[w+5]=I+1-K,w+=6,g+=1),g===k.Gb&&(this.fa=g,this.Qc(!1,!1,!1),w=g=0);this.fa=g;0<g&&this.Qc(!1,!1,!1)}};a.prototype.Qc=function(c,f,e){var g,p=this.context,q=this.width/2-this.ga-this.mb,r=this.height/2-this.da-this.bb,w=this.zoom*this.ac,v=this.zoom*this.ac*ViewConstants.pi,z=this.D/2,b=this.B/2,h=0,n=0,x=-1,u=this.coords,t=this.fa,A=this.R,y=(1<<k.ug)-1;if(c&&!e&&A.sort){n=(k.Gb<<k.ug)+256;for(g=t;g<k.Gb;g+=1)A[g]=n;A.sort()}p.beginPath();c||(x=n=h=0);for(g=0;g<t;g+=1){c&&(n=A[g],h=n&y,n>>=k.ug);
var B=u[h];var C=u[h+1];h+=2;var F=(C+r)*v+b;var E=(B+q)*w+z;var G=(u[h+1]-C)*v;var H=(u[h]-B)*w;h+=2;n!==x&&(x=n,0<g&&(c?(f&&p.stroke(),p.fill()):p.stroke(),p.beginPath()),c&&!e&&(p.fillStyle=this.$g[n],f&&(p.strokeStyle=this.$g[n])));p.moveTo(E|0,F|0);p.lineTo(H+E|0,G+F|0);p.lineTo(H+E|0,F|0);G=(u[h+1]-C)*v;H=(u[h]-B)*w;p.lineTo(H+E|0,G+F|0);h+=2}c?(f&&p.stroke(),p.fill()):p.stroke()};a.prototype.uq=function(c,f,e,g,p,q,r){var w=0,v=this.width/2-.25,z=this.height/2,b=Math.PI/3,h=.5/Math.cos(b/2)*
1.16,n=ViewConstants.pi/4/Math.cos(b/2)*1.16,x=[],u=[],t=this.coords,A=this.R,y=this.D/2,B=this.B/2,C=this.width/2-this.ga-this.mb,F=this.height/2-this.da-this.bb,E=this.ta;C=C+F/2+-(this.height>>2)+.5;F+=.5;if(c>e){var G=e;e=c;c=G}f>g&&(G=g,g=f,f=G);c+=p;e+=p;f+=q;g+=q;A.length!==k.Gb&&(this.coords=this.o.L(Float32,12*k.Gb,"Life.coords"),this.R=this.o.L(Uint32,k.Gb,"Life.cellColours"),t=this.coords,A=this.R);q=b/2;for(p=0;5>=p;p+=1)x[p]=Math.cos(q)*n,u[p]=Math.sin(q)*h,x[p]+=u[p]/2,q+=b;b=x[0];h=
u[0];n=x[1];G=u[1];var H=x[2];var L=u[2];var M=x[3];var I=u[3];var D=x[4];var J=u[4];x=x[5];u=u[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(q=p=0;f<=g;f+=1){var K=f-z;var P=(K+F)*E+B;if(P>=-E&&P<this.B+E)for(P=c;P<=e;P+=1){if(0<r[w]){var aa=P-v;var ca=(aa+C-(K+F)/2)*E+y;ca>=-E&&ca<this.D+E&&(A[p]=(0<<k.ug)+q,t[q]=b+aa,t[q+1]=h+K,t[q+2]=n+aa,t[q+3]=G+K,t[q+4]=H+aa,t[q+5]=L+K,t[q+6]=M+aa,t[q+7]=I+K,t[q+8]=D+aa,t[q+9]=J+K,t[q+10]=x+aa,t[q+11]=u+K,q+=12,
p+=1,p===k.Gb&&(this.fa=p,this.uc(!0,!1,!1,!0),q=p=0))}w+=1}else w+=e-c+1}this.fa=p;0<p&&this.uc(!0,!1,!1,!0)};a.prototype.yk=function(c,f,e,g,p,q){var r=this.width/2-.25,w=this.height/2,v=Math.PI/3,z=.5/Math.cos(v/2)*1.16,b=ViewConstants.pi/4/Math.cos(v/2)*1.16,h=[],n=[],x=this.coords,u=this.R,t=this.D/2,A=this.B/2,y=this.width/2-this.ga-this.mb,B=this.height/2-this.da-this.bb,C=this.ta;y=y+B/2+-(this.height>>2)+.5;B+=.5;if(c>e){var F=e;e=c;c=F}f>g&&(F=g,g=f,f=F);c+=p;e+=p;f+=q;g+=q;u.length!==k.Gb&&
(this.coords=this.o.L(Float32,12*k.Gb,"Life.coords"),this.R=this.o.L(Uint32,k.Gb,"Life.cellColours"),x=this.coords,u=this.R);q=v/2;for(p=0;5>=p;p+=1)h[p]=Math.cos(q)*b,n[p]=Math.sin(q)*z,h[p]+=n[p]/2,q+=v;v=h[0];z=n[0];b=h[1];F=n[1];var E=h[2];var G=n[2];var H=h[3];var L=n[3];var M=h[4];var I=n[4];h=h[5];n=n[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(q=p=0;f<=g;f+=1){var D=f-w;var J=(D+B)*C+A;if(J>=-C&&J<this.B+C)for(J=c;J<=e;J+=1){var K=J-r;var P=(K+
y-(D+B)/2)*C+t;P>=-C&&P<this.D+C&&(u[p]=(0<<k.ug)+q,x[q]=v+K,x[q+1]=z+D,x[q+2]=b+K,x[q+3]=F+D,x[q+4]=E+K,x[q+5]=G+D,x[q+6]=H+K,x[q+7]=L+D,x[q+8]=M+K,x[q+9]=I+D,x[q+10]=h+K,x[q+11]=n+D,q+=12,p+=1,p===k.Gb&&(this.fa=p,this.uc(!0,!1,!1,!0),q=p=0))}}this.fa=p;0<p&&this.uc(!0,!1,!1,!0)};a.prototype.lD=function(){var c=this.la,f=this.Ab,e=null,g=this.Vc,p=this.D/2,q=this.B/2,r,w=this.width/2-.25,v=this.height/2,z=Math.PI/3,b=.5/Math.cos(z/2)*1.16,h=ViewConstants.pi/4/Math.cos(z/2)*1.16,n=[],x=[],u=ViewConstants.Ba[3]+
128,t=ViewConstants.Ba[4]+128,A=ViewConstants.Ba[5]+128,y=ViewConstants.Ba[6]+128,B=this.Sa,C=this.coords,F=this.R,E=g.i,G=g.s;var H=g.h;var L=g.m,M=this.height/2-this.da-this.bb+.5,I=this.width/2-this.ga-this.mb+.5-(this.height>>2)+M/2,D=this.zoom*this.ac,J=!this.Nb&&!this.gd;F.length!==k.Gb&&(this.coords=this.o.L(Float32,12*k.Gb,"Life.coords"),this.R=this.o.L(Uint32,k.Gb,"Life.cellColours"),C=this.coords,F=this.R);-1!==this.ja&&(0!==this.na?(E=Math.round((this.width-this.na)/2)-1,G=E+this.na-1+
2):(E=0,G=this.width-1),0!==this.pa?(H=Math.round((this.height-this.pa)/2)-1,L=H+this.pa-1+2):(H=0,L=this.height-1));var K=z/2;for(g=0;5>=g;g+=1)n[g]=Math.cos(K)*h,x[g]=Math.sin(K)*b,n[g]+=x[g]/2,K+=z;z=n[0];b=x[0];h=n[1];var P=x[1];var aa=n[2];var ca=x[2];var V=n[3];var ba=x[3];var W=n[4];var U=x[4];n=n[5];x=x[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(K=g=0;H<=L;H+=1){var da=(H+M-v)*D+q;if(da>=-D&&da<this.B+D){da=c[H];f&&(e=f[H]);var T=H-v;var N=I-
w-(T+M)/2;for(r=E;r<=G;r+=1){var O=(r+N)*D+p;if(O>=-D&&O<this.D+D){O=da[r];if(e){var Q=e[r];if(Q===t||Q===y)O>B?O=u:O=Q;else if(Q===u||Q===A)O<B?O=t:O=Q}0<O&&(F[g]=(O<<k.ug)+K,O=r-w,C[K]=z+O,C[K+1]=b+T,C[K+2]=h+O,C[K+3]=P+T,C[K+4]=aa+O,C[K+5]=ca+T,C[K+6]=V+O,C[K+7]=ba+T,C[K+8]=W+O,C[K+9]=U+T,C[K+10]=n+O,C[K+11]=x+T,K+=12,g+=1);g===k.Gb&&(this.fa=g,this.uc(!0,J,!1,!1),this.gd&&!this.Nb&&(this.context.strokeStyle="rgb("+this.nb[0]+","+this.kb[0]+","+this.lb[0]+")",this.uc(!1,!1,!1,!1)),K=g=0)}}}}this.fa=
g;0<g&&(this.uc(!0,J,!1,!1),this.gd&&!this.Nb&&(this.context.strokeStyle="rgb("+this.nb[0]+","+this.kb[0]+","+this.lb[0]+")",this.uc(!1,!1,!1,!1)),K=0);if(this.Nb){this.context.strokeStyle="rgb("+(this.Uc>>16)+","+(this.Uc>>8&255)+","+(this.Uc&255)+")";this.context.lineWidth=1;g=0;L=q/D-M+v|0;for(H=-q/D-M+v|0;H<=L;H+=1)if(da=(H+M-v)*D+q,da>=-D&&da<this.B+D)for(T=H-v,N=I-w-(T+M)/2,E=-p/D-N-D|0,G=p/D-N+D|0,r=E;r<=G;r+=1)O=(r+N)*D+p,O>=-D&&O<this.D+D&&(O=r-w,C[K]=z+O,C[K+1]=b+T,C[K+2]=h+O,C[K+3]=P+T,
C[K+4]=aa+O,C[K+5]=ca+T,C[K+6]=V+O,C[K+7]=ba+T,K+=8,g+=1),g===k.Gb&&(this.fa=g,this.uc(!1,!1,!0,!1),K=g=0);this.fa=g;0<g&&this.uc(!1,!1,!0,!1)}};a.prototype.uc=function(c,f,e,g){var p,q=this.context,r=this.width/2-this.ga-this.mb,w=this.height/2-this.da-this.bb,v=this.zoom*this.ac,z=this.D/2,b=this.B/2,h=0,n=0,x=12,u=0,t=-1,A=this.coords,y=this.fa,B=this.R,C=(1<<k.ug)-1;r=r+w/2+-(this.height>>2)+.5;w+=.5;if(c&&!g&&B.sort){u=(k.Gb<<k.ug)+256;if(arrayFill)B.fill(u,y);else for(p=y;p<k.Gb;p+=1)B[p]=u;
B.sort()}q.beginPath();c||(n=x=e?8:12,t=u=h=0);for(p=0;p<y;p+=1){c&&(u=B[p],h=u&C,n=h+x,u>>=k.ug);e=A[h];var F=A[h+1];var E=F+w;var G=e+r-E/2;h+=2;E=E*v+b;G=G*v+z;var H=(A[h+1]-F)*v;var L=(A[h]-e)*v-H/2;h+=2;u!==t&&(t=u,0<p&&(c?(f&&q.stroke(),q.fill()):q.stroke(),q.beginPath()),c&&!g&&(q.fillStyle=this.$g[u],f&&(q.strokeStyle=this.$g[u])));q.moveTo(G,E);for(q.lineTo(L+G,H+E);h<n;)H=(A[h+1]-F)*v,L=(A[h]-e)*v-H/2,h+=2,q.lineTo(L+G,H+E);n+=x}c?(f&&q.stroke(),q.fill()):q.stroke()};a.prototype.Ts=function(c,
f,e){var g="",p=f.Oa?f.Vc:f.F,q=p.i,r=p.s,w=p.m,v=p.h,z=r-q+1,b=w-v+1;p=0;var h=[];var n=0;var x=!1,u=this.la,t=null;var A=(f.width>>1)-(c.Xa>>1);var y=(f.height>>1)-(c.cb>>1),B=c.fb;c.Va&&(q=B.i+A,v=B.h+y,r=B.s+A,w=B.m+y,z=r-q+1,b=w-v+1);f.Z&&(0<q&&0!==(q&1)&&(--q,z+=1),0<v&&0!==(v&1)&&(--v,b+=1));if(2>=f.f&&!f.Xf)x=!0,h[0]="b",h[1]="o";else for(f.Xf?n=7:n=f.f,h[0]=".",A=0;A<n-1;A+=1)h[A+1]=24<=A?String.fromCharCode(112+(A/24|0)-1)+String.fromCharCode(65+A%24):String.fromCharCode(65+A);e&&(g+=f.Rb);
0===this.wa&&(b=z=0,w=v-1);g+="x = "+z+", y = "+b+", rule = ";g="LifeHistory"===c.je?f.Xf?g+c.je:g+"Life":f.Oa&&!f.Xf?g+c.cf.substr(0,c.cf.length-7):g+c.cf;g+=c.Nu;g+="\n";for(c=g.length;v<=w;){A=q;x?(t=u[v],n=t[A],z=n<=this.Tc||n===this.ec?0:1):z=f.getState(A,v,!1);b=1;for(A+=1;A<=r+1;)A>r?n=-1:x?(n=t[A],n=n<=this.Tc||n===this.ec?0:1):n=f.getState(A,v,!1),n!==z?((-1!==n||0!==z)&&0<p&&(1<p&&(g+=p),g+="$",69<=g.length-c&&(g+="\n",c=g.length),p=0),0<z?(1<b&&(g+=b),g+=h[z]):A<=r&&(1<b&&(g+=b),g+=h[z]),
69<=g.length-c&&(g+="\n",c=g.length),b=1,z=n):b+=1,A+=1;p+=1;v+=1}g+="!\n";e&&(g+=f.Rf);return g};a.prototype.iA=function(c,f,e){var g=0,p=0,q=this.Ua,r=this.ia,w=this.la,v=this.Ma,z=this.za,b=this.F,h=this.Vc,n,x=this.Z?1:0,u=this.Z?14:15;0!==(this.u&1)&&(q=this.Ib,r=this.Fa);for(;g<c.length;){var t=c[g]+f;var A=c[g+1]+e;if(t===(t&this.Ka)&&A===(A&this.Na)){p=c[g+2];var y=1<<(~t&15);var B=1<<(~(t>>4)&15);(n=1===(p&1))?(0===(q[A][t>>4]&y)&&(this.wa+=1),w[A][t]=this.Sa,v[A>>4][t>>8]|=B,z[A>>4][t>>
8]|=B,q[A][t>>4]|=y,r[A>>4][t>>8]|=B,y=t&15,0<t&&y<=x?(t-=y+1,r[A>>4][t>>8]|=1<<(~(t>>4)&15),t+=y+1):t<this.width-1&&y>=u&&(t+=16-y,r[A>>4][t>>8]|=1<<(~(t>>4)&15),t-=16-y),0<A&&0===(A&15)?(--A,r[A>>4][t>>8]|=B,0<t&&y<=x?(t-=y+1,r[A>>4][t>>8]|=1<<(~(t>>4)&15),t+=y+1):t<this.width-1&&y>=u&&(t+=16-y,r[A>>4][t>>8]|=1<<(~(t>>4)&15),t-=16-y),A+=1):A<this.height-1&&15===(A&15)&&(A+=1,r[A>>4][t>>8]|=B,0<t&&y<=x?(t-=y+1,r[A>>4][t>>8]|=1<<(~(t>>4)&15),t+=y+1):t<this.width-1&&y>=u&&(t+=16-y,r[A>>4][t>>8]|=1<<
(~(t>>4)&15),t-=16-y),--A)):(0!==(q[A][t>>4]&y)&&--this.wa,w[A][t]=this.Ja,v[A>>4][t>>8]|=B,z[A>>4][t>>8]|=B,q[A][t>>4]&=~y)}0<p&&(t<b.i&&(b.i=t),t>b.s&&(b.s=t),A<b.h&&(b.h=A),A>b.m&&(b.m=A),t<h.i&&(h.i=t),t>h.s&&(h.s=t),A<h.h&&(h.h=A),A>h.m&&(h.m=A));g+=3}};a.prototype.Ae=null;a.prototype.lG=function(c,f,e,g){var p=this.Ua,q=this.ia,r=this.la,w=this.Ma,v=this.za,z=this.F,b=this.Vc;var h=!0;var n=this.Z?1:0,x=this.Z?14:15;if(c!==(c&this.Ka)||f!==(f&this.Na)){for(h=!1;this.width<this.Y&&(c!==(c&this.Ka)||
f!==(f&this.Na));)this.Ln(),c+=this.width>>2,f+=this.height>>2;c===(c&this.Ka)&&f===(f&this.Na)&&(h=!0,p=this.Ua,q=this.ia,r=this.la,w=this.Ma,v=this.za)}if(h){0!==(this.u&1)&&(p=this.Ib,q=this.Fa);h=1<<(~c&15);var u=1<<(~(c>>4)&15);1===(e&1)?(this.ea=1,0===(p[f][c>>4]&h)&&(this.wa+=1),r[f][c]=this.Sa,w[f>>4][c>>8]|=u,v[f>>4][c>>8]|=u,p[f][c>>4]|=h,q[f>>4][c>>8]|=u,g=c&15,0<c&&g<=n?(c-=g+1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c+=g+1):c<this.width-1&&g>=x&&(c+=16-g,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c-=16-g),
0<f&&0===(f&15)?(--f,q[f>>4][c>>8]|=1<<(~(c>>4)&15),0<c&&g<=n?(c-=g+1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c+=g+1):c<this.width-1&&g>=x&&(c+=16-g,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c-=16-g),f+=1):f<this.height-1&&15===(f&15)&&(f+=1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),0<c&&g<=n?(c-=g+1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c+=g+1):c<this.width-1&&g>=x&&(c+=16-g,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c-=16-g),--f)):(0!==(p[f][c>>4]&h)&&--this.wa,r[f][c]=g?this.Ja:this.Tc,w[f>>4][c>>8]|=u,v[f>>4][c>>8]|=u,p[f][c>>4]&=~h);0<e&&(c<
z.i&&(z.i=c),c>z.s&&(z.s=c),f<z.h&&(z.h=f),f>z.m&&(z.m=f),c<b.i&&(b.i=c),c>b.s&&(b.s=c),f<b.h&&(b.h=f),f>b.m&&(b.m=f),c===z.i||c===z.s||f===z.m||f===z.h)&&(this.Km=!0)}return 0};a.prototype.mG=function(c,f,e,g){var p=this.Ua,q=this.ia,r=this.la,w=this.Ma,v=this.za,z=this.Ab,b=this.F,h=this.Vc;var n=!0;var x=0,u=this.Z?1:0,t=this.Z?14:15;if(c!==(c&this.Ka)||f!==(f&this.Na)){for(n=!1;this.width<this.Y&&(c!==(c&this.Ka)||f!==(f&this.Na));)this.Ln(),c+=this.width>>2,f+=this.height>>2;c===(c&this.Ka)&&
f===(f&this.Na)&&(n=!0,p=this.Ua,q=this.ia,r=this.la,w=this.Ma,v=this.za,z=this.Ab)}if(n){0!==(this.u&1)&&(p=this.Ib,q=this.Fa);n=1<<(~c&15);var A=1<<(~(c>>4)&15);1===(e&1)?(this.ea=1,0===(p[f][c>>4]&n)&&(this.wa+=1),r[f][c]=this.Sa,w[f>>4][c>>8]|=A,v[f>>4][c>>8]|=A,p[f][c>>4]|=n,q[f>>4][c>>8]|=A,g=c&15,0<c&&g<=u?(c-=g+1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c+=g+1):c<this.width-1&&g>=t&&(c+=16-g,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c-=16-g),0<f&&0===(f&15)?(--f,q[f>>4][c>>8]|=1<<(~(c>>4)&15),0<c&&g<=u?(c-=g+
1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c+=g+1):c<this.width-1&&g>=t&&(c+=16-g,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c-=16-g),f+=1):f<this.height-1&&15===(f&15)&&(f+=1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),0<c&&g<=u?(c-=g+1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c+=g+1):c<this.width-1&&g>=t&&(c+=16-g,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c-=16-g),--f)):(0!==(p[f][c>>4]&n)&&--this.wa,r[f][c]=g?this.Ja:this.Tc,w[f>>4][c>>8]|=A,v[f>>4][c>>8]|=A,p[f][c>>4]&=~n);if(z){q=z[f][c];0<q&&(q=ViewConstants.Ba.indexOf(q-128));if(6===e&&6!==q||6!==
e&&6===q)x=1;2===e?r[f][c]=k.Fi:z[f][c]=0===e?0:ViewConstants.Ba[e]+128}0<e&&(c<b.i&&(b.i=c),c>b.s&&(b.s=c),f<b.h&&(b.h=f),f>b.m&&(b.m=f),c<h.i&&(h.i=c),c>h.s&&(h.s=c),f<h.h&&(h.h=f),f>h.m&&(h.m=f),c===b.i||c===b.s||f===b.m||f===b.h)&&(this.Km=!0)}return x};a.prototype.nG=function(c,f,e,g){var p=this.Ua,q=this.ia,r=this.la,w=this.Ma,v=this.za,z=this.Ab,b=this.F,h=this.oa,n=this.Vc;var x=Math.round((this.width-this.na)/2);var u=Math.round((this.height-this.pa)/2);var t=x+this.na-1,A=u+this.pa-1,y=
!0,B=0,C=this.Z?1:0,F=this.Z?14:15;-1!==this.ja&&(0===this.na&&(x=0,t=this.width-1),0===this.pa&&(u=0,A=this.height-1));if(c!==(c&this.Ka)||f!==(f&this.Na)){for(y=!1;this.width<this.Y&&(c!==(c&this.Ka)||f!==(f&this.Na));)this.Ln(),c+=this.width>>2,f+=this.height>>2;c===(c&this.Ka)&&f===(f&this.Na)&&(y=!0,p=this.Ua,q=this.ia,r=this.la,w=this.Ma,v=this.za,z=this.Ab)}if(y&&(-1===this.ja||c>=x&&c<=t&&f>=u&&f<=A)){0!==(this.u&1)&&(p=this.Ib,q=this.Fa);u=1<<(~c&15);x=1<<(~(c>>4)&15);if(this.sa)q=r[f][c],
2===this.f?(z=this.Sa,1===e&&(e=this.Sa,this.ea=1)):(z=this.f-1+this.S,0<e&&(e=this.S+e,this.ea=1)),r[f][c]=e,w[f>>4][c>>8]|=x,v[f>>4][c>>8]|=x,q!==z&&e===z?this.wa+=1:q===z&&e!==z&&--this.wa;else{(t=2>=this.f?1===(e&1):e===this.f-1)?(this.ea=1,0===(p[f][c>>4]&u)&&(this.wa+=1),r[f][c]=this.Sa,w[f>>4][c>>8]|=x,v[f>>4][c>>8]|=x,p[f][c>>4]|=u,q[f>>4][c>>8]|=x,w=c&15,0<c&&w<=C?(c-=w+1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c+=w+1):c<this.width-1&&w>=F&&(c+=16-w,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c-=16-w),0<f&&0===
(f&15)?(--f,q[f>>4][c>>8]|=1<<(~(c>>4)&15),0<c&&w<=C?(c-=w+1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c+=w+1):c<this.width-1&&w>=F&&(c+=16-w,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c-=16-w),f+=1):f<this.height-1&&15===(f&15)&&(f+=1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),0<c&&w<=C?(c-=w+1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c+=w+1):c<this.width-1&&w>=F&&(c+=16-w,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c-=16-w),--f)):(0!==(p[f][c>>4]&u)&&--this.wa,r[f][c]=g?this.Ja:this.Tc,w[f>>4][c>>8]|=x,v[f>>4][c>>8]|=x,p[f][c>>4]&=~u);if(this.Oa&&z){q=
z[f][c];0<q&&(q=ViewConstants.Ba.indexOf(q-128));if(6===e&&6!==q||6!==e&&6===q)B=1;2===e?r[f][c]=k.Fi:z[f][c]=0===e?0:ViewConstants.Ba[e]+128}2<this.f&&(0<e&&(e=this.S+e),r[f][c]=e)}if(0<e)c<b.i&&(b.i=c),c>b.s&&(b.s=c),f<b.h&&(b.h=f),f>b.m&&(b.m=f),c<n.i&&(n.i=c),c>n.s&&(n.s=c),f<n.h&&(n.h=f),f>n.m&&(n.m=f),this.sa&&e===this.f-1+this.S&&(c<h.i&&(h.i=c),c>h.s&&(h.s=c),f<h.h&&(h.h=f),f>h.m&&(h.m=f));else if(c===b.i||c===b.s||f===b.m||f===b.h)this.Km=!0}return B};a.prototype.wG=function(){var c=Reflect.getPrototypeOf?
Reflect.getPrototypeOf(this):this.__proto__;-1!=this.f||-1!==this.ja||this.pb?(c.getState=c.KD,c.Ae=c.nG):this.Oa?(c.getState=c.JD,c.Ae=c.mG):(c.getState=c.ID,c.Ae=c.lG)};a.prototype.KB=function(c){var f=1<<k.Uj;c?(this.Wa=Array.X(Uint32,1,f,0,this.o,"Life.popGraphData"),this.kg=Array.X(Uint32,1,f,0,this.o,"Life.birthGraphData"),this.mg=Array.X(Uint32,1,f,0,this.o,"Life.deathGraphData"),this.sg=f):(this.Wa=Array.X(Uint32,0,0,0,this.o,"Life.popGraphData"),this.kg=Array.X(Uint32,0,0,0,this.o,"Life.birthGraphData"),
this.mg=Array.X(Uint32,0,0,0,this.o,"Life.deathGraphData"),this.sg=0)};a.prototype.getState=null;a.prototype.ID=function(c,f,e){var g=0;c===(c&this.Ka)&&f===(f&this.Na)&&(c=this.la[f][c],e?g=c:g=c<=this.Tc?0:1);return g};a.prototype.JD=function(c,f,e){var g=0,p=ViewConstants.Ba[3]+128,q=ViewConstants.Ba[4]+128,r=ViewConstants.Ba[5]+128,w=ViewConstants.Ba[6]+128;c===(c&this.Ka)&&f===(f&this.Na)&&(g=this.la[f][c],e||(this.Ab?(c=this.Ab[f][c],c===q||c===w?(g>=this.Sa&&(c=p),g=ViewConstants.Ba.indexOf(c-
128)):c===p||c===r?(g<this.Sa&&(c=q),g=ViewConstants.Ba.indexOf(c-128)):g=g===this.Ja?0:g<=this.Tc?2:1):g=g<=this.Tc?0:1));return g};a.prototype.KD=function(c,f,e){var g=0,p=ViewConstants.Ba[3]+128,q=ViewConstants.Ba[4]+128,r=ViewConstants.Ba[5]+128,w=ViewConstants.Ba[6]+128,v=Math.round((this.width-this.na)/2),z=Math.round((this.height-this.pa)/2),b=v+this.na-1,h=z+this.pa-1;c===(c&this.Ka)&&f===(f&this.Na)&&(g=this.la[f][c],e||2<this.f?2<this.f&&0<g&&!this.pb&&(g<=this.S?g=0:(-1!==this.ja&&(0===
this.na&&(v=0,b=this.width-1),0===this.pa&&(z=0,h=this.height-1)),g=-1===this.ja||g!==this.ec||c>=v&&c<=b&&f>=z&&f<=h?this.f+this.S-g:0)):this.Ab?(c=this.Ab[f][c],c===q||c===w?(g>=this.Sa&&(c=p),g=ViewConstants.Ba.indexOf(c-128)):c===p||c===r?(g<this.Sa&&(c=q),g=ViewConstants.Ba.indexOf(c-128)):g=g===this.Ja?0:g<=this.Tc?2:1):g=g<=this.Tc||g===this.ec?0:1);return g};a.prototype.Al=function(c){var f,e,g,p=c.length,q=c[0].length,r=this.kf,w=0;for(f=0;f<p;f+=1){var v=c[f];for(e=0;e<q;e+=1)(g=v[e])&&
(w+=r[g])}return w};a.prototype.ql=function(c,f,e,g){var p=this.ef.zd.length,q=null;c<this.u&&(q=this.ef.zG(c),p!==this.ef.zd.length&&(this.el-=k.Mo*(p-this.ef.zd.length)));q&&(this.Ck(q),g.Cu());for(;this.u<c-1;)this.ea?(this.we(!1,!0,e),0===this.ea&&2<this.f||this.Re(),0===this.ea&&2>=this.f&&(this.ea=1,this.we(!1,!1,e),--this.u)):(this.u+=1,this.Re()),g.Qi();this.u<c&&(this.ea?(this.we(f,!0,e),0===this.ea&&2<this.f||this.Re(),0===this.ea&&2>=this.f&&(this.ea=1,this.we(!1,!1,e),--this.u)):(this.u+=
1,this.Re()),g.Qi());g.Ni&&(this.ea=1)};a.prototype.Ck=function(c){var f,e=this.dd,g=this.rj;this.u=c.u;if(0!==(this.u&1)){var p=this.$e;var q=this.nc;var r=this.Fa;var w=this.ia}else p=this.nc,q=this.$e,r=this.ia,w=this.Fa;if(arrayFill)p.Fb.fill(0),q.Fb.fill(0),this.la.Fb.fill(0),this.A.Fb.fill(0);else{var v=p.length;for(f=0;f<v;f+=1)p[f].set(e),this.la[f].set(g),this.A[f].set(g);Array.Xg(p,q)}Array.Xg(this.za,this.Ma);c.OF(p,r,this);c.NF(this.la,this.za,this);Array.Xg(r,w);Array.Xg(p,q);this.F.i=
c.F.i;this.F.h=c.F.h;this.F.s=c.F.s;this.F.m=c.F.m;this.oa.i=c.oa.i;this.oa.h=c.oa.h;this.oa.s=c.oa.s;this.oa.m=c.oa.m;this.wa=c.wa;this.jc=c.jc;this.hd=c.hd;this.ea=c.ea};a.prototype.Bo=function(){if(0!==(this.u&1)){var c=this.$e;var f=this.Fa}else c=this.nc,f=this.ia;this.Ll(!1,c,f)};a.prototype.Cr=function(c){this.Ck(this.As);this.ef.reset();this.el=k.Mo;c||this.Bo()};a.prototype.Ll=function(c,f,e){this.ef.Bo(f,e,this.la,this.za,this.Ab,this.F,this.oa,this.wa,this.jc,this.hd,this.u,(this.ma-1>>
4)+1,this.qa,this,c,this.ea)};a.prototype.$F=function(c){this.ef.reset();this.Ll(!0,this.nc,this.ia);c||this.Bo()};a.prototype.IF=function(){var c=this.Ab,f=this.aa;this.height=this.width=512;this.sa&&this.Wb.resize(this.width,this.height);this.nc=Array.X(Uint8,this.height,(this.width-1>>3)+1,0,this.o,"Life.grid");this.$e=Array.X(Uint8,this.height,(this.width-1>>3)+1,0,this.o,"Life.nextGrid");this.Ua=Array.Xc(Uint16,this.nc,"Life.grid16");this.Ib=Array.Xc(Uint16,this.$e,"Life.nextGrid16");f&&(this.aa=
Array.X(Uint16,this.height,(this.width-1>>4)+1,0,this.o,"Life.state6Mask"),this.ad=Array.X(Uint16,this.height,(this.width-1>>4)+1,0,this.o,"Life.state6Alive"),this.zb=Array.X(Uint16,this.height,(this.width-1>>4)+1,0,this.o,"Life.state6Cells"));this.ma=this.width>>4;this.qa=this.height>>4;f&&(this.Be=Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,"Life.state6TileGrid"));this.ia=Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,"Life.tileGrid");this.Fa=Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,
"Life.nextTileGrid");this.Ma=Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,"Life.colourTileGrid");this.za=Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,"Life.colourTileHistoryGrid");this.dd=this.o.L(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.sj=this.o.L(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.Pe=this.o.L(Uint16,this.ma>>4,"Life.blankTileRow");this.rj=this.o.L(Uint8,this.width,"Life.blankColourRow");this.Yd=this.o.L(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.th=
this.o.L(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.la=Array.X(Uint8,this.height,this.width,this.Ja,this.o,"Life.colourGrid");this.A=Array.X(Uint8,this.height,this.width,this.Ja,this.o,"Life.smallColourGrid");this.Oh=Array.Xc(Uint16,this.la,"Life.colourGrid16");this.Ge=Array.Xc(Uint32,this.la,"Life.colourGrid32");c&&(this.Ab=Array.X(Uint8,this.height,this.width,this.Ja,this.o,"Life.overlayGrid"),this.ha=Array.X(Uint8,this.height,this.width,this.Ja,this.o,"Life.smallOverlayGrid"),this.ph=
Array.Xc(Uint16,this.Ab,"Life.overlayGrid16"),this.Pf=Array.Xc(Uint32,this.Ab,"Life.overlayGrid32"));this.Ka=this.width-1;this.Na=this.height-1;this.ef.Nz((this.ma-1>>4)+1,this.qa,0)};a.prototype.LB=function(){this.height=this.width=1024;this.nc=Array.X(Uint8,this.height,(this.width-1>>3)+1,0,this.o,"Life.grid");this.$e=Array.X(Uint8,this.height,(this.width-1>>3)+1,0,this.o,"Life.nextGrid");this.Ua=Array.Xc(Uint16,this.nc,"Life.grid16");this.Ib=Array.Xc(Uint16,this.$e,"Life.nextGrid16");this.ma=this.width>>
4;this.qa=this.height>>4;this.ia=Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,"Life.tileGrid");this.Fa=Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,"Life.nextTileGrid");this.Ma=Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,"Life.colourTileGrid");this.za=Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,"Life.colourTileHistoryGrid");this.dd=this.o.L(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.sj=this.o.L(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.Pe=this.o.L(Uint16,this.ma>>4,
"Life.blankTileRow");this.rj=this.o.L(Uint8,this.width,"Life.blankColourRow");this.Yd=this.o.L(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.th=this.o.L(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.la=Array.X(Uint8,this.height,this.width,this.Ja,this.o,"Life.colourGrid");this.Oh=Array.Xc(Uint16,this.la,"Life.colourGrid16");this.Ka=this.width-1;this.Na=this.height-1};a.prototype.Ln=function(){var c=this.nc,f=this.$e,e=this.la,g=this.A,p=this.Ab,q=this.ha,r=this.aa,w=this.ad,v=
this.zb,z=this.Be,b=this.ia,h=this.Fa,n=this.Ma,x=this.za,u=this.height,t=this.qa,A=this.width>>1,y=this.height>>1,B;if(this.width<this.Y){this.width*=2;this.height*=2;this.sa&&this.Wb.resize(this.width,this.height);this.nc=Array.X(Uint8,this.height,(this.width-1>>3)+1,0,this.o,"Life.grid");this.$e=Array.X(Uint8,this.height,(this.width-1>>3)+1,0,this.o,"Life.nextGrid");this.Ua=Array.Xc(Uint16,this.nc,"Life.grid16");this.Ib=Array.Xc(Uint16,this.$e,"Life.nextGrid16");r&&(this.aa=Array.X(Uint16,this.height,
(this.width-1>>4)+1,0,this.o,"Life.state6Mask"),this.ad=Array.X(Uint16,this.height,(this.width-1>>4)+1,0,this.o,"Life.state6Alive"),this.zb=Array.X(Uint16,this.height,(this.width-1>>4)+1,0,this.o,"Life.state6Cells"));this.ma=this.width>>4;this.qa=this.height>>4;r&&(this.Be=Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,"Life.state6TileGrid"));this.ia=Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,"Life.tileGrid");this.Fa=Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,"Life.nextTileGrid");this.Ma=
Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,"Life.colourTileGrid");this.za=Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,"Life.colourTileHistoryGrid");this.dd=this.o.L(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.sj=this.o.L(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.Pe=this.o.L(Uint16,this.ma>>4,"Life.blankTileRow");this.rj=this.o.L(Uint8,this.width,"Life.blankColourRow");this.Yd=this.o.L(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.th=this.o.L(Uint16,(this.width-1>>
4)+1,"Life.rowOccupied16");this.la=Array.X(Uint8,this.height,this.width,this.Ja,this.o,"Life.colourGrid");this.A=Array.X(Uint8,this.height,this.width,this.Ja,this.o,"Life.smallColourGrid");this.Oh=Array.Xc(Uint16,this.la,"Life.colourGrid16");this.Ge=Array.Xc(Uint32,this.la,"Life.colourGrid32");p&&(this.Ab=Array.X(Uint8,this.height,this.width,this.Ja,this.o,"Life.overlayGrid"),this.ha=Array.X(Uint8,this.height,this.width,this.Ja,this.o,"Life.smallOverlayGrid"),this.ph=Array.Xc(Uint16,this.Ab,"Life.overlayGrid16"),
this.Pf=Array.Xc(Uint32,this.Ab,"Life.overlayGrid32"));this.Ka=this.width-1;this.Na=this.height-1;for(B=0;B<u;B+=1)this.nc[B+y].set(c[B],A>>3),this.$e[B+y].set(f[B],A>>3),this.la[B+y].set(e[B],A),this.A[B+y].set(g[B],A),p&&q&&(this.Ab[B+y].set(p[B],A),this.ha[B+y].set(q[B],A)),r&&w&&v&&(this.aa[B+y].set(r[B],A>>4),this.ad[B+y].set(w[B],A>>4),this.zb[B+y].set(v[B],A>>4));y=t>>1;for(B=0;B<t;B+=1)z&&this.Be[B+y].set(z[B],this.Be[B].length>>2),this.ia[B+y].set(b[B],this.ia[B].length>>2),this.Fa[B+y].set(h[B],
this.Fa[B].length>>2),this.Ma[B+y].set(n[B],this.Ma[B].length>>2),this.za[B+y].set(x[B],this.za[B].length>>2);A=this.width>>2;y=this.height>>2;this.ef.Nz((this.ma-1>>4)+1,this.qa,A);this.ga+=A;this.da+=y;this.U&&(this.ga-=y/2|0);this.F.i+=A;this.F.s+=A;this.F.m+=y;this.F.h+=y;this.oa.i+=A;this.oa.s+=A;this.oa.m+=y;this.oa.h+=y;this.ee.i+=A;this.ee.s+=A;this.ee.m+=y;this.ee.h+=y;this.Vc.i+=A;this.Vc.s+=A;this.Vc.m+=y;this.Vc.h+=y}};a.prototype.dC=function(c,f){var e=this.width,g=this.height,p=!1;e<
this.Y&&this.ea&&(c.i<=f||c.h<=f||c.s>=e-f||c.m>=g-f)&&(this.Ln(),p=!0);return p};a.prototype.Zt=function(){var c,f,e=this.kf;for(c=0;65536>c;c+=1){var g=c;for(f=0;g;f+=1)g&=g-1;e[c]=f}};a.prototype.ku=function(){var c,f,e=this.sk,g=this.Sa;for(c=0;256>c;c+=1)for(f=0;8>f;f+=1)e[(c<<3)+f]=c&1<<7-f?g:0};a.prototype.KF=function(c,f){var e,g=0,p=this.kf;var q=this.F;var r=q.i,w=q.s,v=q.m;q=q.h;if(this.sa)for(;q<=v;q+=1){var z=f[q];for(e=r;e<=w;e+=1)0<z[e]&&(g+=1)}else for(r>>=4,w>>=4;q<=v;q+=1)for(z=
c[q],e=r;e<=w;e+=1)f=p[z[e]],g+=f;this.wa=g;this.hd=this.jc=0};a.prototype.Mz=function(c,f){var e=this.context;var g=this.Hg?4278190080:255;this.D=c;this.B=f;this.Wi=this.Id=this.Ke=null;this.Ke=e.createImageData(e.canvas.width,e.canvas.height);this.Ke.data.buffer?this.Id=new Uint32Array(this.Ke.data.buffer):(this.Id=new Uint32Array(this.Ke.data.length>>2),this.Wi=new Uint8Array(this.Id.buffer));this.bi=this.o.L(Uint32,c,"Life.blankPixelRow");for(f=0;f<c;f+=1)this.bi[f]=g;this.ip(g)};a.prototype.oC=
function(c,f,e){var g,p,q=this.la,r=c.width,w=c.height,v=this.Ka,z=this.Na,b=this.Fi,h=ViewConstants.Ba[2];for(p=0;p<w;p+=1){var n=c.Ze[p];var x=q[p+e&z];for(g=0;g<r;g+=1)n[g]===h&&(x[g+f&v]=b)}};a.prototype.FD=function(){this.Pf=this.ph=this.ha=this.Ab=null};a.prototype.xC=function(){this.Ab=Array.X(Uint8,this.height,this.width,this.Ja,this.o,"Life.overlayGrid");this.ha=Array.X(Uint8,this.height,this.width,this.Ja,this.o,"Life.smallOverlayGrid");Array.lu(this.ha,1,"Life.smallOverlayGrid4");Array.lu(this.ha,
3,"Life.smallOverlayGrid8");Array.lu(this.ha,7,"Life.smallOverlayGrid16");this.ph=Array.Xc(Uint16,this.Ab,"Life.overlayGrid16");this.Pf=Array.Xc(Uint32,this.Ab,"Life.overlayGrid32")};a.prototype.GD=function(){this.Be=this.zb=this.ad=this.aa=null};a.prototype.AC=function(){this.aa=Array.X(Uint16,this.height,(this.width-1>>4)+1,0,this.o,"Life.state6Mask");this.ad=Array.X(Uint16,this.height,(this.width-1>>4)+1,0,this.o,"Life.state6Alive");this.zb=Array.X(Uint16,this.height,(this.width-1>>4)+1,0,this.o,
"Life.state6Cells");this.Be=Array.X(Uint16,this.qa,(this.ma-1>>4)+1,0,this.o,"Life.state6TileGrid")};a.prototype.ml=function(){var c,f,e=this.Ka,g=this.Na,p=this.Be,q=ViewConstants.Ba[6]+128;if(arrayFill)this.aa.Fb.fill(0),this.zb.Fb.fill(0),this.ad.Fb.fill(0);else for(f=0;f<this.aa.length;f+=1)this.aa[f].set(this.sj),this.zb[f].set(this.sj),this.ad[f].set(this.sj);if(arrayFill)this.Be.Fb.fill(0);else for(f=0;f<this.Be.length;f+=1)this.Be[f].set(this.Pe);for(f=1;f<this.height-1;f+=1){var r=this.Ab[f];
var w=this.aa[f-1&g];var v=this.aa[f&g];var z=this.aa[f+1&g];var b=this.zb[f&g];var h=p[(f-1&g)>>4];var n=p[(f&g)>>4];var x=p[(f+1&g)>>4];for(c=1;c<=this.width-1;c+=1)if(r[c]===q){var u=c&e;b[u>>4]|=1<<(~u&15);w[u>>4]|=1<<(~u&15);v[u>>4]|=1<<(~u&15);z[u>>4]|=1<<(~u&15);h[u>>8]|=1<<(~(u>>4)&15);n[u>>8]|=1<<(~(u>>4)&15);x[u>>8]|=1<<(~(u>>4)&15);u=c-1&e;w[u>>4]|=1<<(~u&15);v[u>>4]|=1<<(~u&15);z[u>>4]|=1<<(~u&15);h[u>>8]|=1<<(~(u>>4)&15);n[u>>8]|=1<<(~(u>>4)&15);x[u>>8]|=1<<(~(u>>4)&15);u=c+1&e;w[u>>
4]|=1<<(~u&15);v[u>>4]|=1<<(~u&15);z[u>>4]|=1<<(~u&15);h[u>>8]|=1<<(~(u>>4)&15);n[u>>8]|=1<<(~(u>>4)&15);x[u>>8]|=1<<(~(u>>4)&15)}}};a.prototype.gF=function(c,f,e){var g,p,q=c.width,r=c.height,w=this.Ka,v=this.Na,z=this.Be;for(p=0;p<r;p+=1){var b=c.Ze[p];var h=this.aa[p-1+e&v];var n=this.aa[p+e&v];var x=this.aa[p+1+e&v];var u=this.zb[p+e&v];var t=z[(p-1+e&v)>>4];var A=z[(p+e&v)>>4];var y=z[(p+1+e&v)>>4];for(g=0;g<q;g+=1)if(6===b[g]){var B=g+f&w;u[B>>4]|=1<<(~B&15);h[B>>4]|=1<<(~B&15);n[B>>4]|=1<<
(~B&15);x[B>>4]|=1<<(~B&15);t[B>>8]|=1<<(~(B>>4)&15);A[B>>8]|=1<<(~(B>>4)&15);y[B>>8]|=1<<(~(B>>4)&15);B=g-1+f&w;h[B>>4]|=1<<(~B&15);n[B>>4]|=1<<(~B&15);x[B>>4]|=1<<(~B&15);t[B>>8]|=1<<(~(B>>4)&15);A[B>>8]|=1<<(~(B>>4)&15);y[B>>8]|=1<<(~(B>>4)&15);B=g+1+f&w;h[B>>4]|=1<<(~B&15);n[B>>4]|=1<<(~B&15);x[B>>4]|=1<<(~B&15);t[B>>8]|=1<<(~(B>>4)&15);A[B>>8]|=1<<(~(B>>4)&15);y[B>>8]|=1<<(~(B>>4)&15)}}};a.prototype.Iz=function(c){var f,e=this.la,g=this.sk;var p=this.F;var q=p.i>>4,r=p.s>>4,w=p.m;for(f=p.h;f<=
w;f+=1){var v=c[f];var z=e[f];var b=q<<4;for(p=q;p<=r;p+=1){var h=v[p]>>8<<3;z[b]=g[h];b+=1;z[b]=g[h+1];b+=1;z[b]=g[h+2];b+=1;z[b]=g[h+3];b+=1;z[b]=g[h+4];b+=1;z[b]=g[h+5];b+=1;z[b]=g[h+6];b+=1;z[b]=g[h+7];b+=1;h=(v[p]&255)<<3;z[b]=g[h];b+=1;z[b]=g[h+1];b+=1;z[b]=g[h+2];b+=1;z[b]=g[h+3];b+=1;z[b]=g[h+4];b+=1;z[b]=g[h+5];b+=1;z[b]=g[h+6];b+=1;z[b]=g[h+7];b+=1}}};a.prototype.di=function(c){var f=[],e,g;for(g=0;7>g;g+=1){var p=[];for(e=0;7>e;e+=1)p[e]=0;f[g]=p}for(g=0;3>g;g+=1)for(e=0;3>e;e+=1)f[g+2][e+
2]=c[g][e];return f};a.prototype.op=function(){this.ej=this.di(k.OD);this.cj=this.di(k.ND);this.kj=this.di(k.QD);this.hj=this.di(k.PD)};a.prototype.bE=function(c,f,e){var g=this.Ja,p=this.dd,q=this.rj,r=this.bi,w=this.Pe;var v=this.Hg?4278190080:255;this.Yf=!1;this.Ka=this.width-1;this.Na=this.height-1;this.F=new BoundingBox(0,0,this.width-1,this.height-1);this.oa=new BoundingBox(0,0,this.width-1,this.height-1);this.ee=new BoundingBox(0,0,this.width-1,this.height-1);this.Vc=new BoundingBox(0,0,this.width-
1,this.height-1);this.Ml=new BoundingBox(0,0,this.width-1,this.height-1);this.context=c;this.ku();AliasManager.de();this.Mz(f,e);if(arrayFill)p.fill(0),q.fill(g),w.fill(0),r.fill(v);else{e=(this.width-1>>3)+1;for(c=0;c<e;c+=1)p[c]=0;e=this.width;for(c=0;c<e;c+=1)q[c]=g;e=this.ma>>4;for(c=0;c<e;c+=1)w[c]=0;for(c=0;c<f;c+=1)r[c]=v}this.op()};a.prototype.tC=function(){var c=0;this.hb[c]=new d("Mono",new l(new m(0,0,0),new m(0,0,0)),new l(new m(255,255,255),new m(255,255,255)),new m(0,0,0),new m(255,
255,255),new l(new m(0,0,0),new m(-1,-1,-1)),new l(new m(0,0,0),new m(0,0,0)),new m(0,0,0));c+=1;this.hb[c]=new d("Blues",new l(new m(0,0,47),new m(0,0,255)),new l(new m(0,255,255),new m(255,255,255)),new m(0,0,0),new m(0,255,255),new l(new m(0,0,255),new m(-1,-1,-1)),new l(new m(0,0,47),new m(0,0,128)),new m(0,0,0));c+=1;this.hb[c]=new d("Fire",new l(new m(32,0,0),new m(160,0,0)),new l(new m(255,144,0),new m(255,255,0)),new m(0,0,0),new m(255,144,0),new l(new m(240,0,0),new m(-1,-1,-1)),new l(new m(32,
0,0),new m(160,0,0)),new m(0,0,0));c+=1;this.hb[c]=new d("Poison",new l(new m(0,24,0),new m(0,128,0)),new l(new m(0,255,255),new m(255,255,255)),new m(0,0,0),new m(0,255,255),new l(new m(0,192,0),new m(-1,-1,-1)),new l(new m(0,24,0),new m(0,128,0)),new m(0,0,0));c+=1;this.hb[c]=new d("Yellow",new l(new m(0,47,0),new m(128,0,128)),new l(new m(255,255,0),new m(255,255,255)),new m(0,32,128),new m(255,255,0),new l(new m(192,64,64),new m(-1,-1,-1)),new l(new m(0,47,0),new m(128,0,128)),new m(0,32,128));
c+=1;this.hb[c]=new d("Gray",new l(new m(16,16,16),new m(104,104,104)),new l(new m(176,176,176),new m(240,240,240)),new m(0,0,0),new m(240,240,240),new l(new m(160,160,160),new m(-1,-1,-1)),new l(new m(16,16,16),new m(104,104,104)),new m(0,0,0));c+=1;this.hb[c]=new d("Inverse",new l(new m(255,255,255),new m(255,255,255)),new l(new m(0,0,0),new m(0,0,0)),new m(255,255,255),new m(0,0,0),new l(new m(255,255,255),new m(-1,-1,-1)),new l(new m(255,255,255),new m(255,255,255)),new m(255,255,255));c+=1;this.hb[c]=
new d("Day",new l(new m(240,240,240),new m(0,255,255)),new l(new m(0,0,255),new m(0,0,0)),new m(255,255,255),new m(0,0,255),new l(new m(0,255,255),new m(-1,-1,-1)),new l(new m(240,240,240),new m(0,192,192)),new m(255,255,255));c+=1;this.hb[c]=new d("Occupied",new l(new m(240,240,240),new m(240,240,240)),new l(new m(240,240,240),new m(240,240,240)),new m(0,0,0),new m(240,240,240),new l(new m(240,240,240),new m(240,240,240)),new l(new m(240,240,240),new m(240,240,240)),new m(0,0,0));c+=1;this.hb[c]=
new d("Red",new l(new m(160,0,0),new m(160,0,0)),new l(new m(240,240,240),new m(240,240,240)),new m(0,0,0),new m(255,255,255),new l(new m(160,160,160),new m(160,160,160)),new l(new m(160,0,0),new m(160,0,0)),new m(0,0,0));c+=1;this.hb[c]=new d("LifeHistory",new l(new m(0,0,96),new m(0,0,160)),new l(new m(0,240,0),new m(16,255,16)),new m(0,0,0),new m(16,255,16),new l(new m(0,128,160),new m(-1,-1,-1)),new l(new m(0,0,96),new m(0,0,160)),new m(0,0,0));c+=1;this.hb[c]=new d("Generations",new l(new m(64,
0,0),new m(255,0,0)),new l(new m(255,255,0),new m(255,255,255)),new m(0,0,0),new m(255,255,0),new l(new m(255,0,0),new m(-1,-1,-1)),new l(new m(64,0,0),new m(128,0,0)),new m(0,0,0));c+=1;this.hb[c]=new d("Golly",new l(new m(48,48,48),new m(48,48,48)),new l(new m(255,255,255),new m(255,255,255)),new m(48,48,48),new m(255,255,0),new l(new m(255,0,0),new m(-1,-1,-1)),new l(new m(48,48,48),new m(48,48,48)),new m(48,48,48));this.hb[c].Go(10,new m(80,80,80),new m(112,112,112));c+=1;this.hb[c]=new d("MCell",
new l(new m(0,0,0),new m(0,0,0)),new l(new m(255,255,0),new m(255,255,0)),new m(0,0,0),new m(255,255,0),new l(new m(0,255,0),new m(255,255,0)),new l(new m(0,0,0),new m(0,0,0)),new m(0,0,0));this.hb[c].Go(5,new m(64,0,0),new m(99,3,1));c+=1;this.hb[c]=new d("Catagolue",new l(new m(160,221,204),new m(160,221,204)),new l(new m(0,0,0),new m(0,0,0)),new m(192,255,238),new m(0,0,0),new l(new m(96,192,139),new m(2,129,2)),new l(new m(160,221,204),new m(160,221,204)),new m(192,255,238));this.hb[c].Go(0,new m(160,
221,204),new m(160,221,204));c+=1;this.hb[c]=new d("Caterer",new l(new m(54,57,62),new m(54,57,62)),new l(new m(255,255,255),new m(255,255,255)),new m(54,57,62),new m(255,170,0),new l(new m(255,85,0),new m(-1,-1,-1)),new l(new m(54,57,62),new m(54,57,62)),new m(54,57,62));this.hb[c].Go(0,new m(0,0,0),new m(0,0,0));c+=1;this.hb[c]=new d("Life32",new l(new m(255,255,255),new m(255,255,255)),new l(new m(0,0,128),new m(0,0,128)),new m(255,255,255),new m(0,0,128),new l(new m(0,0,64),new m(-1,-1,-1)),new l(new m(255,
255,255),new m(255,255,255)),new m(255,255,255));this.hb[c].Go(5,new m(192,192,192),new m(128,128,128));this.hb[c+1]=new d(Keywords.Rm,new l(new m(0,0,0),new m(0,0,0)),new l(new m(0,0,0),new m(0,0,0)),new m(0,0,0),new m(0,0,0),new l(new m(0,0,0),new m(0,0,0)),new l(new m(0,0,0),new m(0,0,0)),new m(0,0,0));this.ie=this.hb.length-1;this.Vd=new l(new m(0,0,0),new m(0,0,0));this.$a=new l(new m(0,0,0),new m(0,0,0));this.se=new m(0,0,0);this.lg=new m(0,0,0);this.qe=new l(new m(0,0,0),new m(0,0,0));this.He=
new l(new m(0,0,0),new m(0,0,0));this.xg=new m(0,0,0);this.Lb=new l(new m(0,0,0),new m(0,0,0));this.Ea=new l(new m(0,0,0),new m(0,0,0));this.Cd=new m(0,0,0);this.jf=new m(0,0,0);this.$c=new l(new m(0,0,0),new m(0,0,0));this.Zd=new l(new m(0,0,0),new m(0,0,0));this.Qf=new m(0,0,0)};a.prototype.rG=function(c,f,e){var g=this.hb[c],p=this.Yi;this.Qe=c;this.Vd.set(this.Lb);this.$a.set(this.Ea);this.se.set(this.Cd);this.lg.set(this.jf);this.He.set(this.Zd);this.qe.set(this.$c);this.xg.set(this.Qf);this.Lb.set(g.La);
this.Ea.set(g.Ha);this.Cd.set(g.Ja);this.jf.set(g.Sf);this.Zd.set(g.fc);this.$c.set(g.ub);this.Qf.set(g.zi);this.Hk=f;this.Yi=g.XD(this.Oa);p&&!this.Yi&&!this.sa&&2>=this.f&&this.bn();this.Uc=g.lh;this.We=g.mh;this.rf=g.Eq;this.Hg?(this.eh=-16777216|(this.Uc&255)<<16|(this.Uc>>8&255)<<8|this.Uc>>16,this.bh=-16777216|(this.We&255)<<16|(this.We>>8&255)<<8|this.We>>16):(this.eh=this.Uc>>16<<24|(this.Uc>>8&255)<<16|(this.Uc&255)<<8|255,this.bh=this.We>>16<<24|(this.We>>8&255)<<16|(this.We&255)<<8|255);
e.ux()};a.prototype.Ax=function(){var c=this.Hp,f=this.cd,e=this.Sa,g=this.Fi,p=this.Tc,q,r=new Uint8Array(256);r[0]=0;r[f+1]=e;for(q=1;q<f+1;q+=1)r[q]=Math.min(Math.max(q-1,g),p),r[q+f+1]=Math.max(Math.min(q+1,f),e);if(0===this.S)for(q=this.Sa;q<=this.cd;q+=1)r[q]=0;else this.S<this.Tc&&(r[this.Tc-this.S]=0);for(q=0;65536>q;q+=1)c[q]=r[q>>8]<<8|r[q&255]};a.prototype.nF=function(){var c;for(c=0;c<this.hb.length;c+=1){var f=this.hb[c];if(f.Xl)if(2>=this.f)f.ub.M.set(f.Sf);else{var e=1/(this.f-2);f.ub.M.red=
f.ub.K.red*e+f.Sf.red*(1-e)|0;f.ub.M.green=f.ub.K.green*e+f.Sf.green*(1-e)|0;f.ub.M.blue=f.ub.K.blue*e+f.Sf.blue*(1-e)|0}}};a.prototype.Bx=function(){var c=(this.Hk-1)/this.tj;if(!this.pb)if(2<this.f){var f=0;this.nb[f]=this.xg.red*c+this.Qf.red*(1-c);this.lb[f]=this.xg.green*c+this.Qf.green*(1-c);this.kb[f]=this.xg.blue*c+this.Qf.blue*(1-c);for(f=1;f<this.f-1;f+=1){var e=3>=this.f?0:(f-1)/(this.f-3);var g=this.qe.M.red*e+this.qe.K.red*(1-e);var p=this.$c.M.red*e+this.$c.K.red*(1-e);this.nb[f+this.S]=
g*c+p*(1-c);g=this.qe.M.green*e+this.qe.K.green*(1-e);p=this.$c.M.green*e+this.$c.K.green*(1-e);this.lb[f+this.S]=g*c+p*(1-c);g=this.qe.M.blue*e+this.qe.K.blue*(1-e);p=this.$c.M.blue*e+this.$c.K.blue*(1-e);this.kb[f+this.S]=g*c+p*(1-c);this.sb&&this.sb.length>=f&&(e=this.sa?this.sb[f]:this.sb[this.f-f],-1!==e&&(this.nb[f+this.S]=e>>16,this.lb[f+this.S]=e>>8&255,this.kb[f+this.S]=e&255))}f=this.f-1;this.nb[f+this.S]=this.lg.red*c+this.jf.red*(1-c);this.lb[f+this.S]=this.lg.green*c+this.jf.green*(1-
c);this.kb[f+this.S]=this.lg.blue*c+this.jf.blue*(1-c);this.sb&&this.sb.length>=f&&(e=this.sa?this.sb[f]:this.sb[this.f-f],-1!==e&&(this.nb[f+this.S]=e>>16,this.lb[f+this.S]=e>>8&255,this.kb[f+this.S]=e&255));for(f=0;f<this.S;f+=1)e=1<this.S?1-f/(this.S-1):1,g=this.He.K.red*e+this.He.M.red*(1-e),p=this.Zd.K.red*e+this.Zd.M.red*(1-e),this.nb[f+1]=g*c+p*(1-c),g=this.He.K.green*e+this.He.M.green*(1-e),p=this.Zd.K.green*e+this.Zd.M.green*(1-e),this.lb[f+1]=g*c+p*(1-c),g=this.He.K.blue*e+this.He.M.blue*
(1-e),p=this.Zd.K.blue*e+this.Zd.M.blue*(1-e),this.kb[f+1]=g*c+p*(1-c);this.sb&&0<this.sb.length&&(e=this.sb[0],-1!==e&&(this.nb[0]=e>>16,this.lb[0]=e>>8&255,this.kb[0]=e&255))}else{f=0;this.nb[f]=this.se.red*c+this.Cd.red*(1-c);this.lb[f]=this.se.green*c+this.Cd.green*(1-c);this.kb[f]=this.se.blue*c+this.Cd.blue*(1-c);if(0===this.S)for(f=1;f<=this.Tc;f+=1)this.nb[f]=this.se.red*c+this.Cd.red*(1-c),this.lb[f]=this.se.green*c+this.Cd.green*(1-c),this.kb[f]=this.se.blue*c+this.Cd.blue*(1-c);else{var q=
this.Tc-this.S+1;for(f=1;f<q;f+=1)this.nb[f]=this.$a.K.red*c+this.Ea.K.red*(1-c),this.lb[f]=this.$a.K.green*c+this.Ea.K.green*(1-c),this.kb[f]=this.$a.K.blue*c+this.Ea.K.blue*(1-c);for(f=q;f<=this.Tc;f+=1)e=this.Tc===q?1:1-(f-q)/(this.Tc-q),g=this.$a.K.red*e+this.$a.M.red*(1-e),p=this.Ea.K.red*e+this.Ea.M.red*(1-e),this.nb[f]=g*c+p*(1-c),g=this.$a.K.green*e+this.$a.M.green*(1-e),p=this.Ea.K.green*e+this.Ea.M.green*(1-e),this.lb[f]=g*c+p*(1-c),g=this.$a.K.blue*e+this.$a.M.blue*(1-e),p=this.Ea.K.blue*
e+this.Ea.M.blue*(1-e),this.kb[f]=g*c+p*(1-c)}for(f=this.Sa;f<=this.cd;f+=1)e=1-(f-this.Sa)/(this.cd-this.Sa),g=this.Vd.K.red*e+this.Vd.M.red*(1-e),p=this.Lb.K.red*e+this.Lb.M.red*(1-e),this.nb[f]=g*c+p*(1-c),g=this.Vd.K.green*e+this.Vd.M.green*(1-e),p=this.Lb.K.green*e+this.Lb.M.green*(1-e),this.lb[f]=g*c+p*(1-c),g=this.Vd.K.blue*e+this.Vd.M.blue*(1-e),p=this.Lb.K.blue*e+this.Lb.M.blue*(1-e),this.kb[f]=g*c+p*(1-c)}};a.prototype.Cx=function(c,f){var e=this.nb,g=this.lb,p=this.kb,q;for(q=0;q<c.length;q+=
1){var r=f&&-1!==f[q]?f[q]:c[q];e[q]=r>>16;g[q]=r>>8&255;p[q]=r&255}this.Hk=0};a.prototype.uC=function(c,f){var e=this.nb,g=this.lb,p=this.kb,q=ViewConstants.Ba,r;for(r=0;r<c.length;r+=1)f&&-1!==f[r]?(e[128+q[r]]=f[r]>>16,g[128+q[r]]=f[r]>>8&255,p[128+q[r]]=f[r]&255):(e[128+q[r]]=c[r]>>16,g[128+q[r]]=c[r]>>8&255,p[128+q[r]]=c[r]&255)};a.prototype.Hd=function(c){var f=this.nb,e=this.lb,g=this.kb,p=this.Kg,q=this.Uc,r=this.We,w=this.$g,v=this.U&&this.od||this.Z,z;if(2<this.f)if(this.Hg)for(z=0;z<=this.f+
this.S;z+=1)p[z]=-16777216|g[z]*c<<16|e[z]*c<<8|f[z]*c,v&&(w[z]="#"+(16777216+((f[z]<<16)+(e[z]<<8)+g[z])).toString(16).substr(1));else for(z=0;z<=this.f+this.S;z+=1)p[z]=f[z]*c<<24|e[z]*c<<16|g[z]*c<<8|255,v&&(w[z]="#"+(16777216+((f[z]<<16)+(e[z]<<8)+g[z])).toString(16).substr(1));else if(this.Hg){for(z=0;z<this.Sa;z+=1)p[z]=-16777216|g[z]<<16|e[z]<<8|f[z],v&&(w[z]="#"+(16777216+((f[z]<<16)+(e[z]<<8)+g[z])).toString(16).substr(1));for(z=this.Sa;z<=this.cd;z+=1)p[z]=-16777216|g[z]*c<<16|e[z]*c<<8|
f[z]*c,v&&(w[z]="#"+(16777216+((f[z]<<16)+(e[z]<<8)+g[z])).toString(16).substr(1));for(z=this.cd+1;256>z;z+=1)p[z]=-16777216|g[z]*c<<16|e[z]*c<<8|f[z]*c,v&&(w[z]="#"+(16777216+((f[z]<<16)+(e[z]<<8)+g[z])).toString(16).substr(1))}else{for(z=0;z<this.Sa;z+=1)p[z]=f[z]<<24|e[z]<<16|g[z]<<8|255,v&&(w[z]="#"+(16777216+((f[z]<<16)+(e[z]<<8)+g[z])).toString(16).substr(1));for(z=this.Sa;z<=this.cd;z+=1)p[z]=f[z]*c<<24|e[z]*c<<16|g[z]*c<<8|255,v&&(w[z]="#"+(16777216+((f[z]<<16)+(e[z]<<8)+g[z])).toString(16).substr(1));
for(z=this.cd+1;256>z;z+=1)p[z]=f[z]*c<<24|e[z]*c<<16|g[z]*c<<8|255,v&&(w[z]="#"+(16777216+((f[z]<<16)+(e[z]<<8)+g[z])).toString(16).substr(1))}this.Hg?(this.eh=-16777216|(q&255)<<16|(q>>8&255)<<8|q>>16,this.bh=-16777216|(r&255)<<16|(r>>8&255)<<8|r>>16):(this.eh=q>>16<<24|(q>>8&255)<<16|(q&255)<<8|255,this.bh=r>>16<<24|(r>>8&255)<<16|(r&255)<<8|255);-1!==this.ja&&(z=this.ec,p[z]=this.Hg?-16777216|g[z]*c<<16|e[z]*c<<8|f[z]*c:f[z]*c<<24|e[z]*c<<16|g[z]*c<<8|255,v&&(w[z]="#"+(16777216+((f[z]<<16)+(e[z]<<
8)+g[z])).toString(16).substr(1)))};a.prototype.dG=function(){var c=this.nb,f=this.lb,e=this.kb;this.ec=-1!==this.ja&&256===this.f+this.S?2:255;-1!==this.ja&&256>this.f+this.S&&(c[this.ec]=128,f[this.ec]=128,e[this.ec]=128)};a.prototype.Fp=function(c){var f=this.height,e=this.nc,g=this.$e,p=this.la,q=this.A,r=this.Ab,w=this.ha,v=this.ia,z=this.Ma,b=this.za,h=this.Fa,n=this.Ja,x=this.dd,u=this.Pe,t=this.rj;if(arrayFill)e.Fb.fill(0),g.Fb.fill(0),c||(p.Fb.fill(n),q.Fb.fill(n),r&&(r.Fb.fill(n),w.Fb.fill(n)));
else for(n=0;n<f;n+=1)e[n].set(x),g[n].set(x),c||(p[n].set(t),q[n].set(t),r&&(r[n].set(t),w[n].set(t)));f=this.qa;if(arrayFill)v.Fb.fill(0),h.Fb.fill(0),c||(z.Fb.fill(0),b.Fb.fill(0));else for(n=0;n<f;n+=1)v[n].set(u),h[n].set(u),c||(z[n].set(u),b[n].set(u))};a.prototype.xk=function(c,f){var e=k.gy,g;for(g=0;g<e;g+=1)c[g]=f[g]};a.prototype.ii=function(c,f){var e=k.Hq,g;for(g=0;g<e;g+=1){var p=f[g>>9&448|g>>6&56|g>>3&7]<<3;p|=f[g>>8&448|g>>5&56|g>>2&7]<<2;p|=f[g>>7&448|g>>4&56|g>>1&7]<<1;p|=f[g>>6&
448|g>>3&56|g&7];c[g]=p}};a.prototype.WG=function(){var c,f=this.Z?PatternManager.mv:PatternManager.Em,e=this.Z?PatternManager.iv:PatternManager.hv,g=this.Z?k.gy:k.YD,p=!1;if(this.$d=PatternManager.$d){var q=0;for(c=!0;q<f.length&&c;)f[q]!==e[q]?c=!1:q+=1;c&&(this.$d=!1)}this.oh=this.nh=this.Of=this.pg=null;if(this.Z)this.nh=this.o.L(Uint8,k.fy,"Life.indexLookupTri1"),this.oh=this.o.L(Uint8,k.fy,"Life.indexLookupTri2"),this.xk(this.oh,f),this.xk(this.nh,e);else{this.pg=this.o.L(Uint8,k.Hq,"Life.indexLookup63");
if(-1===this.ff&&f[0]){if(!f[g-1]){for(q=0;q<g/2;q+=1)c=f[q],f[q]=f[g-q-1],f[g-q-1]=c;p=!0;this.Of=this.o.L(Uint8,k.Hq,"Life.indexLookup632");this.ii(this.Of,f)}for(q=0;q<g/2;q+=1)c=f[q],f[q]=1-f[g-q-1],f[g-q-1]=1-c}this.$d?(this.Of=this.o.L(Uint8,k.Hq,"Life.indexLookup632"),this.ii(this.Of,f),this.ii(this.pg,e)):(this.ii(this.pg,f),p&&(this.$d=!0))}};a.prototype.Le=function(c){var f=0;0!==(c&32768)?f=0:0!==(c&16384)?f=1:0!==(c&8192)?f=2:0!==(c&4096)?f=3:0!==(c&2048)?f=4:0!==(c&1024)?f=5:0!==(c&512)?
f=6:0!==(c&256)?f=7:0!==(c&128)?f=8:0!==(c&64)?f=9:0!==(c&32)?f=10:0!==(c&16)?f=11:0!==(c&8)?f=12:0!==(c&4)?f=13:0!==(c&2)?f=14:0!==(c&1)&&(f=15);return f};a.prototype.Me=function(c){var f=0;0!==(c&1)?f=15:0!==(c&2)?f=14:0!==(c&4)?f=13:0!==(c&8)?f=12:0!==(c&16)?f=11:0!==(c&32)?f=10:0!==(c&64)?f=9:0!==(c&128)?f=8:0!==(c&256)?f=7:0!==(c&512)?f=6:0!==(c&1024)?f=5:0!==(c&2048)?f=4:0!==(c&4096)?f=3:0!==(c&8192)?f=2:0!==(c&16384)&&(f=1);return f};a.prototype.pp=function(c){var f=this.Ab,e=this.ia,g=this.width,
p=this.height,q,r=this.F.m,w=this.F.h,v=this.F.i,z=this.F.s,b,h;for(b=0;b<p;b+=1){var n=f[b];var x=e[b>>4];for(h=q=0;h<g;h+=1)0!==n[h]&&(x[h>>8]|=1<<(~(h>>4)&15),q|=n[h],h<v&&(v=h),h>z&&(z=h));q&&(b<w&&(w=b),b>r&&(r=b))}c||(this.F.m=r,this.F.h=w,this.F.i=v,this.F.s=z)};a.prototype.Bs=function(){var c,f,e,g=this.Ua,p=this.Fa,q=this.ia,r,w=this.qa,v=this.ma>>4,z=this.Pe;var b=0;var h=b+16;if(arrayFill)q.Fb.fill(0);else for(f=0;f<w;f+=1)q[f].set(z);for(f=0;f<w;f+=1){var n=0;var x=p[f];var u=q[f];var t=
0<f?q[f-1]:z;var A=f<w-1?q[f+1]:z;x[0]&=32767;x[v-1]&=65534;for(e=0;e<v;e+=1)if(r=x[e]){var y=u[e];var B=t[e];var C=A[e];for(c=15;0<=c;--c){if(0!==(r&1<<c)){var F=!1;var E=0;var G=b;var H=g[G];if(H=H[n])F=!0,0!==(H&32768)&&(E|=k.ve,E|=k.lf),0!==(H&1)&&(E|=k.ze,E|=k.mf),E|=k.te;for(G+=1;G<h-1;){H=g[G];if(H=H[n])F=!0,0!==(H&32768)&&(E|=k.ve),0!==(H&1)&&(E|=k.ze);G+=1}H=g[G];if(H=H[n])F=!0,0!==(H&32768)&&(E|=k.ve,E|=k.Lf),0!==(H&1)&&(E|=k.ze,E|=k.Mf),E|=k.De;F&&(y|=1<<c,E&&(0!==(E&k.ve)&&(15>c?y|=1<<
c+1:0<e&&(u[e-1]|=1)),0!==(E&k.ze)&&(0<c?y|=1<<c-1:e<v-1&&(u[e+1]|=32768)),0!==(E&k.te)&&(B|=1<<c),0!==(E&k.De)&&(C|=1<<c),0!==(E&k.lf)&&(15>c?B|=1<<c+1:0<e&&(t[e-1]|=1)),0!==(E&k.mf)&&(0<c?B|=1<<c-1:e<v-1&&(t[e+1]|=32768)),0!==(E&k.Lf)&&(15>c?C|=1<<c+1:0<e&&(A[e-1]|=1)),0!==(E&k.Mf)&&(0<c?C|=1<<c-1:e<v-1&&(A[e+1]|=32768))))}n+=1}u[e]|=y;0<f&&(t[e]|=B);f<w-1&&(A[e]|=C)}else n+=16;b+=16;h+=16}if(arrayFill)z.fill(0);else for(f=0;f<z.length;f+=1)z[f]=0};a.prototype.Cs=function(){var c,f,e,g=this.Ua,
p=this.Fa,q=this.la,r=this.ia,w,v=this.qa,z=this.ma>>4,b=this.Pe;var h=0;var n=h+16;if(arrayFill)r.Fb.fill(0);else for(f=0;f<v;f+=1)r[f].set(b);for(f=0;f<v;f+=1){var x=0;var u=p[f];var t=r[f];var A=0<f?r[f-1]:b;var y=f<v-1?r[f+1]:b;u[0]&=32767;u[z-1]&=65534;for(e=0;e<z;e+=1)if(w=u[e]){var B=t[e];var C=A[e];var F=y[e];for(c=15;0<=c;--c){if(0!==(w&1<<c)){var E=!1;var G=0;var H=h;var L=g[H];var M=q[H];L=L[x];var I=x<<4;0<M[I]&&(L|=32768);I+=1;0<M[I]&&(L|=16384);I+=1;0<M[I]&&(L|=8192);I+=1;0<M[I]&&(L|=
4096);I+=1;0<M[I]&&(L|=2048);I+=1;0<M[I]&&(L|=1024);I+=1;0<M[I]&&(L|=512);I+=1;0<M[I]&&(L|=256);I+=1;0<M[I]&&(L|=128);I+=1;0<M[I]&&(L|=64);I+=1;0<M[I]&&(L|=32);I+=1;0<M[I]&&(L|=16);I+=1;0<M[I]&&(L|=8);I+=1;0<M[I]&&(L|=4);I+=1;0<M[I]&&(L|=2);I+=1;0<M[I]&&(L|=1);L&&(E=!0,0!==(L&32768)&&(G|=k.ve,G|=k.lf),0!==(L&1)&&(G|=k.ze,G|=k.mf),G|=k.te);for(H+=1;H<n-1;)L=g[H],M=q[H],L=L[x],I=x<<4,0<M[I]&&(L|=32768),I+=1,0<M[I]&&(L|=16384),I+=1,0<M[I]&&(L|=8192),I+=1,0<M[I]&&(L|=4096),I+=1,0<M[I]&&(L|=2048),I+=1,
0<M[I]&&(L|=1024),I+=1,0<M[I]&&(L|=512),I+=1,0<M[I]&&(L|=256),I+=1,0<M[I]&&(L|=128),I+=1,0<M[I]&&(L|=64),I+=1,0<M[I]&&(L|=32),I+=1,0<M[I]&&(L|=16),I+=1,0<M[I]&&(L|=8),I+=1,0<M[I]&&(L|=4),I+=1,0<M[I]&&(L|=2),I+=1,0<M[I]&&(L|=1),L&&(E=!0,0!==(L&32768)&&(G|=k.ve),0!==(L&1)&&(G|=k.ze)),H+=1;L=g[H];M=q[H];L=L[x];I=x<<4;0<M[I]&&(L|=32768);I+=1;0<M[I]&&(L|=16384);I+=1;0<M[I]&&(L|=8192);I+=1;0<M[I]&&(L|=4096);I+=1;0<M[I]&&(L|=2048);I+=1;0<M[I]&&(L|=1024);I+=1;0<M[I]&&(L|=512);I+=1;0<M[I]&&(L|=256);I+=1;0<
M[I]&&(L|=128);I+=1;0<M[I]&&(L|=64);I+=1;0<M[I]&&(L|=32);I+=1;0<M[I]&&(L|=16);I+=1;0<M[I]&&(L|=8);I+=1;0<M[I]&&(L|=4);I+=1;0<M[I]&&(L|=2);I+=1;0<M[I]&&(L|=1);L&&(E=!0,0!==(L&32768)&&(G|=k.ve,G|=k.Lf),0!==(L&1)&&(G|=k.ze,G|=k.Mf),G|=k.De);E&&(B|=1<<c,G&&(0!==(G&k.ve)&&(15>c?B|=1<<c+1:0<e&&(t[e-1]|=1)),0!==(G&k.ze)&&(0<c?B|=1<<c-1:e<z-1&&(t[e+1]|=32768)),0!==(G&k.te)&&(C|=1<<c),0!==(G&k.De)&&(F|=1<<c),0!==(G&k.lf)&&(15>c?C|=1<<c+1:0<e&&(A[e-1]|=1)),0!==(G&k.mf)&&(0<c?C|=1<<c-1:e<z-1&&(A[e+1]|=32768)),
0!==(G&k.Lf)&&(15>c?F|=1<<c+1:0<e&&(y[e-1]|=1)),0!==(G&k.Mf)&&(0<c?F|=1<<c-1:e<z-1&&(y[e+1]|=32768))))}x+=1}t[e]|=B;0<f&&(A[e]|=C);f<v-1&&(y[e]|=F)}else x+=16;h+=16;n+=16}if(arrayFill)b.fill(0);else for(f=0;f<b.length;f+=1)b[f]=0};a.prototype.zg=function(){var c,f,e=this.width>>4,g=this.height,p=this.width,q=this.Ab;var r=this.la;var w=this.F,v=this.oa,z=this.ee,b=this.height,h=-1,n=this.width,x=-1,u=this.height,t=-1,A=this.width,y=-1,B,C=this.Yd;if(this.Km){this.Km=!1;var F=0!==(this.u&1)?this.Ib:
this.Ua;if(q)for(f=0;f<g;f+=1){var E=q[f];for(c=B=0;c<p;c+=1){var G=E[c];B|=G;G&&(c<A&&(A=c),c>y&&(y=c))}B&&(f<u&&(u=f),f>t&&(t=f))}if(arrayFill)C.fill(0);else for(f=0;f<C.length;f+=1)C[f]=0;if(-1!==this.f)for(f=0;f<g;f+=1){e=r[f];for(c=B=0;c<p;c+=1)G=e[c],B|=G,G&&(c<n&&(n=c),c>x&&(x=c));B&&(f<b&&(b=f),f>h&&(h=f))}else{for(f=0;f<g;f+=1){r=F[f];for(c=B=0;c<e;c+=1)G=r[c],B|=G,C[c]|=G;B&&(f<b&&(b=f),f>h&&(h=f))}for(c=0;c<e;c+=1)C[c]&&(c<n&&(n=c),c>x&&(x=c));n=(n<<4)+this.Le(C[n]);x=(x<<4)+this.Me(C[x])}if(0>
h||b>=g||n>=p||0>x)b=h=g>>1,x=n=p>>1;q&&(t<h&&(h=t),u>b&&(b=u),A<n&&(n=A),y>x&&(x=y));h>this.height-1&&(h=this.height-1);0>b&&(b=0);0>n&&(n=0);x>this.width-1&&(x=this.width-1);w.m=h;w.h=b;w.i=n;w.s=x;v.m=h;v.h=b;v.i=n;v.s=x;z.m=h;z.h=b;z.i=n;z.s=x}};a.prototype.Hz=function(c){var f,e,g=this.width>>4,p=this.height,q=this.width,r=this.Ab;var w=this.la;var v=this.F,z=this.oa,b=this.ee,h=this.height,n=-1,x=this.width,u=-1,t=this.height,A=-1,y=this.width,B=-1,C,F=this.Yd,E=this.qa,G=this.Ma,H=this.za,
L=this.Pe;if(0!==(this.u&1)){var M=this.Ib;var I=this.Fa;var D=this.ia}else M=this.Ua,I=this.ia,D=this.Fa;if(r&&!c)for(e=0;e<p;e+=1){var J=r[e];for(f=C=0;f<q;f+=1){var K=J[f];C|=K;K&&(f<y&&(y=f),f>B&&(B=f))}C&&(e<t&&(t=e),e>A&&(A=e))}if(arrayFill)F.fill(0);else for(e=0;e<F.length;e+=1)F[e]=0;if(arrayFill)D.Fb.fill(0);else for(e=0;e<E;e+=1)D[e].set(L);if(-1!==this.f)for(e=0;e<p;e+=1){g=w[e];for(f=C=0;f<q;f+=1)K=g[f],C|=K,K&&(f<x&&(x=f),f>u&&(u=f));C&&(e<h&&(h=e),e>n&&(n=e))}else{for(e=0;e<p;e+=1){w=
M[e];for(f=C=0;f<g;f+=1)K=w[f],C|=K,F[f]|=K;C&&(e<h&&(h=e),e>n&&(n=e))}for(f=0;f<g;f+=1)F[f]&&(f<x&&(x=f),f>u&&(u=f));x=(x<<4)+this.Le(F[x]);u=(u<<4)+this.Me(F[u])}if(0>n||h>=p||x>=q||0>u)h=n=p>>1,u=x=q>>1;r&&!c&&(A<n&&(n=A),t>h&&(h=t),y<x&&(x=y),B>u&&(u=B));n>this.height-1&&(n=this.height-1);0>h&&(h=0);0>x&&(x=0);u>this.width-1&&(u=this.width-1);v.m=n;v.h=h;v.i=x;v.s=u;z.m=n;z.h=h;z.i=x;z.s=u;b.m=n;b.h=h;b.i=x;b.s=u;0<x&&--x;0<h&&--h;u<this.width-1&&(u+=1);n<this.height-1&&(n+=1);K=n>>4;x>>=8;u>>=
8;for(e=h>>4;e<=K;e+=1)for(h=D[e],f=x;f<=u;f+=1)h[f]=-1;-1!==this.f?this.Cs():this.Bs();r&&(this.pp(c),b.m=v.m,b.h=v.h,b.i=v.i,b.s=v.s);Array.Xg(I,D);Array.Xg(I,G);Array.Xg(I,H)};a.prototype.Ym=function(c,f){var e=Math.round((this.width-this.na)/2),g=Math.round((this.height-this.pa)/2),p=e+this.na-1,q=g+this.pa-1,r=e-c>>4,w=p+c>>4,v=e-c>>4,z=p+c>>4,b=~(1<<(~(e-c)&15)),h=~(1<<(~(p+c)&15)),n=this.kf,x=0;var u=0!==(this.u&1)?this.Ib:this.Ua;var t=u[q+c];var A=u[g-c];if(0===this.na)for(w=this.width>>
4,r=0;r<w;r+=1)x+=n[A[r]],A[r]=0,x+=n[t[r]],t[r]=0;else if(0===this.pa)for(g=0,q=this.height,w=0;w<q;w+=1)t=u[w],t[v]&~b&&(x+=1),t[v]&=b,t[z]&~h&&(x+=1),t[z]&=h;else{for(;r<=w;r+=1)x+=n[A[r]],A[r]=0,x+=n[t[r]],t[r]=0;for(w=g-c+1;w<=q+c-1;w+=1)t=u[w],t[v]&~b&&(x+=1),t[v]&=b,t[z]&~h&&(x+=1),t[z]&=h}f&&(this.wa-=x);if(-1!==this.f)if(u=this.la,e-=c,p+=c,q+=c,g-=c,t=u[q],A=u[g],0===this.na)if(arrayFill)A.fill(0),t.fill(0);else for(r=0;r<this.width;r+=1)A[r]=0,t[r]=0;else if(0===this.pa)for(w=0;w<this.height;w+=
1)u[w][e]=0,u[w][p]=0;else{if(arrayFill)A.fill(0,e,p+1),t.fill(0,e,p+1);else for(r=e;r<=p;r+=1)A[r]=0,t[r]=0;for(w=g+1;w<=q-1;w+=1)u[w][e]=0,u[w][p]=0}};a.prototype.Je=function(c,f,e){var g,p;f-=2;e-=2;var q=0;for(g=!0;g&&q<c.length;){var r=0;for(p=c[q];g&&r<p.length;){var w=p[r];var v=this.la[e+q][f+r];v<this.Sa&&0===w||v>=this.Sa&&1===w||(g=!1);r+=1}q+=1}if(g)for(this.jo+=1,q=0;q<c.length;q+=1)for(p=c[q],r=0;r<p.length;r+=1)1===p[r]&&this.Ae(f+r,e+q,0,!1);return g};a.prototype.Zm=function(){var c,
f=this.F.i,e=this.F.s,g=this.F.h,p=this.F.m,q=this.la,r=q[p],w=q[g],v=this.Sa;if(-1===this.ja){for(c=f;c<=e;c+=1)w[c]>=v&&(this.Je(this.ej,c,g)||this.Je(this.cj,c,g)),r[c]>=v&&(this.Je(this.kj,c,p-2)||this.Je(this.hj,c,p-2));for(c=g;c<=p;c+=1)g=q[c],g[f]>=v&&(this.Je(this.ej,f,c)||this.Je(this.kj,f,c-1)),g[e]>=v&&(this.Je(this.cj,e-2,c)||this.Je(this.hj,e-2,c-1));this.zg()}};a.prototype.sv=function(){var c=this.na;var f=this.pa;var e=Math.round((this.width-c)/2-1)>>4,g=Math.round((this.width+c)/2)>>
4;var p=Math.round((this.height-f)/2-1)>>4;var q=Math.round((this.height+f)/2)>>4;0===f&&(p=0,q=(this.height>>4)-1);0===c&&(e=0,g=(this.width>>4)-1);0>e&&(e=0);0>p&&(p=0);g>=this.width>>4&&(g=(this.width>>4)-1);q>=this.height>>4&&(q=(this.height>>4)-1);for(f=e;f<=g;f+=1)c=1<<(~f&15),this.ia[p][f>>4]|=c,this.Fa[p][f>>4]|=c,this.Ma[p][f>>4]|=c,this.za[p][f>>4]|=c,this.ia[q][f>>4]|=c,this.Fa[q][f>>4]|=c,this.Ma[q][f>>4]|=c,this.za[q][f>>4]|=c;for(;p<=q;p+=1)c=1<<(~e&15),this.ia[p][e>>4]|=c,this.Fa[p][e>>
4]|=c,this.Ma[p][e>>4]|=c,this.za[p][e>>4]|=c,c=1<<(~g&15),this.ia[p][g>>4]|=c,this.Fa[p][g>>4]|=c,this.Ma[p][g>>4]|=c,this.za[p][g>>4]|=c};a.prototype.Qw=function(){var c=this.Ma,f=this.na,e=this.pa,g=Math.round((this.width-f)/2),p=Math.round((this.height-e)/2),q=g+f-1,r=p+e-1,w=this.ln,v=this.mn,z=this.Z&&0<g&&q<this.width-1,b;if(0!==(this.u&1)){var h=this.Ib;var n=this.Fa}else h=this.Ua,n=this.ia;0===this.na&&(g=0,q=this.width-1,f=this.width);0===this.pa&&(p=0,r=this.height-1,e=this.height);if(0!==
this.pa)for(b=0;b<f;b+=1){var x=g+b;var u=g+(b+w+f)%f;0!==(h[r][x>>4]&1<<(~x&15))&&(h[p-1][u>>4]|=1<<(~u&15),n[p-1>>4][u>>8]|=1<<(~(u>>4)&15),c[p-1>>4][u>>8]|=1<<(~(u>>4)&15),15===(p-1&15)&&(n[(p-1>>4)+1][u>>8]|=1<<(~(u>>4)&15),c[(p-1>>4)+1][u>>8]|=1<<(~(u>>4)&15)));u=g+(b-w+f)%f;0!==(h[p][x>>4]&1<<(~x&15))&&(h[r+1][u>>4]|=1<<(~u&15),n[r+1>>4][u>>8]|=1<<(~(u>>4)&15),c[r+1>>4][u>>8]|=1<<(~(u>>4)&15),0===(r+1&15)&&(n[(r+1>>4)-1][u>>8]|=1<<(~(u>>4)&15),c[(r+1>>4)-1][u>>8]|=1<<(~(u>>4)&15)))}if(0!==this.na)for(b=
0;b<e;b+=1)x=p+b,u=p+(b-v+e)%e,0!==(h[x][g>>4]&1<<(~g&15))&&(h[u][q+1>>4]|=1<<(~(q+1)&15),n[u>>4][q+1>>8]|=1<<(~(q+1>>4)&15),c[u>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(n[u>>4][q-15>>8]|=1<<(~(q-15>>4)&15),c[u>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),z&&(g+=1,q+=1,0!==(h[x][g>>4]&1<<(~g&15))&&(h[u][q+1>>4]|=1<<(~(q+1)&15),n[u>>4][q+1>>8]|=1<<(~(q+1>>4)&15),c[u>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(n[u>>4][q-15>>8]|=1<<(~(q-15>>4)&15),c[u>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),--g,--q),u=p+(b+
v+e)%e,0!==(h[x][q>>4]&1<<(~q&15))&&(h[u][g-1>>4]|=1<<(~(g-1)&15),n[u>>4][g-1>>8]|=1<<(~(g-1>>4)&15),c[u>>4][g-1>>8]|=1<<(~(g-1>>4)&15),15===(g-1&15)&&(n[u>>4][g+15>>8]|=1<<(~(g+15>>4)&15),c[u>>4][g+15>>8]|=1<<(~(g+15>>4)&15))),z&&(--g,--q,0!==(h[x][q>>4]&1<<(~q&15))&&(h[u][g-1>>4]|=1<<(~(g-1)&15),n[u>>4][g-1>>8]|=1<<(~(g-1>>4)&15),c[u>>4][g-1>>8]|=1<<(~(g-1>>4)&15),15===(g-1&15)&&(n[u>>4][g+15>>8]|=1<<(~(g+15>>4)&15),c[u>>4][g+15>>8]|=1<<(~(g+15>>4)&15))),g+=1,q+=1);0!==this.na&&0!==this.pa&&(x=
g+(-w+f)%f,h[p-1][q+1>>4]=0!==(h[p+(e-1+v+e)%e][x>>4]&1<<(~x&15))?h[p-1][q+1>>4]|1<<(~(q+1)&15):h[p-1][q+1>>4]&~(1<<(~(q+1)&15)),x=g+(f-1-w+f)%f,h[p-1][g-1>>4]=0!==(h[p+(e-1-v+e)%e][x>>4]&1<<(~x&15))?h[p-1][g-1>>4]|1<<(~(g-1)&15):h[p-1][g-1>>4]&~(1<<(~(g-1)&15)),x=g+(w+f)%f,h[r+1][q+1>>4]=0!==(h[p+(v+e)%e][x>>4]&1<<(~x&15))?h[r+1][q+1>>4]|1<<(~(q+1)&15):h[r+1][q+1>>4]&~(1<<(~(q+1)&15)),x=g+(f-1+w+f)%f,h[r+1][g-1>>4]=0!==(h[p+(-v+e)%e][x>>4]&1<<(~x&15))?h[r+1][g-1>>4]|1<<(~(g-1)&15):h[r+1][g-1>>4]&
~(1<<(~(g-1)&15)))};a.prototype.yw=function(){var c=this.Ma,f=this.na,e=this.pa,g=Math.round((this.width-f)/2),p=Math.round((this.height-e)/2),q=g+f-1,r=p+e-1,w=this.ln,v=this.mn,z=this.Vs,b=this.nx,h;if(0!==(this.u&1)){var n=this.Ib;var x=this.Fa}else n=this.Ua,x=this.ia;for(h=0;h<f;h+=1){var u=g+h;var t=z?q-(h+w+f)%f:g+(h+w+f)%f;0!==(n[r][u>>4]&1<<(~u&15))&&(n[p-1][t>>4]|=1<<(~t&15),x[p-1>>4][t>>8]|=1<<(~(t>>4)&15),c[p-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(p-1&15)&&(x[(p-1>>4)+1][t>>8]|=1<<(~(t>>4)&
15),c[(p-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));t=z?q-(h-w+f)%f:g+(h-w+f)%f;0!==(n[p][u>>4]&1<<(~u&15))&&(n[r+1][t>>4]|=1<<(~t&15),x[r+1>>4][t>>8]|=1<<(~(t>>4)&15),c[r+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(r+1&15)&&(x[(r+1>>4)-1][t>>8]|=1<<(~(t>>4)&15),c[(r+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(h=0;h<e;h+=1)u=p+h,t=b?r-(h-v+e)%e:p+(h-v+e)%e,0!==(n[u][g>>4]&1<<(~g&15))&&(n[t][q+1>>4]|=1<<(~(q+1)&15),x[t>>4][q+1>>8]|=1<<(~(q+1>>4)&15),c[t>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(x[t>>4][q-15>>8]|=1<<(~(q-
15>>4)&15),c[t>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),t=b?r-(h+v+e)%e:p+(h+v+e)%e,0!==(n[u][q>>4]&1<<(~q&15))&&(n[t][g-1>>4]|=1<<(~(g-1)&15),x[t>>4][g-1>>8]|=1<<(~(g-1>>4)&15),c[t>>4][g-1>>8]|=1<<(~(g-1>>4)&15),15===(g-1&15)&&(x[t>>4][g+15>>8]|=1<<(~(g+15>>4)&15),c[t>>4][g+15>>8]|=1<<(~(g+15>>4)&15)));u=z?q-(-w+f)%f:g+(-w+f)%f;0!==(n[b?r-(e-1+v+e)%e:p+(e-1+v+e)%e][u>>4]&1<<(~u&15))&&(n[p-1][q+1>>4]|=1<<(~(q+1)&15));u=z?q-(f-1-w+f)%f:g+(f-1-w+f)%f;0!==(n[b?r-(e-1+v+e)%e:p+(e-1+v+e)%e][u>>4]&1<<(~u&15))&&
(n[p-1][g-1>>4]|=1<<(~(g-1)&15));u=z?q-(w+f)%f:g+(w+f)%f;0!==(n[b?r-(v+e)%e:p+(v+e)%e][u>>4]&1<<(~u&15))&&(n[r+1][q+1>>4]|=1<<(~(q+1)&15));u=z?q-(f-1+w+f)%f:g+(f-1+w+f)%f;0!==(n[b?r-(v+e)%e:p+(v+e)%e][u>>4]&1<<(~u&15))&&(n[r+1][g-1>>4]|=1<<(~(g-1)&15))};a.prototype.pw=function(){var c=this.Ma,f=Math.round((this.width-this.na)/2),e=Math.round((this.height-this.pa)/2),g=f+this.na-1,p=e+this.pa-1,q;if(0!==(this.u&1)){var r=this.Ib;var w=this.Fa}else r=this.Ua,w=this.ia;for(q=0;q<this.na;q+=1){var v=
f+q;var z=g-q;0!==(r[p][v>>4]&1<<(~v&15))&&(r[e-1][z>>4]|=1<<(~z&15),w[e-1>>4][z>>8]|=1<<(~(z>>4)&15),c[e-1>>4][z>>8]|=1<<(~(z>>4)&15),15===(e-1&15)&&(w[(e-1>>4)+1][z>>8]|=1<<(~(z>>4)&15),c[(e-1>>4)+1][z>>8]|=1<<(~(z>>4)&15)));0!==(r[e][v>>4]&1<<(~v&15))&&(r[p+1][z>>4]|=1<<(~z&15),w[p+1>>4][z>>8]|=1<<(~(z>>4)&15),c[p+1>>4][z>>8]|=1<<(~(z>>4)&15),0===(p+1&15)&&(w[(p+1>>4)-1][z>>8]|=1<<(~(z>>4)&15),c[(p+1>>4)-1][z>>8]|=1<<(~(z>>4)&15)))}for(q=0;q<=this.pa;q+=1)v=e+q,z=p-q,0!==(r[v][f>>4]&1<<(~f&15))&&
(r[z][g+1>>4]|=1<<(~(g+1)&15),w[z>>4][g+1>>8]|=1<<(~(g+1>>4)&15),c[z>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(w[z>>4][g-15>>8]|=1<<(~(g-15>>4)&15),c[z>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),0!==(r[v][g>>4]&1<<(~g&15))&&(r[z][f-1>>4]|=1<<(~(f-1)&15),w[z>>4][f-1>>8]|=1<<(~(f-1>>4)&15),c[z>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(w[z>>4][f+15>>8]|=1<<(~(f+15>>4)&15),c[z>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==(r[p][f>>4]&1<<(~f&15))&&(r[p+1][f-1>>4]|=1<<(~(f-1)&15));0!==(r[p][g>>4]&1<<(~g&15))&&
(r[p+1][g+1>>4]|=1<<(~(g+1)&15));0!==(r[e][f>>4]&1<<(~f&15))&&(r[e-1][f-1>>4]|=1<<(~(f-1)&15));0!==(r[e][g>>4]&1<<(~g&15))&&(r[e-1][g+1>>4]|=1<<(~(g+1)&15))};a.prototype.Ow=function(){var c=this.Ma,f=Math.round((this.width-this.na)/2),e=Math.round((this.height-this.pa)/2),g=f+this.na-1,p=e+this.na-1,q;if(0!==(this.u&1)){var r=this.Ib;var w=this.Fa}else r=this.Ua,w=this.ia;for(q=0;q<this.na;q+=1){var v=e+q;var z=f+q;0!==(r[v][f>>4]&1<<(~f&15))&&(r[e-1][z>>4]|=1<<(~z&15),w[e-1>>4][z>>8]|=1<<(~(z>>4)&
15),c[e-1>>4][z>>8]|=1<<(~(z>>4)&15),15===(e-1&15)&&(w[(e-1>>4)+1][z>>8]|=1<<(~(z>>4)&15),c[(e-1>>4)+1][z>>8]|=1<<(~(z>>4)&15)));0!==(r[v][g>>4]&1<<(~g&15))&&(r[p+1][z>>4]|=1<<(~z&15),w[p+1>>4][z>>8]|=1<<(~(z>>4)&15),c[p+1>>4][z>>8]|=1<<(~(z>>4)&15),0===(p+1&15)&&(w[(p+1>>4)-1][z>>8]|=1<<(~(z>>4)&15),c[(p+1>>4)-1][z>>8]|=1<<(~(z>>4)&15)));0!==(r[e][z>>4]&1<<(~z&15))&&(r[v][f-1>>4]|=1<<(~(f-1)&15),w[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),c[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(w[v>>4][f+15>>8]|=
1<<(~(f+15>>4)&15),c[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==(r[p][z>>4]&1<<(~z&15))&&(r[v][g+1>>4]|=1<<(~(g+1)&15),w[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),c[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(w[v>>4][g-15>>8]|=1<<(~(g-15>>4)&15),c[v>>4][g-15>>8]|=1<<(~(g-15>>4)&15)))}0!==(r[p][f>>4]&1<<(~f&15))&&(r[p+1][f-1>>4]|=1<<(~(f-1)&15));0!==(r[p][g>>4]&1<<(~g&15))&&(r[p+1][g+1>>4]|=1<<(~(g+1)&15));0!==(r[e][f>>4]&1<<(~f&15))&&(r[e-1][f-1>>4]|=1<<(~(f-1)&15));0!==(r[e][g>>4]&1<<(~g&15))&&(r[e-1][g+
1>>4]|=1<<(~(g+1)&15))};a.prototype.ov=function(c){var f,e=1;0!==this.ja&&(e=2);this.Z&&(e+=1);for(f=1;f<=e+1;f+=1)this.Ym(f,c)};a.prototype.Jv=function(){this.sv();switch(this.ja){case 1:this.Qw();break;case 2:this.yw();break;case 3:this.pw();break;case 4:this.Ow()}this.sv()};a.prototype.we=function(c,f,e){this.pb?(this.ea=1,this.u+=1):this.Kw(c,f,e)};a.prototype.Kw=function(c,f,e){var g=!1,p=this.F,q=this.Vc;e||(c=!0);this.u===this.el-1&&(g=!0,f||(c=!0));-1===this.ja||this.sa||this.Jv();this.aa&&
this.Es();this.ea&&(this.sa?this.Wb.JE(this.u):c&&2>this.f?this.Z?this.dv():this.av():this.Z?this.Pu():this.Bu());this.u+=1;-1===this.f||this.sa||this.ru();this.aa&&this.Ds();-1===this.ja||this.sa||this.ov(c);this.width===this.Y&&(e=this.sa?2*this.Wb.Fc:16,p.i<=e||p.s>=this.Y-e||p.h<=e||p.m>=this.Y-e)&&(this.sa?this.an():this.$m());g&&(this.el+=k.Mo,f||this.Bo());p.i<q.i&&(q.i=p.i);p.s>q.s&&(q.s=p.s);p.h<q.h&&(q.h=p.h);p.m>q.m&&(q.m=p.m);this.u<k.Jy&&(c?(this.Kl(this.wa,this.jc,this.hd),this.wa>this.tb&&
(this.tb=this.wa),this.jc>this.tb&&(this.tb=this.jc),this.hd>this.tb&&(this.tb=this.hd)):this.Kl(0,0,0))};a.prototype.Kl=function(c,f,e){var g=this.u>>k.Uj,p=this.u&(1<<k.Uj)-1;this.Wa&&0<this.Wa.length&&(this.u>=this.sg&&(Array.cn(this.Wa,"Life.popGraphData"),Array.cn(this.kg,"Life.birthGraphData"),Array.cn(this.mg,"Life.deathGraphData"),this.sg+=1<<k.Uj),this.Wa[g][p]=c,this.kg[g][p]=f,this.mg[g][p]=e)};a.prototype.nj=function(c,f,e,g,p,q,r,w){var v,z=1,b=(1<<k.Uj)-1;this.u>e&&(z=e/this.u);if(w){c.strokeStyle=
f;c.beginPath();var h=g-r[0]/this.tb*g|0;c.moveTo(0+q+.5,h+p+q+.5)}else c.fillStyle=f;var n=0;for(f=v=1;f<e;f+=1){if(v<k.Jy){var x=v>>k.Uj;var u=v&b;u=x=r[x][u];n+=z;for(v+=1;0===(n|0);){var t=r[v];v+=1;t>u&&(u=t);t<x&&(x=t);n+=z}--n}else u=x=0;f<=this.u&&(t=0+q+1+f,h=g-x/this.tb*g|0,w?(c.lineTo(t+.5,h+p+q+.5),x!==u&&(h=g-u/this.tb*g|0,c.lineTo(t+.5,h+p+q+.5))):0<x&&0<u&&(x!==u&&(h=g-u/this.tb*g|0),c.fillRect(t+.5,h+p+q+.5,1,1)))}w&&c.stroke()};a.prototype.mq=function(c,f,e,g){var p=this.context,
q=40,r=40,w=this.D-r,v=this.B-q-r,z="rgb("+this.ih[0]+","+this.ih[1]+","+this.ih[2]+")",b="rgb("+this.hh[0]+","+this.hh[1]+","+this.hh[2]+")",h="rgb("+this.gh[0]+","+this.gh[1]+","+this.gh[2]+")",n="rgb("+this.jh[0]+","+this.jh[1]+","+this.jh[2]+")",x="rgb("+this.kh[0]+","+this.kh[1]+","+this.kh[2]+")";if(this.Wa&&0<this.Wa.length){if(e||g)q=0,v+=80;g&&(r=0,w=this.D);var u=w-r;p.save();p.fillStyle=z;p.globalAlpha=f;p.fillRect(0,q,w+r,v);p.globalAlpha=1;e&&(v-=40);if(!g){p.font="16px Arial";p.textAlign=
"center";p.fillStyle="black";for(f=2;0<=f;f-=2)p.save(),p.translate(this.D/2,v+r/2-6),p.fillText("Generation",f,f),p.restore(),p.save(),p.translate(r/2+6,this.B/2),p.rotate(-90*Math.PI/180),320>this.B?p.fillText("Pop",f,f):p.fillText("Population",f,f),p.restore(),p.fillStyle=b;p.fillStyle="black";for(f=2;0<=f;f-=2)p.save(),p.translate(r-r/2+6,q+r),p.rotate(-90*Math.PI/180),p.fillText(String(this.tb),f,f),p.restore(),p.save(),p.translate(r-r/2+6,v),p.rotate(-90*Math.PI/180),p.fillText("0",f,f),p.restore(),
p.save(),p.translate(r,v+r/2-6),p.fillText("0",f,f),p.restore(),p.save(),p.translate(w,v+r/2-6),p.fillText(String(this.u>u?this.u:u),f,f),p.restore(),p.fillStyle=b}-1===this.ja&&(this.nj(p,x,u,v-q-r,q,r,this.mg,c),this.nj(p,n,u,v-q-r,q,r,this.kg,c));this.nj(p,h,u,v-q-r,q,r,this.Wa,c);p.strokeStyle=b;p.lineWidth=1;p.beginPath();p.moveTo(r+.5,q+r+.5);p.lineTo(r+.5,v+.5);p.lineTo(w+.5,v+.5);p.lineTo(w+.5,v+2.5);p.moveTo(r+.5,v+.5);p.lineTo(r+.5,v+2.5);p.moveTo(r+.5,v+.5);p.lineTo(r+.5-2,v+.5);p.moveTo(r+
.5,q+r+.5);p.lineTo(r+.5-2,q+r+.5);p.stroke();p.restore()}};a.prototype.Kz=function(){var c=(1<<k.Uj)-1,f;if(this.Wa&&0<this.Wa.length){for(f=0;f<this.sg;f+=1){var e=f>>k.Uj;var g=f&c;this.Wa[e][g]=0;this.kg[e][g]=0;this.mg[e][g]=0}this.Wa[0][0]=this.wa}this.tb=this.wa};a.prototype.Br=function(){var c=this.F,f=this.Vc;f.i=c.i;f.s=c.s;f.m=c.m;f.h=c.h};a.prototype.Es=function(){var c,f,e,g,p=this.aa,q=this.ad,r=this.zb,w=this.Be,v=this.qa,z=this.ma>>4,b;var h=0;var n=0!==(this.u&1)?this.Ib:this.Ua;
for(c=0;c<v;c+=1){var x=0;var u=w[c];for(f=0;f<z;f+=1)if(b=u[f])for(e=15;0<=e;--e){if(0!==(b&1<<e))for(g=h;g<h+16;g+=1)q[g][x]=(n[g][x]|r[g][x])&p[g][x];x+=1}else x+=16;h+=16}};a.prototype.Ds=function(){var c,f,e,g,p,q=this.ad,r=this.Be,w=this.qa,v=this.ma>>4,z;var b=0!==(this.u&1)?this.Ib:this.Ua;for(c=p=0;c<w;c+=1){var h=0;var n=r[c];for(f=0;f<v;f+=1)if(z=n[f])for(e=15;0<=e;--e){if(0!==(z&1<<e))for(g=p;g<p+16;g+=1)b[g][h]&=~q[g][h];h+=1}else h+=16;p+=16}};a.prototype.mj=function(c,f,e){var g,p,
q=this.ci,r=0,w=this.Wd[r],v=this.Xd[r],z=0,b=k.yr,h=b-1,n=0,x=b,u=this.zo,t=this.Ka,A=this.Na;w[z]=c;v[z]=f;z+=1;for(e[f][c>>4]&=~(1<<(~c&15));0<z;)for(--z,z<n&&(--r,n-=b,x-=b,w=this.Wd[r],v=this.Xd[r]),c=w[z&h],f=v[z&h],p=f-u;p<=f+u;){for(g=c-u;g<=c+u;)g===(g&t)&&p===(p&A)&&0!==(e[p][g>>4]&1<<(~g&15))&&(e[p][g>>4]&=~(1<<(~g&15)),z===x&&(r+=1,n+=b,x+=b,r>q&&(this.Wd[r]=this.o.L(Int32,b,"Life.boundaryX"+r),this.Xd[r]=this.o.L(Int32,b,"Life.boundaryY"+r),this.ci=q+=1),w=this.Wd[r],v=this.Xd[r]),w[z&
h]=g,v[z&h]=p,z+=1),g+=1;p+=1}};a.prototype.Bk=function(c,f,e){for(var g=e[f][c],p=15;0<=p;)0!==(g&1<<p)&&this.mj((c<<4)+(~p&15),f,e),--p};a.prototype.Rw=function(c,f){this.mj(0,c,f)};a.prototype.ms=function(c,f,e){this.mj((c<<4)+15,f,e)};a.prototype.$m=function(){var c;var f=0!==(this.u&1)?this.Ib:this.Ua;var e=f.length;var g=f[0].length;var p=f[0];var q=f[e-1];for(c=0;c<g;)p[c]&&this.Bk(c,0,f),q[c]&&this.Bk(c,e-1,f),c+=1;for(c=0;c<e;)0!==(f[c][0]&32768)&&this.Rw(c,f),0!==(f[c][g-1]&1)&&this.ms(g-
1,c,f),c+=1};a.prototype.mi=function(c,f){var e,g=this.la,p,q=this.ci,r=0,w=this.Wd[r],v=this.Xd[r],z=0,b=k.yr,h=b-1,n=0,x=b,u=this.Ka,t=this.Na,A=2<this.f?0:k.Sa,y=2<this.f?0:k.Tc,B=this.zo;w[z]=c;v[z]=f;z+=1;for(g[f][c]=0;0<z;)for(--z,z<n&&(--r,n-=b,x-=b,w=this.Wd[r],v=this.Xd[r]),c=w[z&h],f=v[z&h],e=f-B;e<=f+B;){var C=c-B;for(p=g[e];C<=c+B;)C===(C&u)&&e===(e&t)&&p[C]>=A&&(p[C]=y,z===x&&(r+=1,n+=b,x+=b,r>q&&(this.Wd[r]=this.o.L(Int32,b,"Life.boundaryX"+r),this.Xd[r]=this.o.L(Int32,b,"Life.boundaryY"+
r),this.ci=q+=1),w=this.Wd[r],v=this.Xd[r]),w[z&h]=C,v[z&h]=e,z+=1),C+=1;e+=1}};a.prototype.an=function(){var c=this.la,f=c.length,e=c[0].length,g=this.F,p=g.i,q=g.s,r=g.h,w=g.m,v=2*this.Wb.Fc+1,z=2<this.f?0:k.Sa,b,h;if(f-w<=v){for(h=f-v;h<=w;h+=1){var n=c[h];for(b=p;b<=q;b+=1)n[b]>=z&&this.mi(b,h)}g.m=f-v}if(r<=v){for(h=r;h<=v;h+=1)for(n=c[h],b=p;b<=q;b+=1)n[b]>=z&&this.mi(b,h);g.h=v}if(p<=v){for(h=r;h<=w;h+=1)for(n=c[h],b=p;b<=v;b+=1)n[b]>=z&&this.mi(b,h);g.i=v}if(e-q<=v){for(h=r;h<=w;h+=1)for(n=
c[h],b=e-v;b<=q;b+=1)n[b]>=z&&this.mi(b,h);g.s=e-v}};a.prototype.dv=function(){var c,f,e,g,p,q=this.Yd,r,w=this.height,v=this.width,z=v>>4,b=this.F,h=w,n=-1,x=v,u=-1,t=this.qa,A=this.ma>>4,y=this.Pe;var B=0;var C=t,F=this.kf,E=0,G=0,H=0;if(0!==(this.u&1)){var L=this.Ib;var M=this.Ua;var I=this.Fa;var D=this.ia;var J=this.oh}else L=this.Ua,M=this.Ib,I=this.ia,D=this.Fa,J=this.nh;if(arrayFill)q.fill(0);else for(f=0;f<q.length;f+=1)q[f]=0;0>B&&(B=0);C>t&&(C=t);var K=B<<4;var P=K+16;if(arrayFill)D.Fb.fill(0);
else for(f=B;f<C;f+=1){var aa=D[f];for(e=0;e<aa.length;e+=1)aa[e]=0}for(f=B;f<C;f+=1){var ca=0;aa=I[f];var V=D[f];var ba=0<f?D[f-1]:y;var W=f<t-1?D[f+1]:y;for(e=0;e<A;e+=1)if(g=aa[e]){var U=V[e];var da=ba[e];var T=W[e];for(c=15;0<=c;--c){if(0!==(g&1<<c)){var N=r=0;var O=K;var Q=0===O?this.dd:L[O-1];var S=L[O];B=L[O+1];var Z=p=S[ca];Q=Q[ca-1]<<18|Q[ca]<<2|Q[ca+1]>>14;var R=S[ca-1]<<18|p<<2|S[ca+1]>>14;var X=B[ca-1]<<18|B[ca]<<2|B[ca+1]>>14;var ea=J[Q>>7&7936|X>>11&224|R>>15&31]<<15;ea|=J[X>>6&7936|
Q>>10&224|R>>14&31]<<14;ea|=J[Q>>5&7936|X>>9&224|R>>13&31]<<13;ea|=J[X>>4&7936|Q>>8&224|R>>12&31]<<12;ea|=J[Q>>3&7936|X>>7&224|R>>11&31]<<11;ea|=J[X>>2&7936|Q>>6&224|R>>10&31]<<10;ea|=J[Q>>1&7936|X>>5&224|R>>9&31]<<9;ea|=J[X>>0&7936|Q>>4&224|R>>8&31]<<8;ea|=J[Q<<1&7936|X>>3&224|R>>7&31]<<7;ea|=J[X<<2&7936|Q>>2&224|R>>6&31]<<6;ea|=J[Q<<3&7936|X>>1&224|R>>5&31]<<5;ea|=J[X<<4&7936|Q>>0&224|R>>4&31]<<4;ea|=J[Q<<5&7936|X<<1&224|R>>3&31]<<3;ea|=J[X<<6&7936|Q<<2&224|R>>2&31]<<2;ea|=J[Q<<7&7936|X<<3&224|
R>>1&31]<<1;ea|=J[X<<8&7936|Q<<4&224|R>>0&31]<<0;M[O][ca]=ea;E+=F[ea];G+=F[ea&~p];H+=F[p&~ea];ea&&(r|=ea,O<h&&(h=O),O>n&&(n=O),0!==(ea&49152)&&(N|=k.lf),0!==(ea&3)&&(N|=k.mf),N|=k.te);for(O+=1;O<P-1;){p=B[ca];Z|=p;B=L[O+1];Q=R;R=X;X=B[ca-1]<<18|B[ca]<<2|B[ca+1]>>14;0!==(O&1)&&(S=Q,Q=X,X=S);ea=J[Q>>7&7936|X>>11&224|R>>15&31]<<15;ea|=J[X>>6&7936|Q>>10&224|R>>14&31]<<14;ea|=J[Q>>5&7936|X>>9&224|R>>13&31]<<13;ea|=J[X>>4&7936|Q>>8&224|R>>12&31]<<12;ea|=J[Q>>3&7936|X>>7&224|R>>11&31]<<11;ea|=J[X>>2&7936|
Q>>6&224|R>>10&31]<<10;ea|=J[Q>>1&7936|X>>5&224|R>>9&31]<<9;ea|=J[X>>0&7936|Q>>4&224|R>>8&31]<<8;ea|=J[Q<<1&7936|X>>3&224|R>>7&31]<<7;ea|=J[X<<2&7936|Q>>2&224|R>>6&31]<<6;ea|=J[Q<<3&7936|X>>1&224|R>>5&31]<<5;ea|=J[X<<4&7936|Q>>0&224|R>>4&31]<<4;ea|=J[Q<<5&7936|X<<1&224|R>>3&31]<<3;ea|=J[X<<6&7936|Q<<2&224|R>>2&31]<<2;ea|=J[Q<<7&7936|X<<3&224|R>>1&31]<<1;ea|=J[X<<8&7936|Q<<4&224|R>>0&31]<<0;E+=F[ea];G+=F[ea&~p];H+=F[p&~ea];0!==(O&1)&&(X=S=Q);if(M[O][ca]=ea)r|=ea,O<h&&(h=O),O>n&&(n=O);O+=1}p=B[ca];
Z|=p;B=O===this.height-1?this.dd:L[O+1];Q=R;R=X;X=B[ca-1]<<18|B[ca]<<2|B[ca+1]>>14;0!==(O&1)&&(S=Q,Q=X,X=S);ea=J[Q>>7&7936|X>>11&224|R>>15&31]<<15;ea|=J[X>>6&7936|Q>>10&224|R>>14&31]<<14;ea|=J[Q>>5&7936|X>>9&224|R>>13&31]<<13;ea|=J[X>>4&7936|Q>>8&224|R>>12&31]<<12;ea|=J[Q>>3&7936|X>>7&224|R>>11&31]<<11;ea|=J[X>>2&7936|Q>>6&224|R>>10&31]<<10;ea|=J[Q>>1&7936|X>>5&224|R>>9&31]<<9;ea|=J[X>>0&7936|Q>>4&224|R>>8&31]<<8;ea|=J[Q<<1&7936|X>>3&224|R>>7&31]<<7;ea|=J[X<<2&7936|Q>>2&224|R>>6&31]<<6;ea|=J[Q<<3&
7936|X>>1&224|R>>5&31]<<5;ea|=J[X<<4&7936|Q>>0&224|R>>4&31]<<4;ea|=J[Q<<5&7936|X<<1&224|R>>3&31]<<3;ea|=J[X<<6&7936|Q<<2&224|R>>2&31]<<2;ea|=J[Q<<7&7936|X<<3&224|R>>1&31]<<1;ea|=J[X<<8&7936|Q<<4&224|R>>0&31]<<0;E+=F[ea];G+=F[ea&~p];H+=F[p&~ea];if(M[O][ca]=ea)r|=ea,O<h&&(h=O),O>n&&(n=O),0!==(ea&49152)&&(N|=k.Lf),0!==(ea&3)&&(N|=k.Mf),N|=k.De;r&&(0!==(r&49152)&&(N|=k.ve),0!==(r&3)&&(N|=k.ze));q[ca]|=r;if(r||Z)U|=1<<c,N&&(0!==(N&k.ve)&&(15>c?U|=1<<c+1:0<e&&0<ca&&(V[e-1]|=1)),0!==(N&k.ze)&&(0<c?U|=1<<
c-1:e<A-1&&ca<z-1&&(V[e+1]|=32768)),0!==(N&k.te)&&(da|=1<<c),0!==(N&k.De)&&(T|=1<<c),0!==(N&k.lf)&&(15>c?da|=1<<c+1:0<e&&0<ca&&(ba[e-1]|=1)),0!==(N&k.mf)&&(0<c?da|=1<<c-1:e<A-1&&ca<z-1&&(ba[e+1]|=32768)),0!==(N&k.Lf)&&(15>c?T|=1<<c+1:0<e&&0<ca&&(W[e-1]|=1)),0!==(N&k.Mf)&&(0<c?T|=1<<c-1:e<A-1&&ca<z-1&&(W[e+1]|=32768)))}ca+=1}V[e]|=U;0<f&&(ba[e]|=da);f<t-1&&(W[e]|=T)}else ca+=16;K+=16;P+=16}for(e=0;e<z;e+=1)q[e]&&(e<x&&(x=e),e>u&&(u=e));x=(x<<4)+this.Le(q[x]);u=(u<<4)+this.Me(q[u]);0>n&&(n=w-1);h>=
w&&(h=0);x>=v&&(x=0);0>u&&(u=v-1);n>w-1&&(n=w-1);0>h&&(h=0);0>x&&(x=0);u>v-1&&(u=v-1);b.m=n;b.h=h;b.i=x;b.s=u;if(arrayFill)y.fill(0);else for(f=0;f<y.length;f+=1)y[f]=0;this.wa=E;this.jc=G;this.hd=H};a.prototype.Pu=function(){var c,f,e,g,p=this.Yd,q,r=this.height,w=this.width,v=w>>4,z=this.F,b=r,h=-1,n=w,x=-1,u=this.qa,t=this.ma>>4,A=this.Pe;var y=0;var B=u;if(0!==(this.u&1)){var C=this.Ib;var F=this.Ua;var E=this.Fa;var G=this.ia;var H=this.oh}else C=this.Ua,F=this.Ib,E=this.ia,G=this.Fa,H=this.nh;
if(arrayFill)p.fill(0);else for(f=0;f<p.length;f+=1)p[f]=0;0>y&&(y=0);B>u&&(B=u);var L=y<<4;var M=L+16;if(arrayFill)G.Fb.fill(0);else for(f=y;f<B;f+=1){var I=G[f];for(e=0;e<I.length;e+=1)I[e]=0}for(f=y;f<B;f+=1){var D=0;I=E[f];var J=G[f];var K=0<f?G[f-1]:A;var P=f<u-1?G[f+1]:A;for(e=0;e<t;e+=1)if(g=I[e]){var aa=J[e];var ca=K[e];var V=P[e];for(c=15;0<=c;--c){if(0!==(g&1<<c)){var ba=q=0;var W=L;var U=0===W?this.dd:C[W-1];var da=C[W];y=C[W+1];var T=da[D];U=U[D-1]<<18|U[D]<<2|U[D+1]>>14;var N=da[D-1]<<
18|T<<2|da[D+1]>>14;var O=y[D-1]<<18|y[D]<<2|y[D+1]>>14;var Q=H[U>>7&7936|O>>11&224|N>>15&31]<<15;Q|=H[O>>6&7936|U>>10&224|N>>14&31]<<14;Q|=H[U>>5&7936|O>>9&224|N>>13&31]<<13;Q|=H[O>>4&7936|U>>8&224|N>>12&31]<<12;Q|=H[U>>3&7936|O>>7&224|N>>11&31]<<11;Q|=H[O>>2&7936|U>>6&224|N>>10&31]<<10;Q|=H[U>>1&7936|O>>5&224|N>>9&31]<<9;Q|=H[O>>0&7936|U>>4&224|N>>8&31]<<8;Q|=H[U<<1&7936|O>>3&224|N>>7&31]<<7;Q|=H[O<<2&7936|U>>2&224|N>>6&31]<<6;Q|=H[U<<3&7936|O>>1&224|N>>5&31]<<5;Q|=H[O<<4&7936|U>>0&224|N>>4&31]<<
4;Q|=H[U<<5&7936|O<<1&224|N>>3&31]<<3;Q|=H[O<<6&7936|U<<2&224|N>>2&31]<<2;Q|=H[U<<7&7936|O<<3&224|N>>1&31]<<1;Q|=H[O<<8&7936|U<<4&224|N>>0&31]<<0;if(F[W][D]=Q)q|=Q,W<b&&(b=W),W>h&&(h=W),0!==(Q&49152)&&(ba|=k.lf),0!==(Q&3)&&(ba|=k.mf),ba|=k.te;for(W+=1;W<M-1;){T|=y[D];y=C[W+1];U=N;N=O;O=y[D-1]<<18|y[D]<<2|y[D+1]>>14;0!==(W&1)&&(da=U,U=O,O=da);Q=H[U>>7&7936|O>>11&224|N>>15&31]<<15;Q|=H[O>>6&7936|U>>10&224|N>>14&31]<<14;Q|=H[U>>5&7936|O>>9&224|N>>13&31]<<13;Q|=H[O>>4&7936|U>>8&224|N>>12&31]<<12;Q|=H[U>>
3&7936|O>>7&224|N>>11&31]<<11;Q|=H[O>>2&7936|U>>6&224|N>>10&31]<<10;Q|=H[U>>1&7936|O>>5&224|N>>9&31]<<9;Q|=H[O>>0&7936|U>>4&224|N>>8&31]<<8;Q|=H[U<<1&7936|O>>3&224|N>>7&31]<<7;Q|=H[O<<2&7936|U>>2&224|N>>6&31]<<6;Q|=H[U<<3&7936|O>>1&224|N>>5&31]<<5;Q|=H[O<<4&7936|U>>0&224|N>>4&31]<<4;Q|=H[U<<5&7936|O<<1&224|N>>3&31]<<3;Q|=H[O<<6&7936|U<<2&224|N>>2&31]<<2;Q|=H[U<<7&7936|O<<3&224|N>>1&31]<<1;Q|=H[O<<8&7936|U<<4&224|N>>0&31]<<0;0!==(W&1)&&(O=da=U);if(F[W][D]=Q)q|=Q,W<b&&(b=W),W>h&&(h=W);W+=1}T|=y[D];
y=W===this.height-1?this.dd:C[W+1];U=N;N=O;O=y[D-1]<<18|y[D]<<2|y[D+1]>>14;0!==(W&1)&&(da=U,U=O,O=da);Q=H[U>>7&7936|O>>11&224|N>>15&31]<<15;Q|=H[O>>6&7936|U>>10&224|N>>14&31]<<14;Q|=H[U>>5&7936|O>>9&224|N>>13&31]<<13;Q|=H[O>>4&7936|U>>8&224|N>>12&31]<<12;Q|=H[U>>3&7936|O>>7&224|N>>11&31]<<11;Q|=H[O>>2&7936|U>>6&224|N>>10&31]<<10;Q|=H[U>>1&7936|O>>5&224|N>>9&31]<<9;Q|=H[O>>0&7936|U>>4&224|N>>8&31]<<8;Q|=H[U<<1&7936|O>>3&224|N>>7&31]<<7;Q|=H[O<<2&7936|U>>2&224|N>>6&31]<<6;Q|=H[U<<3&7936|O>>1&224|N>>
5&31]<<5;Q|=H[O<<4&7936|U>>0&224|N>>4&31]<<4;Q|=H[U<<5&7936|O<<1&224|N>>3&31]<<3;Q|=H[O<<6&7936|U<<2&224|N>>2&31]<<2;Q|=H[U<<7&7936|O<<3&224|N>>1&31]<<1;Q|=H[O<<8&7936|U<<4&224|N>>0&31]<<0;if(F[W][D]=Q)q|=Q,W<b&&(b=W),W>h&&(h=W),0!==(Q&49152)&&(ba|=k.Lf),0!==(Q&3)&&(ba|=k.Mf),ba|=k.De;q&&(0!==(q&49152)&&(ba|=k.ve),0!==(q&3)&&(ba|=k.ze));p[D]|=q;if(q||T)aa|=1<<c,ba&&(0!==(ba&k.ve)&&(15>c?aa|=1<<c+1:0<e&&0<D&&(J[e-1]|=1)),0!==(ba&k.ze)&&(0<c?aa|=1<<c-1:e<t-1&&D<v-1&&(J[e+1]|=32768)),0!==(ba&k.te)&&
(ca|=1<<c),0!==(ba&k.De)&&(V|=1<<c),0!==(ba&k.lf)&&(15>c?ca|=1<<c+1:0<e&&0<D&&(K[e-1]|=1)),0!==(ba&k.mf)&&(0<c?ca|=1<<c-1:e<t-1&&D<v-1&&(K[e+1]|=32768)),0!==(ba&k.Lf)&&(15>c?V|=1<<c+1:0<e&&0<D&&(P[e-1]|=1)),0!==(ba&k.Mf)&&(0<c?V|=1<<c-1:e<t-1&&D<v-1&&(P[e+1]|=32768)))}D+=1}J[e]|=aa;0<f&&(K[e]|=ca);f<u-1&&(P[e]|=V)}else D+=16;L+=16;M+=16}for(e=0;e<v;e+=1)p[e]&&(e<n&&(n=e),e>x&&(x=e));n=(n<<4)+this.Le(p[n]);x=(x<<4)+this.Me(p[x]);0>h&&(h=r-1);b>=r&&(b=0);n>=w&&(n=0);0>x&&(x=w-1);h>r-1&&(h=r-1);0>b&&
(b=0);0>n&&(n=0);x>w-1&&(x=w-1);z.m=h;z.h=b;z.i=n;z.s=x;if(arrayFill)A.fill(0);else for(f=0;f<A.length;f+=1)A[f]=0};a.prototype.av=function(){var c=this.pg,f,e,g,p,q,r,w=this.Yd,v,z=this.th,b,h=this.kf,n=0,x=0,u=0,t=this.height,A=this.width,y=A>>4,B=this.F,C=t,F=-1,E=A,G=-1,H=this.qa,L=this.ma>>4,M=this.Pe;if(0!==(this.u&1)){var I=this.Ib;var D=this.Ua;var J=this.Fa;var K=this.ia;this.$d&&(c=this.Of)}else I=this.Ua,D=this.Ib,J=this.ia,K=this.Fa;if(arrayFill)w.fill(0);else for(f=0;f<w.length;f+=1)w[f]=
0;if(arrayFill)z.fill(0);else for(f=0;f<z.length;f+=1)z[f]=0;var P=0;var aa=P+16;if(arrayFill)K.Fb.fill(0);else for(g=0;g<K.length;g+=1){var ca=K[g];for(p=0;p<ca.length;p+=1)ca[p]=0}for(g=0;g<J.length;g+=1){var V=0;ca=J[g];var ba=K[g];var W=0<g?K[g-1]:M;var U=g<H-1?K[g+1]:M;for(p=0;p<L;p+=1)if(q=ca[p]){var da=ba[p];var T=W[p];var N=U[p];for(f=15;0<=f;--f){if(0!==(q&1<<f)){var O=b=v=0;var Q=P;var S=32768;var Z=0===Q?this.dd:I[Q-1];var R=I[Q];var X=I[Q+1];var ea=r=R[V];if(V)if(V>=y-1){Z=(Z[V-1]&1)<<
17|Z[V]<<1;R=(R[V-1]&1)<<17|r<<1;var Y=(X[V-1]&1)<<17|X[V]<<1;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e],0!==(e&32768)&&(O|=k.lf),O|=k.te;D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;for(S>>=1;Q<aa-1;){r=X[V];ea|=r;X=I[Q+1];Z=R;R=Y;Y=(X[V-1]&1)<<17|X[V]<<1;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&
258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e];D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;S>>=1}r=X[V];ea|=r;X=Q===this.height-1?this.dd:I[Q+1];Z=R;R=Y;Y=(X[V-1]&1)<<17|X[V]<<1;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e],0!==(e&32768)&&(O|=k.Lf),O|=k.De}else{Z=(Z[V-1]&1)<<17|Z[V]<<1|Z[V+1]>>15;R=(R[V-1]&1)<<17|r<<1|R[V+1]>>15;Y=(X[V-1]&1)<<17|X[V]<<1|X[V+
1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e],0!==(e&32768)&&(O|=k.lf),0!==(e&1)&&(O|=k.mf),O|=k.te;D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;S>>=1;r=X[V];ea|=r;X=I[Q+1];Z=R;R=Y;Y=(X[V-1]&1)<<17|X[V]<<1|X[V+1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<
12])v|=e,b|=S,n+=h[e];D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;S>>=1;r=X[V];ea|=r;X=I[Q+1];Z=R;R=Y;Y=(X[V-1]&1)<<17|X[V]<<1|X[V+1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e];D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;S>>=1;r=X[V];ea|=r;X=I[Q+1];Z=R;R=Y;Y=(X[V-1]&1)<<17|X[V]<<1|X[V+1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<
4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e];D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;S>>=1;r=X[V];ea|=r;X=I[Q+1];Z=R;R=Y;Y=(X[V-1]&1)<<17|X[V]<<1|X[V+1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e];D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;S>>=1;r=X[V];ea|=r;X=I[Q+1];Z=R;R=Y;Y=(X[V-1]&1)<<17|X[V]<<1|X[V+
1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e];D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;S>>=1;r=X[V];ea|=r;X=I[Q+1];Z=R;R=Y;Y=(X[V-1]&1)<<17|X[V]<<1|X[V+1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e];D[Q][V]=e;e|r&&(x+=h[e&~r],u+=
h[r&~e]);Q+=1;S>>=1;r=X[V];ea|=r;X=I[Q+1];Z=R;R=Y;Y=(X[V-1]&1)<<17|X[V]<<1|X[V+1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e];D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;S>>=1;r=X[V];ea|=r;X=I[Q+1];Z=R;R=Y;Y=(X[V-1]&1)<<17|X[V]<<1|X[V+1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,
e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e];D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;S>>=1;r=X[V];ea|=r;X=I[Q+1];Z=R;R=Y;Y=(X[V-1]&1)<<17|X[V]<<1|X[V+1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e];D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;S>>=1;r=X[V];ea|=r;X=I[Q+1];Z=R;R=Y;Y=(X[V-1]&1)<<17|X[V]<<1|X[V+1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<
12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e];D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;S>>=1;r=X[V];ea|=r;X=I[Q+1];Z=R;R=Y;Y=(X[V-1]&1)<<17|X[V]<<1|X[V+1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e];D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;S>>=1;r=X[V];ea|=r;X=I[Q+1];Z=R;R=Y;
Y=(X[V-1]&1)<<17|X[V]<<1|X[V+1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e];D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;S>>=1;r=X[V];ea|=r;X=I[Q+1];Z=R;R=Y;Y=(X[V-1]&1)<<17|X[V]<<1|X[V+1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e];
D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;S>>=1;r=X[V];ea|=r;X=I[Q+1];Z=R;R=Y;Y=(X[V-1]&1)<<17|X[V]<<1|X[V+1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e];D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;S>>=1;r=X[V];ea|=r;X=Q===this.height-1?this.dd:I[Q+1];Z=R;R=Y;Y=(X[V-1]&1)<<17|X[V]<<1|X[V+1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|
Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e],0!==(e&32768)&&(O|=k.Lf),0!==(e&1)&&(O|=k.Mf),O|=k.De}else{Z=Z[V]<<1|Z[V+1]>>15;R=r<<1|R[V+1]>>15;Y=X[V]<<1|X[V+1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,0!==(e&1)&&(O|=k.mf),O|=k.te,n+=h[e];D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;for(S>>=1;Q<aa-1;){r=X[V];ea|=
r;X=I[Q+1];Z=R;R=Y;Y=X[V]<<1|X[V+1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=e,b|=S,n+=h[e];D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);Q+=1;S>>=1}r=X[V];ea|=r;X=Q===this.height-1?this.dd:I[Q+1];Z=R;R=Y;Y=X[V]<<1|X[V+1]>>15;if(e=Z|R|Y)if(e=c[Z>>12|R>>12<<6|Y&258048]<<12,e|=c[Z>>8&63|R>>2&4032|Y<<4&258048]<<8,e|=c[Z>>4&63|R<<2&4032|Y<<8&258048]<<4,e|=c[Z&63|(R&63)<<6|(Y&63)<<12])v|=
e,b|=S,n+=h[e],0!==(e&1)&&(O|=k.Mf),O|=k.De}D[Q][V]=e;e|r&&(x+=h[e&~r],u+=h[r&~e]);v&&(0!==(v&32768)&&(O|=k.ve),0!==(v&1)&&(O|=k.ze));w[V]|=v;if(v||ea)da|=1<<f,O&&(0!==(O&k.ve)&&(15>f?da|=1<<f+1:0<p&&0<V&&(ba[p-1]|=1)),0!==(O&k.ze)&&(0<f?da|=1<<f-1:p<L-1&&V<y-1&&(ba[p+1]|=32768)),0!==(O&k.te)&&(T|=1<<f),0!==(O&k.De)&&(N|=1<<f),0!==(O&k.lf)&&(15>f?T|=1<<f+1:0<p&&0<V&&(W[p-1]|=1)),0!==(O&k.mf)&&(0<f?T|=1<<f-1:p<L-1&&V<y-1&&(W[p+1]|=32768)),0!==(O&k.Lf)&&(15>f?N|=1<<f+1:0<p&&0<V&&(U[p-1]|=1)),0!==(O&
k.Mf)&&(0<f?N|=1<<f-1:p<L-1&&V<y-1&&(U[p+1]|=32768)));z[g]|=b}V+=1}ba[p]|=da;0<g&&(W[p]|=T);g<H-1&&(U[p]|=N)}else V+=16;P+=16;aa+=16}for(p=0;p<y;p+=1)w[p]&&(p<E&&(E=p),p>G&&(G=p));for(g=0;g<z.length;g+=1)z[g]&&(g<C&&(C=g),g>F&&(F=g));E=(E<<4)+this.Le(w[E]);G=(G<<4)+this.Me(w[G]);C=(C<<4)+this.Le(z[C]);F=(F<<4)+this.Me(z[F]);0>F&&(F=t-1);C>=t&&(C=0);E>=A&&(E=0);0>G&&(G=A-1);F>t-1&&(F=t-1);0>C&&(C=0);0>E&&(E=0);G>A-1&&(G=A-1);B.m=F;B.h=C;B.i=E;B.s=G;if(arrayFill)M.fill(0);else for(f=0;f<M.length;f+=
1)M[f]=0;this.wa=n;this.jc=x;this.hd=u};a.prototype.Bu=function(){var c=this.pg,f,e,g,p,q,r=this.Yd,w,v=this.th,z,b=this.height,h=this.width,n=h>>4,x=this.F,u=b,t=-1,A=h,y=-1,B=this.qa,C=this.ma>>4,F=this.Pe;if(0!==(this.u&1)){var E=this.Ib;var G=this.Ua;var H=this.Fa;var L=this.ia;this.$d&&(c=this.Of)}else E=this.Ua,G=this.Ib,H=this.ia,L=this.Fa;if(arrayFill)r.fill(0);else for(f=0;f<r.length;f+=1)r[f]=0;if(arrayFill)v.fill(0);else for(f=0;f<v.length;f+=1)v[f]=0;var M=0;var I=M+16;if(L.Fb.fill)L.Fb.fill(0);
else for(g=0;g<L.length;g+=1){var D=L[g];for(p=0;p<D.length;p+=1)D[p]=0}for(g=0;g<H.length;g+=1){var J=0;D=H[g];var K=L[g];var P=0<g?L[g-1]:F;var aa=g<B-1?L[g+1]:F;for(p=0;p<C;p+=1)if(q=D[p]){var ca=K[p];var V=P[p];var ba=aa[p];for(f=15;0<=f;--f){if(0!==(q&1<<f)){var W=z=w=0;var U=M;var da=32768;var T=0===U?this.dd:E[U-1];var N=E[U];var O=E[U+1];var Q=N[J];if(J)if(J>=n-1){T=(T[J-1]&1)<<17|T[J]<<1;N=(N[J-1]&1)<<17|Q<<1;var S=(O[J-1]&1)<<17|O[J]<<1;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=
c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&63)<<6|(S&63)<<12])w|=e,z|=da,0!==(e&32768)&&(W|=k.lf),W|=k.te;G[U][J]=e;U+=1;for(da>>=1;U<I-1;){Q|=O[J];O=E[U+1];T=N;N=S;S=(O[J-1]&1)<<17|O[J]<<1;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&63)<<6|(S&63)<<12])w|=e,z|=da;G[U][J]=e;U+=1;da>>=1}Q|=O[J];O=U===this.height-1?this.dd:E[U+1];T=N;N=S;S=(O[J-1]&1)<<17|O[J]<<1;
if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&63)<<6|(S&63)<<12])w|=e,z|=da,0!==(e&32768)&&(W|=k.Lf),W|=k.De}else{T=(T[J-1]&1)<<17|T[J]<<1|T[J+1]>>15;N=(N[J-1]&1)<<17|Q<<1|N[J+1]>>15;S=(O[J-1]&1)<<17|O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&63)<<6|(S&63)<<12])w|=e,z|=da,0!==(e&32768)&&(W|=k.lf),
0!==(e&1)&&(W|=k.mf),W|=k.te;G[U][J]=e;U+=1;da>>=1;Q|=O[J];O=E[U+1];T=N;N=S;S=(O[J-1]&1)<<17|O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&63)<<6|(S&63)<<12])w|=e,z|=da;G[U][J]=e;U+=1;da>>=1;Q|=O[J];O=E[U+1];T=N;N=S;S=(O[J-1]&1)<<17|O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&
63)<<6|(S&63)<<12])w|=e,z|=da;G[U][J]=e;U+=1;da>>=1;Q|=O[J];O=E[U+1];T=N;N=S;S=(O[J-1]&1)<<17|O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&63)<<6|(S&63)<<12])w|=e,z|=da;G[U][J]=e;U+=1;da>>=1;Q|=O[J];O=E[U+1];T=N;N=S;S=(O[J-1]&1)<<17|O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&
63)<<6|(S&63)<<12])w|=e,z|=da;G[U][J]=e;U+=1;da>>=1;Q|=O[J];O=E[U+1];T=N;N=S;S=(O[J-1]&1)<<17|O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&63)<<6|(S&63)<<12])w|=e,z|=da;G[U][J]=e;U+=1;da>>=1;Q|=O[J];O=E[U+1];T=N;N=S;S=(O[J-1]&1)<<17|O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&
63)<<6|(S&63)<<12])w|=e,z|=da;G[U][J]=e;U+=1;da>>=1;Q|=O[J];O=E[U+1];T=N;N=S;S=(O[J-1]&1)<<17|O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&63)<<6|(S&63)<<12])w|=e,z|=da;G[U][J]=e;U+=1;da>>=1;Q|=O[J];O=E[U+1];T=N;N=S;S=(O[J-1]&1)<<17|O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&
63)<<6|(S&63)<<12])w|=e,z|=da;G[U][J]=e;U+=1;da>>=1;Q|=O[J];O=E[U+1];T=N;N=S;S=(O[J-1]&1)<<17|O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&63)<<6|(S&63)<<12])w|=e,z|=da;G[U][J]=e;U+=1;da>>=1;Q|=O[J];O=E[U+1];T=N;N=S;S=(O[J-1]&1)<<17|O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&
63)<<6|(S&63)<<12])w|=e,z|=da;G[U][J]=e;U+=1;da>>=1;Q|=O[J];O=E[U+1];T=N;N=S;S=(O[J-1]&1)<<17|O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&63)<<6|(S&63)<<12])w|=e,z|=da;G[U][J]=e;U+=1;da>>=1;Q|=O[J];O=E[U+1];T=N;N=S;S=(O[J-1]&1)<<17|O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&
63)<<6|(S&63)<<12])w|=e,z|=da;G[U][J]=e;U+=1;da>>=1;Q|=O[J];O=E[U+1];T=N;N=S;S=(O[J-1]&1)<<17|O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&63)<<6|(S&63)<<12])w|=e,z|=da;G[U][J]=e;U+=1;da>>=1;Q|=O[J];O=E[U+1];T=N;N=S;S=(O[J-1]&1)<<17|O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&
63)<<6|(S&63)<<12])w|=e,z|=da;G[U][J]=e;U+=1;da>>=1;Q|=O[J];O=U===this.height-1?this.dd:E[U+1];T=N;N=S;S=(O[J-1]&1)<<17|O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&63)<<6|(S&63)<<12])w|=e,z|=da,0!==(e&32768)&&(W|=k.Lf),0!==(e&1)&&(W|=k.Mf),W|=k.De}else{T=T[J]<<1|T[J+1]>>15;N=Q<<1|N[J+1]>>15;S=O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&
258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&63)<<6|(S&63)<<12])w|=e,z|=da,0!==(e&1)&&(W|=k.mf),W|=k.te;G[U][J]=e;U+=1;for(da>>=1;U<I-1;){Q|=O[J];O=E[U+1];T=N;N=S;S=O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&63)<<6|(S&63)<<12])w|=e,z|=da;G[U][J]=e;U+=1;da>>=1}Q|=O[J];O=U===this.height-1?this.dd:E[U+1];T=N;N=S;S=O[J]<<1|O[J+1]>>15;if(e=T|N|S)if(e=c[T>>12|N>>12<<6|S&258048]<<
12,e|=c[T>>8&63|N>>2&4032|S<<4&258048]<<8,e|=c[T>>4&63|N<<2&4032|S<<8&258048]<<4,e|=c[T&63|(N&63)<<6|(S&63)<<12])w|=e,z|=da,0!==(e&1)&&(W|=k.Mf),W|=k.De}G[U][J]=e;w&&(0!==(w&32768)&&(W|=k.ve),0!==(w&1)&&(W|=k.ze));r[J]|=w;if(w||Q)ca|=1<<f,W&&(0!==(W&k.ve)&&(15>f?ca|=1<<f+1:0<p&&0<J&&(K[p-1]|=1)),0!==(W&k.ze)&&(0<f?ca|=1<<f-1:p<C-1&&J<n-1&&(K[p+1]|=32768)),0!==(W&k.te)&&(V|=1<<f),0!==(W&k.De)&&(ba|=1<<f),0!==(W&k.lf)&&(15>f?V|=1<<f+1:0<p&&0<J&&(P[p-1]|=1)),0!==(W&k.mf)&&(0<f?V|=1<<f-1:p<C-1&&J<n-1&&
(P[p+1]|=32768)),0!==(W&k.Lf)&&(15>f?ba|=1<<f+1:0<p&&0<J&&(aa[p-1]|=1)),0!==(W&k.Mf)&&(0<f?ba|=1<<f-1:p<C-1&&J<n-1&&(aa[p+1]|=32768)));v[g]|=z}J+=1}K[p]|=ca;0<g&&(P[p]|=V);g<B-1&&(aa[p]|=ba)}else J+=16;M+=16;I+=16}for(p=0;p<n;p+=1)r[p]&&(p<A&&(A=p),p>y&&(y=p));for(g=0;g<v.length;g+=1)v[g]&&(g<u&&(u=g),g>t&&(t=g));A=(A<<4)+this.Le(r[A]);y=(y<<4)+this.Me(r[y]);u=(u<<4)+this.Le(v[u]);t=(t<<4)+this.Me(v[t]);0>t&&(t=b-1);u>=b&&(u=0);A>=h&&(A=0);0>y&&(y=h-1);t>b-1&&(t=b-1);0>u&&(u=0);0>A&&(A=0);y>h-1&&
(y=h-1);x.m=t;x.h=u;x.i=A;x.s=y;if(arrayFill)F.fill(0);else for(f=0;f<F.length;f+=1)F[f]=0};a.prototype.mp=function(c,f){var e,g=this.za,p,q,r,w,v=this.qa,z=this.ma>>4;var b=0;var h=b+16;for(p=0;p<v;p+=1){var n=0;var x=g[p];for(q=0;q<z;q+=1)if(w=x[q])for(r=15;0<=r;--r){if(0!==(w&1<<r))for(e=b;e<h;e+=2){var u=f[e];var t=c[e];var A=c[e+1];var y=n<<3;var B=t[y];B|=A[y];u[y+y]=B|B>>8;y+=1;B=t[y];B|=A[y];u[y+y]=B|B>>8;y+=1;B=t[y];B|=A[y];u[y+y]=B|B>>8;y+=1;B=t[y];B|=A[y];u[y+y]=B|B>>8;y+=1;B=t[y];B|=A[y];
u[y+y]=B|B>>8;y+=1;B=t[y];B|=A[y];u[y+y]=B|B>>8;y+=1;B=t[y];B|=A[y];u[y+y]=B|B>>8;y+=1;B=t[y];B|=A[y];u[y+y]=B|B>>8}n+=1}else n+=16;b+=16;h+=16}};a.prototype.uk=function(c,f){var e,g=this.za,p,q,r,w,v=this.qa,z=this.ma>>4;var b=0;var h=b+16;for(p=0;p<v;p+=1){var n=0;var x=g[p];for(q=0;q<z;q+=1)if(w=x[q])for(r=15;0<=r;--r){if(0!==(w&1<<r))for(e=b;e<h;e+=2){var u=f[e];var t=c[e];var A=c[e+1];var y=n<<3;var B=t[y];var C=B&255;B>>=8;C-=C-(B&255)&C-(B&255)>>255;B=A[y];C-=C-(B&255)&C-(B&255)>>255;B>>=8;
u[y+y]=C-(C-(B&255)&C-(B&255)>>255);y+=1;B=t[y];C=B&255;B>>=8;C-=C-(B&255)&C-(B&255)>>255;B=A[y];C-=C-(B&255)&C-(B&255)>>255;B>>=8;u[y+y]=C-(C-(B&255)&C-(B&255)>>255);y+=1;B=t[y];C=B&255;B>>=8;C-=C-(B&255)&C-(B&255)>>255;B=A[y];C-=C-(B&255)&C-(B&255)>>255;B>>=8;u[y+y]=C-(C-(B&255)&C-(B&255)>>255);y+=1;B=t[y];C=B&255;B>>=8;C-=C-(B&255)&C-(B&255)>>255;B=A[y];C-=C-(B&255)&C-(B&255)>>255;B>>=8;u[y+y]=C-(C-(B&255)&C-(B&255)>>255);y+=1;B=t[y];C=B&255;B>>=8;C-=C-(B&255)&C-(B&255)>>255;B=A[y];C-=C-(B&255)&
C-(B&255)>>255;B>>=8;u[y+y]=C-(C-(B&255)&C-(B&255)>>255);y+=1;B=t[y];C=B&255;B>>=8;C-=C-(B&255)&C-(B&255)>>255;B=A[y];C-=C-(B&255)&C-(B&255)>>255;B>>=8;u[y+y]=C-(C-(B&255)&C-(B&255)>>255);y+=1;B=t[y];C=B&255;B>>=8;C-=C-(B&255)&C-(B&255)>>255;B=A[y];C-=C-(B&255)&C-(B&255)>>255;B>>=8;u[y+y]=C-(C-(B&255)&C-(B&255)>>255);y+=1;B=t[y];C=B&255;B>>=8;C-=C-(B&255)&C-(B&255)>>255;B=A[y];C-=C-(B&255)&C-(B&255)>>255;B>>=8;u[y+y]=C-(C-(B&255)&C-(B&255)>>255)}n+=1}else n+=16;b+=16;h+=16}};a.prototype.np=function(c,
f){var e,g=this.za,p,q,r,w,v=this.qa,z=this.ma>>4;var b=0;var h=b+16;for(p=0;p<v;p+=1){var n=0;var x=g[p];for(q=0;q<z;q+=1)if(w=x[q])for(r=15;0<=r;--r){if(0!==(w&1<<r))for(e=b;e<h;e+=4){var u=f[e];var t=c[e];var A=c[e+1];var y=c[e+2];var B=c[e+3];var C=n<<2;var F=n<<4;var E=t[C]|A[C]|y[C]|B[C];u[F]=(0<E)<<6;C+=1;F+=4;E=t[C]|A[C]|y[C]|B[C];u[F]=(0<E)<<6;C+=1;F+=4;E=t[C]|A[C]|y[C]|B[C];u[F]=(0<E)<<6;C+=1;F+=4;E=t[C]|A[C]|y[C]|B[C];u[F]=(0<E)<<6}n+=1}else n+=16;b+=16;h+=16}};a.prototype.vk=function(c,
f){var e,g,p=this.za,q,r,w,v,z,b=this.qa,h=this.ma>>4;var n=0;var x=n+16;for(r=0;r<b;r+=1){var u=0;var t=p[r];for(w=0;w<h;w+=1)if(z=t[w])for(v=15;0<=v;--v){if(0!==(z&1<<v))for(e=n;e<x;e+=4){var A=f[e];var y=c[e];var B=c[e+1];var C=c[e+2];var F=c[e+3];var E=u<<2;var G=u<<4;for(g=0;4>g;g+=1){var H=0;if(q=y[E])H-=H-(q&255)&H-(q&255)>>255,q>>=8,H-=H-(q&255)&H-(q&255)>>255,q>>=8,H-=H-(q&255)&H-(q&255)>>255,q>>=8,H-=H-(q&255)&H-(q&255)>>255;if(q=B[E])H-=H-(q&255)&H-(q&255)>>255,q>>=8,H-=H-(q&255)&H-(q&
255)>>255,q>>=8,H-=H-(q&255)&H-(q&255)>>255,q>>=8,H-=H-(q&255)&H-(q&255)>>255;if(q=C[E])H-=H-(q&255)&H-(q&255)>>255,q>>=8,H-=H-(q&255)&H-(q&255)>>255,q>>=8,H-=H-(q&255)&H-(q&255)>>255,q>>=8,H-=H-(q&255)&H-(q&255)>>255;if(q=F[E])H-=H-(q&255)&H-(q&255)>>255,q>>=8,H-=H-(q&255)&H-(q&255)>>255,q>>=8,H-=H-(q&255)&H-(q&255)>>255,q>>=8,H-=H-(q&255)&H-(q&255)>>255;A[G]=H;E+=1;G+=4}}u+=1}else u+=16;n+=16;x+=16}};a.prototype.hp=function(c,f){var e,g=this.za,p,q,r,w,v=this.qa,z=this.ma>>4;var b=0;var h=b+16;
for(p=0;p<v;p+=1){var n=0;var x=g[p];for(q=0;q<z;q+=1)if(w=x[q])for(r=15;0<=r;--r){if(0!==(w&1<<r))for(e=b;e<h;e+=8){var u=f[e];var t=c[e];var A=c[e+1];var y=c[e+2];var B=c[e+3];var C=c[e+4];var F=c[e+5];var E=c[e+6];var G=c[e+7];var H=n<<2;var L=n<<4;var M=t[H]|t[H+1];M|=A[H]|A[H+1];M|=y[H]|y[H+1];M|=B[H]|B[H+1];0===M&&(M|=C[H]|C[H+1],M|=F[H]|F[H+1],M|=E[H]|E[H+1],M|=G[H]|G[H+1]);u[L]=(0<M)<<6;H+=2;L+=8;M=t[H]|t[H+1];M|=A[H]|A[H+1];M|=y[H]|y[H+1];M|=B[H]|B[H+1];0===M&&(M|=C[H]|C[H+1],M|=F[H]|F[H+
1],M|=E[H]|E[H+1],M|=G[H]|G[H+1]);u[L]=(0<M)<<6}n+=1}else n+=16;b+=16;h+=16}};a.prototype.wk=function(c,f){var e,g,p=this.za,q,r,w,v,z,b=this.qa,h=this.ma>>4;var n=0;var x=n+16;for(r=0;r<b;r+=1){var u=0;var t=p[r];for(w=0;w<h;w+=1)if(z=t[w])for(v=15;0<=v;--v){if(0!==(z&1<<v))for(e=n;e<x;e+=8){var A=f[e];var y=c[e];var B=c[e+1];var C=c[e+2];var F=c[e+3];var E=c[e+4];var G=c[e+5];var H=c[e+6];var L=c[e+7];var M=u<<2;var I=u<<4;for(g=0;2>g;g+=1){var D=0;if(q=y[M])D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=
D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255;if(q=y[M+1])D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255;if(q=B[M])D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255;if(q=B[M+1])D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&
D-(q&255)>>255;if(q=C[M])D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255;if(q=C[M+1])D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255;if(q=F[M])D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255;if(q=F[M+1])D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&
255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255;if(q=E[M])D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255;if(q=E[M+1])D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255;if(q=G[M])D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255;if(q=
G[M+1])D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255;if(q=H[M])D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255;if(q=H[M+1])D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255;if(q=L[M])D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-
(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255;if(q=L[M+1])D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255,q>>=8,D-=D-(q&255)&D-(q&255)>>255;A[I]=D;M+=2;I+=8}}u+=1}else u+=16;n+=16;x+=16}};a.prototype.lp=function(c,f){var e=this.za,g,p,q,r,w,v=this.qa,z=this.ma>>4;for(g=r=0;g<v;g+=1){var b=0;var h=e[g];for(p=0;p<z;p+=1)if(w=h[p])for(q=15;0<=q;--q){if(0!==(w&1<<q)){var n=f[r];var x=c[r];var u=c[r+1];var t=c[r+2];var A=c[r+3];var y=c[r+4];var B=
c[r+5];var C=c[r+6];var F=c[r+7];var E=c[r+8];var G=c[r+9];var H=c[r+10];var L=c[r+11];var M=c[r+12];var I=c[r+13];var D=c[r+14];var J=c[r+15];var K=b<<2;var P=b<<4;x=x[K]|x[K+1]|x[K+2]|x[K+3];x|=u[K]|u[K+1]|u[K+2]|u[K+3];x|=t[K]|t[K+1]|t[K+2]|t[K+3];x|=A[K]|A[K+1]|A[K+2]|A[K+3];0===x&&(x|=y[K]|y[K+1]|y[K+2]|y[K+3],x|=B[K]|B[K+1]|B[K+2]|B[K+3],x|=C[K]|C[K+1]|C[K+2]|C[K+3],x|=F[K]|F[K+1]|F[K+2]|F[K+3],0===x&&(x|=E[K]|E[K+1]|E[K+2]|E[K+3],x|=G[K]|G[K+1]|G[K+2]|G[K+3],x|=H[K]|H[K+1]|H[K+2]|H[K+3],x|=
L[K]|L[K+1]|L[K+2]|L[K+3],0===x&&(x|=M[K]|M[K+1]|M[K+2]|M[K+3],x|=I[K]|I[K+1]|I[K+2]|I[K+3],x|=D[K]|D[K+1]|D[K+2]|D[K+3],x|=J[K]|J[K+1]|J[K+2]|J[K+3])));n[P]=(0<x)<<6}b+=1}else b+=16;r+=16}};a.prototype.tk=function(c,f){var e=this.za,g,p,q,r,w,v,z=this.qa,b=this.ma>>4;var h=0;var n=h+16;for(p=0;p<z;p+=1){var x=0;var u=e[p];for(q=0;q<b;q+=1)if(v=u[q])for(r=15;0<=r;--r){if(0!==(v&1<<r)){var t=0;for(w=h;w<n;w+=1){var A=c[w];var y=x<<2;if(g=A[y])t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>
255,g>>=8,t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255;if(g=A[y+1])t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255;if(g=A[y+2])t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255;if(g=A[y+3])t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255}A=f[h];
y=x<<4;A[y]=t}x+=1}else x+=16;h+=16;n+=16}};a.prototype.Bp=function(){var c=this.ta;.5<=c&&1>c?this.Yi||this.sa?this.uk(this.Oh,this.A):this.mp(this.Oh,this.A):.25<=c&&.5>c?this.Yi||this.sa?this.vk(this.Ge,this.A):this.np(this.Ge,this.A):.125<=c&&.25>c?this.Yi||this.sa?this.wk(this.Ge,this.A):this.hp(this.Ge,this.A):.125>c&&(this.Yi||this.sa?this.tk(this.Ge,this.A):this.lp(this.Ge,this.A));this.Yf&&(.5<=c&&1>c?this.uk(this.ph,this.ha):.25<=c&&.5>c?this.vk(this.Pf,this.ha):.125<=c&&.25>c?this.wk(this.Pf,
this.ha):.125>c&&this.tk(this.Pf,this.ha))};a.prototype.ru=function(){var c=this.la,f=this.za,e=this.Ma,g,p,q,r,w,v=0,z=0,b=0;var h=this.qa;var n=this.ma>>4;var x=0;var u=h,t=this.f+this.S-1,A=this.S,y=0<this.S?1:0;this.ea=0;if(0!==(this.u&1)){var B=this.Ib;var C=this.Fa}else B=this.Ua,C=this.ia;0>x&&(x=0);u>h&&(u=h);h=x<<4;var F=h+16;for(p=x;p<u;p+=1){var E=0;var G=C[p];var H=e[p];var L=f[p];for(q=0;q<n;q+=1){var M=G[q]|H[q];var I=0;if(M)for(r=15;0<=r;--r){if(0!==(M&1<<r)){var D=0;for(x=h;x<F;x+=
1){var J=B[x];var K=c[x];var P=E<<4;var aa=J[E];for(w=32768;0<w;w>>=1){var ca=g=K[P];(g<=A||g===t)&&0!==(aa&w)?g=t:(aa&=~w,g>y&&--g);K[P]=g;g>y&&(D=1,g===t&&(v+=1,ca!==t&&(z+=1)));ca===t&&g!==t&&(b+=1);P+=1}J[E]=aa;this.ea|=aa}D&&(I|=1<<r)}E+=1}else E+=16;H[q]=I;L[q]|=I}h+=16;F+=16}this.wa=v;this.jc=z;this.hd=b};a.prototype.Pq=function(){var c=this.la,f=this.za,e,g,p,q,r;var w=this.qa;var v=this.ma>>4;var z=0;var b=w,h=0<this.S?1:0;0>z&&(z=0);b>w&&(b=w);w=z<<4;var n=w+16;for(e=z;e<b;e+=1){var x=0;
var u=f[e];for(g=0;g<v;g+=1)if(r=u[g])for(p=15;0<=p;--p){if(0!==(r&1<<p))for(z=w;z<n;z+=1){var t=c[z];var A=x<<4;for(q=15;0<=q;--q){var y=t[A];y>h&&(--y,t[A]=y);A+=1}}x+=1}else x+=16;w+=16;n+=16}};a.prototype.Re=function(){this.pb||(-1===this.f?this.Yi?this.kp():this.jp():this.ea||this.Pq(),this.Wg&&this.Zm())};a.prototype.bn=function(){var c,f=this.Oh,e=this.za,g,p,q,r=0,w,v=this.qa,z=this.ma>>4;var b=16;for(g=0;g<v;g+=1){var h=0;var n=e[g];for(p=0;p<z;p+=1)if(w=n[p])for(q=15;0<=q;--q){if(0!==(w&
1<<q))for(c=r;c<b;){var x=f[c];var u=h<<3;x[u]&=16448;u+=1;x[u]&=16448;u+=1;x[u]&=16448;u+=1;x[u]&=16448;u+=1;x[u]&=16448;u+=1;x[u]&=16448;u+=1;x[u]&=16448;u+=1;x[u]&=16448;c+=1}h+=1}else h+=16;r+=16;b+=16}};a.prototype.jp=function(){var c=this.Oh,f=this.za,e=this.Ma,g,p,q;var r=this.qa;var w=this.ma>>4;var v=0;var z=r;this.ea=0;if(0!==(this.u&1)){var b=this.Ib;var h=this.Fa}else b=this.Ua,h=this.ia;0>v&&(v=0);z>r&&(z=r);r=v<<4;var n=r+16;for(g=v;g<z;g+=1){var x=0;var u=h[g];var t=e[g];var A=f[g];
for(p=0;p<w;p+=1){var y=u[p]|A[p];var B=0;if(y)for(q=15;0<=q;--q){if(0!==(y&1<<q)){var C=0;for(v=r;v<n;){var F=b[v];var E=c[v];var G=x<<3;F=F[x];this.ea|=F;C|=F;E[G]=(F&32768)>>9|F&16384;G+=1;E[G]=(F&8192)>>7|(F&4096)<<2;G+=1;E[G]=(F&2048)>>5|(F&1024)<<4;G+=1;E[G]=(F&512)>>3|(F&256)<<6;G+=1;E[G]=(F&128)>>1|(F&64)<<8;G+=1;E[G]=(F&32)<<1|(F&16)<<10;G+=1;E[G]=(F&8)<<3|(F&4)<<12;G+=1;E[G]=(F&2)<<5|(F&1)<<14;v+=1}C&&(B|=1<<q)}x+=1}else x+=16;t[p]=B;A[p]|=B}r+=16;n+=16}};a.prototype.kp=function(){var c=
this.Oh,f=this.za,e=this.Ma,g=this.Hp,p,q,r;var w=this.qa;var v=this.ma>>4;var z=0;var b=w;this.ea=0;if(0!==(this.u&1)){var h=this.Ib;var n=this.Fa}else h=this.Ua,n=this.ia;0>z&&(z=0);b>w&&(b=w);w=z<<4;var x=w+16;for(p=z;p<b;p+=1){var u=0;var t=n[p];var A=e[p];var y=f[p];for(q=0;q<v;q+=1){var B=t[q]|A[q];var C=0;if(B)for(r=15;0<=r;--r){if(0!==(B&1<<r)){var F=0;for(z=w;z<x;){var E=h[z];var G=c[z];var H=u<<3;E=E[u];this.ea|=E;var L=g[G[H]|(E&32768)>>8|(E&16384)<<1];F|=L;G[H]=L;H+=1;L=g[G[H]|(E&8192)>>
6|(E&4096)<<3];F|=L;G[H]=L;H+=1;L=g[G[H]|(E&2048)>>4|(E&1024)<<5];F|=L;G[H]=L;H+=1;L=g[G[H]|(E&512)>>2|(E&256)<<7];F|=L;G[H]=L;H+=1;L=g[G[H]|E&128|(E&64)<<9];F|=L;G[H]=L;H+=1;L=g[G[H]|(E&32)<<2|(E&16)<<11];F|=L;G[H]=L;H+=1;L=g[G[H]|(E&8)<<4|(E&4)<<13];F|=L;G[H]=L;H+=1;L=g[G[H]|(E&2)<<6|(E&1)<<15];F|=L;G[H]=L;z+=1}if(1<(F&255)||1<F>>8)C|=1<<r}u+=1}else u+=16;A[q]=C;y[q]|=C}w+=16;x+=16}};a.prototype.WA=function(c,f,e,g,p,q,r,w,v,z){var b=this.ee;g=g*c+b.m;e=e*c+b.s;f=f*c+b.h;p=p*c+b.i;b=e-p+1;c=g-f+
1;this.U&&(b=e-f/2-(p-g/2)+1);0===b&&(b=1);0===c&&(c=1);q/=b;r/=c;z=Math.round(1E3*(q>r?r:q)/z)/1E3;z<w?z=w:z>v&&(z=v);return z};a.prototype.ou=function(c){var f=c;1>c&&(f=1/c);var e=Math.round(f);(e<f?e/f:f/e)>=ViewConstants.cE&&(c=1>c?1/e:e);return c};a.prototype.dh=function(c,f,e,g,p,q,r,w,v,z,b,h,n,x,u,t,A){var y=this.F,B=this.ee,C=this.Vc,F=this.Ml;b?(F.m=x*c+B.m,F.s=n*c+B.s,F.h=h*c+B.h,F.i=u*c+B.i,z&&(C.i<F.i&&(F.i=C.i),C.h<F.h&&(F.h=C.h),C.s>F.s&&(F.s=C.s),C.m>F.m&&(F.m=C.m)),y=F):z?y=C:this.sa&&
(y=this.oa);c=y.i;z=y.s;b=y.m;y=y.h;this.Oa&&!t&&(B.i<c&&(c=B.i),B.s>z&&(z=B.s),B.m>b&&(b=B.m),B.h<y&&(y=B.h));-1!==this.ja&&(t=this.na,B=this.pa,0<t&&(this.width/2-t/2<c&&(c=this.width/2-t/2),this.width/2+t/2>z&&(z=this.width/2+t/2)),0<B&&(this.height/2-B/2<y&&(y=this.height/2-B/2),this.height/2+B/2>b&&(b=this.height/2+B/2)));v?(t=r,B=w,c=this.width/2-t/2,z=this.width/2+t/2,b=this.height/2+B/2,y=this.height/2-B/2):(t=z-c+1,B=b-y+1);this.U&&(c-=b/2,t=z-y/2-c+1);0===t&&(t=1);0===B&&(B=1);f/=t;e/=B;
q=Math.round(1E3*(f>e?e:f)/q)/1E3;q/=this.ac;q<g?q=g:q>p&&(q=p);g=y-this.bb+B/2;p=c-this.mb+t/2;A||(q=this.ou(q));return[q,p,g]};a.prototype.sq=function(c,f,e,g){var p=this.Id,q=this.D,r=this.B;if(c>f){var w=f;f=c;c=w}0>c?c=0:c>=q&&(c=q-1);0>f?f=0:f>=q&&(f=q-1);c=e*q+c;f=e*q+f;q=f-15;if(0<=e&&e<r)if(arrayFill)p.fill(g,c,f);else{for(;c<=q;)p[c]=g,c+=1,p[c]=g,c+=1,p[c]=g,c+=1,p[c]=g,c+=1,p[c]=g,c+=1,p[c]=g,c+=1,p[c]=g,c+=1,p[c]=g,c+=1,p[c]=g,c+=1,p[c]=g,c+=1,p[c]=g,c+=1,p[c]=g,c+=1,p[c]=g,c+=1,p[c]=
g,c+=1,p[c]=g,c+=1,p[c]=g,c+=1;for(;c<=f;)p[c]=g,c+=1}};a.prototype.Nq=function(c,f,e,g){var p=this.Id,q=this.D,r=this.B;if(f>e){var w=e;e=f;f=w}0>f?f=0:f>=r&&(f=r-1);0>e?e=0:e>=r&&(e=r-1);f=f*q+c;e=e*q+c;r=e-15*q;if(0<=c&&c<q){for(;f<=r;)p[f]=g,f+=q,p[f]=g,f+=q,p[f]=g,f+=q,p[f]=g,f+=q,p[f]=g,f+=q,p[f]=g,f+=q,p[f]=g,f+=q,p[f]=g,f+=q,p[f]=g,f+=q,p[f]=g,f+=q,p[f]=g,f+=q,p[f]=g,f+=q,p[f]=g,f+=q,p[f]=g,f+=q,p[f]=g,f+=q,p[f]=g,f+=q;for(;f<=e;)p[f]=g,f+=q}};a.prototype.nq=function(c,f,e,g,p){var q=Math.abs(e-
c),r=Math.abs(g-f),w=c<e?1:-1,v=f<g?1:-1,z=q-r,b=this.D,h=this.B,n=this.Id;if(!(0>c&&0>e||c>=b&&e>=b||0>f&&0>g||f>=h&&g>=h))if(0<=c&&c<b&&0<=f&&f<h&&0<=e&&e<b&&0<=g&&g<h)for(n[f*b+c]=p;c!==e||f!==g;){var x=z+z;x>-r&&(z-=r,c+=w);x<q&&(z+=q,f+=v);n[f*b+c]=p}else for(0<=c&&c<b&&0<=f&&f<h&&(n[f*b+c]=p);c!==e||f!==g;)x=z+z,x>-r&&(z-=r,c+=w),x<q&&(z+=q,f+=v),0<=c&&c<b&&0<=f&&f<h&&(n[f*b+c]=p)};a.prototype.ji=function(c,f,e,g,p){var q=this.D/2,r=this.B/2;if(0!==this.Ca){c-=q;f-=r;var w=Math.sqrt(c*c+f*f);
var v=180/Math.PI*Math.atan2(f,c);v+=this.Ca;c=Math.round(w*Math.cos(Math.PI/180*v)+q);f=Math.round(w*Math.sin(Math.PI/180*v)+r);e-=q;g-=r;w=Math.sqrt(e*e+g*g);v=180/Math.PI*Math.atan2(g,e);v+=this.Ca;e=Math.round(w*Math.cos(Math.PI/180*v)+q);g=Math.round(w*Math.sin(Math.PI/180*v)+r)}c===e?this.Nq(c,f,g,p):f===g?this.sq(c,e,f,p):this.nq(c,f,e,g,p)};a.prototype.zk=function(c,f,e,g,p){var q=c.Pd,r=c.Nd,w=0,v=0,z=this.context;var b=this.zoom;var h=this.zoom*(this.Z&&4<=b?ViewConstants.pi:1);var n=(this.width>>
1)-(c.Xa>>1);var x=(this.height>>1)-(c.cb>>1);var u=c.cc-this.da,t=c.bc-this.ga-(this.U?this.da/2:0),A=[0,0];switch(g){case ViewConstants.dz:f-=q>>1;break;case ViewConstants.ez:f-=q-1;break;case ViewConstants.iz:e-=r>>1;break;case ViewConstants.cz:f-=q>>1;e-=r>>1;break;case ViewConstants.bz:f-=q-1;e-=r>>1;break;case ViewConstants.hz:e-=r-1;break;case ViewConstants.fz:f-=q>>1;e-=r-1;break;case ViewConstants.gz:f-=q-1,e-=r-1}var y=h*(e-x+u-this.bb+c.cc)+c.B/2;g=b*(f-n+t-this.mb+c.bc)+c.D/2+(this.U?
(c.B/2-y)/2:0);var B=h*(e+r-x+u-this.bb+c.cc)+c.B/2;var C=b*(f+q-n+t-this.mb+c.bc)+c.D/2+(this.U?(c.B/2-B)/2:0);z.fillStyle=p;z.globalAlpha=.5;if(this.U)if(this.od&&4<=this.zoom)this.yk(f,e,f+q-1,e+r-1,n,x);else{z.beginPath();for(p=0;p<r;p+=1)z.moveTo(g,y),z.lineTo(g+q*b+1,y),z.lineTo(g+q*b+1,y+h+1),z.lineTo(g,y+h+1),g-=h/2,y+=h;z.fill()}else this.Z&&4<=this.zoom?this.Ak(f,e,f+q-1,e+r-1,n,x):(z.beginPath(),this.re(g,y,A),z.moveTo(A[0],A[1]),this.re(C+1,y,A),z.lineTo(A[0],A[1]),this.re(C+1,B+1,A),
z.lineTo(A[0],A[1]),this.re(g,B+1,A),z.lineTo(A[0],A[1]),z.fill());if(1<=this.zoom){if(0<this.Ca){var F=Math.cos(this.Ca/180*Math.PI)*this.ta;var E=Math.sin(this.Ca/180*Math.PI)*this.ta;var G=Math.cos((this.Ca+90)/180*Math.PI)*this.ta;var H=Math.sin((this.Ca+90)/180*Math.PI)*this.ta}else F=this.ta,G=E=0,H=F;y=h*(e+v-x+u-this.bb+c.cc)+c.B/2;g=b*(f+w-n+t-this.mb+c.bc)+c.D/2+(this.U?(c.B/2-y)/2:0);0!==this.Ca&&(this.re(g,y,A),g=A[0],y=A[1]);C=g;B=y;z.fillStyle="rgb(255, 128, 0)";if(this.U&&this.od&&
4<=this.zoom)this.uq(f,e,f+q-1,e+r-1,n,x,c.xb);else if(this.Z&&4<=this.zoom)this.Iq(f,e,f+q-1,e+r-1,n,x,c.xb);else{z.beginPath();for(v=p=0;v<r;v+=1){g=C;for(w=0;w<q;w+=1)f=c.xb[p],p+=1,f&&(f=g+F,e=y+E,b=f+G,h=e+H,n=b-F,x=h-E,0>g&&0>f&&0>b&&0>n||g>=c.D&&f>=c.D&&b>=c.D&&n>=c.D||0>y&&0>e&&0>h&&0>x||y>=c.B&&e>=c.B&&h>=c.B&&x>=c.B||(z.moveTo(g,y),z.lineTo(f,e),z.lineTo(b,h),z.lineTo(n,x))),g+=F,y+=E;C+=G;y=B+=H;this.U&&(C-=H/2)}z.fill()}}};a.prototype.re=function(c,f,e){var g=this.D/2,p=this.B/2;if(0!==
this.Ca){c-=g;f-=p;var q=Math.sqrt(c*c+f*f);f=180/Math.PI*Math.atan2(f,c);f+=this.Ca;c=Math.round(q*Math.cos(Math.PI/180*f)+g);f=Math.round(q*Math.sin(Math.PI/180*f)+p)}e[0]=c;e[1]=f};a.prototype.mD=function(c){var f=c.bf+.5|0,e=(this.width>>1)-(c.Xa>>1)+(c.ib<<1),g=(this.height>>1)-(c.cb>>1)+(c.jb<<1);(c.Va||c.Sh)&&this.Ep(c,c.fb);c.td&&this.zk(c,c.rq.i,c.rq.h,ViewConstants.po,"rgb(255,255,0)");if(c.pc){var p=c.l.Zh;var q=c.l.$h;-1!==p&&(c.$r(p,q),this.zk(c,c.Mh-e,c.Nh-g,f,"rgb(255,0,0)"))}};a.prototype.Ep=
function(c,f){var e=this.context,g=this.zoom,p=this.zoom*(this.Z&&4<=g?ViewConstants.pi:1),q=f.i,r=f.h,w=f.s;f=f.m;var v=(this.width>>1)-(c.Xa>>1),z=(this.height>>1)-(c.cb>>1),b=c.cc-this.da,h=c.bc-this.ga-(this.U?this.da/2:0),n=[0,0],x=c.fb;if(q>w){var u=q;q=w;w=u}r>f&&(u=r,r=f,f=u);u=w-q+1;var t=f-r+1;r=p*(r-z+b-this.bb+c.cc)+c.B/2;q=g*(q-v+h-this.mb+c.bc)+c.D/2+(this.U?(c.B/2-r)/2:0);f=p*(f+1-z+b-this.bb+c.cc)+c.B/2;w=g*(w+1-v+h-this.mb+c.bc)+c.D/2+(this.U?(c.B/2-f)/2:0);e.fillStyle="rgb(0,255,0)";
e.globalAlpha=.5;if(this.U)if(this.od&&4<=this.zoom)this.yk(x.i,x.h,x.s,x.m,v,z);else{e.beginPath();u*=g;for(c=0;c<t;c+=1)e.moveTo(q,r),e.lineTo(q+u+1,r),e.lineTo(q+u+1,r+p+1),e.lineTo(q,r+p+1),q-=p/2,r+=p;e.fill()}else this.Z&&4<=this.zoom?this.Ak(x.i,x.h,x.s,x.m,v,z):(e.beginPath(),this.re(q,r,n),e.moveTo(n[0],n[1]),this.re(w+1,r,n),e.lineTo(n[0],n[1]),this.re(w+1,f+1,n),e.lineTo(n[0],n[1]),this.re(q,f+1,n),e.lineTo(n[0],n[1]),e.fill());e.globalAlpha=1};a.prototype.Ie=function(){var c,f=this.D,
e=this.B,g=this.eh,p=this.bh,q=this.ta,r=g,w,v,z=0<this.rf&&this.Ji,b=((this.height/2-(this.da+this.bb))*q+e/2)%q,h=((this.width/2-(this.ga+this.mb))*q+f/2)%q;if(this.Nb)var n=z?2:1;else n=1,z=!1,r=g=this.Kg[0];for(w=g;n;){var x=-(f/2/q)-(this.width/2-this.ga-this.mb)|0;var u=22*-q;var t=f+q+22*q;var A=b-22*q;var y=e+22*q;var B=-f/1.5;var C=f+f/1.5;var F=-e/1.5;for(v=e+e/1.5;u<=t;u+=q)if(z&&(0===x%this.rf?r=p:r=g),x+=1,r===w)if(this.U){var E=-(e/2/q)-(this.height/2-this.da-this.bb)|0;for(c=A;c<y;c+=
q)0===(E&1)?this.ji(Math.round(u+h),Math.round(c),Math.round(u+h),Math.round(c+q-1),r):this.ji(Math.round(u+h+q/2),Math.round(c),Math.round(u+h+q/2),Math.round(c+q-1),r),E+=1}else this.ji(Math.round(u+h),F,Math.round(u+h),v-1,r);x=-(e/2/q)-(this.height/2-this.da-this.bb)|0;for(c=A;c<y;c+=q)z&&(0===x%this.rf?r=p:r=g),x+=1,r===w&&this.ji(B,Math.round(c),C-1,Math.round(c),r);--n;w=p}};a.prototype.Di=function(){return 4<=this.ta};a.prototype.Px=function(c){var f=this.na,e=this.pa,g=this.la,p=Math.round((this.width-
f)/2-1),q=p+f+1,r=Math.round((this.height-e)/2-1),w=r+e+1,v=g[r],z=g[w];if(0===f)if(arrayFill)v.fill(c,0,this.width),z.fill(c,0,this.width);else for(f=0;f<this.width;f+=1)v[f]=c,z[f]=c;else if(0===e)for(f=0;f<this.height;f+=1)g[f][p]=c,g[f][q]=c;else{if(arrayFill)v.fill(c,p,q+1),z.fill(c,p,q+1);else for(f=p;f<=q;f+=1)v[f]=c,z[f]=c;for(f=r+1;f<=w-1;f+=1)g[f][p]=c,g[f][q]=c}};a.prototype.xF=function(){var c=this.Kg[0],f=this.Id,e;this.Hk&&(this.Bx(),--this.Hk,this.Hk||(this.Vd.set(this.Lb),this.$a.set(this.Ea),
this.se.set(this.Cd),this.lg.set(this.jf),this.qe.set(this.$c),this.xg.set(this.Qf)));this.ta=this.zoom*this.ac;this.ta<ViewConstants.wb?this.ta=ViewConstants.wb:this.ta>ViewConstants.gc&&(this.ta=ViewConstants.gc);this.ed=this.ga+this.mb;this.fd=this.da+this.bb;this.g=this.jd/2+1;this.Ca=this.U||this.Z?0:this.angle;-1!==this.ja&&this.Px(this.ec);if(4<=this.ta&&(this.od&&this.U||this.Z)){var g=0;for(e=f.length;g<e;)f[g]=c,g+=1;this.Hd(1)}else 1>this.ta&&this.Bp(),.125>this.ta?this.Yf?this.qh(this.ha,
this.A,15):this.rh(this.A,this.A,15):.25>this.ta?this.Yf?this.qh(this.ha,this.A,7):this.rh(this.A,this.A,7):.5>this.ta?this.Yf?this.qh(this.ha,this.A,3):this.rh(this.A,this.A,3):1>this.ta?this.Yf?this.qh(this.ha,this.A,1):this.rh(this.A,this.A,1):this.Yf?this.qh(this.Ab,this.la,0):this.rh(this.la,this.la,0)};a.prototype.rs=function(c,f,e){var g=this.D>>3,p=this.Kg,q=this.Id,r,w,v=1,z=1,b=0,h=this.Ka&~e,n=this.Na&~e,x=~e;e=~e;var u=c,t=this.ta;1<this.g&&(v=this.G);c=Math.sin(this.Ca/180*Math.PI)/this.ta;
var A=Math.cos(this.Ca/180*Math.PI)/this.ta;var y=-(this.D/2*-c+this.B/2*A)+this.fd;var B=-(this.D/2*A+this.B/2*c)+this.ed;1<this.G&&1<this.g&&(b=.4/(this.G-1),z=.6);this.Hd(z);var C=this.width<this.Y?p[0]|0:this.Pl|0;var F=0;var E=y;for(r=0;r<this.B;r+=1){var G=B;for(w=0;w<g;w+=1){if((G&x)===(G&h)&&(E&e)===(E&n)){var H=u[E&n][G&h]|0;q[F]=p[H]}else q[F]=C;F+=1;G+=A;E-=c;(G&x)===(G&h)&&(E&e)===(E&n)?(H=u[E&n][G&h]|0,q[F]=p[H]):q[F]=C;F+=1;G+=A;E-=c;(G&x)===(G&h)&&(E&e)===(E&n)?(H=u[E&n][G&h]|0,q[F]=
p[H]):q[F]=C;F+=1;G+=A;E-=c;(G&x)===(G&h)&&(E&e)===(E&n)?(H=u[E&n][G&h]|0,q[F]=p[H]):q[F]=C;F+=1;G+=A;E-=c;(G&x)===(G&h)&&(E&e)===(E&n)?(H=u[E&n][G&h]|0,q[F]=p[H]):q[F]=C;F+=1;G+=A;E-=c;(G&x)===(G&h)&&(E&e)===(E&n)?(H=u[E&n][G&h]|0,q[F]=p[H]):q[F]=C;F+=1;G+=A;E-=c;(G&x)===(G&h)&&(E&e)===(E&n)?(H=u[E&n][G&h]|0,q[F]=p[H]):q[F]=C;F+=1;G+=A;E-=c;(G&x)===(G&h)&&(E&e)===(E&n)?(H=u[E&n][G&h]|0,q[F]=p[H]):q[F]=C;F+=1;G+=A;E-=c}B+=c;E=y+=A}(this.Nb||this.gd)&&this.Di()&&this.Ie();u=f;for(f=1;f<v;f+=1)for(C=
2<this.f?0===this.S?this.f/this.G*f|0:f<v/2?this.S/this.G*f*2|0:this.S+this.f/this.G*f|0:(this.cd+1)/this.G*f|0,z+=b,this.Hd(z),c/=this.g,A/=this.g,t*=this.g,e=.125>t?15:.25>t?7:.5>t?3:1>t?1:0,h=this.Ka&~e,n=this.Na&~e,x=~e,e=~e,y=-(this.D/2*-c+this.B/2*A)+this.fd,B=-(this.D/2*A+this.B/2*c)+this.ed,F=0,E=y,r=0;r<this.B;r+=1){G=B;for(w=0;w<g;w+=1)(G&x)===(G&h)&&(E&e)===(E&n)&&(H=u[E&n][G&h]|0,H>=C&&(q[F]=p[H])),F+=1,G+=A,E-=c,(G&x)===(G&h)&&(E&e)===(E&n)&&(H=u[E&n][G&h]|0,H>=C&&(q[F]=p[H])),F+=1,G+=
A,E-=c,(G&x)===(G&h)&&(E&e)===(E&n)&&(H=u[E&n][G&h]|0,H>=C&&(q[F]=p[H])),F+=1,G+=A,E-=c,(G&x)===(G&h)&&(E&e)===(E&n)&&(H=u[E&n][G&h]|0,H>=C&&(q[F]=p[H])),F+=1,G+=A,E-=c,(G&x)===(G&h)&&(E&e)===(E&n)&&(H=u[E&n][G&h]|0,H>=C&&(q[F]=p[H])),F+=1,G+=A,E-=c,(G&x)===(G&h)&&(E&e)===(E&n)&&(H=u[E&n][G&h]|0,H>=C&&(q[F]=p[H])),F+=1,G+=A,E-=c,(G&x)===(G&h)&&(E&e)===(E&n)&&(H=u[E&n][G&h]|0,H>=C&&(q[F]=p[H])),F+=1,G+=A,E-=c,(G&x)===(G&h)&&(E&e)===(E&n)&&(H=u[E&n][G&h]|0,H>=C&&(q[F]=p[H])),F+=1,G+=A,E-=c;B+=c;E=y+=
A}};a.prototype.us=function(c,f,e){var g=this.D>>3,p=this.Kg,q=this.Id,r,w,v=1,z=1,b=0,h=this.Ka&~e,n=this.Na&~e,x=~e;e=~e;var u=c,t=this.ta;1<this.g&&(v=this.G);c=1/this.ta;var A=-(this.B/2*c)+this.fd;var y=-(this.D/2*c)+this.ed;1<this.G&&1<this.g&&(b=.4/(this.G-1),z=.6);this.Hd(z);var B=this.width<this.Y?p[0]|0:this.Pl|0;var C=0;var F=A;for(r=0;r<this.B;r+=1){if((F&e)===(F&n)){var E=u[F&n];var G=y;this.U&&(G+=.5*(F|0));for(w=0;w<g;w+=1){if((G&x)===(G&h)){var H=E[G&h]|0;q[C]=p[H]}else q[C]=B;C+=
1;G+=c;(G&x)===(G&h)?(H=E[G&h]|0,q[C]=p[H]):q[C]=B;C+=1;G+=c;(G&x)===(G&h)?(H=E[G&h]|0,q[C]=p[H]):q[C]=B;C+=1;G+=c;(G&x)===(G&h)?(H=E[G&h]|0,q[C]=p[H]):q[C]=B;C+=1;G+=c;(G&x)===(G&h)?(H=E[G&h]|0,q[C]=p[H]):q[C]=B;C+=1;G+=c;(G&x)===(G&h)?(H=E[G&h]|0,q[C]=p[H]):q[C]=B;C+=1;G+=c;(G&x)===(G&h)?(H=E[G&h]|0,q[C]=p[H]):q[C]=B;C+=1;G+=c;(G&x)===(G&h)?(H=E[G&h]|0,q[C]=p[H]):q[C]=B;C+=1;G+=c}}else if(arrayFill)q.fill(B,C,C+this.D+1),C+=this.D;else for(w=0;w<g;w+=1)q[C]=B,C+=1,q[C]=B,C+=1,q[C]=B,C+=1,q[C]=B,
C+=1,q[C]=B,C+=1,q[C]=B,C+=1,q[C]=B,C+=1,q[C]=B,C+=1;F=A+=c}(this.Nb||this.gd)&&this.Di()&&this.Ie();u=f;for(f=1;f<v;f+=1)for(B=2<this.f?0===this.S?this.f/this.G*f|0:f<v/2?this.S/this.G*f*2|0:this.S+this.f/this.G*f|0:(this.cd+1)/this.G*f|0,z+=b,this.Hd(z),c/=this.g,t*=this.g,e=.125>t?15:.25>t?7:.5>t?3:1>t?1:0,h=this.Ka&~e,n=this.Na&~e,x=~e,e=~e,A=-(this.B/2*c)+this.fd,y=-(this.D/2*c)+this.ed,C=0,F=A,r=0;r<this.B;r+=1){if((F&e)===(F&n))for(E=u[F&n],G=y,this.U&&(G+=.5*(F|0)),w=0;w<g;w+=1)(G&x)===(G&
h)&&(H=E[G&h]|0,H>=B&&(q[C]=p[H])),C+=1,G+=c,(G&x)===(G&h)&&(H=u[F&n][G&h]|0,H>=B&&(q[C]=p[H])),C+=1,G+=c,(G&x)===(G&h)&&(H=u[F&n][G&h]|0,H>=B&&(q[C]=p[H])),C+=1,G+=c,(G&x)===(G&h)&&(H=u[F&n][G&h]|0,H>=B&&(q[C]=p[H])),C+=1,G+=c,(G&x)===(G&h)&&(H=u[F&n][G&h]|0,H>=B&&(q[C]=p[H])),C+=1,G+=c,(G&x)===(G&h)&&(H=u[F&n][G&h]|0,H>=B&&(q[C]=p[H])),C+=1,G+=c,(G&x)===(G&h)&&(H=u[F&n][G&h]|0,H>=B&&(q[C]=p[H])),C+=1,G+=c,(G&x)===(G&h)&&(H=u[F&n][G&h]|0,H>=B&&(q[C]=p[H])),C+=1,G+=c;else C+=g<<3;F=A+=c}};a.prototype.vs=
function(c,f,e){var g=this.D>>3,p=this.Kg,q=this.Id,r,w,v=1,z=1,b=0,h=this.Ka&~e;e=this.Na&~e;var n=c,x=this.ta;1<this.g&&(v=this.G);c=Math.sin(this.Ca/180*Math.PI)/this.ta;var u=Math.cos(this.Ca/180*Math.PI)/this.ta;var t=-(this.D/2*-c+this.B/2*u)+this.fd;var A=-(this.D/2*u+this.B/2*c)+this.ed;1<this.G&&1<this.g&&(b=.4/(this.G-1),z=.6);this.Hd(z);var y=0;var B=t;for(r=0;r<this.B;r+=1){var C=A;for(w=0;w<g;w+=1){var F=n[B&e][C&h]|0;q[y]=p[F];y+=1;C+=u;B-=c;F=n[B&e][C&h]|0;q[y]=p[F];y+=1;C+=u;B-=c;
F=n[B&e][C&h]|0;q[y]=p[F];y+=1;C+=u;B-=c;F=n[B&e][C&h]|0;q[y]=p[F];y+=1;C+=u;B-=c;F=n[B&e][C&h]|0;q[y]=p[F];y+=1;C+=u;B-=c;F=n[B&e][C&h]|0;q[y]=p[F];y+=1;C+=u;B-=c;F=n[B&e][C&h]|0;q[y]=p[F];y+=1;C+=u;B-=c;F=n[B&e][C&h]|0;q[y]=p[F];y+=1;C+=u;B-=c}A+=c;B=t+=u}(this.Nb||this.gd)&&this.Di()&&this.Ie();n=f;for(f=1;f<v;f+=1){var E=2<this.f?0===this.S?this.f/this.G*f|0:f<v/2?this.S/this.G*f*2|0:this.S+this.f/this.G*f|0:(this.cd+1)/this.G*f|0;z+=b;this.Hd(z);c/=this.g;u/=this.g;x*=this.g;e=.125>x?15:.25>
x?7:.5>x?3:1>x?1:0;h=this.Ka&~e;e=this.Na&~e;t=-(this.D/2*-c+this.B/2*u)+this.fd;A=-(this.D/2*u+this.B/2*c)+this.ed;y=0;B=t;for(r=0;r<this.B;r+=1){C=A;for(w=0;w<g;w+=1)F=n[B&e][C&h]|0,F>=E&&(q[y]=p[F]),y+=1,C+=u,B-=c,F=n[B&e][C&h]|0,F>=E&&(q[y]=p[F]),y+=1,C+=u,B-=c,F=n[B&e][C&h]|0,F>=E&&(q[y]=p[F]),y+=1,C+=u,B-=c,F=n[B&e][C&h]|0,F>=E&&(q[y]=p[F]),y+=1,C+=u,B-=c,F=n[B&e][C&h]|0,F>=E&&(q[y]=p[F]),y+=1,C+=u,B-=c,F=n[B&e][C&h]|0,F>=E&&(q[y]=p[F]),y+=1,C+=u,B-=c,F=n[B&e][C&h]|0,F>=E&&(q[y]=p[F]),y+=1,
C+=u,B-=c,F=n[B&e][C&h]|0,F>=E&&(q[y]=p[F]),y+=1,C+=u,B-=c;A+=c;B=t+=u}}};a.prototype.ws=function(c,f,e){var g=this.D>>3,p=this.Kg,q=this.Id,r,w=1,v=1,z=0,b=this.Ka&~e;e=this.Na&~e;var h=c,n=this.ta;1<this.g&&(w=this.G);c=1/this.ta;var x=-(this.B/2*c)+this.fd;var u=-(this.D/2*c)+this.ed;1<this.G&&1<this.g&&(z=.4/(this.G-1),v=.6);this.Hd(v);var t=0;var A=x;for(r=0;r<this.B;r+=1){var y=h[A&e];var B=u;this.U&&(B+=.5*(A|0));for(A=0;A<g;A+=1){var C=y[B&b];q[t]=p[C];t+=1;B+=c;C=y[B&b];q[t]=p[C];t+=1;B+=
c;C=y[B&b];q[t]=p[C];t+=1;B+=c;C=y[B&b];q[t]=p[C];t+=1;B+=c;C=y[B&b];q[t]=p[C];t+=1;B+=c;C=y[B&b];q[t]=p[C];t+=1;B+=c;C=y[B&b];q[t]=p[C];t+=1;B+=c;C=y[B&b];q[t]=p[C];t+=1;B+=c}A=x+=c}(this.Nb||this.gd)&&this.Di()&&this.Ie();h=f;for(f=1;f<w;f+=1){var F=2<this.f?0===this.S?this.f/this.G*f|0:f<w/2?this.S/this.G*f*2|0:this.S+this.f/this.G*f|0:(this.cd+1)/this.G*f|0;v+=z;this.Hd(v);c/=this.g;n*=this.g;e=.125>n?15:.25>n?7:.5>n?3:1>n?1:0;b=this.Ka&~e;e=this.Na&~e;x=-(this.B/2*c)+this.fd;u=-(this.D/2*c)+
this.ed;t=0;A=x;for(r=0;r<this.B;r+=1){y=h[A&e];B=u;this.U&&(B+=.5*(A|0));for(A=0;A<g;A+=1)C=y[B&b]|0,C>=F&&(q[t]=p[C]),t+=1,B+=c,C=y[B&b]|0,C>=F&&(q[t]=p[C]),t+=1,B+=c,C=y[B&b]|0,C>=F&&(q[t]=p[C]),t+=1,B+=c,C=y[B&b]|0,C>=F&&(q[t]=p[C]),t+=1,B+=c,C=y[B&b]|0,C>=F&&(q[t]=p[C]),t+=1,B+=c,C=y[B&b]|0,C>=F&&(q[t]=p[C]),t+=1,B+=c,C=y[B&b]|0,C>=F&&(q[t]=p[C]),t+=1,B+=c,C=y[B&b]|0,C>=F&&(q[t]=p[C]),t+=1,B+=c;A=x+=c}}};a.prototype.rh=function(c,f,e){var g=Math.sin(this.Ca/180*Math.PI)/this.ta,p=Math.cos(this.Ca/
180*Math.PI)/this.ta,q=this.D,r=this.B,w=-(this.D/2*-g+this.B/2*p)+this.fd,v=-(this.D/2*p+this.B/2*g)+this.ed,z=w+q*-g,b=v+q*p,h=w+r*p;r=v+r*g;g=h+q*-g;p=r+q*p;q=w;var n=v;b<n&&(n=b);r<n&&(n=r);p<n&&(n=r);b>v&&(v=b);r>v&&(v=r);p>v&&(v=p);z<q&&(q=z);h<q&&(q=h);g<q&&(q=g);z>w&&(w=z);h>w&&(w=h);g>w&&(w=g);0>(n|0)||(v|0)>=this.width||0>(q|0)||(w|0)>=this.height?0===this.Ca?this.us(c,f,e):this.rs(c,f,e):0===this.Ca?this.ws(c,f,e):this.vs(c,f,e)};a.prototype.ns=function(c,f,e){var g=this.D>>3,p=this.Kg,
q=this.Id,r,w=ViewConstants.Ba[3]+128,v=ViewConstants.Ba[4]+128,z=ViewConstants.Ba[5]+128,b=ViewConstants.Ba[6]+128,h=1,n=1,x=0,u=this.Sa,t=this.Ka&~e,A=this.Na&~e,y=~e,B=~e,C=f,F=this.ta;1<this.g&&(h=this.G);var E=Math.sin(this.Ca/180*Math.PI)/this.ta;var G=Math.cos(this.Ca/180*Math.PI)/this.ta;var H=-(this.D/2*-E+this.B/2*G)+this.fd;var L=-(this.D/2*G+this.B/2*E)+this.ed;1<this.G&&1<this.g&&(x=.4/(this.G-1),n=.6);this.Hd(n);var M=this.width<this.Y?p[0]|0:this.Pl|0;var I=0;var D=H;for(e=0;e<this.B;e+=
1){var J=L;for(r=0;r<g;r+=1){if((J&y)===(J&t)&&(D&B)===(D&A)){var K=C[D&A][J&t];var P=c[D&A][J&t];P===v||P===b?(K>=u&&(P=w),K=p[P]|0):P===w||P===z?(K<u&&(P=v),K=p[P]|0):K=p[K]|0;q[I]=K}else q[I]=M;I+=1;J+=G;D-=E;(J&y)===(J&t)&&(D&B)===(D&A)?(K=C[D&A][J&t],P=c[D&A][J&t],P===v||P===b?(K>=u&&(P=w),K=p[P]|0):P===w||P===z?(K<u&&(P=v),K=p[P]|0):K=p[K]|0,q[I]=K):q[I]=M;I+=1;J+=G;D-=E;(J&y)===(J&t)&&(D&B)===(D&A)?(K=C[D&A][J&t],P=c[D&A][J&t],P===v||P===b?(K>=u&&(P=w),K=p[P]|0):P===w||P===z?(K<u&&(P=v),K=
p[P]|0):K=p[K]|0,q[I]=K):q[I]=M;I+=1;J+=G;D-=E;(J&y)===(J&t)&&(D&B)===(D&A)?(K=C[D&A][J&t],P=c[D&A][J&t],P===v||P===b?(K>=u&&(P=w),K=p[P]|0):P===w||P===z?(K<u&&(P=v),K=p[P]|0):K=p[K]|0,q[I]=K):q[I]=M;I+=1;J+=G;D-=E;(J&y)===(J&t)&&(D&B)===(D&A)?(K=C[D&A][J&t],P=c[D&A][J&t],P===v||P===b?(K>=u&&(P=w),K=p[P]|0):P===w||P===z?(K<u&&(P=v),K=p[P]|0):K=p[K]|0,q[I]=K):q[I]=M;I+=1;J+=G;D-=E;(J&y)===(J&t)&&(D&B)===(D&A)?(K=C[D&A][J&t],P=c[D&A][J&t],P===v||P===b?(K>=u&&(P=w),K=p[P]|0):P===w||P===z?(K<u&&(P=v),
K=p[P]|0):K=p[K]|0,q[I]=K):q[I]=M;I+=1;J+=G;D-=E;(J&y)===(J&t)&&(D&B)===(D&A)?(K=C[D&A][J&t],P=c[D&A][J&t],P===v||P===b?(K>=u&&(P=w),K=p[P]|0):P===w||P===z?(K<u&&(P=v),K=p[P]|0):K=p[K]|0,q[I]=K):q[I]=M;I+=1;J+=G;D-=E;(J&y)===(J&t)&&(D&B)===(D&A)?(K=C[D&A][J&t],P=c[D&A][J&t],P===v||P===b?(K>=u&&(P=w),K=p[P]|0):P===w||P===z?(K<u&&(P=v),K=p[P]|0):K=p[K]|0,q[I]=K):q[I]=M;I+=1;J+=G;D-=E}L+=E;D=H+=G}(this.Nb||this.gd)&&this.Di()&&this.Ie();C=f;for(c=1;c<h;c+=1)for(f=2<this.f?0===this.S?this.f/this.G*c|
0:c<h/2?this.S/this.G*c*2|0:this.S+this.f/this.G*c|0:(this.cd+1)/this.G*c|0,n+=x,this.Hd(n),E/=this.g,G/=this.g,F*=this.g,e=.125>F?15:.25>F?7:.5>F?3:1>F?1:0,t=this.Ka&~e,A=this.Na&~e,y=~e,B=~e,H=-(this.D/2*-E+this.B/2*G)+this.fd,L=-(this.D/2*G+this.B/2*E)+this.ed,I=0,D=H,e=0;e<this.B;e+=1){J=L;for(r=0;r<g;r+=1)(J&y)===(J&t)&&(D&B)===(D&A)&&(K=C[D&A][J&t]|0,K>=f&&(q[I]=p[K])),I+=1,J+=G,D-=E,(J&y)===(J&t)&&(D&B)===(D&A)&&(K=C[D&A][J&t]|0,K>=f&&(q[I]=p[K])),I+=1,J+=G,D-=E,(J&y)===(J&t)&&(D&B)===(D&A)&&
(K=C[D&A][J&t]|0,K>=f&&(q[I]=p[K])),I+=1,J+=G,D-=E,(J&y)===(J&t)&&(D&B)===(D&A)&&(K=C[D&A][J&t]|0,K>=f&&(q[I]=p[K])),I+=1,J+=G,D-=E,(J&y)===(J&t)&&(D&B)===(D&A)&&(K=C[D&A][J&t]|0,K>=f&&(q[I]=p[K])),I+=1,J+=G,D-=E,(J&y)===(J&t)&&(D&B)===(D&A)&&(K=C[D&A][J&t]|0,K>=f&&(q[I]=p[K])),I+=1,J+=G,D-=E,(J&y)===(J&t)&&(D&B)===(D&A)&&(K=C[D&A][J&t]|0,K>=f&&(q[I]=p[K])),I+=1,J+=G,D-=E,(J&y)===(J&t)&&(D&B)===(D&A)&&(K=C[D&A][J&t]|0,K>=f&&(q[I]=p[K])),I+=1,J+=G,D-=E;L+=E;D=H+=G}};a.prototype.ps=function(c,f,e){var g=
this.D>>3,p=this.Kg,q=this.Id,r,w=ViewConstants.Ba[3]+128,v=ViewConstants.Ba[4]+128,z=ViewConstants.Ba[5]+128,b=ViewConstants.Ba[6]+128,h=1,n=1,x=0,u=this.Sa,t=this.Ka&~e,A=this.Na&~e,y=f,B=this.ta;1<this.g&&(h=this.G);var C=Math.sin(this.Ca/180*Math.PI)/this.ta;var F=Math.cos(this.Ca/180*Math.PI)/this.ta;var E=-(this.D/2*-C+this.B/2*F)+this.fd;var G=-(this.D/2*F+this.B/2*C)+this.ed;1<this.G&&1<this.g&&(x=.4/(this.G-1),n=.6);this.Hd(n);var H=0;var L=E;for(e=0;e<this.B;e+=1){var M=G;for(r=0;r<g;r+=
1){var I=y[L&A][M&t];var D=c[L&A][M&t];D===v||D===b?(I>=u&&(D=w),I=p[D]|0):D===w||D===z?(I<u&&(D=v),I=p[D]|0):I=p[I]|0;q[H]=I;H+=1;M+=F;L-=C;I=y[L&A][M&t];D=c[L&A][M&t];D===v||D===b?(I>=u&&(D=w),I=p[D]|0):D===w||D===z?(I<u&&(D=v),I=p[D]|0):I=p[I]|0;q[H]=I;H+=1;M+=F;L-=C;I=y[L&A][M&t];D=c[L&A][M&t];D===v||D===b?(I>=u&&(D=w),I=p[D]|0):D===w||D===z?(I<u&&(D=v),I=p[D]|0):I=p[I]|0;q[H]=I;H+=1;M+=F;L-=C;I=y[L&A][M&t];D=c[L&A][M&t];D===v||D===b?(I>=u&&(D=w),I=p[D]|0):D===w||D===z?(I<u&&(D=v),I=p[D]|0):I=
p[I]|0;q[H]=I;H+=1;M+=F;L-=C;I=y[L&A][M&t];D=c[L&A][M&t];D===v||D===b?(I>=u&&(D=w),I=p[D]|0):D===w||D===z?(I<u&&(D=v),I=p[D]|0):I=p[I]|0;q[H]=I;H+=1;M+=F;L-=C;I=y[L&A][M&t];D=c[L&A][M&t];D===v||D===b?(I>=u&&(D=w),I=p[D]|0):D===w||D===z?(I<u&&(D=v),I=p[D]|0):I=p[I]|0;q[H]=I;H+=1;M+=F;L-=C;I=y[L&A][M&t];D=c[L&A][M&t];D===v||D===b?(I>=u&&(D=w),I=p[D]|0):D===w||D===z?(I<u&&(D=v),I=p[D]|0):I=p[I]|0;q[H]=I;H+=1;M+=F;L-=C;I=y[L&A][M&t];D=c[L&A][M&t];D===v||D===b?(I>=u&&(D=w),I=p[D]|0):D===w||D===z?(I<u&&
(D=v),I=p[D]|0):I=p[I]|0;q[H]=I;H+=1;M+=F;L-=C}G+=C;L=E+=F}(this.Nb||this.gd)&&this.Di()&&this.Ie();y=f;for(c=1;c<h;c+=1)for(f=2<this.f?0===this.S?this.f/this.G*c|0:c<h/2?this.S/this.G*c*2|0:this.S+this.f/this.G*c|0:(this.cd+1)/this.G*c|0,n+=x,this.Hd(n),C/=this.g,F/=this.g,B*=this.g,e=.125>B?15:.25>B?7:.5>B?3:1>B?1:0,t=this.Ka&~e,A=this.Na&~e,E=-(this.D/2*-C+this.B/2*F)+this.fd,G=-(this.D/2*F+this.B/2*C)+this.ed,H=0,L=E,e=0;e<this.B;e+=1){M=G;for(r=0;r<g;r+=1)I=y[L&A][M&t]|0,I>=f&&(q[H]=p[I]),H+=
1,M+=F,L-=C,I=y[L&A][M&t]|0,I>=f&&(q[H]=p[I]),H+=1,M+=F,L-=C,I=y[L&A][M&t]|0,I>=f&&(q[H]=p[I]),H+=1,M+=F,L-=C,I=y[L&A][M&t]|0,I>=f&&(q[H]=p[I]),H+=1,M+=F,L-=C,I=y[L&A][M&t]|0,I>=f&&(q[H]=p[I]),H+=1,M+=F,L-=C,I=y[L&A][M&t]|0,I>=f&&(q[H]=p[I]),H+=1,M+=F,L-=C,I=y[L&A][M&t]|0,I>=f&&(q[H]=p[I]),H+=1,M+=F,L-=C,I=y[L&A][M&t]|0,I>=f&&(q[H]=p[I]),H+=1,M+=F,L-=C;G+=C;L=E+=F}};a.prototype.qs=function(c,f,e){var g=this.D>>3,p=this.Kg,q=this.Id,r=ViewConstants.Ba[3]+128,w=ViewConstants.Ba[4]+128,v=ViewConstants.Ba[5]+
128,z=ViewConstants.Ba[6]+128,b=1,h=1,n=0,x=this.Sa,u=this.Ka&~e,t=this.Na&~e,A=f,y=this.ta;1<this.g&&(b=this.G);var B=1/this.ta;var C=-(this.B/2*B)+this.fd;var F=-(this.D/2*B)+this.ed;1<this.G&&1<this.g&&(n=.4/(this.G-1),h=.6);this.Hd(h);var E=0;var G=C;for(e=0;e<this.B;e+=1){var H=A[G&t];var L=c[G&t];var M=F;this.U&&(M+=.5*(G|0));for(G=0;G<g;G+=1){var I=H[M&u];var D=L[M&u];D===w||D===z?(I>=x&&(D=r),I=p[D]|0):D===r||D===v?(I<x&&(D=w),I=p[D]|0):I=p[I]|0;q[E]=I;E+=1;M+=B;I=H[M&u];D=L[M&u];D===w||D===
z?(I>=x&&(D=r),I=p[D]|0):D===r||D===v?(I<x&&(D=w),I=p[D]|0):I=p[I]|0;q[E]=I;E+=1;M+=B;I=H[M&u];D=L[M&u];D===w||D===z?(I>=x&&(D=r),I=p[D]|0):D===r||D===v?(I<x&&(D=w),I=p[D]|0):I=p[I]|0;q[E]=I;E+=1;M+=B;I=H[M&u];D=L[M&u];D===w||D===z?(I>=x&&(D=r),I=p[D]|0):D===r||D===v?(I<x&&(D=w),I=p[D]|0):I=p[I]|0;q[E]=I;E+=1;M+=B;I=H[M&u];D=L[M&u];D===w||D===z?(I>=x&&(D=r),I=p[D]|0):D===r||D===v?(I<x&&(D=w),I=p[D]|0):I=p[I]|0;q[E]=I;E+=1;M+=B;I=H[M&u];D=L[M&u];D===w||D===z?(I>=x&&(D=r),I=p[D]|0):D===r||D===v?(I<
x&&(D=w),I=p[D]|0):I=p[I]|0;q[E]=I;E+=1;M+=B;I=H[M&u];D=L[M&u];D===w||D===z?(I>=x&&(D=r),I=p[D]|0):D===r||D===v?(I<x&&(D=w),I=p[D]|0):I=p[I]|0;q[E]=I;E+=1;M+=B;I=H[M&u];D=L[M&u];D===w||D===z?(I>=x&&(D=r),I=p[D]|0):D===r||D===v?(I<x&&(D=w),I=p[D]|0):I=p[I]|0;q[E]=I;E+=1;M+=B}G=C+=B}(this.Nb||this.gd)&&this.Di()&&this.Ie();A=f;for(c=1;c<b;c+=1)for(f=2<this.f?0===this.S?this.f/this.G*c|0:c<b/2?this.S/this.G*c*2|0:this.S+this.f/this.G*c|0:(this.cd+1)/this.G*c|0,h+=n,this.Hd(h),B/=this.g,y*=this.g,e=.125>
y?15:.25>y?7:.5>y?3:1>y?1:0,u=this.Ka&~e,t=this.Na&~e,C=-(this.B/2*B)+this.fd,F=-(this.D/2*B)+this.ed,E=0,G=C,e=0;e<this.B;e+=1){H=A[G&t];M=F;this.U&&(M+=.5*(G|0));for(G=0;G<g;G+=1)I=H[M&u]|0,I>=f&&(q[E]=p[I]),E+=1,M+=B,I=H[M&u]|0,I>=f&&(q[E]=p[I]),E+=1,M+=B,I=H[M&u]|0,I>=f&&(q[E]=p[I]),E+=1,M+=B,I=H[M&u]|0,I>=f&&(q[E]=p[I]),E+=1,M+=B,I=H[M&u]|0,I>=f&&(q[E]=p[I]),E+=1,M+=B,I=H[M&u]|0,I>=f&&(q[E]=p[I]),E+=1,M+=B,I=H[M&u]|0,I>=f&&(q[E]=p[I]),E+=1,M+=B,I=H[M&u]|0,I>=f&&(q[E]=p[I]),E+=1,M+=B;G=C+=B}};
a.prototype.os=function(c,f,e){var g=this.D>>3,p=this.Kg,q=this.Id,r=ViewConstants.Ba[3]+128,w=ViewConstants.Ba[4]+128,v=ViewConstants.Ba[5]+128,z=ViewConstants.Ba[6]+128,b=1,h=1,n=0,x=this.Sa,u=this.Ka&~e,t=this.Na&~e,A=~e,y=~e,B=f,C=this.ta;1<this.g&&(b=this.G);var F=1/this.ta;var E=-(this.B/2*F)+this.fd;var G=-(this.D/2*F)+this.ed;1<this.G&&1<this.g&&(n=.4/(this.G-1),h=.6);this.Hd(h);var H=this.width<this.Y?p[0]|0:this.Pl|0;var L=0;var M=E;for(e=0;e<this.B;e+=1){if((M&y)===(M&t)){var I=B[M&t];
var D=c[M&t];var J=G;this.U&&(J+=.5*(M|0));for(M=0;M<g;M+=1){if((J&A)===(J&u)){var K=I[J&u];var P=D[J&u];P===w||P===z?(K>=x&&(P=r),K=p[P]|0):P===r||P===v?(K<x&&(P=w),K=p[P]|0):K=p[K]|0}else K=H;q[L]=K;L+=1;J+=F;(J&A)===(J&u)?(K=I[J&u],P=D[J&u],P===w||P===z?(K>=x&&(P=r),K=p[P]|0):P===r||P===v?(K<x&&(P=w),K=p[P]|0):K=p[K]|0):K=H;q[L]=K;L+=1;J+=F;(J&A)===(J&u)?(K=I[J&u],P=D[J&u],P===w||P===z?(K>=x&&(P=r),K=p[P]|0):P===r||P===v?(K<x&&(P=w),K=p[P]|0):K=p[K]|0):K=H;q[L]=K;L+=1;J+=F;(J&A)===(J&u)?(K=I[J&
u],P=D[J&u],P===w||P===z?(K>=x&&(P=r),K=p[P]|0):P===r||P===v?(K<x&&(P=w),K=p[P]|0):K=p[K]|0):K=H;q[L]=K;L+=1;J+=F;(J&A)===(J&u)?(K=I[J&u],P=D[J&u],P===w||P===z?(K>=x&&(P=r),K=p[P]|0):P===r||P===v?(K<x&&(P=w),K=p[P]|0):K=p[K]|0):K=H;q[L]=K;L+=1;J+=F;(J&A)===(J&u)?(K=I[J&u],P=D[J&u],P===w||P===z?(K>=x&&(P=r),K=p[P]|0):P===r||P===v?(K<x&&(P=w),K=p[P]|0):K=p[K]|0):K=H;q[L]=K;L+=1;J+=F;(J&A)===(J&u)?(K=I[J&u],P=D[J&u],P===w||P===z?(K>=x&&(P=r),K=p[P]|0):P===r||P===v?(K<x&&(P=w),K=p[P]|0):K=p[K]|0):K=H;
q[L]=K;L+=1;J+=F;(J&A)===(J&u)?(K=I[J&u],P=D[J&u],P===w||P===z?(K>=x&&(P=r),K=p[P]|0):P===r||P===v?(K<x&&(P=w),K=p[P]|0):K=p[K]|0):K=H;q[L]=K;L+=1;J+=F}}else if(arrayFill)q.fill(H,L,L+this.D+1),L+=this.D;else for(M=0;M<g;M+=1)q[L]=H,L+=1,q[L]=H,L+=1,q[L]=H,L+=1,q[L]=H,L+=1,q[L]=H,L+=1,q[L]=H,L+=1,q[L]=H,L+=1,q[L]=H,L+=1;M=E+=F}(this.Nb||this.gd)&&this.Di()&&this.Ie();B=f;for(c=1;c<b;c+=1)for(f=2<this.f?0===this.S?this.f/this.G*c|0:c<b/2?this.S/this.G*c*2|0:this.S+this.f/this.G*c|0:(this.cd+1)/this.G*
c|0,h+=n,this.Hd(h),F/=this.g,C*=this.g,e=.125>C?15:.25>C?7:.5>C?3:1>C?1:0,u=this.Ka&~e,t=this.Na&~e,A=~e,y=~e,E=-(this.B/2*F)+this.fd,G=-(this.D/2*F)+this.ed,L=0,M=E,e=0;e<this.B;e+=1){if((M&y)===(M&t))for(I=B[M&t],J=G,this.U&&(J+=.5*(M|0)),M=0;M<g;M+=1)(J&A)===(J&u)&&(K=I[J&u]|0,K>=f&&(q[L]=p[K])),L+=1,J+=F,(J&A)===(J&u)&&(K=I[J&u]|0,K>=f&&(q[L]=p[K])),L+=1,J+=F,(J&A)===(J&u)&&(K=I[J&u]|0,K>=f&&(q[L]=p[K])),L+=1,J+=F,(J&A)===(J&u)&&(K=I[J&u]|0,K>=f&&(q[L]=p[K])),L+=1,J+=F,(J&A)===(J&u)&&(K=I[J&
u]|0,K>=f&&(q[L]=p[K])),L+=1,J+=F,(J&A)===(J&u)&&(K=I[J&u]|0,K>=f&&(q[L]=p[K])),L+=1,J+=F,(J&A)===(J&u)&&(K=I[J&u]|0,K>=f&&(q[L]=p[K])),L+=1,J+=F,(J&A)===(J&u)&&(K=I[J&u]|0,K>=f&&(q[L]=p[K])),L+=1,J+=F;else L+=g<<3;M=E+=F}};a.prototype.qh=function(c,f,e){var g=Math.sin(this.Ca/180*Math.PI)/this.ta,p=Math.cos(this.Ca/180*Math.PI)/this.ta,q=this.D,r=this.B,w=-(this.D/2*-g+this.B/2*p)+this.fd,v=-(this.D/2*p+this.B/2*g)+this.ed,z=w+q*-g,b=v+q*p,h=w+r*p;r=v+r*g;g=h+q*-g;p=r+q*p;q=w;var n=v;b<n&&(n=b);
r<n&&(n=r);p<n&&(n=r);b>v&&(v=b);r>v&&(v=r);p>v&&(v=p);z<q&&(q=z);h<q&&(q=h);g<q&&(q=g);z>w&&(w=z);h>w&&(w=h);g>w&&(w=g);0>(n|0)||(v|0)>=this.width||0>(q|0)||(w|0)>=this.height?0===this.Ca?this.os(c,f,e):this.ns(c,f,e):0===this.Ca?this.qs(c,f,e):this.ps(c,f,e)};a.prototype.lq=function(){var c;if(!this.Ke.data.buffer){var f=this.Ke.data;var e=this.Wi;var g=e.length;for(c=0;c<g;)f[c]=e[c],c+=1,f[c]=e[c],c+=1,f[c]=e[c],c+=1,f[c]=e[c],c+=1}this.context.putImageData(this.Ke,0,0)};a.prototype.ip=function(c){var f=
0,e=this.B,g=this.D,p=this.Id,q=this.bi;if(arrayFill)p.fill(c);else for(c=0;c<e;c+=1)p.set(q,f),f+=g};window.LifeConstants=k;window.Life=a})();(function(){function d(m,l){var a;m=m.replace(/&amp;/gi,"&");l&&(m=m.replace(/[=]/gm," = "),m=m.replace(/\n/gm," _NEWLINE_ "));m=m.match(/\S+/g);this.g=[];for(a=0;a<m.length;a+=1){if(l&&"#"===m[a][0]){for(a+=1;a<m.length&&"_NEWLINE_"!==m[a];)a+=1;a<m.length&&(a+=1)}a<m.length&&(this.g[this.g.length]=m[a])}this.current=0}d.prototype.LE=function(){var m=!1;this.g&&this.current<this.g.length&&"_NEWLINE_"===this.g[this.current]&&(m=!0);return m};d.prototype.py=function(m){var l=!1;"_NEWLINE_"===m&&(l=
!0);return l};d.prototype.T=function(){var m="";this.g&&this.current<this.g.length&&(m=this.g[this.current],this.current+=1);return m};d.prototype.yq=function(){var m;for(m=this.T();"_NEWLINE_"===m;)m=this.T();return m};d.prototype.ka=function(){var m="";this.g&&this.current<this.g.length&&(m=this.g[this.current]);return m};d.prototype.Tk=function(m,l){var a=-1,k=this.current;-1!==l&&0<=l&&l<this.g.length&&(k=l);if(this.g)for(;k<this.g.length&&-1===a;)this.g[k]===m&&(a=k),k+=1;-1!==a&&(this.current=
k);return a};d.prototype.im=function(m){return!isNaN(parseFloat(m))&&isFinite(Number(m))};d.prototype.A=function(m){var l=!1,a=m.indexOf("/");-1!==a&&(l=m.substr(0,a),m=m.substr(a+1),l=this.im(l)&&this.im(m));return l};d.prototype.Ss=function(m){var l=0;if(this.A(m)){var a=m.indexOf("/");var k=m.substr(0,a);m=m.substr(a+1);0!==Number(m)&&(l=Number(k)/Number(m))}else this.im(m)&&(l=parseFloat(m));return l};d.prototype.I=function(){var m=this.T();return this.Ss(m)};d.prototype.H=function(){var m=!1;
if(this.g&&this.current<this.g.length){var l=this.g[this.current];this.A(l)?m=!0:m=this.im(l)}return m};d.prototype.qD=function(){this.g&&(this.current=this.g.length)};window.Script=d})();(function(){function d(f){this.R=f;this.ol=this.Dg=this.hm=!1;this.xf=c.zu;this.gi=c.zm;this.Aa=this.ob=-1;this.angle=this.y=this.x=0;this.depth=this.G=this.zoom=1;this.Qb=0;this.Ob=60;this.step=1;this.Ic=this.Cb=0;this.oe="";this.yo=this.Vk=this.Mr=this.gp=this.lj=this.jj=this.Lv=this.rA=this.Po=this.Hj=this.ik=this.Qg=this.Ag=this.Ce=this.yg=this.Gg=this.pd=this.og=this.Fe=this.hf=this.nc=this.ek=this.jg=this.ig=this.hg=this.be=!1}function m(f,e,g,p,q,r,w,v,z,b,h,n,x,u,t,A,y){this.coords=f;this.Vt=
e;this.zoom=g;this.nf=p;this.alpha=q;this.size=r;this.Bb=w;this.Kf=v;this.Hc=z;this.angle=b;this.pj=h;this.Yj=n;this.mk=x;this.nk=u;this.ne=t;this.wj=A;this.xj=y}function l(f,e,g,p,q,r,w,v,z,b,h,n,x,u,t,A,y,B,C,F){this.Nw=f;this.Pw=e;this.UA=g;this.VA=p;this.zoom=q;this.nf=r;this.alpha=w;this.size=v;this.hy=z;this.Bb=b;this.Kf=h;this.Hc=n;this.angle=x;this.pj=u;this.Yj=t;this.mk=A;this.nk=y;this.ne=B;this.wj=C;this.xj=F}function a(f,e,g,p,q,r,w,v,z,b,h,n,x,u,t,A,y){this.message="";this.x=f;this.y=
e;this.zoom=g;this.nf=p;this.alpha=q;this.size=r;this.Bb=w;this.Kf=v;this.Hc=z;this.angle=b;this.pj=h;this.Yj=n;this.mk=x;this.nk=u;this.ne=t;this.wj=A;this.xj=y}function k(){this.ua=[];this.Eb=[];this.ge=[];this.ae=[];this.ke=[];this.current=new d(this);this.Ea=new d(this);this.A=new d(this);this.R=!1;this.Xi=0;this.aa=!1}var c={zu:0,play:1,stop:2,zm:12,oz:0,nz:200};d.prototype.set=function(f){this.hm=f.hm;this.Dg=f.Dg;this.ol=f.ol;this.xf=f.xf;this.gi=f.gi;this.ob=f.ob;this.Aa=f.Aa;this.x=f.x;this.y=
f.y;this.hg=f.hg;this.ig=f.ig;this.jg=f.jg;this.be=f.be;this.angle=f.angle;this.zoom=f.zoom;this.G=f.G;this.depth=f.depth;this.Qb=f.Qb;this.Ob=f.Ob;this.Cb=f.Cb;this.Ic=f.Ic;this.oe=f.oe;this.ek=f.ek;this.nc=f.nc};d.prototype.g=function(){var f="";switch(this.xf){case c.play:f=Keywords.Am;break;case c.stop:f=Keywords.Bm}return f};d.prototype.jG=function(f){this.Dg?(this.xf!==c.zu&&(f[f.length]=[Keywords.Am,"overwrites "+this.g()]),this.xf=c.play):f[f.length]=[Keywords.Am,"only valid at POI"]};d.prototype.oG=
function(f){this.Dg?(this.xf!==c.zu&&(f[f.length]=[Keywords.Bm,"overwrites "+this.g()]),this.xf=c.stop):f[f.length]=[Keywords.Bm,"only valid at POI"]};d.prototype.kG=function(f){this.Dg?(this.ol&&(f[f.length]=[Keywords.uo,"already defined"]),this.ol=!0):f[f.length]=[Keywords.uo,"only valid at POI"]};d.prototype.sG=function(f,e){this.Dg?(this.gi!==c.zm&&(e[e.length]=[Keywords.vo+" "+f,"overwrites "+this.gi]),this.gi=f):e[e.length]=[Keywords.vo,"only valid at POI"]};d.prototype.A=function(f,e,g){var p=
f.Ic+0,q=e.Ic+0,r=f.angle+0,w=e.angle+0,v=1,z=1,b=1,h=1,n=1;g>q&&(g=q);q-p===ViewConstants.yG&&(p=q);q!==p&&(v=Math.round((g-p)/(q-p)*1E6)/1E6,z=this.R.gx(v)+0);e.hg||e.be?b=v:b=z;e.ig||e.be?h=v:h=z;e.jg||e.be?n=v:n=z;this.x=f.x+b*(e.x-f.x);this.y=f.y+h*(e.y-f.y);this.zoom=f.zoom*Math.pow(e.zoom/f.zoom,n);180<w-r?r+=360:-180>w-r&&(w+=360);this.angle=(r+z*(w-r))%360;this.G=f.G+v*(e.G-f.G)|0;this.depth=f.depth+v*(e.depth-f.depth);this.Qb=e.Qb;this.Ob=e.Ob;this.step=e.step;this.Cb=f.Cb+v*(e.Cb-f.Cb)|
0;this.Ic=g;this.oe=e.oe;this.be=e.be;this.hm=e.hm};k.prototype.yC=function(f,e,g,p,q,r,w,v,z,b,h,n,x,u,t,A,y){return new m(f,e,g,p,q,r,w,v,z,b,h,n,x,u,t,A,y)};k.prototype.tb=function(){this.ke=[]};k.prototype.FB=function(f){this.ke[this.ke.length]=f};k.prototype.sC=function(f,e,g,p,q,r,w,v,z,b,h,n,x,u,t,A,y,B,C,F){return new l(f,e,g,p,q,r,w,v,z,b,h,n,x,u,t,A,y,B,C,F)};k.prototype.Wa=function(){this.ae=[]};k.prototype.zB=function(f){this.ae[this.ae.length]=f};k.prototype.vC=function(f,e,g,p,q,r,w,
v,z,b,h,n,x,u,t,A,y){return new a(f,e,g,p,q,r,w,v,z,b,h,n,x,u,t,A,y)};k.prototype.$a=function(){this.ge=[]};k.prototype.Uw=function(f){this.ge[this.ge.length]=f};k.prototype.pm=function(){return this.ge.length+this.ae.length+this.ke.length};k.prototype.eC=function(){this.$a();this.Wa();this.tb()};k.prototype.cF=function(f){var e="",g="";0<=f&&f<this.ke.length&&(f=this.ke[f],f.Yj&&(g="*"),e=f.Vt?"FILL\t":"LINE\t",e+="X1"+g+" "+f.coords[0]+"\tY1"+g+" "+f.coords[1]);return e};k.prototype.dF=function(f){var e=
"",g="";0<=f&&f<this.ke.length&&(e=this.ke[f],f=e.zoom,0<=f&&1>f&&(f=-1/f),e.pj&&(g="*"),e="Z "+f.toFixed(1)+"\tA"+g+" "+e.angle.toFixed(1));return e};k.prototype.eF=function(f){var e="";0<=f&&f<this.ke.length&&(f=this.ke[f],e="Alpha "+f.alpha.toFixed(1),-1!==f.Bb&&(e+="\tT1 "+f.Bb+"\tT2 "+f.Kf,0<f.Hc&&(e+="\tFade "+f.Hc)));return e};k.prototype.fF=function(f){var e="";0<=f&&f<this.ke.length&&(e=this.ke[f].nf);return e};k.prototype.QB=function(f){var e="",g="";0<=f&&f<this.ae.length&&(f=this.ae[f],
f.Yj&&(g="*"),e="X1"+g+" "+f.Nw+"\tY1"+g+" "+f.Pw,e+="\tX2"+g+" "+f.UA+"\tY2"+g+" "+f.VA);return e};k.prototype.RB=function(f){var e="",g="";0<=f&&f<this.ae.length&&(e=this.ae[f],f=e.zoom,0<=f&&1>f&&(f=-1/f),e.pj&&(g="*"),e="Z "+f.toFixed(1)+"\tA"+g+" "+e.angle.toFixed(1));return e};k.prototype.SB=function(f){var e="";0<=f&&f<this.ae.length&&(f=this.ae[f],e="Alpha "+f.alpha.toFixed(1),-1!==f.Bb&&(e+="\tT1 "+f.Bb+"\tT2 "+f.Kf,0<f.Hc&&(e+="\tFade "+f.Hc)));return e};k.prototype.vp=function(f){var e=
"";0<=f&&f<this.ae.length&&(e=this.ae[f].nf);return e};k.prototype.jE=function(f){var e="",g="",p="";if(0<=f&&f<this.ge.length){var q=this.ge[f];f=q.zoom;0<=f&&1>f&&(f=-1/f);q.Yj&&(g="*");q.pj&&(p="*");e="X"+g+" "+q.x+"\tY"+g+" "+q.y;e+="\tZ "+f.toFixed(1)+"\tA"+p+" "+q.angle.toFixed(1)}return e};k.prototype.kE=function(f){var e="";0<=f&&f<this.ge.length&&(f=this.ge[f],e="Alpha "+f.alpha.toFixed(1),-1!==f.Bb&&(e+="\tT1 "+f.Bb+"\tT2 "+f.Kf,0<f.Hc&&(e+="\tFade "+f.Hc)));return e};k.prototype.lE=function(f){var e=
"";0<=f&&f<this.ge.length&&(f=this.ge[f],e="Size "+f.size+'\t"'+f.message+'"');return e};k.prototype.mE=function(f){var e="";0<=f&&f<this.ge.length&&(e=this.ge[f].nf);return e};k.prototype.$c=function(){this.ge.sort(function(f,e){return f.zoom-e.zoom})};k.prototype.Qc=function(){this.ae.sort(function(f,e){return f.zoom-e.zoom})};k.prototype.ad=function(){this.ke.sort(function(f,e){return f.zoom-e.zoom})};k.prototype.AG=function(){this.$c();this.Qc();this.ad()};k.prototype.fa=function(f,e){var g,p=
f.a,q=p.context,r=p.width/2-p.ga-p.mb,w=p.height/2-p.da-p.bb,v=p.zoom*p.ac,z=p.D/2,b=p.B/2,h=f.a.u,n=p.U?-(p.height>>2):0,x=0,u=0,t=0,A=0,y=0;p.U&&(r+=w/2);e&&(q.strokeStyle=ViewConstants.UB);for(g=0;g<this.ae.length;g+=1){var B=this.ae[g];var C=!0;-1!==B.Bb&&(h<B.Bb||h>B.Kf)&&(C=!1);if(C){var F=B.size*v/B.zoom;var E=B.size/4;var G=4*B.size;e&&(x=1,24<=F&&(x=2,48<=F&&(x=3)));if(F>=E&&F<=G){E=Math.log(F/E)/Math.log(G/E);E=.25>=E?4*E:.75<=E?4*(1-E):1;G=1;-1!==B.Bb&&0<B.Hc&&(h-B.Bb<B.Hc?G=(h-B.Bb+1)/
B.Hc:B.Kf-h<B.Hc&&(G=(B.Kf-h+1)/B.Hc));C=!0;var H=1;if(-1!==B.ne){var L=Math.sqrt((-(r+n)-B.mk)*(-(r+n)-B.mk)+(-w-B.nk)*(-w-B.nk));L>B.ne?C=!1:0<B.ne&&.75<L/B.ne&&(H=4*(1-L/B.ne))}C&&(q.globalAlpha=E*B.alpha*G*H,H=B.Pw+w-(f.cb>>1)+.5,E=B.Nw+r+n-(f.Xa>>1)+.5,B.Yj||(E+=p.mb,H+=p.bb),-1!==B.Bb?(E+=B.wj*(f.Ta-B.Bb),H+=B.xj*(f.Ta-B.Bb)):(E+=B.wj*f.Ta,H+=B.xj*f.Ta),0!==p.Ca&&(G=Math.sqrt(E*E+H*H),C=180/Math.PI*Math.atan2(H,E),C+=p.Ca,E=G*Math.cos(Math.PI/180*C),H=G*Math.sin(Math.PI/180*C)),p.U&&(E-=H/2),
C=H*v+b,L=E*v+z,E=(B.UA-B.Nw)*v,G=(B.VA-B.Pw)*v,p.U&&(E-=G/2),H=0===B.hy?0:Math.sqrt(E*E+G*G)*B.hy,q.save(),q.translate(L,C),C=B.angle,B.pj||(C+=p.Ca),q.rotate(C/180*Math.PI),q.lineWidth=F,e||(q.strokeStyle=B.nf),q.lineCap="round",q.lineJoin="round",0<H&&(B=Math.atan2(G,E),u=Math.cos(.85*Math.PI+B),t=Math.sin(.85*Math.PI+B),A=Math.cos(.85*-Math.PI+B),y=Math.sin(.85*-Math.PI+B)),0<x&&q.translate(x,x),q.beginPath(),q.moveTo(0,0),q.lineTo(E,G),0<H&&(q.moveTo(E,G),q.lineTo(E+H*u,G+H*t),q.moveTo(E,G),
q.lineTo(E+H*A,G+H*y)),q.stroke(),q.restore())}}}q.globalAlpha=1};k.prototype.zb=function(f){this.fa(f,!0);this.fa(f,!1)};k.prototype.ha=function(f,e){var g,p=f.a,q=p.context,r=p.width/2-p.ga-p.mb,w=p.height/2-p.da-p.bb,v=p.zoom*p.ac,z=p.D/2,b=p.B/2,h=f.a.u,n=p.U?-(p.height>>2):0,x=0;e&&(q.strokeStyle=ViewConstants.qz,q.fillStyle=ViewConstants.qz);p.U&&(r+=w/2);for(g=0;g<this.ke.length;g+=1){var u=this.ke[g];var t=u.coords;var A=t.length;var y=!0;-1!==u.Bb&&(h<u.Bb||h>u.Kf)&&(y=!1);if(y){var B=u.size*
v/u.zoom;var C=u.size/4;var F=4*u.size;e&&(x=1,24<=B&&(x=2,48<=B&&(x=3)));if(B>=C&&B<=F){C=Math.log(B/C)/Math.log(F/C);C=.25>=C?4*C:.75<=C?4*(1-C):1;F=1;-1!==u.Bb&&0<u.Hc&&(h-u.Bb<u.Hc?F=(h-u.Bb+1)/u.Hc:u.Kf-h<u.Hc&&(F=(u.Kf-h+1)/u.Hc));y=!0;var E=1;if(-1!==u.ne){var G=Math.sqrt((-(r+n)-u.mk)*(-(r+n)-u.mk)+(-w-u.nk)*(-w-u.nk));G>u.ne?y=!1:0<u.ne&&.75<G/u.ne&&(E=4*(1-G/u.ne))}if(y){q.globalAlpha=C*u.alpha*F*E;C=0;E=t[C]+r+n-(f.Xa>>1)+.5;F=t[C+1]+w-(f.cb>>1)+.5;C+=2;u.Yj||(E+=p.mb,F+=p.bb);-1!==u.Bb?
(E+=u.wj*(f.Ta-u.Bb),F+=u.xj*(f.Ta-u.Bb)):(E+=u.wj*f.Ta,F+=u.xj*f.Ta);0!==p.Ca&&(y=Math.sqrt(E*E+F*F),F=180/Math.PI*Math.atan2(F,E),F+=p.Ca,E=y*Math.cos(Math.PI/180*F),F=y*Math.sin(Math.PI/180*F));p.U&&(E-=F/2);F=F*v+b;G=E*v+z;E=(t[C]-t[0])*v;y=(t[C+1]-t[1])*v;p.U&&(E-=y/2);C+=2;q.save();q.translate(G,F);F=u.angle;u.pj||(F+=p.Ca);q.rotate(F/180*Math.PI);q.lineWidth=B;e||(u.Vt?q.fillStyle=u.nf:q.strokeStyle=u.nf);q.lineCap="round";q.lineJoin="round";0<x&&q.translate(x,x);q.beginPath();q.moveTo(0,0);
for(q.lineTo(E,y);C<A;)E=(t[C]-t[0])*v,y=(t[C+1]-t[1])*v,p.U&&(E-=y/2),C+=2,q.lineTo(E,y);u.Vt?q.fill():q.stroke();q.restore()}}}}q.globalAlpha=1};k.prototype.ec=function(f){this.ha(f,!0);this.ha(f,!1)};k.prototype.Lb=function(f){var e,g=f.a,p=g.context,q=g.width/2-g.ga-g.mb,r=g.height/2-g.da-g.bb,w=g.zoom*g.ac,v=g.D/2,z=g.B/2,b=ViewConstants.pE,h="px "+ViewConstants.nE,n=f.a.u,x=g.U?-(g.height>>2):0;g.U&&(q+=r/2);for(e=0;e<this.ge.length;e+=1){var u=this.ge[e];var t=!0;-1!==u.Bb&&(n<u.Bb||n>u.Kf)&&
(t=!1);if(t){var A=u.size*w/u.zoom;var y=u.size/4;var B=4*u.size;var C=1;24<=A&&(C=2,48<=A&&(C=3));if(A>=y&&A<=B){y=Math.log(A/y)/Math.log(B/y);p.font=A+h;y=.25>=y?4*y:.75<=y?4*(1-y):1;B=1;-1!==u.Bb&&0<u.Hc&&(n-u.Bb<u.Hc?B=(n-u.Bb+1)/u.Hc:u.Kf-n<u.Hc&&(B=(u.Kf-n+1)/u.Hc));t=!0;var F=1;if(-1!==u.ne){var E=Math.sqrt((-(q+x)-u.mk)*(-(q+x)-u.mk)+(-r-u.nk)*(-r-u.nk));E>u.ne?t=!1:0<u.ne&&.75<E/u.ne&&(F=4*(1-E/u.ne))}if(t){p.globalAlpha=y*u.alpha*B*F;t=u.x+q+x-(f.Xa>>1)+.5;F=u.y+r-(f.cb>>1)+.5;u.Yj||(t+=
g.mb,F+=g.bb);-1!==u.Bb?(t+=u.wj*(f.Ta-u.Bb),F+=u.xj*(f.Ta-u.Bb)):(t+=u.wj*f.Ta,F+=u.xj*f.Ta);0!==g.Ca&&(y=Math.sqrt(t*t+F*F),F=180/Math.PI*Math.atan2(F,t),F+=g.Ca,t=y*Math.cos(Math.PI/180*F),F=y*Math.sin(Math.PI/180*F));g.U&&(t-=F/2);y=u.message;B=y.indexOf("\\n");F=F*w+z;t=t*w+v;p.save();p.translate(t,F);F=u.angle;u.pj||(F+=g.Ca);p.rotate(F/180*Math.PI);for(F=0;-1!==B;)t=y.substr(0,B),y=y.substr(B+2),B=p.measureText(t).width>>1,p.fillStyle=b,p.fillText(t,-B+C,F+C),p.fillStyle=u.nf,p.fillText(t,
-B,F),F+=A,B=y.indexOf("\\n");B=p.measureText(y).width>>1;p.fillStyle=b;p.fillText(y,-B+C,F+C);p.fillStyle=u.nf;p.fillText(y,-B,F);p.restore()}}}}p.globalAlpha=1};k.prototype.xt=function(f){this.ec(f);this.zb(f);this.Lb(f)};k.prototype.CG=function(f){var e;for(e=this.ua.length-1;0<=e;--e){var g=this.ua[e];g.Ic>f&&g.yo&&(this.Xi=e,g.yo=!1)}};k.prototype.JF=function(){var f;for(f=0;f<this.ua.length;f+=1)this.ua[f].yo=!1;this.Xi=0;this.aa=!1};k.prototype.Np=function(){return new d(this)};k.prototype.gx=
function(f){return-2*Math.pow(f,3)+3*Math.pow(f,2)+0*f};k.prototype.reset=function(){this.ua=[];this.Eb=[];this.R=!1;this.Xi=0};k.prototype.qE=function(){return this.ua[this.ua.length-1]};k.prototype.sD=function(f){var e=this.uc(f),g=this.ua[e];f>g.Cb?f=g.Ic+1E3*(f-g.Cb)/(g.Ob*g.step):0<e?(e=this.ua[e-1],f=e.Ic+1E3*(f-e.Cb)/(g.Ob*g.step)):f=1E3*f/(g.Ob*g.step);return f};k.prototype.BC=function(f,e,g,p,q,r,w,v,z,b,h){var n=this.Ea;n.x=f;n.y=e;n.zoom=g;n.angle=p;n.Ob=v;n.step=z;n.G=q;n.depth=r;n.Qb=
w;n.Cb=b;this.R&&(h=this.A.Ic);n.Ic=h-1E3;this.update(null,h,b);this.A.set(this.current);this.A.be=!1;this.A.Ic=h;this.R=!0;return n.Ic};k.prototype.Gn=function(){return this.ua[0]};k.prototype.NE=function(){return this.ua.length};k.prototype.add=function(f){f.Dg?this.Eb[this.Eb.length]=f:this.ua[this.ua.length]=f};k.prototype.ex=function(f){var e=!1;this.Xi>=this.ua.length-1&&f>=this.ua[this.Xi].Ic&&(e=!0);return e};k.prototype.g=function(f){return f===(f|0)?String(f|0):String(f.toFixed(1))};k.prototype.YE=
function(f){var e="";0<=f&&f<this.Eb.length&&(f=this.Eb[f],f.hf&&(e+=" X "+-f.x),f.Fe&&(e+=" Y "+-f.y),f.pd&&(e+=" ZOOM "+this.g(f.zoom)),f.og&&(e+=" ANGLE "+f.angle));return e.substr(1)};k.prototype.mz=function(f){var e="";0<=f&&f<this.Eb.length&&(f=this.Eb[f],f.ol&&(e+=" POIRESET"),f.xf===c.play?e+=" POIPLAY":f.xf===c.stop&&(e+=" POISTOP"),f.gi!==c.zm&&(e+=" POITRANS "+f.gi));return e.substr(1)};k.prototype.ZE=function(f){var e="";0<=f&&f<this.Eb.length&&(f=this.Eb[f],f.Hj&&(e+=" LOOP "+(-1===f.Aa?
"OFF":f.Aa)),f.ik&&(e+=" STOP "+(-1===f.ob?"OFF":f.ob)),f.Ag&&(e+=" GPS "+f.Ob),f.Qg&&(e+=" STEP "+f.step));return e.substr(1)};k.prototype.mz=function(f){var e="";0<=f&&f<this.Eb.length&&(f=this.Eb[f],f.ol&&(e+=" POIRESET"),f.xf===c.play?e+=" POIPLAY":f.xf===c.stop&&(e+=" POISTOP"),f.gi!==c.zm&&(e+=" POITRANS "+f.gi));return e.substr(1)};k.prototype.bF=function(f){var e="";0<=f&&f<this.Eb.length&&(f=this.Eb[f],f.Ce&&(e+=" THEME "+f.Qb),f.yg&&(e+=" DEPTH "+this.g(f.depth)),f.Gg&&(e+=" LAYERS "+f.G));
return e.substr(1)};k.prototype.aF=function(f){var e="";0<=f&&f<this.Eb.length&&(f=this.Eb[f],f.Po&&(e+=" POIT "+f.Cb));return e.substr(1)};k.prototype.$E=function(f){var e=Keywords.Ec,g="";0<=f&&f<this.Eb.length&&(f=this.Eb[f],""!==f.oe&&(g+=" "+e+f.oe+e));return g.substr(1)};k.prototype.kH=function(f){var e=Keywords.Ec,g="";if(0<=f&&f<this.ua.length){var p=this.ua[f];0<f?(f=this.ua[f-1],g=p.Cb===f.Cb?"P "+this.g((p.Ic-f.Ic|0)/1E3):"T "+p.Cb,p.be?g+=" F":(p.x!==f.x&&(g+=" X "+-p.x),p.y!==f.y&&(g+=
" Y "+-p.y),p.zoom!==f.zoom&&(g+=" Z "+this.g(p.zoom))),p.angle!==f.angle&&(g+=" A "+p.angle),p.G!==f.G&&(g+=" L "+p.G),p.depth!==f.depth&&(g+=" D "+this.g(p.depth)),p.Qb!==f.Qb&&(g+=" C "+p.Qb),p.Ob!==f.Ob&&(g+=" G "+p.Ob),p.step!==f.step&&(g+=" S "+p.step),""!==p.oe&&(g+=" "+e+p.oe+e)):g="T "+p.Cb+" X "+-p.x+" Y "+-p.y+" Z "+this.g(p.zoom)+" A "+p.angle+" L "+p.G+" D "+this.g(p.depth)+" C "+p.Qb+" G "+p.Ob+" S "+p.step}return g};k.prototype.update=function(f,e,g){var p=this.ua.length,q=!1,r=this.Xi,
w=r,v=!1;if(this.R)this.current.A(this.Ea,this.A,e),e>=this.A.Ic&&(this.R=!1);else{for(;r<p&&!q;){var z=this.ua[r];z.Ic>=e||!z.yo?q=!0:r+=1}q?(this.ua[r].yo=!0,0<r?(this.ua[r].be&&(this.ua[r].x=this.current.x,this.ua[r].y=this.current.y,this.ua[r].zoom=this.current.zoom),this.current.A(this.ua[r-1],this.ua[r],e)):(r=0,this.current.set(this.ua[r]))):(r=p-1,this.current.set(this.ua[r]),g>=this.current.Cb&&this.aa&&(v=!0),this.aa=!0);this.Xi=r}this.Xi!==w&&this.current.hm&&f&&f.l.JB();return v};k.prototype.uc=
function(f){for(var e=0,g=!1,p=this.ua,q=this.ua.length;e<q&&!g;)p[e].Cb>=f?g=!0:e+=1;g||(e=q-1);return e};k.prototype.Nc=function(f,e,g,p){if(0===this.ua.length)g[g.length]=[f+" "+Keywords.vb,"no initial waypoint defined"];else switch(f){case Keywords.Td:e.hf&&(g[g.length]=[f+" "+Keywords.vb,p?"already defined":"overwrites "+-e.x]);e.x=this.ua[0].x;e.hf=!0;break;case Keywords.Ud:e.Fe&&(g[g.length]=[f+" "+Keywords.vb,p?"already defined":"overwrites "+-e.y]);e.y=this.ua[0].y;e.Fe=!0;break;case Keywords.Rc:e.pd&&
(g[g.length]=[f+" "+Keywords.vb,p?"already defined":"overwrites "+this.g(1>e.zoom?-(1/e.zoom):e.zoom)]);e.zoom=this.ua[0].zoom;e.pd=!0;break;case Keywords.qj:e.og&&(g[g.length]=[f+" "+Keywords.vb,p?"already defined":"overwrites "+e.angle]);e.angle=this.ua[0].angle;e.og=!0;break;case Keywords.Nk:e.yg&&(g[g.length]=[f+" "+Keywords.vb,p?"already defined":"overwrites "+this.g(e.depth)]);e.depth=this.ua[0].depth;e.yg=!0;break;case Keywords.al:e.Gg&&(g[g.length]=[f+" "+Keywords.vb,p?"already defined":"overwrites "+
e.G]);e.G=this.ua[0].G;e.Gg=!0;break;case Keywords.Zi:e.Ce&&(g[g.length]=[f+" "+Keywords.vb,p?"already defined":"overwrites "+e.Qb]);e.Qb=this.ua[0].Qb;e.Ce=!0;break;case Keywords.Uk:e.Ag&&(g[g.length]=[f+" "+Keywords.vb,p?"already defined":"overwrites "+e.Ob]);e.Ob=this.ua[0].Ob;e.Ag=!0;break;case Keywords.wl:e.Qg&&(g[g.length]=[f+" "+Keywords.vb,p?"already defined":"overwrites "+e.step]);e.step=this.ua[0].step;e.Qg=!0;break;case Keywords.Eh:e.ik&&(g[g.length]=[f+" "+Keywords.vb,p?"already defined":
"overwrites "+(-1===e.ob?"OFF":e.ob)]);e.ob=this.ua[0].ob;e.ik=!0;break;case Keywords.sh:e.Hj&&(g[g.length]=[f+" "+Keywords.vb,p?"already defined":"overwrites "+(-1===e.Aa?"OFF":e.Aa)]);e.Aa=this.ua[0].Aa;e.Hj=!0;break;default:g[g.length]=[f+" "+Keywords.vb,"illegal command before "+Keywords.vb]}};k.prototype.kC=function(f,e){this.Nc(Keywords.Td,f,e,!1);this.Nc(Keywords.Ud,f,e,!1);this.Nc(Keywords.Rc,f,e,!1);this.Nc(Keywords.qj,f,e,!1);this.Nc(Keywords.al,f,e,!1);this.Nc(Keywords.Nk,f,e,!1);this.Nc(Keywords.Zi,
f,e,!1);this.Nc(Keywords.Uk,f,e,!1);this.Nc(Keywords.wl,f,e,!1);this.Nc(Keywords.sh,f,e,!1);this.Nc(Keywords.Eh,f,e,!1)};k.prototype.hF=function(f){var e,g=this.ua,p=this.ua.length;for(e=1;e<p;e+=1){var q=g[e-1];var r=g[e];r.hf||(r.x=q.x);r.Fe||(r.y=q.y);r.jj||(r.hg=q.hg);r.lj||(r.ig=q.ig);r.gp||(r.jg=q.jg);r.og||(r.angle=q.angle);r.pd||(r.zoom=q.zoom);r.Gg||(r.G=q.G);r.yg||(r.depth=q.depth);r.Ce||(r.Qb=q.Qb);r.Ag||(r.Ob=q.Ob);r.Qg||(r.step=q.step);r.Po?r.Cb<=q.Cb&&(f[f.length]=[Keywords.Oo+" "+r.Cb,
"target generation must be later than previous ("+q.Cb+")"]):r.Cb=q.Cb;r.Ic=r.rA?1E3*r.Ic+q.Ic:q.Ic+1E3*(r.Cb-q.Cb)/(r.Ob*r.step);r.Mr||(r.ek=q.ek);r.Vk||(r.nc=q.nc)}};window.Waypoint=d;window.WaypointManager=k;window.WaypointConstants=c})();(function(){function d(m,l){var a=this;this.Mw=m;this.l=l;this.top=this.left=0;""!==m.style.left&&(this.left=parseInt(m.style.left,10));""!==m.style.top&&(this.top=parseInt(m.style.top,10));this.xc=this.Ok=!1;this.Yn=this.Xn=this.$n=this.Zn=this.$h=this.Zh=-1;this.gv=this.offsetTop=this.offsetLeft=0;registerEvent(m,"mousedown",function(k){a.A(a,k)},!1);registerEvent(document,"mousemove",function(k){a.R(a,k)},!1);registerEvent(document,"mouseup",function(k){a.aa(a,k)},!1);registerEvent(m,"touchstart",
function(k){a.g(a,k)},!1);registerEvent(m,"touchmove",function(k){a.g(a,k)},!1);registerEvent(m,"touchend",function(k){a.g(a,k)},!1);registerEvent(window,"resize",function(){a.Oz(a)},!1)}d.prototype.Oz=function(m){m.kA(m.left+m.gv,m.top,m.Mw);m.gv=0};d.prototype.XG=function(m,l){this.kA(this.left+m,this.top+l,this.Mw)};d.prototype.kA=function(m,l,a){var k=window.innerWidth-a.clientWidth,c=window.innerHeight-a.clientHeight;window.innerHeight<document.getElementsByTagName("body")[0].clientHeight&&(k-=
21);0>m&&(m=0);0>l&&(l=0);m>k&&(m=k);l>c&&(l=c);a.style.left=m+"px";a.style.top=l+"px";a.style.position="fixed";this.left=m;this.top=l};d.prototype.jC=function(){var m=this.Mw,l=m.offsetParent;this.offsetLeft=m.offsetLeft;for(this.offsetTop=m.offsetTop;l;)this.offsetLeft+=l.offsetLeft,this.offsetTop+=l.offsetTop,l=l.offsetParent;l=m.parentNode;if("fixed"===l.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;
else for(;"body"!==l.tagName.toLowerCase();)this.offsetLeft-=l.scrollLeft,this.offsetTop-=l.scrollTop,l=l.parentNode};d.prototype.g=function(m,l){var a="";if("touchend"===l.type){a="mouseup";var k=document.createEvent("MouseEvent");k.initMouseEvent(a,!0,!0,window,1,m.Zn,m.$n,m.Xn,m.Yn,!1,!1,!1,!1,0,null);l.target.dispatchEvent(k);l.preventDefault()}else{if(1===l.touches.length)switch(l.type){case "touchstart":a="mousedown";break;case "touchmove":a="mousemove"}if(""!==a){var c=l.changedTouches[0];
k=document.createEvent("MouseEvent");k.initMouseEvent(a,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null);c.target.dispatchEvent(k);l.preventDefault();m.Zn=c.screenX;m.$n=c.screenY;m.Xn=c.clientX;m.Yn=c.clientY}}};d.prototype.A=function(m,l){m.Jl(m,l);m.xc=!0;m.l.il=!0;l.stopPropagation&&l.stopPropagation();l.preventDefault()};d.prototype.aa=function(m,l){m.Ok&&m.xc&&(m.Jl(m,l),m.xc=!1,m.l.il=!1,l.stopPropagation&&l.stopPropagation(),l.preventDefault())};d.prototype.R=function(m,
l){if(m.Ok&&m.xc){var a=m.Zh,k=m.$h;m.Jl(m,l);m.xc&&m.XG(m.Zh-a,m.$h-k);m.Zh=a;m.$h=k;l.stopPropagation&&l.stopPropagation();l.preventDefault()}};d.prototype.Jl=function(m,l){if(l.pageX||l.pageY){var a=l.pageX;l=l.pageY}else a=l.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,l=l.clientY+document.body.scrollTop+document.documentElement.scrollTop;m.jC();a-=m.offsetLeft;l-=m.offsetTop;m.Zh=a-1|0;m.$h=l-1|0};window.PopupWindow=d})();(function(){function d(){this.key=new Uint8Array(256);this.A=this.g=0}d.prototype.de=function(m){var l,a,k=this.key;for(l=0;256>l;l+=1)k[l]=l;for(l=a=0;256>l;l+=1){a=a+k[l]+m.charCodeAt(l%m.length)&255;var c=k[l];k[l]=k[a];k[a]=c}this.A=this.g=0};d.prototype.random=function(){var m,l=0,a=1,k=this.key,c=this.g,f=this.A;for(m=0;8>m;m+=1){c=c+1&255;f=f+k[c]&255;var e=k[c];k[c]=k[f];k[f]=e;l+=k[k[c]+k[f]&255]*a;a*=256}this.g=c;this.A=f;return l/1.8446744073709552E19};window.Random=d;window.myRand=new d})();(function(){function d(m,l){this.hr=m;this.x=l.L(Float32,0,"Stars.x");this.y=l.L(Float32,0,"Stars.y");this.g=l.L(Float32,0,"Stars.z");this.blue=this.green=this.red=255;this.Si=new Random;this.Si.de(Date.now().toString());this.sin=l.L(Float32,0,"Stars.sin");this.cos=l.L(Float32,0,"Stars.cos");this.A=Math.PI/180;this.aa=180/Math.PI;this.o=l;this.R=!1}d.prototype.de=function(m,l,a){var k,c=this.hr,f=m*m+l*l;this.x=this.o.L(Float32,c,"Stars.x");this.y=this.o.L(Float32,c,"Stars.y");this.g=this.o.L(Float32,
c,"Stars.z");for(k=0;k<c;k+=1){var e=k/c*(k/c)*(k/c)*(k/c)*a+1;do{var g=3*(this.Si.random()*m-m/2);var p=3*(this.Si.random()*l-l/2)}while(g*g+p*p>f);this.x[k]=g;this.y[k]=p;this.g[k]=e}this.sin=this.o.L(Float32,2880,"Stars.sin");this.cos=this.o.L(Float32,2880,"Stars.cos");for(k=0;2880>k;)this.sin[k]=Math.sin(k/8*this.A),this.cos[k]=Math.cos(k/8*this.A),k+=1};d.prototype.rC=function(m,l,a,k,c,f,e,g){var p;this.R||(this.de(8192,8192,1024),this.R=!0);if(littleEndian){var q=g>>16&255;var r=g>>8&255;var w=
g&255}else w=g>>24&255,r=g>>16&255,q=g>>8&255;for(p=0;p<this.hr;p+=1){var v=this.x[p]+m;var z=this.y[p]+l;if(0!==k){var b=Math.sqrt(v*v+z*z);z=Math.atan2(z,v)*this.aa;z+=k;0>z?z+=360:360<=z&&(z-=360);z*=8;z|=0;v=b*this.cos[z];z=b*this.sin[z]}b=this.g[p]/a*2;v=c/2+v/b|0;z=f/2+z/b|0;if(0<v&&v<c-1&&0<z&&z<f-1){v+=z*c;b=1536/b|0;255<b&&(b=255);b/=255;if(e[v]===g){z=w+(this.red-w)*b;var h=r+(this.green-r)*b;var n=q+(this.blue-q)*b;z=littleEndian?-16777216|n<<16|h<<8|z:z<<24|n<<16|h<<8|255;e[v]=z}b/=2;
z=w+(this.red-w)*b;h=r+(this.green-r)*b;n=q+(this.blue-q)*b;z=littleEndian?-16777216|n<<16|h<<8|z:z<<24|n<<16|h<<8|255;--v;e[v]===g&&(e[v]=z);v+=2;e[v]===g&&(e[v]=z);--v;v-=c;e[v]===g&&(e[v]=z);v+=c+c;e[v]===g&&(e[v]=z)}}};window.Stars=d})();window.ScriptParser={Zk:function(d){switch(d){case Keywords.Kv:case Keywords.Et:case Keywords.vv:case Keywords.xv:case Keywords.Ft:case Keywords.wv:case Keywords.yu:case Keywords.ag:case Keywords.Vg:case Keywords.Nt:case Keywords.zv:case Keywords.jx:case Keywords.cv:case Keywords.ut:case Keywords.rr:case Keywords.Sm:case Keywords.Uu:case Keywords.sr:case Keywords.Su:case Keywords.Vu:case Keywords.Wu:case Keywords.Tu:case Keywords.Xu:case Keywords.rz:case Keywords.gn:case Keywords.Ls:case Keywords.Ns:case Keywords.Os:case Keywords.Ms:case Keywords.Ps:case Keywords.Qs:case Keywords.Wn:case Keywords.au:case Keywords.cu:case Keywords.du:case Keywords.bu:case Keywords.eu:case Keywords.fu:case Keywords.uu:case Keywords.wu:case Keywords.vu:case Keywords.Rt:case Keywords.$o:case Keywords.Mt:case Keywords.uo:case Keywords.Bm:case Keywords.Am:case Keywords.qr:case Keywords.vo:case Keywords.vb:case Keywords.Tf:case Keywords.ab:case Keywords.Ev:case Keywords.Fl:case Keywords.Zo:case Keywords.zq:case Keywords.gr:case Keywords.Jt:case Keywords.Kt:case Keywords.No:case Keywords.mu:case Keywords.xp:case Keywords.St:case Keywords.Mq:case Keywords.Oo:case Keywords.wl:case Keywords.Ou:case Keywords.Kn:case Keywords.Jn:case Keywords.Gv:case Keywords.va:case Keywords.bt:case Keywords.Td:case Keywords.Ud:case Keywords.js:case Keywords.ks:case Keywords.Rc:case Keywords.Ks:case Keywords.ny:case Keywords.sh:case Keywords.fp:case Keywords.tu:case Keywords.su:case Keywords.Vv:case Keywords.Sv:case Keywords.Qv:case Keywords.Uv:case Keywords.zp:case Keywords.Zj:case Keywords.Gm:case Keywords.qj:case Keywords.Zi:case Keywords.Uk:case Keywords.Eh:case Keywords.al:case Keywords.Nk:case Keywords.Xm:case Keywords.dm:case Keywords.xo:case Keywords.wo:case Keywords.$t:case Keywords.Dm:case Keywords.pl:case Keywords.lr:case Keywords.qq:case Keywords.kr:case Keywords.Iu:case Keywords.Hu:case Keywords.Fu:case Keywords.Ku:case Keywords.Eu:case Keywords.Gu:d=
!0;break;default:d=!1}return d},fl:function(d,m,l,a,k){var c=d.ka();""===c||this.Zk(c)?m[m.length]=[l,a+" missing"]:(m[m.length]=[l+" "+c,a+" must be "+k],d.T())},Kb:function(d,m,l,a,k){var c=!0,f=0,e=0,g=0,p=m.T();if(m.H()){f=m.I()|0;if(0>f||255<f)l[l.length]=[k+" "+p+" "+f,"RED out of range"];if(m.H()){e=m.I();if(0>e||255<e)l[l.length]=[k+" "+p+" "+f+" "+e,"GREEN out of range"];m.H()?(g=m.I(),0>g||255<g?l[l.length]=[k+" "+p+" "+f+" "+e+" "+g,"BLUE out of range"]:c=!1):this.fl(m,l,k+" "+p+" "+f+
" "+e,"BLUE","numeric")}else this.fl(m,l,k+" "+p+" "+f,"GREEN","numeric")}else{var q=m.ka();var r=ColourManager.Gd[q.toLowerCase()];void 0!==r?(m.T(),f=r[1],e=r[2],g=r[3],c=!1):""===q||this.Zk(q)?l[l.length]=[k+" "+p,"name missing"]:(l[l.length]=[k+" "+p+" "+q,"name not known"],m.T())}if(!c)switch(-1!==d.ba[a]&&a!==ViewConstants.vn&&a!==ViewConstants.rn&&a!==ViewConstants.wn&&(l[l.length]=[k+" "+p+" "+f+" "+e+" "+g,"overwrites "+(d.ba[a]>>16)+" "+(d.ba[a]>>8&255)+" "+(d.ba[a]&255)]),d.ba[a]=f<<16|
e<<8|g,a){case ViewConstants.tn:d.Dx=d.ba[a];d.vg=!0;break;case ViewConstants.un:d.Ex=d.ba[a];d.vg=!0;break;case ViewConstants.bq:d.Vi.red=f;d.Vi.green=e;d.Vi.blue=g;break;case ViewConstants.cq:d.Wf=[f,e,g];break;case ViewConstants.Wp:d.Ei=[f,e,g];d.ah="rgb("+f+","+e+","+g+")";break;case ViewConstants.vn:d.kt="rgb("+f+","+e+","+g+")";break;case ViewConstants.rn:d.jt="rgb("+f+","+e+","+g+")";break;case ViewConstants.wn:d.lt="rgb("+f+","+e+","+g+")";break;case ViewConstants.Up:d.uj=[f,e,g];d.a.Pl=d.a.Hg?
-16777216|g<<16|e<<8|f:f<<24|e<<16|g<<8|255;break;case ViewConstants.Zp:d.a.ih=[f,e,g];break;case ViewConstants.Yp:d.a.hh=[f,e,g];break;case ViewConstants.Xp:d.a.gh=[f,e,g];break;case ViewConstants.$p:d.a.jh=[f,e,g];break;case ViewConstants.aq:d.a.kh=[f,e,g];break;case ViewConstants.zn:case ViewConstants.xn:case ViewConstants.An:case ViewConstants.Cn:case ViewConstants.Bn:case ViewConstants.yn:break;default:d.vg=!0}},vG:function(d){var m=d.a.hb[d.a.ie],l=d.ba;m.Eq=d.a.rf;-1===l[ViewConstants.Yg]&&
(d=l[ViewConstants.wg],-1!==d?l[ViewConstants.Yg]=16777215-d:(d=l[ViewConstants.qf],l[ViewConstants.Yg]=-1!==d?16777215-d:16777215));-1===l[ViewConstants.qf]&&-1===l[ViewConstants.wg]&&(l[ViewConstants.qf]=16777215-l[ViewConstants.Yg]);d=l[ViewConstants.qf];-1===d&&(d=l[ViewConstants.wg]);m.Ja.red=d>>16;m.Ja.green=d>>8&255;m.Ja.blue=d&255;d=l[ViewConstants.Yg];m.La.K.red=d>>16;m.La.K.green=d>>8&255;m.La.K.blue=d&255;d=l[ViewConstants.Tp];-1===d&&(d=l[ViewConstants.Yg]);m.La.M.red=d>>16;m.La.M.green=
d>>8&255;m.La.M.blue=d&255;d=l[ViewConstants.wg];-1===d&&(d=l[ViewConstants.qf]);m.Ha.M.red=d>>16;m.Ha.M.green=d>>8&255;m.Ha.M.blue=d&255;d=l[ViewConstants.sn];-1===d&&(d=l[ViewConstants.wg],-1===d&&(d=l[ViewConstants.qf]));m.Ha.K.red=d>>16;m.Ha.K.green=d>>8&255;m.Ha.K.blue=d&255;d=l[ViewConstants.qf];-1===d&&(d=l[ViewConstants.wg]);m.zi.red=d>>16;m.zi.green=d>>8&255;m.zi.blue=d&255;d=l[ViewConstants.Yg];m.Sf.red=d>>16;m.Sf.green=d>>8&255;m.Sf.blue=d&255;d=l[ViewConstants.wg];-1===d&&(d=l[ViewConstants.qf]);
m.fc.M.red=d>>16;m.fc.M.green=d>>8&255;m.fc.M.blue=d&255;d=l[ViewConstants.sn];-1===d&&(d=l[ViewConstants.wg],-1===d&&(d=l[ViewConstants.qf]));m.fc.K.red=d>>16;m.fc.K.green=d>>8&255;m.fc.K.blue=d&255;d=l[ViewConstants.Vp];-1===d?m.Xl=!0:(m.Xl=!1,m.ub.M.red=d>>16,m.ub.M.green=d>>8&255,m.ub.M.blue=d&255);d=l[ViewConstants.mt];-1===d&&(d=l[ViewConstants.Vp],-1===d&&(d=l[ViewConstants.qf]));m.ub.K.red=d>>16;m.ub.K.green=d>>8&255;m.ub.K.blue=d&255;m.eG(l[ViewConstants.tn],l[ViewConstants.un])},Hr:function(d,
m){var l=d;d.length>m&&(l=d.substr(0,m-1)+"...");return l},HA:function(d,m,l,a){var k=d.indexOf("\\n");-1!==k&&(l?m[m.length]=[Keywords.Sm+" "+Keywords.Ec+this.Hr(d,23)+Keywords.Ec,"only one line allowed"]:(k=d.substr(k+2).indexOf("\\n"),-1===k||a||(m[m.length]=[Keywords.Ec+this.Hr(d,23),"only two lines allowed"])))},bv:function(d,m,l,a){var k=Keywords.Zi+" ",c="overwrites ";k=l>=d.a.ie?k+Keywords.Rm:k+l;c=a>=d.a.ie?c+Keywords.Rm:c+a;m[m.length]=[k,c]},En:function(d,m,l,a,k,c,f){var e=0,g=0,p=0;if(m.H())if(e=
m.I()|0,0>e||255<e)l[l.length]=[k+" "+f+" "+e,"RED out of range"],c=!0;else if(m.H())if(g=m.I()|0,0>g||255<g)l[l.length]=[k+" "+f+" "+e+" "+g,"GREEN out of range"],c=!0;else if(m.H()){if(p=m.I()|0,0>p||255<p)l[l.length]=[k+" "+f+" "+e+" "+g+" "+p,"BLUE out of range"],c=!0}else this.fl(m,l,k+" "+f+" "+e+" "+g,"BLUE","numeric"),c=!0;else this.fl(m,l,k+" "+f+" "+e,"GREEN","numeric"),c=!0;else{var q=m.ka();var r=ColourManager.Gd[q.toLowerCase()];void 0!==r?(m.T(),e=r[1],g=r[2],p=r[3]):(c=!0,""===q||this.Zk(q)?
l[l.length]=[k+" "+f,"name missing"]:(l[l.length]=[k+" "+f+" "+q,"name not known"],m.T()))}c||(-1!==d.sb[a]&&(l[l.length]=[k+" "+f+" "+e+" "+g+" "+p,"overwrites "+(d.sb[a]>>16)+" "+(d.sb[a]>>8&255)+" "+(d.sb[a]&255)]),d.sb[a]=e<<16|g<<8|p)},vi:function(d,m){var l=Keywords.Ee+String(m);d=d.l.LD(m);-1!==d&&(l=d.toFixed(1));return l},Qm:function(d,m){var l="",a=m.indexOf(Keywords.Ee);if(-1===a)l=m;else{for(;-1!==a;)if(l+=m.substr(0,a),a+1<m.length){var k=m[a+1];m=m.substr(a+2);switch(k){case "B":l+=
ViewConstants.zw;break;case "N":l+=d.vm;break;case "R":l+=d.cf;break;case "A":l=""===d.je?l+d.cf:l+d.je;break;case "O":l+=d.qo;break;case "T":l+=ViewConstants.xD;break;case "0":l+=this.vi(d,0);break;case "1":l+=this.vi(d,1);break;case "2":l+=this.vi(d,2);break;case "3":l+=this.vi(d,3);break;case "4":l+=this.vi(d,4);break;case "5":l+=this.vi(d,5);break;case "6":l+=this.vi(d,6);break;case "7":l+=this.vi(d,7);break;case "8":l+=this.vi(d,8);break;case "9":l+=this.vi(d,9);break;case Keywords.Ee:l+=Keywords.Ee;
break;default:l+=Keywords.Ee+k}a=m.indexOf(Keywords.Ee)}else a=-1;l+=m}return l},Ig:function(d,m,l,a){a[a.length]=d?m===Keywords.ag?[m+" "+l,"already defined"]:[m+" "+l,"overwrites "+Keywords.ag]:m===Keywords.ag?[m+" "+l,"overwrites "+Keywords.Vg]:[m+" "+l,"already defined"]},Rg:function(d,m){var l="";d===(d|0)?l=String(d):l=d.toFixed(m);return l},SE:function(d,m,l){var a=new Script(m,!1),k=!1,c=!1,f="",e="",g="",p="",q=!1,r="",w=0,v=!1,z=!1,b=d.tc,h=null,n=0,x=0,u="",t=d.J.Np(),A=null,y=!1,B=!1,
C=null,F=1,E=ViewConstants.bx,G=-1,H=-1,L=0,M=0,I=!1,D=!1,J=0,K=0,P=-1,aa=0,ca=0,V=null,ba=1,W=ViewConstants.bx,U=ViewConstants.TB,da=-1,T=-1,N=0,O=0,Q=!1,S=!1,Z=0,R=0,X=-1,ea=0,Y=0,ra=null,ab=1,bb=ViewConstants.oE,Ba=-1,Ca=-1,Da=0,cb=0,Ea=!1,Fa=!1,Ga=0,Ha=0,Ia=-1,Ja=0,Ka=0,la=!1,La=!1,Ma="numeric",Aa=-1,na=-1,oa=-1,Na=-1,pa=-1,qa=-1,sa=0,ta=0,ua=0,va=0,fa=0,ia=0,ha=0,db=0,eb=0,ma=[],ja=0,fb=new Pattern("decode"),Oa=!1,Pa=!1,Qa=!1,Ra=!1,Sa=!1,Ta=!1,wa=!1,Ua=!1,Va=!1,xa=!1,ya=!1,Wa=!1,Xa=!1,Ya=!1,
Za=!1;d.lo=0;d.Au=0;d.vg=!1;d.ba[ViewConstants.qf]=-1;d.ba[ViewConstants.Yg]=-1;d.ba[ViewConstants.Tp]=-1;d.ba[ViewConstants.wg]=-1;d.ba[ViewConstants.sn]=-1;d.ba[ViewConstants.tn]=-1;d.ba[ViewConstants.un]=-1;d.ba[ViewConstants.bq]=-1;d.ba[ViewConstants.cq]=-1;d.ba[ViewConstants.Up]=-1;d.ba[ViewConstants.Zp]=-1;d.ba[ViewConstants.Yp]=-1;d.ba[ViewConstants.Xp]=-1;d.ba[ViewConstants.$p]=-1;d.ba[ViewConstants.aq]=-1;d.ba[ViewConstants.Wp]=-1;d.ba[ViewConstants.vn]=-1;d.ba[ViewConstants.zn]=-1;d.ba[ViewConstants.xn]=
-1;d.ba[ViewConstants.An]=-1;d.ba[ViewConstants.Cn]=-1;d.ba[ViewConstants.Bn]=-1;d.ba[ViewConstants.yn]=-1;d.ba[ViewConstants.rn]=-1;d.ba[ViewConstants.wn]=-1;d.sb=null;if(-1!==a.Tk(Keywords.Zj,-1)){d.sb=d.a.o.L(Int32,256,"View.customColours");if(arrayFill)d.sb.fill(-1);else for(ja=0;ja<d.sb.length;ja+=1)d.sb[ja]=-1;for(f=a.T();""!==f;){Ma="numeric";if(q)f[f.length-1]===Keywords.Ec?(r=r+" "+f.substr(0,f.length-1),q=!1,this.HA(r,b,c,la),c?(""!==d.Tg&&(b[b.length]=[Keywords.Sm+" "+Keywords.Ec+this.Hr(r,
20)+Keywords.Ec,"overwrites "+Keywords.Ec+d.Tg+Keywords.Ec]),d.Tg=r,c=!1):la?(ra.message=this.Qm(d,r),la=!1,d.J.Uw(ra)):(t.oe=this.Qm(d,r),t.Lv=!0)):r=r+" "+f;else if(f[0]===Keywords.Ec)r=f.substr(1),q=!0,f[f.length-1]===Keywords.Ec&&(q=!1,r=r.substr(0,r.length-1),this.HA(r,b,c,la),c?(""!==d.Tg&&(b[b.length]=[Keywords.Sm+" "+Keywords.Ec+this.Hr(r,20)+Keywords.Ec,"overwrites "+Keywords.Ec+d.Tg+Keywords.Ec]),d.Tg=r,c=!1):la?(ra.message=this.Qm(d,r),la=!1,d.J.Uw(ra)):(t.oe=this.Qm(d,r),t.Lv=!0));else{v=
z=!1;d.lo+=1;switch(f){case Keywords.Sm:v=c=!0;break;case Keywords.Vu:a.H()&&(z=!0,w=a.I(),w>=ViewConstants.dr&&w<=ViewConstants.Yq&&(E=w,v=!0));break;case Keywords.rz:a.H()?(z=!0,w=a.I(),w>=ViewConstants.wf&&w<=ViewConstants.uf&&(fa=w,z=!1,a.H()&&(z=!0,w=a.I(),w>=ViewConstants.wf&&w<=ViewConstants.uf&&(aa=fa,ca=w,v=!0)))):(e=a.ka(),e===Keywords.Kd&&(e=a.T(),ca=aa=0,v=!0));break;case Keywords.Xu:a.H()?(z=!0,w=a.I(),w>=-d.a.Y/2&&w<=d.a.Y/2&&(z=!1,fa=w,a.H()&&(z=!0,w=a.I(),w>=-d.a.Y/2&&w<=d.a.Y/2&&
(z=!1,ia=w,a.H()&&(z=!0,w=a.I(),0<=w&&w<=d.a.Y/2&&(J=fa,K=ia,P=w,v=!0)))))):(e=a.ka(),e===Keywords.ab&&(e=a.T(),K=J=0,P=-1,v=!0));break;case Keywords.Tu:a.H()&&(z=!0,w=a.I(),0<=w&&360>w&&(M=w,I=!1,e=a.ka(),e===Keywords.Kd&&(e=a.T(),I=!0),v=!0));break;case Keywords.Wu:a.H()?(z=!0,w=a.I()|0,0<=w&&(fa=w,a.H()?(w=a.I()|0,w>=fa?(ia=w,a.H()?(w=a.I()|0,0<=w&&w<=ia-fa>>1?(G=fa,H=ia,L=w,v=!0):(v=!0,b[b.length]=[f+" "+fa+" "+ia+" "+w,"third argument must from 0 to "+(ia-fa>>1)])):z=!1):(v=!0,b[b.length]=[f+
" "+fa+" "+w,"second argument must be >= first"])):z=!1)):(e=a.ka(),e===Keywords.Tf?(e=a.T(),H=G=-1,L=0,v=!0):z=!1);break;case Keywords.Su:a.H()&&(z=!0,w=a.I(),0<=w&&1>=w&&(F=w,v=!0));break;case Keywords.Uu:case Keywords.sr:ma=[];v=!0;for(ha=-1E3;v&&a.H();)fa=a.I(),a.H()?(ia=a.I(),fa>=-d.a.Y&&fa<2*d.a.Y&&ia>=-d.a.Y&&ia<2*d.a.Y?(ma[ma.length]=fa,ma[ma.length]=ia):(b[b.length]=[f+" "+fa+" "+ia,"coordinate out of range"],ha=0,v=!1)):fa>=ViewConstants.wb&&fa<=ViewConstants.gc?ha=fa:fa>=ViewConstants.ho&&
fa<=ViewConstants.fo?ha=-(1/fa):(b[b.length]=[f+" "+fa,"zoom out of range"],ha=0,v=!1);-1E3===ha&&(b[b.length]=[f,"missing zoom value"]);4>ma.length&&(b[b.length]=[f,"requires at least 2 coordinate pairs"],v=!1);v?(e=a.ka(),D=!1,e===Keywords.Kd&&(e=a.T(),D=!0,e=a.ka()),C=d.J.yC(ma,f===Keywords.sr,ha,d.lt,F,E,G,H,L,M,I,D,J,K,P,aa,ca),d.J.FB(C)):v=!0;break;case Keywords.Ns:a.H()&&(z=!0,w=a.I(),w>=ViewConstants.dr&&w<=ViewConstants.Yq&&(fa=w,z=!1,a.H()&&(z=!0,w=a.I(),0<=w&&1>=w&&(U=w,W=fa,v=!0))));break;
case Keywords.Qs:a.H()?(z=!0,w=a.I(),w>=ViewConstants.wf&&w<=ViewConstants.uf&&(fa=w,z=!1,a.H()&&(z=!0,w=a.I(),w>=ViewConstants.wf&&w<=ViewConstants.uf&&(ea=fa,Y=w,v=!0)))):(e=a.ka(),e===Keywords.Kd&&(e=a.T(),Y=ea=0,v=!0));break;case Keywords.Ps:a.H()?(z=!0,w=a.I(),w>=-d.a.Y/2&&w<=d.a.Y/2&&(z=!1,fa=w,a.H()&&(z=!0,w=a.I(),w>=-d.a.Y/2&&w<=d.a.Y/2&&(z=!1,ia=w,a.H()&&(z=!0,w=a.I(),0<=w&&w<=d.a.Y/2&&(Z=fa,R=ia,X=w,v=!0)))))):(e=a.ka(),e===Keywords.ab&&(e=a.T(),R=Z=0,X=-1,v=!0));break;case Keywords.Ms:a.H()&&
(z=!0,w=a.I(),0<=w&&360>w&&(O=w,Q=!1,e=a.ka(),e===Keywords.Kd&&(e=a.T(),Q=!0),v=!0));break;case Keywords.Os:a.H()?(z=!0,w=a.I()|0,0<=w&&(fa=w,a.H()?(w=a.I()|0,w>=fa?(ia=w,a.H()?(w=a.I()|0,0<=w&&w<=ia-fa>>1?(da=fa,T=ia,N=w,v=!0):(v=!0,b[b.length]=[f+" "+fa+" "+ia+" "+w,"third argument must from 0 to "+(ia-fa>>1)])):z=!1):(v=!0,b[b.length]=[f+" "+fa+" "+w,"second argument must be >= first"])):z=!1)):(e=a.ka(),e===Keywords.Tf?(e=a.T(),T=da=-1,N=0,v=!0):z=!1);break;case Keywords.Ls:a.H()&&(z=!0,w=a.I(),
0<=w&&1>=w&&(ba=w,v=!0));break;case Keywords.gn:a.H()&&(z=!0,w=a.I(),w>=-d.a.Y&&w<2*d.a.Y&&(z=!1,fa=w,a.H()&&(z=!0,w=a.I(),w>=-d.a.Y&&w<2*d.a.Y&&(z=!1,ia=w,a.H()&&(z=!0,w=a.I(),w>=-d.a.Y&&w<2*d.a.Y&&(z=!1,db=w,a.H()&&(z=!0,w=a.I(),w>=-d.a.Y&&w<2*d.a.Y&&(z=!1,eb=w,a.H()&&(z=!0,w=a.I(),ha=-1E3,w>=ViewConstants.wb&&w<=ViewConstants.gc?ha=w:w>=ViewConstants.ho&&w<=ViewConstants.fo&&(ha=-(1/w)),-1E3!==ha&&(e=a.ka(),S=!1,e===Keywords.Kd&&(e=a.T(),S=!0,e=a.ka()),V=d.J.sC(fa,ia,db,eb,ha,d.jt,ba,W,U,da,T,
N,O,Q,S,Z,R,X,ea,Y),d.J.zB(V),v=!0))))))))));break;case Keywords.cu:a.H()&&(z=!0,w=a.I(),w>=ViewConstants.Py&&w<=ViewConstants.Iy&&(bb=w,v=!0));break;case Keywords.fu:a.H()?(z=!0,w=a.I(),w>=ViewConstants.wf&&w<=ViewConstants.uf&&(fa=w,z=!1,a.H()&&(z=!0,w=a.I(),w>=ViewConstants.wf&&w<=ViewConstants.uf&&(Ja=fa,Ka=w,v=!0)))):(e=a.ka(),e===Keywords.Kd&&(e=a.T(),Ka=Ja=0,v=!0));break;case Keywords.eu:a.H()?(z=!0,w=a.I(),w>=-d.a.Y/2&&w<=d.a.Y/2&&(z=!1,fa=w,a.H()&&(z=!0,w=a.I(),w>=-d.a.Y/2&&w<=d.a.Y/2&&(z=
!1,ia=w,a.H()&&(z=!0,w=a.I(),0<=w&&w<=d.a.Y/2&&(Ga=fa,Ha=ia,Ia=w,v=!0)))))):(e=a.ka(),e===Keywords.ab&&(e=a.T(),Ha=Ga=0,Ia=-1,v=!0));break;case Keywords.bu:a.H()&&(z=!0,w=a.I(),0<=w&&360>w&&(cb=w,Ea=!1,e=a.ka(),e===Keywords.Kd&&(e=a.T(),Ea=!0),v=!0));break;case Keywords.du:a.H()?(z=!0,w=a.I()|0,0<=w&&(fa=w,a.H()?(w=a.I()|0,w>=fa?(ia=w,a.H()?(w=a.I()|0,0<=w&&w<=ia-fa>>1?(Ba=fa,Ca=ia,Da=w,v=!0):(v=!0,b[b.length]=[f+" "+fa+" "+ia+" "+w,"third argument must from 0 to "+(ia-fa>>1)])):z=!1):(v=!0,b[b.length]=
[f+" "+fa+" "+w,"second argument must be >= first"])):z=!1)):(e=a.ka(),e===Keywords.Tf?(e=a.T(),Ca=Ba=-1,Da=0,v=!0):z=!1);break;case Keywords.au:a.H()&&(z=!0,w=a.I(),0<=w&&1>=w&&(ab=w,v=!0));break;case Keywords.Wn:a.H()&&(z=!0,w=a.I(),w>=-d.a.Y&&w<2*d.a.Y&&(z=!1,fa=w,a.H()&&(z=!0,w=a.I(),w>=-d.a.Y&&w<2*d.a.Y&&(z=!1,ia=w,a.H()&&(z=!0,w=a.I(),ha=-1E3,w>=ViewConstants.wb&&w<=ViewConstants.gc?ha=w:w>=ViewConstants.ho&&w<=ViewConstants.fo&&(ha=-(1/w)),-1E3!==ha&&(e=a.ka(),Fa=!1,e===Keywords.Kd&&(e=a.T(),
Fa=!0,e=a.ka()),e[0]===Keywords.Ec?(ra=d.J.vC(fa,ia,ha,d.kt,ab,bb,Ba,Ca,Da,cb,Ea,Fa,Ga,Ha,Ia,Ja,Ka),v=la=!0):z=!1))))));break;case Keywords.$t:v=d.a.Wg=!0;break;case Keywords.Dm:v=!1;e=a.T();if(""!==e){for(d.Cm=[];a.H();)w=a.I(),d.Cm[d.Cm.length]=w;d.EB(b,e,d.Cm);d.Cm=[];v=!0}break;case Keywords.pl:v=!1;e=a.T();if(""!==e&&(g=a.ka(),""!==g)){a.T();for(p=a.ka();""!==p&&!this.Zk(p)&&!a.H()&&-1!==PatternManager.Tl(fb,p,!1,d.a.o);)a.T(),g+=p,p=a.ka();ia=fa=0;a.H()&&(z=!0,fa=a.I());a.H()&&(z=!0,ia=a.I());
ha=-1;p=a.ka();if(""!==p){switch(p){case Keywords.jw:ha=ViewConstants.ap;break;case Keywords.gw:ha=ViewConstants.$v;break;case Keywords.hw:ha=ViewConstants.aw;break;case Keywords.iw:ha=ViewConstants.bw;break;case Keywords.mw:ha=ViewConstants.ew;break;case Keywords.nw:ha=ViewConstants.fw;break;case Keywords.lw:ha=ViewConstants.dw;break;case Keywords.kw:ha=ViewConstants.cw}-1!==ha&&a.T()}-1===ha&&(ha=ViewConstants.ap);d.DB(b,e,g,fa,ia,ha);v=!0}break;case Keywords.lr:g=a.ka();if(""!==g){a.T();for(p=
a.ka();""!==p&&!this.Zk(p)&&!a.H()&&-1!==PatternManager.Tl(fb,p,!1,d.a.o);)a.T(),g+=p,p=a.ka();ia=fa=0;a.H()&&(z=!0,fa=a.I());a.H()&&(z=!0,ia=a.I());ha=-1;p=a.ka();if(""!==p){switch(p){case Keywords.jw:ha=ViewConstants.ap;break;case Keywords.gw:ha=ViewConstants.$v;break;case Keywords.hw:ha=ViewConstants.aw;break;case Keywords.iw:ha=ViewConstants.bw;break;case Keywords.mw:ha=ViewConstants.ew;break;case Keywords.nw:ha=ViewConstants.fw;break;case Keywords.lw:ha=ViewConstants.dw;break;case Keywords.kw:ha=
ViewConstants.cw}-1!==ha&&a.T()}-1===ha&&(ha=ViewConstants.ap);d.HB(d.um,d.no,d.tm,d.oo,d.Od,g,fa,ia,ha)||(b[b.length]=[Keywords.lr+" "+g,"invalid name or rle"]);v=!0}break;case Keywords.kr:if(a.H()){if(z=!0,w=a.I(),0<=w){d.um=w;d.oo=0;d.no=-1;d.tm=[];for(k=!0;k;)a.H()?(w=a.I(),d.tm[d.tm.length]=w):(e=a.ka(),d.IB(e,d.tm)?a.T():k=!1);v=!0}}else e=a.ka(),e===Keywords.qq&&(e=a.T(),a.H()&&(z=!0,w=a.I(),1<=w&&(d.oo=w,d.um=0,d.no=-1,a.H()?(w=a.I(),0<=w&&(d.um=w,a.H()?(w=a.I(),w>=d.um+d.oo&&(d.no=w,v=!0)):
v=!0)):v=!0)));break;case Keywords.tA:v=t.hm=!0;break;case Keywords.Iu:v=!0;z=!1;Ma="paste mode";e=a.ka();switch(e){case Keywords.Hu:d.Od=ViewConstants.kl;break;case Keywords.Fu:d.Od=ViewConstants.jr;break;case Keywords.Ku:d.Od=ViewConstants.Ju;break;case Keywords.Eu:d.Od=ViewConstants.Du;break;case Keywords.Gu:d.Od=ViewConstants.az;break;default:v=!1}v&&a.T();break;case Keywords.Rt:v=d.Th=!0;break;case Keywords.vu:d.ei=!1;v=!0;break;case Keywords.uu:v=d.he=!0;break;case Keywords.wu:d.bm=!1;v=!0;
break;case Keywords.mu:a.H()&&(z=!0,w=a.I()|0,w>=ViewConstants.Oy&&w<=ViewConstants.Hy&&(d.a.Y=1<<w,v=!0));break;case Keywords.No:e=a.ka();e===Keywords.ab?(e=a.T(),t.ek=!1):t.ek=!0;v=t.Mr=!0;break;case Keywords.xp:e=a.ka();e===Keywords.ab?(e=a.T(),t.be=!1):t.be=!0;v=!0;break;case Keywords.Mq:a.H()&&(z=!0,w=a.I()|0,0<=w&&w<=d.Wq&&(d.S=w,v=!0));break;case Keywords.St:e=a.ka();e===Keywords.ab?(e=a.T(),d.Bg=!1):d.Bg=!0;v=!0;break;case Keywords.Kn:e=a.ka();e===Keywords.ab?(e=a.T(),t.nc=!1):t.nc=!0;v=t.Vk=
!0;break;case Keywords.Jn:a.H()&&(z=!0,w=a.I()|0,w>=ViewConstants.AE&&w<=ViewConstants.tE&&(d.a.rf=w,v=!0));break;case Keywords.va:case Keywords.bt:u=f;La=!1;if(a.H()){x=a.I()|0;if(0>x||255<x)b[b.length]=[f+" "+x,"STATE out of range"],La=!0;this.En(d,a,b,x,f,La,x)}else switch(e=a.ka(),e){case Keywords.Xy:this.Kb(d,a,b,ViewConstants.qf,u);break;case Keywords.Yy:this.Kb(d,a,b,ViewConstants.Yg,u);break;case Keywords.jy:this.Kb(d,a,b,ViewConstants.wg,u);break;case Keywords.yy:e=a.T();this.En(d,a,b,ViewConstants.zy,
f,!1,e);break;case Keywords.Cy:e=a.T();this.En(d,a,b,ViewConstants.Dy,f,!1,e);break;case Keywords.Ay:e=a.T();this.En(d,a,b,ViewConstants.By,f,!1,e);break;case Keywords.ry:e=a.T();this.En(d,a,b,ViewConstants.sy,f,!1,e);break;case Keywords.Qr:this.Kb(d,a,b,ViewConstants.qf,u);break;case Keywords.Pr:this.Kb(d,a,b,ViewConstants.Yg,u);break;case Keywords.Mv:this.Kb(d,a,b,ViewConstants.Tp,u);break;case Keywords.Sr:this.Kb(d,a,b,ViewConstants.wg,u);break;case Keywords.Rr:this.Kb(d,a,b,ViewConstants.sn,u);
break;case Keywords.Ov:this.Kb(d,a,b,ViewConstants.Vp,u);break;case Keywords.Nv:this.Kb(d,a,b,ViewConstants.mt,u);break;case Keywords.Kn:this.Kb(d,a,b,ViewConstants.tn,u);break;case Keywords.Jn:this.Kb(d,a,b,ViewConstants.un,u);break;case Keywords.No:this.Kb(d,a,b,ViewConstants.bq,u);break;case Keywords.Kv:this.Kb(d,a,b,ViewConstants.cq,u);break;case Keywords.Et:this.Kb(d,a,b,ViewConstants.Wp,u);break;case Keywords.Wn:this.Kb(d,a,b,ViewConstants.vn,u);break;case Keywords.gn:this.Kb(d,a,b,ViewConstants.rn,
u);break;case Keywords.sz:this.Kb(d,a,b,ViewConstants.wn,u);break;case Keywords.kx:this.Kb(d,a,b,ViewConstants.Up,u);break;case Keywords.$x:this.Kb(d,a,b,ViewConstants.Zp,u);break;case Keywords.Zx:this.Kb(d,a,b,ViewConstants.Yp,u);break;case Keywords.Yx:this.Kb(d,a,b,ViewConstants.Xp,u);break;case Keywords.ay:this.Kb(d,a,b,ViewConstants.$p,u);break;case Keywords.by:this.Kb(d,a,b,ViewConstants.aq,u);break;case Keywords.AA:this.Kb(d,a,b,ViewConstants.zn,u);break;case Keywords.yA:this.Kb(d,a,b,ViewConstants.xn,
u);break;case Keywords.BA:this.Kb(d,a,b,ViewConstants.An,u);break;case Keywords.DA:this.Kb(d,a,b,ViewConstants.Cn,u);break;case Keywords.CA:this.Kb(d,a,b,ViewConstants.Bn,u);break;case Keywords.zA:this.Kb(d,a,b,ViewConstants.yn,u);break;default:b[b.length]=[f+" "+e,"illegal element"],e=a.T()}v=!0;break;case Keywords.Gm:-1===a.Tk(Keywords.Zj,-1)&&a.qD();v=!0;--d.lo;break;case Keywords.fp:v=d.xa=!0;break;case Keywords.yu:v=d.xu=!0;break;case Keywords.tu:d.hc=!0;v=d.fr=!0;break;case Keywords.su:v=d.Pi=
!0;break;case Keywords.Gv:v=Za=Ya=Xa=Wa=ya=xa=Va=Ua=wa=Ta=Sa=Ra=Qa=Pa=Oa=!0;break;case Keywords.ab:b[b.length]=[Keywords.ab,"must follow LOOP or STOP"];v=!0;break;case Keywords.Tf:e=a.ka();e===Keywords.vb?(e=a.T(),t.Dg?(d.J.kC(t,b),d.gG()):b[b.length]=[Keywords.Tf+" "+Keywords.vb,"only valid at a POI"]):b[b.length]=[Keywords.Tf,"must be followed by INITIAL"];v=!0;break;case Keywords.vb:b[b.length]=[Keywords.vb,"must follow POI, ALL or a POI setting"];v=!0;break;case Keywords.zp:e=a.ka();e===Keywords.ab?
(e=a.T(),d.Ed=!1):d.Ia&&(d.Ed=!0);v=!0;break;case Keywords.qr:a.H()&&(z=!0,w=a.I()|0,0<=w&&(t.Dg?(t.Cb=w,t.Po=!0):b[b.length]=[Keywords.qr+" "+w,"only valid at a POI"],v=!0));break;case Keywords.Am:t.jG(b);v=!0;break;case Keywords.Bm:t.oG(b);v=!0;break;case Keywords.uo:t.kG(b);v=!0;break;case Keywords.vo:a.H()&&(z=!0,w=a.I(),w>=WaypointConstants.oz&&w<=WaypointConstants.nz&&(t.sG(w,b),v=!0));break;case Keywords.Mt:v=d.Gq=!0;break;case Keywords.Ev:e=a.ka();e===Keywords.ab?(e=a.T(),d.Dh=!1):d.Dh=!0;
v=!0;break;case Keywords.$o:a.H()&&(z=!0,w=a.I(),w>=ViewConstants.wf&&w<=ViewConstants.uf&&(pa=w,z=!1,f+=" "+w,a.H()&&(z=!0,w=a.I(),w>=ViewConstants.wf&&w<=ViewConstants.uf&&(qa=w,v=!0,d.Jc&&(b[b.length]=[Keywords.$o+" "+pa+" "+qa,"overwrites "+na+" "+oa]),na=pa,oa=qa,d.Jc=!0))));break;case Keywords.Zo:a.H()&&(z=!0,w=a.I()|0,0<w&&(Na=w,z=!1,f+=" "+w,a.H()&&(z=!0,w=a.I(),w>=ViewConstants.wf&&w<=ViewConstants.uf&&(pa=w,z=!1,f+=" "+w,a.H()&&(z=!0,w=a.I(),w>=ViewConstants.wf&&w<=ViewConstants.uf&&(qa=
w,v=!0,d.Gl&&(b[b.length]=[Keywords.Zo+" "+Na+" "+pa+" "+qa,"overwrites "+Aa+" "+na+" "+oa]),Aa=Na,na=pa,oa=qa,d.Gl=!0,d.Jc=!0))))));break;case Keywords.Fl:a.H()&&(z=!0,w=a.I(),w>=ViewConstants.wf&&w<=ViewConstants.uf&&(ua=w,z=!1,f+=" "+w,a.H()&&(z=!0,w=a.I(),w>=ViewConstants.wf&&w<=ViewConstants.uf&&(ta=w,z=!1,f+=" "+w,a.H()&&(z=!0,w=a.I(),w>=ViewConstants.wf&&w<=ViewConstants.uf&&(va=w,z=!1,f+=" "+w,a.H()&&(z=!0,w=a.I(),w>=ViewConstants.wf&&w<=ViewConstants.uf&&(sa=w,v=!0,va>ua?b[b.length]=[Keywords.Fl+
" W "+this.Rg(va,2)+" E "+this.Rg(ua,2),"W is greater than E"]:sa>ta?b[b.length]=[Keywords.Fl+" N "+this.Rg(sa,2)+" S "+this.Rg(ta,2),"N is greater than S"]:(d.El&&(b[b.length]=[Keywords.Fl+" "+this.Rg(ua,2)+" "+this.Rg(ta,2)+" "+this.Rg(va,2)+" "+this.Rg(sa,2),"overwrites "+this.Rg(d.xi,2)+" "+this.Rg(d.yi,2)+" "+this.Rg(d.bj,2)+" "+this.Rg(d.aj,2)]),d.El=!0,d.Jc=!0,d.aj=sa,d.xi=ua,d.yi=ta,d.bj=va)))))))));break;case Keywords.Eh:A=t;!t.Dg&&0<d.J.NE&&(t=d.J.Gn());a.H()?(z=!0,w=a.I()|0,0<w&&(!t.ik||
d.Fj||ya||(b[b.length]=-1===t.ob?[Keywords.Eh+" "+w,"overwrites "+Keywords.ab]:[Keywords.Eh+" "+w,"overwrites "+t.ob]),t.ob=w,t.ik=!0,ya=d.Fj=!1,v=!0)):(e=a.ka(),e===Keywords.ab?(e=a.T(),!t.ik||d.Fj||ya||(b[b.length]=-1!==t.ob||d.Fj?[Keywords.Eh+" "+Keywords.ab,"overwrites "+t.ob]:[Keywords.Eh+" "+Keywords.ab,"overwrites "+Keywords.ab]),t.ob=-1,t.ik=!0,ya=d.Fj=!1,v=!0):e===Keywords.vb&&(e=a.T(),d.J.Nc(Keywords.Eh,t,b,d.Fj),v=d.Fj=!0));t=A;break;case Keywords.sh:A=t;!t.Dg&&0<d.J.ua.length&&(t=d.J.Gn());
a.H()?(z=!0,w=a.I()|0,0<w&&(!t.Hj||d.Wk||xa||(b[b.length]=-1===t.Aa?[Keywords.sh+" "+w,"overwrites "+Keywords.ab]:[Keywords.sh+" "+w,"overwrites "+t.Aa]),t.Aa=w,t.Hj=!0,xa=d.Wk=!1,v=!0)):(e=a.ka(),e===Keywords.ab?(e=a.T(),!t.Hj||d.Wk||xa||(b[b.length]=-1===t.Aa?[Keywords.sh+" "+Keywords.ab,"overwrites "+Keywords.ab]:[Keywords.sh+" "+Keywords.ab,"overwrites "+t.Aa]),t.Aa=-1,t.Hj=!0,xa=d.Wk=!1,v=!0):e===Keywords.vb&&(e=a.T(),d.J.Nc(Keywords.sh,t,b,d.Wk),v=d.Wk=!0));t=A;break;case Keywords.qj:a.H()?
(z=!0,w=a.I()|0,0<=w&&359>=w&&(!t.og||d.On||Ra||(b[b.length]=[Keywords.qj+" "+w,"overwrites "+t.angle]),t.angle=w,t.og=!0,Ra=d.On=!1,v=!0)):(e=a.ka(),e===Keywords.vb&&(e=a.T(),d.J.Nc(Keywords.qj,t,b,d.On),v=d.On=!0));break;case Keywords.al:a.H()?(z=!0,w=a.I()|0,w>=ViewConstants.cr&&w<=ViewConstants.Xq&&(!t.Gg||d.Rn||Sa||(b[b.length]=[Keywords.al+" "+w,"overwrites "+t.G]),t.G=w,t.Gg=!0,Sa=d.Rn=!1,v=!0)):(e=a.ka(),e===Keywords.vb&&(e=a.T(),d.J.Nc(Keywords.al,t,b,d.Rn),v=d.Rn=!0));break;case Keywords.Nk:a.H()?
(z=!0,w=a.I(),w>=ViewConstants.br&&w<=ViewConstants.Gy&&(!t.yg||d.Pn||Ta||(b[b.length]=[Keywords.Nk+" "+w,"overwrites "+t.depth]),t.depth=w,t.yg=!0,Ta=d.Pn=!1,v=!0)):(e=a.ka(),e===Keywords.vb&&(e=a.T(),d.J.Nc(Keywords.Nk,t,b,d.Pn),v=d.Pn=!0));break;case Keywords.js:a.H()&&(z=!0,w=a.I(),w>=-d.a.Y/2&&w<=d.a.Y/2&&(d.ib=w,v=!0));break;case Keywords.ks:a.H()&&(z=!0,w=a.I(),w>=-d.a.Y/2&&w<=d.a.Y/2&&(d.jb=w,v=!0));break;case Keywords.Td:a.H()?(z=!0,w=a.I(),w>=-d.a.Y/2&&w<=d.a.Y/2&&(!t.hf||d.Tn||Oa||(b[b.length]=
[Keywords.Td+" "+w,"overwrites "+-t.x]),t.x=-w,t.hf=!0,Oa=d.Tn=!1,v=!0)):(e=a.ka(),e===Keywords.vb&&(e=a.T(),d.J.Nc(Keywords.Td,t,b,d.Tn),v=d.Tn=!0));break;case Keywords.Ud:a.H()?(z=!0,w=a.I(),w>=-d.a.Y/2&&w<=d.a.Y/2&&(!t.Fe||d.Un||Pa||(b[b.length]=[Keywords.Ud+" "+w,"overwrites "+-t.y]),t.y=-w,t.Fe=!0,Pa=d.Un=!1,v=!0)):(e=a.ka(),e===Keywords.vb&&(e=a.T(),d.J.Nc(Keywords.Ud,t,b,d.Un),v=d.Un=!0));break;case Keywords.ny:v=d.my=!0;break;case Keywords.Uv:a.H()&&(z=!0,w=a.I(),w>=ViewConstants.wb&&w<=ViewConstants.gc?
(d.Vr=!0,d.Tv=w,v=!0):w>=ViewConstants.ho&&w<=ViewConstants.fo&&(d.Vr=!0,d.Tv=-(1/w),v=!0));break;case Keywords.Ks:case Keywords.Rc:a.H()?(z=!0,w=a.I(),w>=ViewConstants.wb&&w<=ViewConstants.gc?(!t.pd||d.Xk||Qa||(b[b.length]=1>t.zoom?[Keywords.Rc+" "+w,"overwrites "+-(1/t.zoom)]:[Keywords.Rc+" "+w,"overwrites "+t.zoom]),t.zoom=w,t.pd=!0,Qa=d.Xk=!1,v=!0):w>=ViewConstants.ho&&w<=ViewConstants.fo&&(t.pd&&!d.Xk&&(b[b.length]=1>t.zoom?[Keywords.Rc+" "+w,"overwrites "+-(1/t.zoom)]:[Keywords.Rc+" "+w,"overwrites "+
t.zoom]),t.zoom=-(1/w),t.pd=!0,d.Xk=!1,v=!0)):(e=a.ka(),e===Keywords.vb&&(e=a.T(),d.J.Nc(Keywords.Rc,t,b,d.Xk),v=d.Xk=!0));break;case Keywords.Uk:a.H()?(z=!0,w=a.I()|0,w>=ViewConstants.vf&&w<=ViewConstants.Kj&&(!t.Ag||d.Qn||Ua||(b[b.length]=[Keywords.Uk+" "+w,"overwrites "+t.Ob]),t.Ob=w,t.Ag=!0,Ua=d.Qn=!1,v=!0)):(e=a.ka(),e===Keywords.vb&&(e=a.T(),d.J.Nc(Keywords.Uk,t,b,d.Qn),v=d.Qn=!0));break;case Keywords.Vv:e=a.ka();e===Keywords.ab?(e=a.T(),d.Xe||(d.Ga=!1,d.$i=!1)):d.Xe||(d.Ga=!0,d.$i=!0);v=!0;
break;case Keywords.Qv:e=a.ka();e===Keywords.ab?(e=a.T(),d.Xe||(d.Ga=!1,d.$i=!1,d.ui=!1,d.l.ui=!1)):d.Xe||(d.Ga=!0,d.$i=!0,d.ui=!0,d.l.ui=!0);v=!0;break;case Keywords.Sv:a.H()&&(z=!0,w=a.I()|0,w>=ViewConstants.Sy&&w<=ViewConstants.Ly&&(d.nd=w,v=!0));break;case Keywords.Zi:a.H()?(z=!0,w=a.I()|0,0<=w&&w<d.a.ie&&(!t.Ce||d.Mi||wa||this.bv(d,b,w,t.Qb),t.Qb=w,t.Ce=!0,wa=d.Mi=!1,v=!0)):(e=a.ka(),e===Keywords.Rm?(e=a.T(),d.vg?(t.Ce&&!d.Mi&&this.bv(d,b,d.a.ie,t.Qb),t.Qb=d.a.ie,t.Ce=!0,d.Mi=!1):b[b.length]=
[Keywords.Zi+" "+Keywords.Rm,"no custom THEME defined"],v=!0):(w=d.IG(e),-1!==w?(e=a.T(),!t.Ce||d.Mi||wa||this.bv(d,b,w,t.Qb),t.Qb=w,t.Ce=!0,wa=d.Mi=!1,v=!0):e===Keywords.vb&&(e=a.T(),d.J.Nc(Keywords.Zi,t,b,d.Mi),v=d.Mi=!0)));break;case Keywords.Zj:b[b.length]=[f,"already in a script block"];v=!0;break;case Keywords.wv:d.oc=!d.oc;v=!0;break;case Keywords.xv:d.am.current=d.Wm([!0],!0,d);v=!0;break;case Keywords.Ft:d.Vo.current=d.Gw([!0],!0,d);v=!0;break;case Keywords.vv:d.gs([!0],!0,d);d.Ve&&(d.Ve.current=
[d.If],d.l.Sg=!0);v=!0;break;case Keywords.ut:a.H()&&(z=!0,w=a.I()|0,w>=ViewConstants.Ny&&w<=ViewConstants.Fy&&(v=!0,d.a.zo=w));break;case Keywords.gr:v=d.mc=!0;break;case Keywords.zq:v=d.Ac=!0;break;case Keywords.Jt:a.H()&&(z=!0,w=a.I(),0<=w&&1>=w&&(v=!0,d.Bc=w));break;case Keywords.Kt:d.Cf=!1;v=!0;break;case Keywords.Nt:v=d.a.od=!0;break;case Keywords.zv:d.a.od=!1;v=!0;break;case Keywords.jx:v=d.a.gd=!0;break;case Keywords.cv:d.zz=a.T();v=d.Az=!0;break;case Keywords.ag:e=a.ka();switch(e){case Keywords.Td:t.jj&&
this.Ig(t.hg,Keywords.ag,Keywords.Td,b);t.hg=!0;t.jj=!0;e=a.T();break;case Keywords.Ud:t.lj&&this.Ig(t.ig,Keywords.ag,Keywords.Ud,b);t.ig=!0;t.lj=!0;e=a.T();break;case Keywords.Rc:t.Sw&&this.Ig(t.jg,Keywords.ag,Keywords.Rc,b);t.jg=!0;t.gp=!0;e=a.T();break;case Keywords.Tf:t.jj&&this.Ig(t.hg,Keywords.ag,Keywords.Td,b);t.lj&&this.Ig(t.ig,Keywords.ag,Keywords.Ud,b);t.Sw&&this.Ig(t.jg,Keywords.ag,Keywords.Rc,b);t.hg=!0;t.jj=!0;t.ig=!0;t.lj=!0;t.jg=!0;t.gp=!0;e=a.T();break;default:this.fl(a,b,Keywords.ag,
"argument",Keywords.Tf+", "+Keywords.Td+", "+Keywords.Ud+" or "+Keywords.Rc)}v=!0;break;case Keywords.Vg:e=a.ka();switch(e){case Keywords.Td:t.jj&&this.Ig(t.hg,Keywords.Vg,Keywords.Td,b);t.hg=!1;t.jj=!0;e=a.T();break;case Keywords.Ud:t.lj&&this.Ig(t.ig,Keywords.Vg,Keywords.Ud,b);t.ig=!1;t.lj=!0;e=a.T();break;case Keywords.Rc:t.Sw&&this.Ig(t.jg,Keywords.Vg,Keywords.Rc,b);t.jg=!1;t.gp=!0;e=a.T();break;case Keywords.Tf:t.jj&&this.Ig(t.hg,Keywords.Vg,Keywords.Td,b);t.lj&&this.Ig(t.ig,Keywords.Vg,Keywords.Ud,
b);t.Sw&&this.Ig(t.jg,Keywords.Vg,Keywords.Rc,b);t.hg=!1;t.jj=!0;t.ig=!1;t.lj=!0;t.jg=!1;t.gp=!0;e=a.T();break;default:this.fl(a,b,Keywords.Vg,"argument",Keywords.Tf+", "+Keywords.Td+", "+Keywords.Ud+" or "+Keywords.Rc)}v=!0;break;case Keywords.rr:B=!0;d.J.add(t);t=d.J.Np();t.Dg=!0;e=a.ka();e===Keywords.vb&&(e=a.T(),-1!==d.Lk&&(b[b.length]=[Keywords.rr+" "+Keywords.vb,"overrides previous initial POI"]),d.Lk=d.J.Eb.length);d.fC();v=!0;break;case Keywords.Oo:a.H()&&(z=!0,w=a.I()|0,0<=w&&(y||(y=!0),
0<w&&(d.J.add(t),t=d.J.Np()),t.Cb=w,v=t.Po=!0));break;case Keywords.wl:a.H()?(z=!0,w=a.I()|0,w>=ViewConstants.dl&&w<=ViewConstants.Ye&&(!t.Qg||d.Sn||Va||(b[b.length]=[Keywords.wl+" "+w,"overwrites "+t.step]),t.step=w,t.Qg=!0,Va=d.Sn=!1,v=!0)):(e=a.ka(),e===Keywords.vb&&(e=a.T(),d.J.Nc(Keywords.wl,t,b,d.Sn),v=d.Sn=!0));break;case Keywords.Ou:a.H()&&(z=!0,w=a.I(),0<=w&&(y||(y=!0),d.J.add(t),t=d.J.Np(),w<ViewConstants.lA&&(w=ViewConstants.lA),t.Ic=w,v=t.rA=!0));break;case Keywords.Xm:a.H()&&(z=!0,w=
a.I()|0,d.Xe||(-1===d.xd||Wa||(b[b.length]=[Keywords.Xm+" "+w,"overwrites "+d.xd]),d.xd=w),Wa=!1,v=!0);break;case Keywords.dm:a.H()&&(z=!0,w=a.I()|0,d.Xe||(-1===d.Ff||Xa||(b[b.length]=[Keywords.dm+" "+w,"overwrites "+d.Ff]),d.Ff=w),Xa=!1,v=!0);break;case Keywords.xo:a.H()&&(z=!0,w=a.I()|0,-1===d.le||Ya||(b[b.length]=[Keywords.xo+" "+w,"overwrites "+d.le]),d.le=w,Ya=!1,v=!0);break;case Keywords.wo:a.H()&&(z=!0,w=a.I()|0,-1===d.Lg||Za||(b[b.length]=[Keywords.wo+" "+w,"overwrites "+d.Lg]),d.Lg=w,Za=
!1,v=!0);break;default:b[b.length]=[f,"unknown or misspelt command"],v=!0}v||(z?b[b.length]=[f+" "+w,"argument out of range"]:this.fl(a,b,f,"argument",Ma))}""!==f&&(f=a.T())}q&&(b[b.length]=[Keywords.Ec+r,"unterminated string"]);y&&d.Jc&&(h=d.El?Keywords.Fl:d.Gl?Keywords.Zo:Keywords.$o,b[b.length]=[h,"can not be used with Waypoints"],d.Jc=!1,d.El=!1,d.Gl=!1);d.El||!d.Jc&&!d.Gl||(d.Gl&&(0<d.a.rf&&(Aa*=d.a.rf),t.Aa=Aa),d.aj=oa,d.xi=na,d.yi=oa,d.bj=na);if(y||B){d.J.add(t);t=d.J.Gn();y?d.vc=!0:-1!==d.Lk&&
(d.pf=d.Lk,A=d.J.Eb[d.Lk],A.hf&&(t.hf=A.hf,t.x=A.x),A.Fe&&(t.Fe=A.Fe,t.y=A.y),A.pd&&(t.pd=A.pd,t.zoom=A.zoom),A.og&&(t.og=A.og,t.angle=A.angle),A.yg&&(t.yg=A.yg,t.depth=A.depth),A.Gg&&(t.Gg=A.Gg,t.G=A.G),A.Ce&&(t.Ce=A.Ce,t.Qb=A.Qb),A.Ag&&(t.Ag=A.Ag,t.Ob=A.Ob),A.Qg&&(t.Qg=A.Qg,t.step=A.step),A.qA&&(t.qA=A.qA,t.stop=A.stop),A.xy&&(t.xy=A.xy,t.loop=A.loop));if(y){for(ja=0;ja<d.J.ua.length;ja+=1)t=d.J.ua[ja],t.be&&(t.hf||t.Fe||t.pd)&&(r="",t.hf?(r="X "+t.x,t.Fe?r=t.pd?r+(", Y "+t.y+" and ZOOM "+t.zoom):
r+(" and Y "+t.y):t.pd&&(r+=" and ZOOM "+t.zoom)):t.Fe?(r="Y "+t.y,t.pd&&(r+=" and ZOOM "+t.zoom)):t.pd&&(r="ZOOM "+t.zoom),b[b.length]=[Keywords.xp,"overwrites "+r]);t=d.J.Gn()}B&&t.xf===WaypointConstants.play&&d.Ia&&(d.Ed=!0)}t.be&&(d.Mb=!0);t.hf&&(d.a.ga=d.a.width/2-t.x);t.Fe&&(d.a.da=d.a.height/2-t.y);t.pd&&(d.a.zoom=t.zoom);t.og&&(d.a.angle=t.angle);t.yg&&(d.a.jd=t.depth/ViewConstants.Mk+ViewConstants.br);t.Gg&&(d.a.G=t.G);t.Ce&&(d.Ur=t.Qb);t.Ag&&(d.Ue=t.Ob);t.Qg&&(d.ra=t.step);t.Lv&&d.l.notification.N(t.oe,
1E3,!1);d.ob=t.ob;d.Aa=t.Aa;t.pd&&(d.tt=!0);t.hf&&(d.rt=!0);t.Fe&&(d.st=!0);t.Vk&&(d.a.Nb=t.nc);t.Mr&&(d.Bh=t.ek);for(ja=0;ja<l;ja+=1)-1!==d.sb[ja]&&(n+=1);if(0<n){d.sp=!0;for(ja=0;ja<l;ja+=1)PatternManager.vl[ja]?-1===d.sb[ja]?(d.sp=!1,d.Kk[ja]=ViewConstants.pA):d.Kk[ja]=ViewConstants.oA:d.Kk[ja]=ViewConstants.Fv;d.Rl=d.sp?"(custom)":d.Rl+" (custom*)"}else d.sb=null;d.vg&&(this.vG(d),d.JG&&(d.JG.upper=d.a.ie));2<l&&!d.a.Oa&&-1===d.a.f&&(d.xa=!0);d.xa&&(h="not possible due to "+Keywords.fp,d.Ed&&
(b[b.length]=[Keywords.zp,h],d.Ed=!1),-1!==d.ob&&(b[b.length]=[Keywords.Eh+" "+d.ob,h]),-1!==d.Aa&&(b[b.length]=[Keywords.sh+" "+d.Aa,h]));0!==d.ib&&d.Xa+ViewConstants.Ye+2*Math.abs(d.ib)>=d.a.Y&&(b[b.length]=[Keywords.js+" "+d.ib,"pattern does not fit on grid at view offset"],d.ib=0);0!==d.jb&&d.cb+ViewConstants.Ye+2*Math.abs(d.jb)>=d.a.Y&&(b[b.length]=[Keywords.ks+" "+d.jb,"pattern does not fit on grid at view offset"],d.jb=0);d.Au=b.length}""!==d.Tg&&(d.Tg=this.Qm(d,d.Tg));d.Mb&&(d.wp=!0);d.Ac&&
d.mc&&(b[b.length]=[Keywords.zq,"not valid with "+Keywords.gr],d.Ac=!1);var ka=0,za=!1;-1!==d.xd&&(ka=ViewConstants.vd,d.xd>=ViewConstants.Qy&&d.xd<ka&&(d.xd=ka),d.hc&&(ka=ViewConstants.DE),d.xd<ka||d.xd>d.Wh)&&(b[b.length]=[Keywords.Xm+" "+d.xd,"argument out of range"],za=!0);-1!==d.Ff&&(ka=ViewConstants.lm,d.hc&&(ka=ViewConstants.CE),d.Ff<ka||d.Ff>ViewConstants.ar)&&(b[b.length]=[Keywords.dm+" "+d.Ff,"argument out of range"],za=!0);d.Xe&&(-1!==d.le&&(d.le>=ViewConstants.Qy&&d.le<ViewConstants.vd&&
(d.le=ViewConstants.vd),d.le<ViewConstants.vd||d.le>d.Wh)&&(b[b.length]=[Keywords.xo+" "+d.le,"argument out of range"],d.le=-1,za=!0),-1!==d.Lg&&(d.Lg<ViewConstants.lm||d.Lg>ViewConstants.ar)&&(b[b.length]=[Keywords.wo+" "+d.Lg,"argument out of range"],d.Lg=-1,za=!0));if(za||b.length)-1!==d.xd&&d.xd<ViewConstants.vd&&(d.xd=ViewConstants.vd),-1!==d.Ff&&d.Ff<ViewConstants.Oi&&(d.Ff=ViewConstants.Oi),d.hc=!1;d.v.j=d.hc;d.l.hc=d.hc;d.l.Pi=d.Pi;d.hc&&(d.Ed=!1,d.Ga=!1,d.ui=!1,d.Ac=!1,d.Wm([!1],!0,d),d.Gw([!1],
!0,d),d.gs([!1],!0,d),d.oc=!1,d.Th=!1);d.xu&&(d.element.style="display:none",d.element.parentNode&&d.element.parentNode.parentNode&&d.element.parentNode.parentNode.className===DocConfig.kq&&(d.element.parentNode.parentNode.style="display:none;"));d.J.AG()}};(function(){function d(b,h,n,x,u){this.name=b;this.pattern=h;this.PF=n;this.width=x;this.height=u}function m(b){var h;this.Ql=!0;this.Or=this.Qh=this.Ir=this.Hm=this.Jm=this.Im=this.Ti=!1;this.xe=[];for(h=0;10>h;h+=1)this.xe[h]=null;this.td=!1;this.Nd=this.Pd=this.Vf=0;this.bf=v.po;this.ng=this.nn=!1;this.xb=null;this.pc=!1;this.rq=new BoundingBox;this.fb=new BoundingBox;this.cl=new BoundingBox;this.Si=new Random;this.Si.de(Date.now().toString());this.nl=50;this.eA=this.dA=0;this.Sh=this.Va=!1;this.lB=
v.kl;this.Se=[];this.gl=this.Hb=0;this.Qc=[];this.kc=0;this.jf=[];this.Le=0;this.Wa=[];this.Wa[v.ap]=[1,0,0,1];this.Wa[v.$v]=[-1,0,0,-1];this.Wa[v.aw]=[-1,0,0,1];this.Wa[v.bw]=[1,0,0,-1];this.Wa[v.ew]=[0,1,1,0];this.Wa[v.fw]=[0,-1,-1,0];this.Wa[v.dw]=[0,-1,1,0];this.Wa[v.cw]=[0,1,-1,0];this.ki=[];this.Cm=[];this.li=[];this.af=[];this.Od=v.kl;this.um=0;this.no=-1;this.tm=[];this.oo=0;this.Ni=!1;this.Lj=0;this.wk=!1;this.ic=this.Tj=this.Qj=this.Sj=this.Rj=0;this.Oq=!1;this.O=null;this.Il=0;this.bn=
!0;this.Og=0;this.Zf=1;this.Lo=this.Xt=this.fi=this.to=!1;this.Jj=7;this.tl=!0;this.Nh=this.Mh=0;this.Yl=!1;this.S=this.Wq=63;this.Wk=this.Fj=this.Qn=this.Sn=this.Mi=this.Rn=this.Pn=this.On=this.Xk=this.Un=this.Tn=this.xu=!1;this.uh=this.Ta=0;this.zb=null;this.cc=this.bc=0;this.Jw=!1;this.Lk=this.ni=this.oi=-1;this.zz=Date.now().toString();this.Az=!1;this.Cj=v.ij;this.Ng=!0;this.Ac=!1;this.Cf=!0;this.Bc=v.Mx;this.my=this.mc=!1;this.element=b;this.oc=!1;this.bj=this.xi=this.yi=this.aj=this.Rp=this.Op=
this.Qp=this.Pp=0;this.Rd=this.Gl=this.Jc=this.El=!1;this.bm=!0;this.xq=!1;this.wq=0;this.zj=!1;this.Xj=this.Wj=0;this.yh=!1;this.C="";this.jb=this.ib=0;this.Dt=this.Ct=this.Zl=this.yj=this.Sk=this.Hi=this.Dv=this.Cv=this.fk=this.ul=this.hk=this.gk=this.pf=-1;this.Sq=this.iq=!1;this.Qo=this.Jf=-1;this.on=this.Jk=!1;this.Kp=-1;this.xl=this.lk=null;this.Ro="";this.yl=this.si=0;this.HG=32768;this.Ip=!1;this.et=this.ft=0;this.dt=!0;this.wp=this.Mb=this.Ih=!1;this.Dk=0;this.XB=.01;this.Dh=this.Bg=!1;this.Ei=
this.Wf=null;this.ah=v.ah;this.uj=[96,96,96];this.Wr=null;this.Tg="";this.ei=!0;this.Bh=this.Ia=this.he=!1;this.Vi=null;this.Xe=!1;this.P=1;this.wh=this.xh=0;this.Mc=this.Yt=!1;this.J=new WaypointManager;this.ao="";this.iu=-1;this.tf=this.vc=!1;this.ra=1;this.Gt=this.Au=this.lo=0;this.Wh=v.yE;this.Lg=this.le=this.Ff=this.xd=this.Gi=-1;this.qo=this.vm="";this.so=this.Ri=this.cb=this.Xa=0;this.ro=null;this.Nu=this.je=this.cf=this.vh="";this.vg=!1;this.ba=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.Ex=this.Dx=-1;this.kt=v.ty;this.jt=v.vp;this.lt=v.pz;this.Rl="";this.Gd=[];this.sp=!1;this.sb=null;this.Kk=[];this.tc=[];this.Db=1;this.$=0;this.Ko=!1;this.qm=100;this.rc=10;this.W=[64,200,290,530,700];this.gf=!1;this.V=[];this.Jq=[];this.Kq=[];this.ob=-1;this.Ad=!1;this.Aa=-1;this.Gq=this.Oe=this.Ed=this.yc=this.Pi=this.fr=this.hc=this.Th=this.xa=this.Sd=this.Yb=!1;this.an=this.Kl=this.Zm=-1;this.a=null;this.elapsedTime=0;this.D=640;this.B=512;this.$m=!1;
this.Ym=640;this.pr=!0;this.If=this.yv=this.Jg=this.Da=this.ym=!1;this.sl=this.zl=this.ti=this.qc=this.Sl=this.Zd=this.dj=this.Me=this.Dc=this.Za=null;this.A=[];this.g=this.Cc=this.nj=this.Mm=this.xk=this.cg=this.Lb=this.cj=this.ej=this.xg=this.sg=this.ji=this.kg=this.mg=this.ll=this.ec=this.Ke=this.fa=this.jl=this.wd=this.eb=this.Df=this.vj=this.se=this.Lh=this.ha=this.Vj=this.Ie=this.tb=this.R=this.Rk=this.kf=this.Vo=this.Je=this.am=this.ii=this.Wi=this.Nm=this.fm=this.Vh=this.pg=this.hj=this.Pf=
this.ci=this.gm=this.Ll=this.Aj=this.kn=this.Dj=this.Of=this.di=this.mi=this.He=this.Gj=this.Ea=this.mj=this.Ii=this.Ek=this.re=this.Qf=this.lg=this.kj=this.pn=this.bl=this.Bj=this.Hh=this.aa=this.bh=this.Ge=this.$g=this.eh=this.qh=this.nh=this.ph=this.oh=this.zk=this.Ak=this.Bk=this.Ki=this.jk=this.Ij=this.Nf=this.Fk=this.Cd=this.Wd=this.Vd=this.ad=this.tk=this.vk=this.uk=this.sk=this.Ml=this.$c=this.rh=this.Yd=this.bi=this.Xd=this.th=this.jm=this.sm=this.$a=this.Ve=this.Wc=this.lc=this.Vb=this.Kc=
this.op=this.pp=this.np=this.hp=null;this.Fg=this.$k=-1;this.wheelDelta=0;this.$b=this.Zb=this.uc=null;this.Ue=60;this.v=this.l=null;this.Zg=this.rd=this.Ul=0;this.hq=this.Ox=1;this.qt=60;this.Wl=this.gq=1;this.pt=.1;this.Ur=-1;this.zh=this.yd=this.nv=0;this.Fm=1;this.$i=this.Ga=this.st=this.rt=this.tt=!1;this.nd=v.Nx;this.Bp=this.nq=this.Rv=this.Ep=0;this.Vr=this.ui=!1;this.Eo=this.Tv=0;this.sd=this.Gf=!1;this.xm=-1}function l(b,h,n,x,u){var t,A=h.parentNode,y=null;for(t=0;t<z.Pc.length&&!y;)z.Pc[t][0].tabIndex===
h.tabIndex?y=z.Pc[t][1]:t+=1;y||(y=new m(u),y.Xe=x,w.bo&&!x&&(y.Wh=n&-8,y.Wh<v.vd&&(y.Wh=v.vd)),h.tabIndex=z.Pc.length+1,y.ou(h),"none"===A.style.display&&(z.Yu=new PopupWindow(A,y.l)),z.Pc[z.Pc.length]=[h,y,z.Yu]);x||y.Ch(b,!1)}function a(b){b=b.parentNode;for(var h=!1;!h;)"div"!==b.localName||b.className!==w.jq&&b.className!==w.kq||(h=!0),h||(b=b.parentNode);return b}function k(){var b=z.Bv(),h=b[1],n=b[2];b[0].parentNode.style.display="none";n.Ok=!1;h.Da&&(h.eb.current=h.Bd(v.Md,!0,h))}function c(b){k();
b.stopPropagation&&b.stopPropagation();b.preventDefault();return!1}function f(b){b=b.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").trim();b=b.replace(/\n[ ]+/g,"\n");return b=b.replace(/\n\t+/g,"\n")}function e(b){var h=a(b).getElementsByTagName(w.wm)[0];b=z.Pc[0];h.innerHTML=h.value;h=f(h);b[1].Fw(b[1]);b[1].l.notification.clear(!0,!0);b[1].l.notification.clear(!1,
!0);b[1].Ch(h,!1)}function g(b){b=a(b);var h=b.getElementsByTagName(w.wm)[0],n=f(h),x=z.Bv();if(x)x[1].element=h,x[1].Fw(x[1]);else{x=document.createElement("canvas");x.width=v.vd;x.height=v.Oi+80;x.style.display="block";var u=document.createElement("a");u.setAttribute("href","#");u.innerHTML="&nbsp;X&nbsp;";u.style.textDecoration="none";u.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";u.style.color="#FFFFFF";u.style.backgroundColor="#C75050";u.style.cssFloat="right";u.style.height=
"28px";u.style.fontSize="18px";var t=document.createElement("a");t.innerHTML="&nbsp;X&nbsp;";t.style.textDecoration="none";t.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";t.style.visibility="hidden";t.style.cssFloat="left";t.style.height="28px";t.style.fontSize="18px";var A=document.createElement("div");A.style.textAlign="center";A.style.color="rgb(83,100,130)";A.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";A.style.fontSize="18px";A.style.height="28px";var y=document.createTextNode("LifeViewer");
A.style.cursor="default";A.appendChild(y);registerEvent(u,"click",c,!1);registerEvent(u,"touchend",c,!1);var B=document.createElement("div");B.style.display="none";B.style.position="fixed";B.style.border="1px solid rgb(128,128,128)";B.style.zIndex="1";B.style.left="2048px";B.style.top="0px";B.style.textAlign="right";B.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";B.style.margin="1px";var C=document.createElement("div");C.className=w.kq;C.style.backgroundColor="#FFFFFF";
C.style.height="28px";C.style.lineHeight="28px";C.appendChild(t);C.appendChild(u);C.appendChild(A);B.appendChild(C);B.appendChild(x);b.appendChild(B);l(n,x,v.vd,!0,h);z.Av=z.Pc.length-1;x=z.Bv();x[1].Wr=y}b=x[0].parentNode;""!==b.style.display&&(b.style.display="");x[1].D=v.vd;x[1].B=v.Oi+80;x[1].resize();x[1].l.notification.clear(!0,!0);x[1].l.notification.clear(!1,!0);x[1].Ch(n,!0);x[1].resize();b=x[2];b.Ok=!0;b.Oz(b);x[1].$b.canvas.focus();x[1].l.hasFocus=!0;return!1}function p(b,h){var n=!1,x=
null;try{x=PatternManager.create("",b,h),x.kd&&(n=!0,w.ya&&(z.md[z.md.length]=new d(x.name,b,x.ca+x.Cp,x.width,x.height)))}catch(u){}return n}function q(b){g(this);b.stopPropagation&&b.stopPropagation();b.preventDefault();return!1}function r(){var b=document.getElementsByTagName("div"),h,n,x=new Allocator;var u=document.getElementsByTagName("meta");for(h=0;h<u.length;h+=1){var t=u[h];if(t.name===w.tagName&&(w.Pt=!1,w.bo=!1,t=t.content,(n=t.match(/\S+/g))&&2<=n.length&&5>=n.length))for(w.jq=n[0],w.wm=
n[1],t=2;t<n.length;t+=1)switch(n[t]){case "hide":w.Pt=!0;break;case "limit":w.bo=!0;break;case "multi":w.ya=!0;break;default:var A=n[t];!isNaN(parseFloat(A))&&isFinite(Number(A))&&(w.nr=parseFloat(A)|0)}}if(!window._LifeViewer)for(window._LifeViewer=!0,u=0;u<b.length;u+=1)(t=b[u],t.className===w.jq)?(h=t.getElementsByTagName(w.wm)[0],t=t.getElementsByTagName("canvas")[0],(n=h.getElementsByTagName(w.wm)[0])&&(h=n),typedArrays&&h&&(n=f(h),w.ya&&p(n,x),t&&t.getContext?(-1<w.nr&&h.clientHeight>w.nr&&
(h.style.height=w.nr+"px"),l(n,t,h.offsetWidth,!1,h)):w.Pt&&t&&(t.style.display="none"))):typedArrays&&t.className===w.kq&&t.parentNode.className!==w.jq&&(h=t.getElementsByTagName(w.wm)[0])&&(n=f(h),p(n,x)&&(t=t.getElementsByTagName("a")[0],n=document.createElement("a"),n.setAttribute("href","#"),n.innerHTML="Show in Viewer",registerEvent(n,"click",q,!1),t?(h=document.createTextNode(" / "),t.parentNode.appendChild(h),t.parentNode.appendChild(n)):h.parentNode.appendChild(n)))}var w={tagName:"LifeViewer",
jq:"rle",wm:"code",nr:37,Pt:!0,bo:!1,ya:!1,kq:"codebox",md:[]},v={KG:[0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3],Pv:[1,10,11,17,2,3,4,5,7,12,13,14,15,16,0,6,8,9],po:0,dz:1,ez:2,bz:3,gz:4,fz:5,hz:6,iz:7,cz:8,Wy:9,UE:"Top Left;Top;Top Right;Right;Bottom Right;Bottom;Bottom Left;Left;Middle".split(";"),oq:15,ME:5,Jh:1E8,ap:0,$v:1,aw:2,bw:3,ew:4,fw:5,dw:6,cw:7,Du:0,jr:1,kl:2,Ju:3,az:4,pi:Math.sqrt(3),nC:65536,pC:500,qC:17,dy:13750737,ey:15066597,Cq:7368816,Dq:5263440,lA:.016,yG:16,Vy:16384,Mx:.7,hr:1E4,cG:"Script errors",
wf:-2,uf:2,Sy:2,Ly:4,Nx:4,FA:16.7,Oy:9,Hy:14,YC:13,ky:null,Ny:1,Fy:16,Lx:3,qf:0,Yg:1,Tp:2,wg:3,sn:4,tn:5,un:6,bq:7,cq:8,Up:9,Zp:10,Yp:11,Xp:12,$p:13,aq:14,Wp:15,vn:16,Vp:17,mt:18,zn:19,xn:20,An:21,Cn:22,Bn:23,yn:24,rn:25,wn:26,PE:0,QE:1,$D:2,zy:3,Dy:4,By:5,sy:6,Ba:[0,6,2,5,3,4,1],nA:"Dead Alive History Mark1 MarkOff Mark2 Kill".split(" "),HH:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),XE:0,WE:160,lz:10,Qu:100,kz:20,ED:18.5,mA:1E3/60,qH:!1,pq:1800,xD:"LifeViewer",pv:"LifeViewer Image",JA:"LifeViewer",
zw:392,IA:"Chris Rowett",cr:1,Xq:10,qu:0,FE:1,Md:2,Yh:3,Mj:0,nm:1,mm:2,ls:1.25,cE:.99,br:0,Gy:10,Mk:10,Ey:32,wb:.0625,gc:64,ho:-16,fo:-1,vf:1,Kj:60,dl:1,Ye:64,fontSize:18,Hn:"18px Courier",qk:"18px Arial",Pg:"18px Arial",Hf:"14px Arial",Kr:"9px Arial",vp:"rgb(240,255,255)",UB:"rgb(0,0,0)",pz:"rgb(240,255,255)",qz:"rgb(0,0,0)",bx:2,dr:1,Yq:64,TB:.2,ty:"rgb(240,255,255)",pE:"rgb(0,0,0)",oE:18,Py:4,Iy:128,nE:"Arial",em:"rgb(32,255,255)",Mn:"#000000",ah:"rgb(255,96,96)",Aq:"rgb(128,128,128)",DE:64,CE:64,
Qy:480,vd:560,yE:4096,WD:80,lm:240,ar:4096,Oi:480,Tw:132,XA:292,Fv:0,oA:1,pA:2,AE:0,tE:16,ij:0,qy:1,qv:2,Nn:3,sA:4,xx:5,Xw:6,My:7,cx:8},z={o:new Allocator,Pc:[],Av:-1,Yu:null,md:[],Bv:function(){var b=null;-1!==this.Av&&(b=this.Pc[this.Av]);return b},MD:function(b){var h=null;0<=b&&b<this.Pc.length&&(h=this.Pc[b][1]);return h},DH:function(){return this.Pc.length},jH:function(){var b=0,h;for(h=0;h<this.Pc.length;h+=1){var n=this.Pc[h][1];n.Da&&(b+=1)}return b},GF:function(){var b,h=0;for(b=0;b<this.Pc.length;b+=
1){var n=this.Pc[b][1];n.eb.current=n.Bd(v.qu,!0,n);n.l.Ah(!0);h+=1}return h},DG:function(){var b,h=0;for(b=0;b<this.Pc.length;b+=1){var n=this.Pc[b][1];n.Da&&(n.eb.current=n.Bd(v.Md,!0,n),h+=1)}return h},EG:function(b){var h,n=0;for(h=0;h<this.Pc.length;h+=1){var x=this.Pc[h][1];x!==b&&x.Da&&(x.eb.current=x.Bd(v.Md,!0,x),n+=1)}return n}};m.prototype.Mp=function(){var b,h=this.xe,n=this.Vf,x=[];for(b=0;10>b;b+=1){var u=b===n?"current ":"activate ";u+="clipboard";null!==h[b]&&(u+=" ("+h[b].width+" x "+
h[b].height+")");x[b]=u}this.pn.w=x};m.prototype.sE=function(b){window.confirm("Open last saved pattern?")&&e(b.element)};m.prototype.qe=function(){var b=1<<v.oq,h=this.kc>>v.oq;h===this.Qc.length&&(this.Qc[h]=this.a.o.L(Int16,b,"View.currentEdit"+h));return this.Qc[h]};m.prototype.Gc=function(b,h,n){var x=this.a.getState(b,h,!1),u=this.kc,t=v.oq;var A=u>>t;var y=1<<t,B=y-1,C=this.Qc,F=(this.a.width>>1)-(this.Xa>>1),E=(this.a.height>>1)-(this.cb>>1);var G=this.a.f;var H=2<G&&!this.a.pb,L=!1;0<x&&
H&&(x=G-x);if(n!==x){if(!this.he){A>=C.length&&this.qe();G=C[A];u&=B;H=n<<8|x;if(0<u)if(4<=u){var M=G[u-1];16384<=M?G[u-3]===H&&G[u-2]===h-E&&G[u-4]===b-F-(M-16384)-2&&(G[u-1]+=1,L=!0):G[u-2]===H&&G[u-1]===h-E&&G[u-3]===b-F-1&&(G[u]=16384,u+=1,this.kc+=1,u===y&&this.qe(),L=!0)}else A=this.kc,M=C[A-1>>t][A-1&B],16384<=M?G[A-3>>t][A-3&B]===H&&G[A-2>>t][A-2&B]===h-E&&G[A-4>>t][A-4&B]===b-F-(M-16384)-2&&(G[A-1>>t][A-1&B]+=1,L=!0):C[A-2>>t][A-2&B]===H&&C[A-1>>t][A-1&B]===h-E&&C[A-3>>t][A-3&B]===b-F-1&&
(G[u]=16384,u+=1,this.kc+=1,u===y&&(G=this.qe()),L=!0);L||(G[u]=b-F,u+=1,this.kc+=1,u===y&&(G=this.qe(),u=0),G[u]=n<<8|x,u+=1,this.kc+=1,u===y&&(G=this.qe(),u=0),G[u]=h-E,this.kc+=1,u+1===y&&this.qe())}return this.a.Ae(b,h,n,!0)}};m.prototype.Lu=function(b,h){var n=0,x=(this.a.width>>1)-(this.Xa>>1),u=(this.a.height>>1)-(this.cb>>1);if(b)if(h)for(n=b.length;0<n;){var t=b[n-1];16384<=t&&--n;n-=3;h=b[n]+x;var A=b[n+1]&255;var y=b[n+2]+u;this.a.Ae(h,y,A,!0);if(16384<=t)for(t-=16384;0<=t;)h+=1,this.a.Ae(h,
y,A,!0),--t}else for(;n<b.length;)if(h=b[n]+x,A=b[n+1]>>8,y=b[n+2]+u,this.a.Ae(h,y,A,!0),n+=3,t=b[n],16384<=t)for(n+=1,t-=16384;0<=t;)h+=1,this.a.Ae(h,y,A,!0),--t};m.prototype.Io=function(b){for(var h=this.Hb-1,n=this.fb,x=!1;0<=h&&!x;)this.Se[h].fh<=b?("advance outside"===this.Se[h].action&&--h,x=!0):--h;x&&(this.Hb=h+1,b=this.Hb>=this.gl?this.Se[this.Hb-1]:this.Se[this.Hb],b.selection?(n.i=b.selection.i,n.h=b.selection.h,n.s=b.selection.s,n.m=b.selection.m,this.Va=!0):this.Va=!1,this.ng=!1,this.Ck())};
m.prototype.Ck=function(){var b=this.Hb,h=this.gl,n=this.Se;if(1<b){var x="undo ";var u=n[b-1];if(null===u.Qk){var t=u.fh;1<b&&(t=n[b-2].fh);this.a.u===t?x+=u.action:(x=1<this.a.u-t?x+"play":x+"step",x+=" from "+t)}else x=""===u.action?x+"edit":x+u.action;this.dj.w=x}b<h&&(x="redo ",u=n[b],null===u.Qk?(t=u.fh,t===this.a.u?x+=u.action:(x=1<t-this.a.u?x+"play":x+"step",x+=" to "+t)):x=""===u.action?x+"edit":x+u.action,this.Zd.w=x)};m.prototype.ov=function(b){var h=this.Va?this.fb:null;return null===
b&&null===h?!0:null===b&&null!==h||null!==b&&null===h?!1:b.i===h.i&&b.h===h.h&&b.s===h.s&&b.m===h.m?!0:!1};m.prototype.ip=function(b,h,n,x){var u=!1;if(0<this.Hb){var t=this.Se[this.Hb-1];t.fh===b&&null===h&&""===n&&this.ov(t.selection)&&(u=!0)}u||(this.Se[this.Hb]={fh:b,Qk:h,action:n,selection:x},this.Hb+=1)};m.prototype.rb=function(b){var h=this.a.u,n=null,x=null,u=this.fb,t=null,A=v.oq,y=1<<A,B=y-1;A=this.kc>>A;if(!this.he){this.Da&&(0<this.Hb&&(t=this.Se[this.Hb-1]),t&&t.selection&&(x=new BoundingBox(t.selection.i,
t.selection.h,t.selection.s,t.selection.m)),this.ip(h,n,"",x),x=null);this.Va&&(x=new BoundingBox(u.i,u.h,u.s,u.m));if(0<this.kc){n=this.a.o.L(Int16,this.kc,"View.editCells"+this.Hb);for(t=u=0;u<A;)n.set(this.Qc[u].slice(),t),u+=1,t+=y;this.kc&B&&n.set(this.Qc[u].slice(0,this.kc&B),t);this.kc=0}this.ip(h,n,b,x);this.gl=this.Hb;this.Ck()}};m.prototype.qw=function(b){var h=b.a.u,n=b.Hb,x=b.fb,u=1,t=!1;if(!b.he){this.Da&&(b.eb.current=b.Bd(v.Md,!0,b),n=b.Hb);if(0<n)for(;0<u;){var A=b.Se[n-1];var y=A.fh;
var B=A.selection;t||"advance outside"!==A.action||(t=!0,u=3);null===A.Qk&&1<n&&(y=b.Se[n-2].fh);1<n&&(B=b.Se[n-2].selection);y<h?(0===y?b.reset(b):b.ql(y),h=b.a.u):b.Lu(A.Qk,!0);B?(x.i=B.i,x.h=B.h,x.s=B.s,x.m=B.m,b.Va=!0):b.Va=!1;b.ng=!1;--n;b.Hb=n;--u}else 0<h&&b.reset(b);this.Ck();this.a.zg();this.a.Oa&&this.a.ml()}};m.prototype.fv=function(b){var h=b.a.u,n=b.fb,x=1,u=!1;if(!b.he){for(;0<x&&b.Hb<b.gl;){var t=b.Se[b.Hb];u||"advance outside"!==t.action||(u=!0,x=3);t.fh===h&&null===t.Qk&&""===t.action&&
(b.Hb+=1);t.fh>h?(b.WF(t.fh),h=b.a.u):b.Lu(t.Qk,!1);t.selection?(n.i=t.selection.i,n.h=t.selection.h,n.s=t.selection.s,n.m=t.selection.m,b.Va=!0):b.Va=!1;b.ng=!1;b.Hb+=1;--x}this.Ck();this.a.zg();this.a.Oa&&this.a.ml()}};m.prototype.lp=function(b,h,n,x){var u=[],t,A=this.a.f,y=this.Wa[x];x=y[0];var B=y[1],C=y[2];y=y[3];var F=new Pattern("rleToCellList"),E=2<A&&!this.a.pb;b+=" ";if(-1!==PatternManager.Tl(F,b,!1,this.a.o)){if(-1!==PatternManager.Tl(F,b,!0,this.a.o))for(t=0;t<F.height;t+=1){var G=F.Ze[t];
for(b=0;b<F.width;b+=1){var H=G[b];0<H&&(E&&(H=A-H),u[u.length]=h+b*x+t*B,u[u.length]=n+b*C+t*y,u[u.length]=H)}}}else u[0]="error";return u};m.prototype.qs=function(b){var h=0,n=b.indexOf("["),x=b.indexOf("]");if(-1!==n&&-1!==x&&n<x&&x===b.length-1){for(n+=1;n<x&&0<=h;){var u=b.charCodeAt(n)-48;0>u||9<u?h=-1:(h=10*h+u,n+=1)}0<h&&(this.wk=!0)}return h};m.prototype.pw=function(b){var h=0>this.Rj?-this.Rj:this.Rj,n=0>this.Sj?-this.Sj:this.Sj;h=2*(h<n?n:h);b<h&&(b=h);return b};m.prototype.Jv=function(b){var h=
0>this.Qj?-this.Qj:this.Qj,n=0>this.Tj?-this.Tj:this.Tj;h=2*(h<n?n:h);b<h&&(b=h);return b};m.prototype.IB=function(b,h){var n,x=!1;for(n=0;!x&&n<this.ki.length;)b===this.ki[n].name?x=!0:n+=1;if(x)for(b=this.ki[n].$C,n=0;n<b.length;n+=1)h[h.length]=b[n];return x};m.prototype.EB=function(b,h,n){var x,u=!1;if(ScriptParser.Zk(h))b[b.length]=[Keywords.Dm+" "+h,"name is reserved word"];else{for(x=0;!u&&x<this.ki.length;)h===this.ki[x].name?u=!0:x+=1;if(u)b[b.length]=[Keywords.Dm+" "+h,"name already defined"];
else{u=!1;for(x=0;!u&&x<n.length;)1>n[x]?u=!0:x+=1;u?b[b.length]=[Keywords.Dm+" "+h+" "+n[x],"invalid delta"]:(b=n.slice(),this.ki[this.ki.length]={name:h,$C:b})}}};m.prototype.DB=function(b,h,n,x,u,t){var A,y=!1;if(ScriptParser.Zk(h))b[b.length]=[Keywords.pl+" "+h,"name is reserved word"];else if(-1!==h.indexOf("["))b[b.length]=[Keywords.pl+" "+h,"name can not contain ["];else{for(A=0;!y&&A<this.li.length;)h===this.li[A].name?y=!0:A+=1;y?b[b.length]=[Keywords.pl+" "+h,"name already defined"]:(n=
this.lp(n,x,u,t),"error"!==n[0]?this.li[this.li.length]={name:h,cells:n}:b[b.length]=[Keywords.pl+" "+h,"invalid RLE"])}};m.prototype.HB=function(b,h,n,x,u,t,A,y,B){var C=0,F=!1,E=[],G=this.Wa[B],H=G[0],L=G[1],M=G[2],I=G[3];G=v.Jh;var D=-v.Jh,J=v.Jh,K=-v.Jh,P=t.indexOf("["),aa=t,ca=0,V=[];-1!==P&&(aa=t.substr(0,P),ca=this.qs(t));for(;C<this.li.length&&!F;)this.li[C].name===aa?(F=!0,E=this.li[C].cells.slice()):C+=1;if(F)for(C=0;C<E.length;)t=E[C],B=E[C+1],E[C]=A+t*H+B*L,E[C+1]=y+t*M+B*I,C+=3;else E=
this.lp(t,A,y,B),"error"!==E[0]&&(F=!0);-1===ca&&(F=!1);if(F){for(C=0;C<E.length;)A=E[C],y=E[C+1],A<G&&(G=A),A>D&&(D=A),y<J&&(J=y),y>K&&(K=y),C+=3;A<this.Rj&&(this.Rj=A);A>this.Sj&&(this.Sj=A);y<this.Qj&&(this.Qj=y);y>this.Tj&&(this.Tj=y);H=Array.X(Uint8,K-J+1,D-G+1,0,this.a.o,"View.rle"+this.af.length);for(C=0;C<E.length;)A=E[C],y=E[C+1],H[y-J][A-G]=E[C+2],C+=3;V[0]=b;for(C=0;C<n.length;C+=1)V[V.length]=V[V.length-1]+n[C];this.af[this.af.length]={vq:V,end:h,every:x,mode:u,cells:E,map:H,i:G,h:J,width:D-
G+1,height:K-J+1,uD:ca};0<x&&(this.Ni=!0);V[V.length-1]>this.Lj&&(this.Lj=V[V.length-1])}return F};m.prototype.oB=function(){var b,h,n=this.a.width,x,u=this.a.F,t=2>=this.a.f&&!this.a.sa&&!this.a.Oa&&-1===this.a.ja;for(b=0;b<this.af.length;b+=1){var A=this.af[b];var y=A.uD;if(0<y){var B=A.cells;var C=(n>>1)-(A.width>>1);var F=(n>>1)-(A.height>>1);var E=0;u.i=C;u.s=C+A.width-1;u.h=F;u.m=F+A.height-1;this.a.u=0;if(t)for(;E<B.length;)this.a.Ae(C+B[E]-A.i,F+B[E+1]-A.h,B[E+2],!0),E+=3;else this.a.iA(B,
C-A.i,F-A.h);for(;0<y;)this.a.we(!1,!0,!0),this.a.Re(),--y;B=[];E=0;var G=x=v.Jh;for(h=u.h;h<=u.m;h+=1)for(y=u.i;y<=u.s;y+=1){var H=this.a.getState(y,h,!1);0!==H&&(B[E]=y-C+A.i,B[E+1]=h-F+A.h,B[E+2]=H,B[E]<x&&(x=B[E]),B[E+1]<G&&(G=B[E+1]),E+=3)}A.cells=B.slice();A.width=u.s-u.i+1;A.height=u.m-u.h+1;A.h=G;A.i=x;A.map=Array.X(Uint8,A.height,A.width,0,this.a.o,"View.rle"+b);for(E=0;E<B.length;)y=B[E],h=B[E+1],A.map[h-A.h][y-A.i]=B[E+2],E+=3;this.a.Fp(!1)}}this.wk&&this.a.Fp(!1)};m.prototype.kp=function(b){var h=
!1,n,x=this.a.u;if(0!==b.every&&x>=b.vq[0]&&0===(x-b.vq[0])%b.every)-1!==b.end&&x>b.end||(h=!0);else for(n=0;n<b.vq.length&&!h;)x===b.vq[n]?h=!0:n+=1;return h};m.prototype.OB=function(){for(var b=!1,h=0,n=this.af.length;h<n&&!b;)b=this.kp(this.af[h]),h+=1;return b};m.prototype.Qi=function(){var b,h=this.a.u,n=this.a.width,x=2>=this.a.f&&!this.a.sa&&!this.a.Oa&&-1===this.a.ja;for(b=0;b<this.af.length;b+=1){var u=this.af[b];if(this.kp(u)){var t=u.mode;var A=(n>>1)-(this.Xa>>1);var y=(n>>1)-(this.cb>>
1);var B=u.cells;var C=u.map;var F=0;switch(t){case v.kl:if(x)for(;F<B.length;)this.a.Ae(A+B[F],y+B[F+1],B[F+2],!0),F+=3;else this.a.iA(B,A,y);break;case v.jr:A+=u.i;y+=u.h;for(u=0;u<C.length;u+=1)for(B=C[u],t=0;t<B.length;t+=1)this.a.Ae(A+t,y+u,B[t],!0);break;case v.Ju:for(;F<B.length;){t=B[F];u=B[F+1];var E=this.a.getState(A+t,y+u,!1);this.a.Ae(A+t,y+u,B[F+2]^E,!1);F+=3}break;case v.Du:A+=u.i;y+=u.h;for(u=0;u<C.length;u+=1)for(B=C[u],t=0;t<B.length;t+=1)E=this.a.getState(A+t,y+u,!1),this.a.Ae(A+
t,y+u,B[t]&E,!1);break;case v.az:for(A+=u.i,y+=u.h,u=0;u<C.length;u+=1){B=C[u];for(t=0;t<B.length;t+=1)0===B[t]&&this.a.Ae(A+t,y+u,1,!0);F+=3}}}}if(this.Ni||h<=this.Lj)this.a.ea=1;this.Cu()};m.prototype.Cu=function(){var b,h=this.a.u;for(b=0;b<this.Hb;b+=1)this.Se[b].fh===h&&this.Lu(this.Se[b].Qk,!1);this.a.zg()};m.prototype.mp=function(b){this.Wk=this.Fj=this.Qn=this.Sn=this.Mi=this.Rn=this.Pn=this.On=this.Xk=this.Un=this.Tn=b};m.prototype.fC=function(){this.mp(!1)};m.prototype.gG=function(){this.mp(!0)};
m.prototype.ux=function(){this.Jq=[];this.Kq=[]};m.prototype.aC=function(b){var h=b.Zb.toDataURL("image/png"),n;(n=document.getElementById("screenshot"))?n.src=h:(n=window.open("",v.pv))?(n.width=b.D+20,n.height=b.B+20,n.document.open(),n.document.write('<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>'+v.pv+'</title>\n\t</head>\n\t<body>\n\t\t<img width="'+b.D+'" height="'+b.B+'" src="'+h+'" alt="'+v.pv+'"/>\n\t</body>\n</html>\n'),n.document.close(),b.l.notification.N("Image Captured",
300,!0)):b.l.notification.N("Could not open Image window!",v.pq,!0)};m.prototype.Kw=function(b){var h=this.a.Ua,n=this.a.la,x=this.a.Ab;var u=b.width;var t=b.height;var A=this.bc,y=this.cc,B=this.a.Ka,C=this.a.Ka>>4,F=this.a.Na,E=null,G=u,H=t;var L=Math.round(-this.a.na/2);var M=Math.floor((this.a.na-1)/2);var I=Math.round(-this.a.pa/2);var D=Math.floor((this.a.pa-1)/2);var J=A-(this.a.width>>1),K=y-(this.a.height>>1),P=this.a.f,aa=!0,ca=2===P&&this.a.sa;-1!==this.a.ja&&(0!==this.a.na&&(J<L||J+u-
1>M)&&(aa=!1),0!==this.a.pa&&(K<I||K+t-1>D)&&(aa=!1),aa||(this.Jw=!0,0!==this.a.na?(A=Math.round(this.a.width/2)+L,G>M-L+1&&(G=M-L+1)):A=Math.round(this.a.width/2),0!==this.a.pa?(y=Math.round(this.a.height/2)+I,H>D-I+1&&(H=D-I+1)):y=Math.round(this.a.height/2)));b.Z&&(0!==(A&1)&&(A+=1),0!==(y&1)&&(y+=1));for(t=0;t<H;t+=1){I=b.kd[t];D=h[t+y&F];if(this.yc)for(L=b.Ze[t],E=n[t+y&F],u=0;u<G;u+=1)E[u+A&B]=L[u];else if(2<P)for(L=b.Ze[t],E=n[t+y&F],u=0;u<G;u+=1)M=L[u],0<M&&!this.a.pb&&(M=P+this.S-M),E[u+
A&B]=M;ca&&(E=n[t+y&F]);for(u=0;u<G;u+=1)0!==(I[u>>4]&1<<(~u&15))&&(D[u+A>>4&C]|=1<<(~(u+A)&15),ca&&(E[u+A&B]=LifeConstants.Sa))}if(x)for(t=0;t<H;t+=1)for(L=b.Ze[t],h=x[t+y&F],u=0;u<G;u+=1)(M=L[u])&&(h[u+A&B]=v.Ba[M]+128)};m.prototype.tq=function(){var b=!1;-1!==this.a.ja&&0!==this.a.na&&0!==this.a.pa&&(b=!0);return b};m.prototype.vs=function(){var b=!1;-1===this.a.ja||0!==this.a.na&&0!==this.a.pa||(b=!0);return b};m.prototype.es=function(b,h,n){b=b[0];h&&(n.Bc=b);return[b,100*b]};m.prototype.Ew=
function(b,h,n){h&&(n.bf=b[0]);return[n.bf,v.UE[n.bf+.5|0]]};m.prototype.EC=function(b){b.xa||(b.bf=(b.bf+.5|0)+1,b.bf>=v.Wy&&(b.bf=0),b.ll.current=b.Ew([b.bf,b.bf],!0,b))};m.prototype.Iq=function(b,h,n){h&&(n.nl=b[0]);return[n.nl,n.nl]};m.prototype.Nq=function(b,h,n){h&&(n.Og=(n.a.f-n.Jj)*b[0]|0);b[1]=n.Og+"-"+(n.Og+n.Jj-1);return b};m.prototype.Bi=function(b,h,n){var x=b[0],u=0;h?(n.tf=!0,n.a.zoom=v.wb*Math.pow(v.gc/v.wb,b[0])/n.a.ac):(x=Math.log(n.a.zoom*n.a.ac/v.wb)/Math.log(v.gc/v.wb),0>x?x=
0:1<x&&(x=1));this.Jc&&!this.Rd?u=n.a.zoom*n.a.ac:u=n.a.zoom;u<v.wb?u=v.wb:u>v.gc&&(u=v.gc);1>u&&(u=-1/u);return[x,u]};m.prototype.VB=function(b){var h=b/6E4|0;b=b%6E4/1E3;var n="";0<h&&(n=h+":",10>b&&(n+="0"));return n+=b.toFixed(2)};m.prototype.dh=function(b,h){var n=this.a.zoom,x=this.a.ga,u=this.a.da,t=6;if(this.Ga){var A=this.a.dh(this.Ta,this.D*this.nd,this.B*this.nd,v.wb,v.gc,v.ls,this.Xa,this.cb,this.xa&&this.yc,this.Bg,this.Jc,this.aj,this.xi,this.yi,this.bj,this.Dh,this.Mb);A[0]/=this.nd}else A=
v.WD,this.hc&&(A=0),A=this.a.dh(this.Ta,this.D,this.B-A,v.wb,v.gc,v.ls,this.Xa,this.cb,this.xa&&this.yc,this.Bg,this.Jc,this.aj,this.xi,this.yi,this.bj,this.Dh,this.Mb);this.Mb&&!b?(24<this.a.zoom&&(t=3),1<this.ra&&(t=1),this.a.zoom=(this.a.zoom*(t-1)+A[0])/t,this.a.ga=(this.a.ga*(t-1)+A[1])/t,this.a.da=(this.a.da*(t-1)+A[2])/t,b=this.a.zoom>n?this.a.zoom/n-1:n/this.a.zoom-1,x=this.a.ga>x?this.a.ga-x:x-this.a.ga,u=this.a.da>u?this.a.da-u:u-this.a.da,this.Dk=b,x>this.Dk&&(this.Dk=x),u>this.Dk&&(this.Dk=
u),.01>=this.Dk&&(this.a.zoom=A[0],this.a.ga=A[1],this.a.da=A[2])):(this.gk=this.a.width/2-this.a.ga,this.hk=this.a.height/2-this.a.da,this.ul=this.a.zoom,this.fk=this.a.angle,this.Hi=this.a.width/2-A[1],this.Sk=this.a.height/2-A[2],this.yj=A[0],this.Zl=this.fk,this.Qo=WaypointConstants.zm,h?this.Jf=0:(this.Jf=WaypointConstants.zm,this.rw()));this.Vb&&(this.Vb.current=this.Bi([this.a.zoom,this.a.zoom],!1,this));this.Kc&&(this.Kc.current=this.cp([this.a.angle,this.a.angle],!1,this))};m.prototype.yw=
function(b,h){-1!==this.a.ja&&this.yh?(this.bc=(this.a.width>>1)+this.ib,this.cc=(this.a.height>>1)+this.jb):(this.bc=Math.round((this.a.width-b)/2)+this.ib,this.cc=Math.round((this.a.height-h)/2)+this.jb);!this.xa&&this.a.Oa||!PatternManager.$l||(this.xa=this.yc=!0)};m.prototype.Jo=function(b){var h=b+String();1E9<=b?h="1B+":1E8<=b?h=(b/1E6|0)+"M":1E7<=b?h=Number(b/1E6).toFixed(1)+"M":1E6<=b?h=Number(b/1E6).toFixed(2)+"M":1E5<=b&&(h=(b/1E3|0)+"K");return h};m.prototype.Nl=function(b,h){var n=this.l.Zh,
x=this.l.$h;h=b+h;var u=-this.a.angle,t=Math.sin(u/180*Math.PI);u=Math.cos(u/180*Math.PI);0>h?h=0:1<h&&(h=1);b=v.wb*Math.pow(v.gc/v.wb,b);h=v.wb*Math.pow(v.gc/v.wb,h);h<v.wb?h=v.wb:h>v.gc&&(h=v.gc);n-=this.D/2;x-=this.B/2;n=(n-h/b*n)/h;b=(x-h/b*x)/h;this.a.ga-=n*u+b*-t;this.a.da-=n*t+b*u;h=Math.log(h/v.wb)/Math.log(v.gc/v.wb);this.Vb.current=this.Bi([h,h],!0,this)};m.prototype.Ws=function(b,h){var n=v.Ye;b.a.sa&&(n=4*b.a.Wb.Fc+1,-1!==b.a.ja&&(n+=2*b.a.Wb.Fc),b.a.Wb.type===PatternManager.gg&&(n=-1!==
b.a.ja?n+b.a.pa/2:n+(b.a.F.m-b.a.F.h+1)/2),n<v.Ye&&(n=v.Ye));for(;b.a.dC(h,n);)b.rd+=b.a.width>>2,b.Zg+=b.a.height>>2,b.yd+=b.a.width>>2,b.zh+=b.a.height>>2,b.a.U&&(b.rd-=b.a.height>>3,b.yd-=b.a.height>>3),b.bc+=b.a.width>>2,b.cc+=b.a.height>>2,h.i+=b.a.width>>2,h.s+=b.a.width>>2,h.h+=b.a.height>>2,h.m+=b.a.height>>2};m.prototype.sx=function(b){var h=!1,n=b.fb,x=b.cl,u=(b.a.width>>1)-(b.Xa>>1)+(b.ib<<1),t=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1);x.i=n.i+u;x.h=n.h+t;x.s=n.s+u;x.m=n.m+t;b.Ws(b,x);u=(b.a.width>>
1)-(b.Xa>>1);t=(b.a.height>>1)-(b.cb>>1);0>n.i+u&&(n.i=-u,h=!0);n.i+u>=b.a.width&&(n.i=b.a.width-1-u,h=!0);0>n.s+u&&(n.s=-u,h=!0);n.s+u>=b.a.width&&(n.s=b.a.width-1-u,h=!0);0>n.h+t&&(n.h=-t,h=!0);n.h+t>=b.a.height&&(n.h=b.a.height-1-t,h=!0);0>n.m+t&&(n.m=-t,h=!0);n.m+t>=b.a.height&&(n.m=b.a.height-1-t,h=!0);return h};m.prototype.ZG=function(b){b.Df.current=b.si/b.yl*100;b.Df.j=!1;b.Ve.qd=0};m.prototype.$G=function(b,h){b.Df.current=b.a.u/h*100;b.Df.j=!1;b.Ve.qd=0};m.prototype.YG=function(b){var h=
!1,n=!1,x=0;b.Yb||-1===b.Aa||(h=!0);!b.Sd&&b.vc&&(n=!0);if(h||n){var u=!1;if(n&&h)x=b.elapsedTime/b.J.sD(b.Aa);else if(n){if(h=b.J.qE().Ic)x=b.elapsedTime/h,1<x&&(u=!0)}else 0<b.Aa&&(x=b.a.u/b.Aa);1<x&&(x=1);b.Df.current=100*x}else u=!0;(b.Df.j=u)?b.Ve.qd=b.v.qd:b.Ve.qd=0};m.prototype.nD=function(){this.Vi.rC(this.a.width/2-this.a.ed,this.a.height/2-this.a.fd,this.a.ta,this.a.Ca,this.a.D,this.a.B,this.a.Id,this.a.Kg[0])};m.prototype.Bz=function(){var b=this.v.bg-this.D/2,h=this.v.ai-this.B/2,n=this.cc-
this.a.da,x=this.bc-this.a.ga-(this.a.U?this.a.da/2:0),u=this.a.zoom;var t=this.a.zoom*(this.a.Z&&4<=u?v.pi:1);var A=-1;-1!==this.v.bg&&(0!==this.a.Ca&&(A=Math.sqrt(b*b+h*h),h=180/Math.PI*Math.atan2(h,b),h-=this.a.Ca,b=A*Math.cos(Math.PI/180*h),h=A*Math.sin(Math.PI/180*h)),t=h/t-n+this.a.bb,b=b/u+(this.a.U?n/2+t/2:0)-x+this.a.mb,this.a.Z&&(b-=this.a.zoom/32*.2),x=b-Math.floor(b),n=t-Math.floor(t),b-=x,t-=n,this.a.Z&&(0===(b+this.bc+t+this.cc&1)?1<x+n&&(b+=1):1>1-x+n&&(b+=1)),A=this.a.getState(b+this.bc,
t+this.cc,this.yc&&this.xa));return A};m.prototype.$r=function(b,h){var n=b-this.D/2,x=h-this.B/2;h=this.cc-this.a.da;var u=this.bc-this.a.ga-(this.a.U?this.a.da/2:0),t=0,A=0,y=0,B=0,C=this.a.zoom,F=this.a.zoom*(this.a.Z&&4<=C?v.pi:1);-1!==b&&(0!==this.a.Ca&&(b=Math.sqrt(n*n+x*x),x=180/Math.PI*Math.atan2(x,n),x-=this.a.Ca,n=b*Math.cos(Math.PI/180*x),x=b*Math.sin(Math.PI/180*x)),t=x/F-h+this.a.bb,A=n/C+(this.a.U?h/2+t/2:0)-u+this.a.mb,this.a.Z&&(A-=this.a.zoom/32*.2),B=A-Math.floor(A),y=t-Math.floor(t),
A-=B,t-=y);this.a.Z&&(0===(A+this.bc+t+this.cc&1)?1<B+y&&(A+=1):1>1-B+y&&(A+=1));this.Mh=A+this.bc;this.Nh=t+this.cc};m.prototype.ns=function(b,h,n,x,u){var t=Math.abs(n-b),A=Math.abs(x-h),y=b<n?1:-1,B=h<x?1:-1,C=t-A,F=this.a.width,E=this.a.height,G;for(G=0|this.Gc(b,h,u);F!==this.a.width;)F<<=1,E<<=1,b+=F>>2,h+=F>>2,n+=F>>2,x+=F>>2,this.rd+=F>>2,this.Zg+=E>>2,this.yd+=F>>2,this.zh+=E>>2,this.a.U&&(this.rd-=E>>3,this.yd-=E>>3),this.bc+=F>>2,this.cc+=E>>2;for(;b!==n||h!==x;){var H=C+C;H>-A&&(C-=A,
b+=y);H<t&&(C+=t,h+=B);for(G|=this.Gc(b,h,u);F!==this.a.width;)F<<=1,E<<=1,b+=F>>2,h+=F>>2,n+=F>>2,x+=F>>2,this.rd+=F>>2,this.Zg+=E>>2,this.yd+=F>>2,this.zh+=E>>2,this.a.U&&(this.rd-=E>>3,this.yd-=E>>3),this.bc+=F>>2,this.cc+=E>>2}return G};m.prototype.aH=function(b){var h=0;this.jf[this.Le]=b;this.Le+=1;this.Le>=v.ME&&(this.Le=0);for(b=0;b<this.jf.length;b+=1)h+=this.jf[b];h/=this.jf.length;this.Me.Ub=String(Math.round(h));this.Me.j=!1};m.prototype.Zs=function(){var b;for(b=0;b<this.jf.length;b+=
1)this.jf[b]=0;this.Le=0;this.Me.j=!0};m.prototype.uG=function(){var b=this.v.bg-this.D/2,h=this.v.ai-this.B/2,n=this.cc-this.a.da,x=this.bc-this.a.ga-(this.a.U?this.a.da/2:0),u=this.a.zoom,t=this.a.zoom*(this.a.Z&&4<=u?v.pi:1);var A=9999<this.a.Y?99999:9999;if(-1===this.v.bg)this.R.Ub="",this.R.j=!this.If;else{if(0!==this.a.Ca){var y=Math.sqrt(b*b+h*h);h=180/Math.PI*Math.atan2(h,b);h-=this.a.Ca;b=y*Math.cos(Math.PI/180*h);h=y*Math.sin(Math.PI/180*h)}t=h/t-n+this.a.bb;b=b/u+(this.a.U?n/2+t/2:0)-x+
this.a.mb;this.a.Z&&(b-=this.a.zoom/32*.2);x=b-Math.floor(b);n=t-Math.floor(t);b-=x;t-=n;this.a.Z&&(0===(b+this.bc+t+this.cc&1)?1<x+n&&(b+=1):1>1-x+n&&(b+=1));n=this.a.getState(b+this.bc,t+this.cc,this.yc&&this.xa);b+=this.ib;t+=this.jb;-1===this.a.ja||this.yh||(b-=Math.floor((-1===this.oi?this.Xa:this.oi)/2),t-=Math.floor((-1===this.ni?this.cb:this.ni)/2));b=b<-A||b>A?Number(b/1E3).toFixed(1)+"K":String(b);A=t<-A||t>A?Number(t/1E3).toFixed(1)+"K":String(t);this.R.Ub=b+","+A+"="+n;this.R.j=!1}this.R.enabled=
this.If||!this.Da&&-1!==this.v.bg?this.$||this.Db||0===this.Xa?!1:!0:!1;this.Va||this.Sh?(this.tb.enabled=!0,b=this.fb.s>this.fb.i?this.fb.s-this.fb.i+1:this.fb.i-this.fb.s+1,t=this.fb.m>this.fb.h?this.fb.m-this.fb.h+1:this.fb.h-this.fb.m+1,this.tb.Ub=b+" x "+t):this.tb.enabled=!1};m.prototype.mF=function(b){if(!this.hc&&!this.Ga)if(0<this.$)0<b?this.Gr(this,3):this.Fr(this,3);else if(0<this.Db)0<b?this.Er(this,3):this.Dr(this,3);else if(!this.Mc){var h=this.Vb.current[0];0>b?this.Nl(h,-.05):this.Nl(h,
.05)}};m.prototype.iH=function(b,h){var n=h.J.current;var x=!1,u=!1,t=!1,A=!1,y=!1,B;h.Mc=!1;h.Yt&&(h.Yt=!1,b=0);h.xa||h.YG(h);h.ra=h.Dc.current[0];h.Da?(b>v.ED&&(u=!0),b>v.mA&&(b=v.mA),!h.Da||h.vc&&!h.Sd||(h.uh+=h.ra*h.Ue*b/1E3,h.Ta+=h.Ue*b/1E3,(h.Ta|0)>h.a.u?(h.Ta+=h.ra-1,h.Jg=!0):h.elapsedTime+=b)):h.Jg&&(y=!0,h.Ta=h.yv?h.a.u+1:h.a.u+h.ra,h.uh=h.Ta);h.sw();h.vc&&!h.Sd&&h.Da?(h.tf&&!h.J.ex(h.elapsedTime+b)&&(h.tf=!1,h.elapsedTime=h.J.BC(h.a.width/2-h.a.ga,h.a.height/2-h.a.da,h.a.zoom,h.a.angle,
h.a.G,h.a.jd*v.Mk,h.a.Qe,h.Ue,h.ra,h.a.u,h.elapsedTime)),n.be&&(h.dh(!0,!1),h.tf=!1,n.x=h.a.width/2-h.a.ga,n.y=h.a.height/2-h.a.da,h.Ga&&(h.a.zoom*=h.nd),n.zoom=h.a.zoom),(t=h.J.update(h,h.elapsedTime+b,h.a.u))?(n.be&&(n.be=!1,h.Ga&&(h.a.zoom=n.zoom/h.nd),h.Vb&&(h.Vb.current=h.Bi([h.a.zoom,h.a.zoom],!1,h))),h.Ta+=h.Ue*b/1E3,(h.Ta|0)>h.a.u&&(h.Ta+=h.ra-1,h.Jg=!0)):(h.Da&&(h.Mc=!0),h.a.ga=h.a.width/2-n.x,h.a.da=h.a.height/2-n.y,h.a.zoom=n.zoom,h.Ga&&(h.a.zoom=h.a.zoom/h.nd),h.Vb&&(h.Vb.current=h.Bi([h.a.zoom,
h.a.zoom],!1,h)),h.a.angle=n.angle,h.Kc&&(h.Kc.current=[h.a.angle,h.a.angle]),h.a.G=n.G,h.Wc&&(h.Wc.current=[h.a.G,h.a.G]),h.a.jd=n.depth/v.Mk+v.br,h.lc&&(h.lc.current=[Math.sqrt(h.a.jd),h.a.jd*v.Mk]),h.Ue=n.Ob,h.Za&&(h.Za.current=[Math.sqrt((n.Ob-v.vf)/(v.Kj-v.vf)),h.Vx(n.Ob)]),h.ra=n.step,h.Dc.current=[h.ra,h.ra],n.Cb>h.a.u?(h.Jg=!0,h.Ta=n.Cb):h.Jg=!1,n.oe!==h.ao&&(""===n.oe?h.l.notification.clear(!1,!1):h.l.notification.N(ScriptParser.Qm(this,n.oe),21600,!1),h.ao=n.oe),n.Qb!==h.iu&&(h.Mg(n.Qb,
h.a.tj,h),h.iu=n.Qb)),h.Jg||(h.elapsedTime+=b)):h.Mb&&h.Da&&(h.Mc=!0);h.Mc&&(h.Jf=-1);n=0;if(h.Jg){if(h.a.ea){var C=performance.now();var F=(h.Ta|0)-h.a.u;for(B=0;!A&&h.a.u<(h.Ta|0);){n=performance.now()-C;if(h.a.u===h.ob-1&&!h.Ad||n>v.FA&&!y)h.a.u!==h.ob-1||h.Ad?A=h.Ql:A=!0;h.If&&(h.a.u===(h.Ta|0)-1||A)?h.a.we(!0,h.he,h.mc):h.a.we(!1,h.he,h.mc);B+=1;(h.a.Yi||h.OB()||h.a.u===(h.Ta|0)||A)&&!(0===h.a.ea&&2<h.a.f)&&(h.a.Re(),h.Qi(),h.Ni||h.a.u<=h.Lj)&&(h.a.ea=1);h.ZF(b,F);-1!==h.Aa&&h.a.u>=h.Aa&&!h.Yb&&
(h.elapsedTime=0,h.reset(h),h.Ed&&h.Oe&&(h.eb.current=h.Bd(v.Md,!0,h),h.l.notification.N("LOOP reached - Play to continue ",180,!0)),t&&(h.Mc=!0));h.a.ea||(A=!0)}h.a.ea||(h.Gt=h.S+(0<h.a.f?h.a.f:0),-1===h.Gi&&(h.Gi=h.a.u,h.a.Fp(!0),!h.bm||-1!==h.Aa&&!h.Yb||h.Yl||h.l.notification.N("Life ended at generation "+h.Gi,600,!0)));h.Ta-=F-B;B<F&&(h.a.u!==h.ob||h.Ad)&&h.ei?h.aH(B):h.Zs()}else h.Zs(),h.Gt&&(--h.Gt,b=h.a.u,h.a.u=h.Gi,h.a.Re(),h.a.u=b),h.a.u+=h.ra,-1!==h.Aa&&h.a.u>=h.Aa&&!h.Yb&&(h.elapsedTime=
0,h.reset(h),t&&(h.Mc=!0));h.a.u!==h.ob||h.Ad||(h.eb.current=h.Bd(v.Md,!0,h),h.bm&&h.l.notification.N("STOP reached - Play to continue ",180,!0))}else h.Zs();h.Jg&&!h.Da&&h.rb("");h.Kc.locked=h.Mc&&h.vc||h.a.U||h.a.Z;h.Hh.locked=h.Mc&&h.vc;h.Ii.locked=h.Mc||h.Mb&&h.Da;h.Za.locked=h.Mc&&h.vc;h.Dc.locked=h.Mc&&h.vc;h.ti.locked=h.Mc&&h.vc;h.Vb.locked=h.Mc;h.Wc.locked=h.Mc&&h.vc||h.a.U&&h.a.od||h.a.Z;h.lc.locked=h.Mc&&h.vc||h.a.U&&h.a.od||h.a.Z;h.wheelDelta&&(h.mF(h.wheelDelta),h.wheelDelta=0);h.Mb&&
(h.Da||h.vc)&&h.dh(!1,!1);h.a.xF();h.Bh&&h.nD();h.a.lq();h.a.od&&h.a.U&&4<=h.a.zoom?h.a.lD():h.a.Z&&4<=h.a.zoom&&h.a.pD();h.Eo&&(2===h.Eo&&h.a.mq(h.Cf,1,!0,h.Ga),h.aC(h),2===h.Eo&&h.a.lq(),h.Eo=0);h.a.mD(h);h.a.u&&h.a.ea&&(h.cl.i=h.a.F.i,h.cl.h=h.a.F.h,h.cl.s=h.a.F.s,h.cl.m=h.a.F.m,h.Ws(h,h.cl));h.Ng&&h.J.xt(h);!h.Ac||h.sd||h.Gf||h.a.mq(h.Cf,h.Bc,!1,h.Ga);h.$?Help.zt(h):h.tc.length&&Help.yt(h);h.Ve.lower[0]=h.xq?"+ "+h.Jo(h.a.u):"T "+h.Jo(h.a.u+h.wq);h.Rk.Ub=h.VB(h.elapsedTime);h.Vj.Ub=h.Jo(h.a.wa);
h.tq()?h.Lh.Ub=(100*h.a.wa/(h.a.pa*h.a.na)|0)+"%":(h.Lh.Ub=h.Jo(h.a.jc),h.vj.Ub=h.Jo(h.a.hd));h.Vj.w="alive "+h.a.wa;h.tq()?h.Lh.w="density "+(100*h.a.wa/(h.a.pa*h.a.na)|0)+"%":(h.Lh.w="births "+h.a.jc,h.vj.w="deaths "+h.a.hd);h.ei?h.TG(n,u,y,h):(h.Za.Lc=h.Ii.Lc,h.Dc.Lc=h.Ii.Lc);h.Jg=!1;h.yv=!1;h.uG();-1!==h.Jf&&h.rw();if(h.Da||h.Mb&&h.Dk>h.XB||-1!==h.Jf)x=!0;h.UG();h.bH();h.VG();h.cH(h.$||h.tc.length);h.qc.current[0]&&(h.$b.globalAlpha=.5,h.$b.fillStyle="black",h.$b.fillRect(0,0,h.Zb.width,h.Zb.height),
h.$b.globalAlpha=1);h.l.Ah(x)};m.prototype.TG=function(b,h,n,x){b>v.FA&&!n?(x.wh+=v.kz,x.wh>=2*v.Qu&&(x.wh=0)):0<x.wh&&(x.wh-=v.kz);h&&!n?x.xh<v.WE&&(x.xh+=v.lz):x.xh>v.XE&&(x.xh-=v.lz);x.wh>=v.Qu&&(x.FH=2*v.Qu-x.wh);b=x.Il>>16;h=x.Il>>8&255;n=x.Il&255;128<=b?64<=h||64<=n?(h-=x.xh,n-=x.xh,0>h&&(h=0),0>n&&(n=0)):(h+=x.xh,255<h&&(h=255)):(b+=x.xh,255<b&&(b=255));x.Za.Lc="rgb("+b+","+h+","+n+")";b=x.Il>>16;h=x.Il>>8&255;n=x.Il&255;128<=h?(b-=x.xh,0>b&&(b=0),n-=x.wh,0>n&&(n=0)):(h+=x.wh,255<h&&(h=255));
x.Dc.Lc="rgb("+b+","+h+","+n+")"};m.prototype.sw=function(){if(this.Jc&&!this.Rd){this.a.mb=this.uh*(this.xi+this.bj)/2;this.a.bb=this.uh*(this.aj+this.yi)/2;var b=this.a.WA(0,this.aj,this.xi,this.yi,this.bj,this.D,this.B-80,v.wb,v.gc,v.ls);var h=this.a.WA(this.uh,this.aj,this.xi,this.yi,this.bj,this.D,this.B-80,v.wb,v.gc,v.ls);this.a.ac=h/b}else this.a.mb=0,this.a.bb=0,this.a.ac=1;this.Vb.current=this.Bi([this.a.zoom,this.a.zoom],!1,this)};m.prototype.cH=function(b){var h=!(this.$&&this.Cj===v.ij),
n,x=0,u=[],t=[],A=this.qc.current[0];var y=b||!this.Ti;for(n=0;n<=this.a.ie;n+=1)this.A[n].j=y;this.hp.j=y;this.np.j=y;this.pp.j=y;this.op.j=y;this.A[3].locked=!this.vg;this.Zd.locked=this.Hb===this.gl;this.dj.locked=1>=this.Hb||"undo "===this.dj.w;this.Hh.j=b;this.Vb.j=b;this.Ii.j=b;this.Bj.j=b;this.Fk.j=b;this.jk.j=b;this.Nf.j=b;this.Ij.j=b;this.wd.j=b;y=(this.Sl.j=b)||!this.Ac||this.sd||this.Gf||A;this.sm.j=y;this.Ll.j=y;this.jm.j=y;this.kf.j=b;this.Rk.j=b;this.Ie.j=b;y=(this.Vj.j=b)||this.vs();
this.ha.j=y;y=(this.Lh.j=y)||this.tq();this.se.j=y;this.vj.j=y;this.uc.j=b;this.Ii.j=b;this.mj.j=b||!this.$i;this.Ea.j=!(this.Xe||this.tc.length);y=b||this.Ti;this.lc.j=y;this.Kc.j=y;this.Wc.j=y;y=b||!(this.Ti||this.Hm||this.Im||this.Jm||this.Ir);this.Pf.j=y;y=b||this.Ti||this.Hm||this.Im||this.Jm||this.Ir;this.ti.j=y;this.hj.j=y;this.ci.j=y;this.pg.j=y;this.yk.j=y;this.Aj.j=y;y=b||!this.Im;this.am.j=y;this.Vo.j=y;this.gm.j=y;y=b||!this.Hm;this.Dj.j=y;this.kn.j=y;this.Vh.j=y;this.Nm.j=y;this.Gj.j=
y;this.Je.j=y;y=b||!this.Jm;this.fm.j=y;this.zl.j=y;this.sl.j=y;this.He.j=y;this.Of.j=y;this.He.locked=-1!==this.a.ff||this.a.mr||this.a.sa&&!(1===this.a.Wb.Fc&&this.a.Wb.type===PatternManager.yf&&2===this.a.Wb.Do)||this.a.Z||this.a.fe;this.ti.locked=this.yc||this.a.pb;this.Vh.locked=this.a.U&&this.a.od||this.a.Z;this.Dj.locked=!this.a.U;y=b||0===this.J.Eb.length||A;this.di.j=y;this.mi.j=y;y=b||!this.oc||this.sd||this.Gf||this.Ac;this.th.j=y;this.Xd.j=y;this.bi.j=y;this.Yd.j=y;this.rh.j=y;this.$c.j=
y;this.Ml.j=y;this.sk.j=y;this.uk.j=y;this.vk.j=y;this.tk.j=y;this.ad.j=y;this.Vd.j=y;this.Wd.j=y;this.Cd.j=y;this.tc.length?(this.Ea.w="close errors",this.Ea.Ub="Esc",this.Ea.font="16px Arial"):(this.Ea.w="close window",this.Ea.Ub="X",this.Ea.font="24px Arial");this.Bk.j=!(this.$&&this.Cj!==v.ij);this.aa.j=!(this.$&&this.Cj!==v.ij)||!this.Ko;this.oh.j=h;this.ph.j=h;this.nh.j=h;this.qh.j=h;this.eh.j=h;this.$g.j=h;this.Ge.j=h;this.bh.j=h||0===this.J.pm();this.zk.j=!(this.$&&this.Cj!==v.ij)||this.Ko;
if(this.bn){this.bn=!1;for(n=0;n<this.V.length;n+=1)u[n]=this.V[n][1],t[n]="";this.aa.lower=u;this.aa.w=t;this.aa.height=26*this.V.length;this.aa.current=0}y=b||!this.Gf||A;this.kj.j=y;this.Ek.j=y;this.bl.j=y;this.pn.j=y;this.ll.j=y;this.jl.j=y;this.kg.j=y;this.mg.j=y;this.ji.j=y;y=b||!this.Gf||A;this.sg.j=y;this.xg.j=y;this.ej.j=y;this.cj.j=y;this.Lb.j=y;this.lg.j=y;this.Qf.j=y;this.re.j=y||!this.a.Oa;this.fa.j=y;this.ec.j=y;y=b||!this.Gf||A||2>=this.a.f;this.Ke.j=y;y=this.xa;this.ll.locked=y;this.jl.locked=
y;y=!this.Va;this.kg.locked=y;y=!(this.Va||this.pc)||this.xa;this.fa.locked=y;this.Ke.locked=y;this.ec.locked=y;this.sg.locked=y;this.xg.locked=y;this.ej.locked=y;this.cj.locked=y;this.Lb.locked=y;this.lg.locked=y;this.Qf.locked=y;this.re.locked=y;y=!this.Va||this.xa;this.mg.locked=y;y=!this.nn||this.pc||null===this.xe[this.Vf]||this.xa;this.ji.locked=y;y=b||!this.sd||!this.Lo||A;this.Cc.j=y;this.g.j=y;if(2>=this.a.f)for(n=0;n<this.g.lower.length;n+=1)2>=n?0===n?x=n:x=1===n?LifeConstants.Sa:LifeConstants.Fi:
x=128+v.Ba[n],this.g.jn[n]="rgb("+this.a.nb[x]+","+this.a.lb[x]+","+this.a.kb[x]+")";else for(n=0;n<this.g.lower.length;n+=1)x=0===n+this.Og?0:this.S+this.a.f-(n+this.Og),this.g.jn[n]="rgb("+this.a.nb[x]+","+this.a.lb[x]+","+this.a.kb[x]+")";y=b||!this.sd||A;this.cg.j=y;this.xk.j=y;this.Mm.j=y;this.nj.j=y;this.Ak.j=b||!this.sd||!this.Lo||8>this.a.f||A;this.a.f>this.Jj&&this.uq();if(0<this.$){n=0;for(x=-1;n<this.V.length&&-1===x;)this.V[n][0]>this.$?x=this.V[n][0]:n+=1;n===this.V.length&&(x=n);-1!==
x&&(this.aa.current=n-1)}this.Th&&(this.v.j=this.Da?!0:!1)};m.prototype.VG=function(){var b=-(this.a.width/2-this.a.ga-this.a.mb|0),h=-(this.a.height/2-this.a.da-this.a.bb|0),n=String(b),x=String(h);this.th.j=!this.oc;this.Xd.j=!this.oc;this.bi.j=!this.oc;this.Yd.j=!this.oc;this.rh.j=!this.oc;this.$c.j=!this.oc;this.Ml.j=!this.oc;this.sk.j=!this.oc;this.uk.j=!this.oc;this.vk.j=!this.oc;this.tk.j=!this.oc;this.ad.j=!this.oc;this.Vd.j=!this.oc;this.Cd.j=!this.oc;this.Wd.j=!this.oc;if(-99999>b||99999<
b)n=(b/1E3|0)+"K";if(-99999>h||99999<h)x=(h/1E3|0)+"K";this.Xd.Ub=n;this.Yd.Ub=x;this.$c.Ub=this.a.angle.toFixed(0)+"\u00b0";this.ad.Ub=this.Op.toFixed(3);this.Vd.Ub=this.Qp.toFixed(3);this.Wd.Ub=this.Rp.toFixed(3);this.Cd.Ub=this.Pp.toFixed(3)};m.prototype.bH=function(){0===this.a.u?this.Rp=this.Op=this.Qp=this.Pp=0:(this.Qp=(this.a.F.m-this.a.ee.m)/this.a.u,this.Pp=(this.a.F.h-this.a.ee.h)/this.a.u,this.Op=(this.a.F.s-this.a.ee.s)/this.a.u,this.Rp=(this.a.F.i-this.a.ee.i)/this.a.u)};m.prototype.UG=
function(){this.Hh.current=[this.Mb];this.Fk.current=[!this.Oe&&this.Ed];this.Fk.locked=!this.Ed;this.Jc?(this.Nf.lower[0]="TRACK",this.Nf.current=[!this.Rd&&this.Jc],this.Nf.locked=!this.Jc,this.Nf.w=["toggle track mode"]):(this.Nf.lower[0]="WAYPT",this.Nf.current=[!this.Sd&&this.vc],this.Nf.locked=!this.vc,this.Nf.w=["toggle waypoint mode"]);this.Ij.current=[!this.Yb&&-1!==this.Aa];this.Ij.locked=-1===this.Aa;this.Ij.w=["loop at "+this.Aa];this.jk.current=[!this.Ad&&-1!==this.ob];this.jk.locked=
-1===this.ob;this.jk.w=["stop at "+this.ob]};m.prototype.ZF=function(b,h){if(this.a.u>=this.zb.length){var n=this.a.o.L(Float32,this.zb.length+v.Vy,"View.elapsedTimes");n.set(this.zb);this.zb=n}this.elapsedTime+=b/h;this.zb[this.a.u]=this.elapsedTime};m.prototype.gH=function(b){var h=b.HG,n=b.yl-b.si;if(b.si<b.yl)if(0<b.ft)--b.ft;else if(b.Oq)b.lk.innerHTML=b.Ro,b.si=b.yl;else{n<h&&(h=n);var x=document.createElement("textarea");b.Qt(x);if(h!==n)for(;"\n"!==b.Ro[b.si+h];)--h;x.innerHTML=b.Ro.substr(b.si,
h);b.si+=h;b.lk.appendChild(x)}else b.Ip||(b.l.notification.N("Press Enter to complete copy",1E4,!0),b.Ip=!0);b.ZG(b);b.a.lq();b.Ng&&b.J.xt(b);b.Ac&&b.a.mq(b.Cf,b.Bc,!1,b.Ga);b.$?Help.zt(b):b.tc.length&&Help.yt(b);b.l.Ah(!0)};m.prototype.hH=function(b){for(var h=b.et,n=performance.now(),x,u=b.a.ef.wE*LifeConstants.Mo;b.a.u<h-1&&13>performance.now()-n;)if(x=h-1-b.a.u<=u?!1:!0,b.a.we(!1,x,b.mc),b.a.Re(),b.Qi(),b.Ni||b.a.u<=b.Lj)b.a.ea=1;if(b.a.u===h-1){b.a.we(b.If,!1,b.mc);b.a.Re();b.Qi();if(b.Ni||
b.a.u<=b.Lj)b.a.ea=1;b.Jk=!1;b.dt&&b.l.notification.clear(!0,!1);b.v.locked=!1}else b.v.locked=!0;b.$G(b,h);b.a.lq();b.Ng&&b.J.xt(b);b.Ac&&b.a.mq(b.Cf,b.Bc,!1,b.Ga);b.$?Help.zt(b):b.tc.length&&Help.yt(b);b.l.Ah(!0)};m.prototype.dB=function(b,h){h.Jk?h.hH(h):h.on?h.gH(h):h.iH(b,h)};m.prototype.Fw=function(b){b.a.u=0;b.Ta=0;b.uh=0;b.elapsedTime=0;b.a.ga=b.a.width>>1;b.a.da=b.a.height>>1;b.a.ga&=b.a.width-1;b.a.da&=b.a.height-1;b.a.ea=1;b.Yt=!0;b.Gi=-1};m.prototype.SA=function(b,h,n){h&&(n.Bh=b[0]);
return[n.Bh]};m.prototype.OA=function(b,h,n){h&&(n.Bg=b[0]);return[n.Bg]};m.prototype.RA=function(b,h,n){h&&(n.a.Ji=b[0]);return[n.a.Ji]};m.prototype.PA=function(b,h,n){h&&(n.oc=b[0]);return[n.oc]};m.prototype.Cw=function(b,h,n){h&&(n.Ac=b[0]);return[n.Ac]};m.prototype.hB=function(b,h,n){h&&(n.a.Wg=b[0]);return[n.a.Wg]};m.prototype.QA=function(b,h,n){h&&(n.Ng=b[0]);return[n.Ng]};m.prototype.KA=function(b,h,n){h&&(n.a.gd=b[0]);return[n.a.gd]};m.prototype.eB=function(b,h,n){h&&(n.Th=!n.Th);return[n.Th]};
m.prototype.NA=function(b,h,n){h&&(n.a.od=b[0],n.EA());return[n.a.od]};m.prototype.iB=function(b,h,n){h&&(n.a.Xf=b[0],n.a.Yf=b[0]);return[n.a.Xf]};m.prototype.Gw=function(b,h,n){h&&(n.l.bk=b[0]);n.l.Ah(!0);return[n.l.bk]};m.prototype.Wm=function(b,h,n){h&&(n.l.ck=b[0]);n.l.Ah(!0);return[n.l.ck]};m.prototype.Mg=function(b,h,n){if(n.a.Qe!==b)for(n.a.rG(b,h,n),1<n.a.tj&&(n.l.pk=n.a.tj),h=0;h<=this.a.ie;h+=1)this.A[h].current=b!==v.Pv[h]?[!1]:[!0]};m.prototype.rk=function(b,h,n){h&&(n.ra=b[0]+.5|0);return[n.ra,
n.ra]};m.prototype.Vx=function(b){return(10>b.toFixed(1)?b.toFixed(1):b.toFixed(0))+"/s"};m.prototype.Ai=function(b,h,n){h?(n.Ue=v.vf+b[0]*b[0]*(v.Kj-v.vf),b=b[0]):b=Math.sqrt((n.Ue-v.vf)/(v.Kj-v.vf));return[b,n.Vx(n.Ue)]};m.prototype.bA=function(b){b.Fm=b.a.zoom;b.Ga&&(b.Fm=b.Fm*b.nd);b.nv=b.a.angle;b.yd=b.a.ga;b.zh=b.a.da};m.prototype.LF=function(b){b.gk=b.a.width/2-b.a.ga;b.hk=b.a.height/2-b.a.da;b.ul=b.a.zoom;b.fk=b.a.angle;b.Hi=b.a.width/2-b.yd;b.Sk=b.a.height/2-b.zh;b.Zl=b.nv;b.Ga?b.yj=b.Fm/
b.nd:b.yj=b.Fm;b.Jf=0};m.prototype.HF=function(b,h){b.a.zoom=b.Ox;b.Ga&&(b.a.zoom=b.a.zoom/b.nd);b.Vb&&(b.Vb.current=b.Bi([b.a.zoom,b.a.zoom],!1,b));b.a.angle=b.Ul;b.Kc&&(b.Kc.current=[b.Ul,b.Ul]);b.a.ga=b.rd;b.a.da=b.Zg;h&&(b.Mg(b.hq,1,b),b.yc&&(b.a.Hk=0),h=Math.sqrt((b.qt-v.vf)/(v.Kj-v.vf)),b.Za.current=b.Ai([h,h],!0,b),b.ra=b.gq,b.Dc.current=[b.ra,b.ra],b.a.G=b.Wl,b.Wc.current=[b.Wl,b.Wl],h=Math.sqrt(b.pt),b.lc.current=b.fj([h,h],!0,b))};m.prototype.Ww=function(b){b?(this.a.ga+=this.a.mb,this.a.da+=
this.a.bb,this.a.zoom*=this.a.ac):(this.sw(),this.a.ga-=this.a.mb,this.a.da-=this.a.bb,this.a.zoom/=this.a.ac,this.sw());this.a.zoom<v.wb?this.a.zoom=v.wb:this.a.zoom>v.gc&&(this.a.zoom=v.gc)};m.prototype.Jz=function(b){b.elapsedTime=0;b.yc||(b.a.Cr(b.he),b.a.ea=1,b.a.Br())};m.prototype.reset=function(b){var h=!1,n=!1;0===b.a.u&&b.l.Lz();if(0===b.elapsedTime||b.Gq)h=!0;b.Yb||-1===b.Aa||b.a.u>=b.Aa&&(n=!0);n||h||(b.vc&&(b.Sd=!0),b.Jc&&(b.Rd=!0),-1!==b.Aa&&(b.Yb=!0),-1!==b.ob&&(b.Ad=!0),b.wp&&(b.Mb=
!1));b.elapsedTime=0;b.a.mb=0;b.a.bb=0;b.a.ac=1;if(h){b.vc&&(b.Sd=!1);b.Jc&&(b.Rd=!1);b.wp&&(b.Mb=!0);if(!n||b.vc||b.Mb)b.HF(b,h),b.Mb&&b.dh(!0,!1);b.Yb=!1;n||(b.Ad=!1)}b.yc||(b.a.Cr(b.he),b.Ta=b.a.u,b.uh=b.Ta,b.a.ea=1);b.mc||b.a.Kz();b.a.Br();b.ao="";b.iu=-1;b.tf=!1;b.J.JF();b.l.notification.clear(!1,!1);b.Gi=-1;b.a.jo=0;b.Io(b.a.u);b.Cu()};m.prototype.gA=function(b){b?(this.eb.icon[v.Yh]=this.O.icon("pause"),this.eb.w[v.Yh]="pause"):(this.eb.icon[v.Yh]=this.O.icon("play"),this.eb.w[v.Yh]="play")};
m.prototype.eg=function(b,h){h.Cj=b;h.$=1;h.Ko=!0;h.Jq=[];h.Kq=[];this.bn=!0};m.prototype.Cs=function(b){b.eg(v.qy,b)};m.prototype.vB=function(b){b.eg(v.qv,b)};m.prototype.As=function(b){b.eg(v.Nn,b)};m.prototype.GC=function(b){b.eg(v.sA,b)};m.prototype.dv=function(b){b.eg(v.xx,b)};m.prototype.Zt=function(b){b.eg(v.Xw,b)};m.prototype.Ds=function(b){b.eg(v.My,b)};m.prototype.ku=function(b){b.eg(v.cx,b)};m.prototype.gB=function(b,h,n){h&&(n.$=n.V[b][0],n.Ko=!1);return b};m.prototype.Aw=function(b,h,
n){h&&(n.Ih=b[0],n.Ih&&n.yp(n));return[n.Ih]};m.prototype.Bw=function(b,h,n){h&&(n.Qh=b[0],n.Qh&&(n.Or=!0));return[n.Qh]};m.prototype.gj=function(b,h,n){var x=b;if(h){switch(b){case v.Mj:n.ym=!1;n.xa||n.a.pb?x=n.wd.current:(n.sd=!0,n.cg.current=n.wi([!1],!0,n),n.Gf=!1);n.Dp(n);break;case v.nm:n.sd=!1;n.cg.current=n.wi([!1],!0,n);n.Gf=!0;break;case v.mm:n.sd=!1,n.Gf=!1,n.cg.current=n.wi([!1],!0,n),n.Dp(n)}n.Jq=[];n.Kq=[];n.qc.current[0]&&(n.qc.current=n.Yo([!1],!0,n),n.l.Sg=!0)}switch(x){case v.Mj:n.v.rv("auto");
break;case v.mm:n.v.rv("grab");break;case v.nm:n.v.rv("crosshair")}return x};m.prototype.LA=function(b,h,n){h&&(n.Vf=b,n.Mp(),n.bl.current=[!1],n.l.Sg=!0);return n.Vf};m.prototype.Dw=function(b,h,n){h&&(n.Od=b);return n.Od};m.prototype.FC=function(b){b.xa||(b.Od+=1,3<b.Od&&(b.Od=0),b.jl.current=b.Dw(b.Od,!0,b))};m.prototype.Xx=function(b){return 2>=this.a.f?this.a.Oa?v.nA[b]:b?"Alive":"Dead":0===b?"Dead":1===b?"Alive":"Dying "+String(b-1)};m.prototype.fs=function(b,h,n){var x=b;h&&(2>=n.a.f?n.Zf=
b:(b+=n.Og,n.Zf=0===b?0:n.a.f-b),n.cg.current=n.wi([!1],!0,n),n.l.notification.N("Drawing with state "+b+" ("+n.Xx(b)+")",120,!0));return x};m.prototype.ri=function(b){var h=this.a.f;-1===h&&(h=2);this.a.Oa&&(h=7);b<h&&(this.Cc.current=this.fs(b,!0,this))};m.prototype.jB=function(b,h,n){var x=0;if(h)for(;x<b.length;)b[x]&&(b[x]=!1,n.Cc.current=n.fs(x,!0,n)),x+=1;return b};m.prototype.FF=function(b){var h=0,n=this.Zf,x=this.a.Vc;var u=this.fb;var t=x.i,A=x.s;var y=x.h;x=x.m;var B=(this.a.width>>1)-
(this.Xa>>1)+(this.ib<<1);var C=(this.a.height>>1)-(this.cb>>1)+(this.jb<<1);2<this.a.f&&0<b&&(b=this.a.f-b);this.Va&&(t=u.i+B,A=u.s+B,t>A&&(B=A,A=t,t=B),y=u.h+C,x=u.m+C,y>x&&(B=x,x=y,y=B));if(n!==b){for(;y<=x;y+=1)for(u=t;u<=A;u+=1)C=this.a.getState(u,y,!1),2<this.a.f&&0<C&&(C=this.a.f-C),C===b&&(this.Gc(u,y,n),h+=1);0<h&&((this.a.Oa&&6===b||6===n)&&this.a.ml(),this.rb("replace states"))}else this.l.notification.N("Cell and drawing state are the same",120,!0)};m.prototype.Ys=function(b,h,n){var x=
b.Zf,u=b.a.Vc,t=0,A=0;if(0<x)if(2<b.a.f&&(x=b.a.f-x),b.a.Oa&&1<x&&(A=x&1),b.a.Oa&&h)if(n){for(n=u.h;n<=u.m;n+=1)for(h=u.i;h<=u.s;h+=1){var y=b.a.getState(h,n,!1);3<=y&&5>=y&&(b.Gc(h,n,y&1),t+=1)}0<t&&b.rb("clear [R]History marked cells")}else{for(n=u.h;n<=u.m;n+=1)for(h=u.i;h<=u.s;h+=1)y=b.a.getState(h,n,!1),1<y&&(b.Gc(h,n,y&1),t+=1);0<t&&(this.a.ml(),b.rb("clear [R]History cells"))}else{for(n=u.h;n<=u.m;n+=1)for(h=u.i;h<=u.s;h+=1)y=b.a.getState(h,n,!1),y===x&&(b.Gc(h,n,A),t+=1);0<t&&(b.a.Oa&&6===
x&&this.a.ml(),b.rb("clear state "+x+" cells"))}return t};m.prototype.Bd=function(b,h,n){var x=b,u=n.Ad,t=n.Yb,A=n.Sd,y=n.Oe,B=n.Mb,C=n.Rd,F=40,E=0,G=0,H=0,L=0,M=0,I=0,D=0;if(h){n.ym=!1;switch(b){case v.qu:n.Oe=n.Gq||n.Ed&&0===n.a.u&&0===n.elapsedTime?!1:!0;n.Ed&&!n.Oe?(b=v.Yh,n.Da=!0,n.Yl=0===n.a.wa?!0:!1):(b=v.Md,n.Da=!1);n.rb("");n.reset(n);n.kc=0;h="Reset";!n.Yb&&t&&-1!==n.Aa&&(G=1);n.Yb&&!t&&-1!==n.Aa&&(G=-1);!n.Ad&&u&&-1!==n.ob&&(H=1);n.Ad&&!u&&-1!==n.ob&&(H=-1);!B&&n.Mb&&(D=1);B&&!n.Mb&&(D=
-1);!n.Sd&&A&&(L=1);n.Sd&&!A&&(L=-1);!n.Rd&&C&&(M=1);n.Rd&&!C&&(M=-1);!n.Oe&&y&&n.Ed&&(I=1);n.Oe&&!y&&n.Ed&&(I=-1);if(0!==G||0!==H||0!==L||0!==M||0!==I||0!==D)h="",0!==G&&(E+=1,h+="Loop"),0!==H&&(0<E&&(h=0<Math.abs(L)+Math.abs(M)+Math.abs(I)+Math.abs(D)?h+", ":h+" and "),E+=1,h+="Stop"),0!==L&&(0<E&&(h=0<Math.abs(M)+Math.abs(I)+Math.abs(D)?h+", ":h+" and "),E+=1,h+="Waypoints"),0!==M&&(0<E&&(h=0<Math.abs(I)+Math.abs(D)?h+", ":h+" and "),E+=1,h+="Track"),0!==I&&(0<E&&(h=0!==D?h+", ":h+" and "),E+=
1,h+="AutoStart"),0!==D&&(0<E&&(h+=" and "),h+="AutoFit"),h=0<H||0<G||0<L||0<M||0<I||0<D?h+" On":h+" Off",F=120;n.l.notification.N(h,F,!0);break;case v.Yh:n.Da?(n.Da=!1,n.rb(""),(n.a.u!==n.ob||n.Ad||n.bm)&&n.l.notification.N("Pause",40,!0)):(n.Da=!0,n.rb(""),n.Yl=0===n.a.wa?!0:!1,n.l.notification.N("Play",40,!0));break;case v.FE:n.Da?(n.Da=!1,n.rb(""),n.l.notification.N("Pause",40,!0)):0<n.a.u&&(n.Io(n.a.u-n.ra),n.ql(n.a.u-n.ra));break;case v.Md:n.Da?(n.Da=!1,n.rb(""),(n.a.u!==n.ob||n.Ad||n.bm)&&
n.l.notification.N("Pause",40,!0)):(n.Jg=!0,n.rb(""),n.Yl=0===n.a.wa?!0:!1)}x=b;n.gA(n.Da)}return x};m.prototype.cp=function(b,h,n){h&&(n.tf=!0,n.a.angle=b[0]);return[n.a.angle,n.a.angle]};m.prototype.ep=function(b,h,n){h?(n.tf=!0,n.a.G=b[0]+.5|0,b=b[0]):b=n.a.G;return[b,n.a.G]};m.prototype.fj=function(b,h,n){return h?(n.tf=!0,n.a.jd=b[0]*b[0],[b[0],n.a.jd*v.Mk]):[Math.sqrt(n.a.jd),n.a.jd*v.Mk]};m.prototype.kD=function(b,h,n,x){var u=this.Zf;-1===n&&-1===x?(this.xm=this.Bz(),2<this.a.f&&(u=this.a.f-
u),this.xm=this.tl&&this.xm===u?0:this.Zf):(this.$r(n,x),n=this.Mh,x=this.Nh,this.$r(b,h),b=this.Mh,h=this.Nh,this.ns(n,x,b,h,this.xm)&&this.a.ml());0<this.a.wa&&(this.Gi=-1,this.a.ea=1)};m.prototype.kB=function(b,h,n,x){x.Th&&!n&&(x.eb.current=x.Bd(v.Md,!0,x))};m.prototype.fB=function(b,h,n,x){x.MA(b,h,n,x,!1)};m.prototype.hD=function(b,h){h=(b.Fg-h)/v.fontSize;-1!==b.Fg&&(0<h?b.Fr(b,h):0>h&&b.Gr(b,-h))};m.prototype.gD=function(b,h){h=(b.Fg-h)/v.fontSize;-1!==b.Fg&&(0<h?b.Dr(b,h):0>h&&b.Er(b,-h))};
m.prototype.iD=function(b,h,n){h=(b.$k-h)/b.a.ta;n=(b.Fg-n)/b.a.ta/(b.a.Z&&4<=b.a.ta?v.pi:1);if(-1!==b.Fg){var x=b.a.U||b.a.Z?0:-b.a.angle;if(!b.Mc){var u=Math.sin(x/180*Math.PI);x=Math.cos(x/180*Math.PI);b.tf=!0;b.a.ga+=h*x+n*-u;b.a.da+=h*u+n*x}}};m.prototype.cD=function(b,h,n){var x=b.Da,u=b.kc;b.fi||(b.Da&&b.pr&&(b.Da=!1,b.ym=!0),x&&(b.kc=0,b.rb(""),b.kc=u),b.kD(h,n,b.$k,b.Fg),x&&b.rb(""))};m.prototype.jD=function(b,h,n){b.pc||b.bD(b,h,n)};m.prototype.bD=function(b,h,n){var x=b.fb,u=(b.a.width>>
1)-(b.Xa>>1)+(b.ib<<1),t=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1),A=Math.round((b.a.width-b.a.na)/2),y=Math.round((b.a.height-b.a.pa)/2),B=A+b.a.na-1,C=y+b.a.pa-1;if(-1!==h&&-1!==n)if(this.$r(h,n),-1===b.Fg)b.dA=h,b.eA=n,b.Va=!1,b.ng=!1;else{if(b.Sh)x.s=b.Mh-u,x.m=b.Nh-t;else if(h!==b.dA||n!==b.eA)h=!1,-1!==b.a.ja&&(b.Mh<A||b.Mh>B||b.Nh<y||b.Nh>C)&&(h=!0),h||(b.Sh=!0,x.i=b.Mh-u,x.s=x.i,x.h=b.Nh-t,x.m=x.h);b.Sh&&(b.sx(b),u=(b.a.width>>1)-(b.Xa>>1)+(b.ib<<1),t=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1));b.Sh&&
-1!==b.a.ja&&(A-=u,B-=u,y-=t,C-=t,x.i<x.s?(x.i<A&&(x.i=A),x.s>B&&(x.s=B)):(x.s<A&&(x.s=A),x.i>B&&(x.i=B)),x.h<x.m?(x.h<y&&(x.h=y),x.m>C&&(x.m=C)):(x.m<y&&(x.m=y),x.h>C&&(x.h=C)))}};m.prototype.zr=function(b){b.Va=!1;b.ng=!1;b.rb("cancel selection");b.Sh=!1};m.prototype.fD=function(b){b.pc?b.Ru(b,b.Mh,b.Nh,!0):b.aD(b)};m.prototype.yp=function(b){var h=b.fb,n=b.a.F,x=h.i,u=h.h,t=h.s,A=h.m,y,B=0,C=(b.a.width>>1)-(b.Xa>>1)+(b.ib<<1),F=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1);if(x>t){var E=x;x=t;t=E}u>A&&(E=
u,u=A,A=E);x<n.i-C&&(x=n.i-C);u<n.h-F&&(u=n.h-F);t>n.s-C&&(t=n.s-C);A>n.m-F&&(A=n.m-F);n=t+1;E=x-1;var G=A+1;var H=u-1;for(y=u;y<=A;y+=1)for(u=x;u<=t;u+=1){var L=b.a.getState(u+C,y+F,!1);0<L&&(y<G&&(G=y),y>H&&(H=y),u<n&&(n=u),u>E&&(E=u),B+=1)}0<B&&(h.i=n,h.h=G,h.s=E,h.m=H)};m.prototype.aD=function(b){var h=b.fb;if(b.Sh)if(b.Va=!0,b.Sh=!1,b.ng=!1,b.Ih&&b.yp(b),b.Va){var n=h.s<h.i?h.i-h.s+1:h.s-h.i+1;h=h.m<h.h?h.h-h.m+1:h.m-h.h+1;b.rb("selection ("+n+" x "+h+")")}else b.zr(b);else b.zr(b)};m.prototype.eD=
function(b,h,n){var x=b.Og;-1!==h&&-1!==n&&(b.Xt=!0,h=b.Bz(),b.to?(b.FF(h),b.to=!1,b.cg.current=b.wi([!1],!0,b)):(b.xm=h,b.Og=0,b.Cc.current=b.fs(b.xm,!0,b),b.Og=x))};m.prototype.dD=function(b){b.ym&&(b.Da=!0,b.ym=!1,b.l.Ah(!0));0<b.kc&&(b.a.zg(),b.rb(""))};m.prototype.MA=function(b,h,n,x,u){-1!==b&&-1!==h&&x.l.hasFocus&&(n?(x.qc.current[0]||(x.$?x.hD(x,h):x.Db?x.gD(x,h):!x.sd&&!x.Gf||u?x.iD(x,b,h):x.sd?x.cD(x,b,h):x.Gf&&x.jD(x,b,h)),x.$k=b,x.Fg=h):-1!==x.$k?x.$||x.qc.current[0]||(x.sd?x.fi?x.eD(x,
b,h):x.dD(x):x.Gf&&x.fD(x),x.$k=-1,x.Fg=-1):x.$||x.qc.current[0]||(x.fi?x.l.notification.N("Now click on a cell",180,!0):x.pc&&x.l.notification.N("Now click to paste",180,!0)))};m.prototype.Oj=function(b,h){8>this.a.zoom&&(0>b?b=-8:0<b&&(b=8),0>h?h=-8:0<h&&(h=8));this.Fg=this.$k=0;this.MA(b,h,!0,this,!0);this.Fg=this.$k=-1};m.prototype.Qw=function(b){var h=v.ky;null===h&&(h=new Image,h.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABaAAAAAoCAIAAACHGcqNAAAABnRSTlMAAAAAAABupgeRAAARB0lEQVR4nO2dW5btKAiGs3v1gGsoZ8bph93HZYkXREBM/u+h1q5oAG9oiEmuCwAAAAAAAAAAAAAAAKLx8/NjevzNWNct6vyFfBudNr318SJPJ4NdKgAAAACAIv/uNgAAfe77Lo58Ph8Hybv07uK+bx8z3BQBsIU/f/78/Pz8+fPH7bgsvraSmvMd0T5/mSaB08F8BACwQDbk4Sj2ggAHeCwWnqUfztir1x96CaHi0C1kPgDUA1CEBkG+4Ql6XCs1gegGsADzEQBAzNRI5/gBOIq9/LPbAABM+K517OS3vNsuvbt4W3kBeCTVfR9GqW7RjTixYOAD5iNwXdf9m93mgDMohnbuTOiohx+IDwIc4LHYrXX6q5xdenfxtvIC8FS+T7IYpabfxQ4Lo7/wHu8E89HsVf1xIYB7xHVdn78w8wNQMDXeqx0JXWsveEQFPBmLZS5zZ9oWvbt4W3kBeBKe2zcul+hDEUMBu6jeAs3X/VPHma2J+ehiG/ytW3HpxJdwi5XZOp0WJMU4OqesWAKeCqfn5Hl8OtJxjggAoEnhaBT9Tl/yLr2ULV/00LoZEvymyq6vqESuk5yAzRfQpIIIX1EpMq+n9ntyapHqfdTW/dXh8UKLgC33e7codcCocfmqxZaL5WxvLH63We9gshMXq6hzeitJcEpwjnYL8el3mGE3y/PotpR6o+9y0Q56l16gYkHT0Mng65TxuZCVUqtXmpZhYtVJqUo9c+QUerVQaRqBEAe9/t9fLHabF6kq5VWX2dHFFL63ni8zn6wrdqPLqlL0pQgmUfJtDm6/6Y+qSeqpX/Jel9pI8Sb/zdvBQTMwl2h2Ez1f6ezIrVad9YBlTuha1b59PjJawMzCbNbq0JtVJDh3cdLpnN7pSPxNH6ZorQnT76GLY+ac1csnuF5+i1Tni0W3PGvPSmrrlO8Pz012G/X+f9psPEaFu4FW/qGQRbNlpw+tcm4LqlGlnjly/Av7SLbs4DiO9cHlWc8Wg0Ld79Eq3TicVVyWNbt2bexKvRo7OFqZ+dCuyMnPmeZMO5JMqcCMvhzFEglwq20Hglg7rD2Vuu0Lnz1rUWkEaRx168Xnjw7dQTQcp0aDd5feqiX0d/VgcWTKHpnx4rMU2yiU3vE7OO4YAemwKI4iflWbNoqRX5jlxpNmwJj8scl3OrqVh9WLSb0qJK/eLXvQqsdDtTLd4/B9W6fd8Ty1Y5VR6kV6nVZzFDd2pvo27S39/nxpeIwtSsFLKGY32U4lYITKtLsuDXyp+tXqJPKpfaKrmqFInWogwcJM3Acs5t8gerkvGcW0StGdIaqxwL5GC6cWatqD1wZGJIfm9mqomDx1iL25TZmkGITWGzeGqSnUMht9ELAS3eiclZ5/yc9VuVCZVSrQCN5GP8aR8hipthAbBK07z1qPeMukgQRdB6ZtFzRungIW/W6w2CL03P6UodX6+ezM/6uiWp25r6ggzPFFfXkhFqjbtwIumyIPHgv4q974zHYn/8Lm01XAzh+cYoKfup60a+thOx49phRJ+yxaWzzsUh1WReK1Fye/uOcrKvUk6cXYeQZGK1j6bDw6TJ9Z15Eyt7YPeNLXa+esLPTS+aIaX0hOuLopI50u2LIxNK+qTlfL9azoxiX7TOybPdeDr4LCFi34EAId+A3n2f2SB7vvO9/K4WZAEFQuzGYbrnpjRIuwTiwgKq8R7UtuEW0HR37WlPx5u/5Hdn2yK8aR9ArWflrLxVOWna0bvysyF+8DdzZxWNcnfz9yjlZvEeSP38GABZ1wRhHyoDGmTkxEhf7eK91pVBDdiHyB9o/4zHRt8BJMyyvuH4q7klTkGBHcPHAcdK5CH3PAtJI5wsPOxP6IIxTFN1mmUr8UqyKt0ZfLye+2TUngZxZfwYrvvvr7KFPHWJV8+gj9/KV6UMa6Sel33qC610XV0Il/YQuTtqieMtJfKWhBm6PaQPldsU9tFlD0mcPwwWc56l2dN6f+UjmzerXsL5AHOIaiH8PGMvo43yNa8AgjQXyKjvTaFYZF3L2oW+cxOywOp7x3F908X1oxArvjBf5vG71F0YcpPtI7S1NWVVe3fPlT5m2cAe/sUT5Fma2k1/pkO9yqNPm3Zy/YBNETupJHP4/M5+/+iNSf0+/W5JVOST9cLdZAEN2IXMzmABMYrTJcW3pbwmfzD4UIlixivS0bOnKY2cR6C/LgXD/DorqhIpm64xC0r/+XXPv7zxNTFxiyq5FZ0vxED9LjBdvrWbeKFKUx/WQxF1qHV6h2ppCO780XLv0bGlPGFLse3H4PDdBNzbl/3/mhdSIgl3OT+0ut/AUrMxozgqaiSyCkqrpjT7GalzUQ0+V2juQ8fgFgikqDUpl0zdxX0dfOmZiGeVoZ1lWvo1L5fDeiO+e+UC+d3GmGQnvuxFZs4J++oqg1b/L/UjmzeleQyLmlrNs6JVbFDHqiZ/HXyytQyizmMKeWRoFJoEPralzrOIepxnJo2VYXmu1X1nXbOs40kpNtsbZpjQ2HrfVAzmWu6OpkzuW3/nZs6NvzbfTqLgzT40WGVh6V1EReaZfZVlX1PtbXy1Rn1P8tuGvzsopY5gi1cxd2RDY4GaZoIcdhtsyYFcjPY6d6HfVBpJXztXqnLGT2nyKbrBKMikDPpZbP/qVyZvVq2Z+z+ojKlLIjcLa/qqsTi+qEpVVUx+dQsy+ysBPneQa7Ste6l/gMiinHToW1linu3yF8n7twnVsZAr5Pc9DNDtbHC1beHjpMTb+L6ip2bovJ5aRGWRf7Thb7c0csP/Nx+zXuv8/yRO572w3TGu9nqc5t2GuAKdW1q3hBqyutBd011llHpaFNUzubN/kbMRaLJpBQnTcFOzhmB5fFvF+gH+D48vjLs9M5unWONh58CTXNhzJGhc4YUbx0EY9ExQovohumunKZ1cleXZEbnm/icKiu9ZDTm2k1DeqzT+T6oW2artNMb6i0LlAtdMVR/Vp0J2L/af3KFkhF4CP1nDy1GuZIEmY7WwqPrhRhRYIguhF5QFkFOAAAoCB3hc5usXoZPLw2Pov8/uEn+wiutdLZU6yjG/lBo8bt38oAfRyqK/7a651MNfqhzfd1vKG8QV6TuWF0ythhHXgU1Z6/csmtKI2Sh/muLLrRGjIXiXdUzcsXIQcNq5UdHAGxCnBobT4BRhzdOkcb/2byhvNsxIcFMqrQmaa6Zl2fkOjpu+bvXdGN64k7OEwfTqm+Lhc7OM5CVpk0zFrMAnk0thMBP+XeewoZ7DakTu4YqZ0Wo7Kqxad+Nqp+ObTa40irCk8doyOcRgbpwSJ1MdbJHI+KM50guhHZLesHOE73IM72V3V1ekw1SWbwoc10qNkgMYx/W6jjHz+RzgyXLh4uvSJHGIN7t+QcdyuDiemDKul3UV1a1665nPhrr5ikFXl1Na/FUNqhDRfNCdCw0UbyacjZJDvVQeo2IGkgqIwIXWkU2o759FTkLJJSp8qNTEdCOYQq1Xlz6i+VM6tXy/4CzQDHEW3JxLMsK7oW7TyuvY4zOOfzG3Ge0xlGyu2UJpJDfEAlD1fV376kuxTbW297oxuXwQ6O7zaH6tdPTI/nqX3bFFMdog9uISdxKU65NDKys9M0p9RMlTujelCA2IxiLZFfivQD4gKNLwQV1Ud3EWu6JC7iuUVqCmRctcDH0LCVfjIcj7rTnCC6EXkU6MwxivXb0ttSMZt/KISe6FMVVS39Ubeibqi6kK9Szxw5HGMeQ1FY6iw4RV75kquM4bcYvkx5XqOrkVYgQ3AxvL2eaRXNlkK3kmUT27oBptGNfqE+jEdq+XkSeRTA83fVANN/Eze5D6bbMW5yf8mI/uJhPb8zRY21/OeUQM7pTGcSsMYC0ur26Xh/XGhN3LLRxzlrmMdOdZ75+2NLn+S7EV2HE9x9XSILk48qZqVisNA5xXOW6Y/oReFXbd7k/6VyZvVq2T9xDodFy/h6tfIPhcwq0qoQpnwtdUzt/AzRFB0BLaNWqTu3alWOc5iy36iJqzWp2Kk869muFGJao7WDikbOwVOo7rYwPc40wCL1S/J16V+V5ivkOHQJWcdWHA66tFylm2o7v/EqWtWVjzjB6bOZZa3GOWuYx051yqmCwEhqgFZOXb27kFl4/15+V1M5B6lAvg0cC/kGTEm+ybw5+5fKmdWrZf/EORYjU6ZXK/9QiMy8xWoZilXXyLRhaKFWSZlmPAxaTK2CI8CRxNL6VOxUGwMc1SP+tEb0cKSLdXEOno5Dv0pJ1TzM1FmlCesmu3+vvYxUiHt1zNmtsMfTQlO/8Sr6dcUZF1O1rd5qnLOGeexUX3rRjZVezReios5ImgViC+9sfUgPFkfu0ThqnShGXWBHy+zfsPwrOCfmxiQfONuPDyXsw1Rv7m+nE61HJXue0akilGLKb6wbbPRkygtJr+SoPkJil3pd122/s9davqJnM7VTQF60UIYdwcOmmCH9R108LQFghdST+w+DpL937XkWKq1zZNa8YkBZeBjZOzjC+rq5AEfYYjijHuYQBxd0WyRgjANd7lzQdi+B6TcW+0PrDga6mYz+Hg2abT01xTscVkWma6/1hWYxZCKvEQGf/jVPHDpDI7LZQQi4TqZULdSNvlEV/j3HriGGq4s8Sf3VNkONRjwpunHxAxyRy7AL3TBHcprFK1uoxstyZR/Kdz++16lHeQEHVLI6/n4D0Y1Fhvss7FLP3cGhuKanMY4VaRYoXgXteZOcO8HNA1rkgzdmo3dm5JgGb6eYL4bhP3qdX03qC5y1MP/X6AJQ8Dcs48/E5s0GKIr1wxdl2ihBmjuIGeBhoF+dSH558328FhPTIs6fhs0pFn9aT3TnctISc11skqx+x5L24Zai0ylKdGd8j9Cq+GT4GapBclC7DenxHR1FiC2+2XGIX1FVC+ObvYXU89OgKEYHddTpOB01+cW/oj///EZF5rXvZZ8OensBjhOnll1Y1FV1zPiwvd0d7rz5CNml142b4C+T5r/J3ZVD18ogJy3Bn9SO1Q+RpO0VFsdz+hmMUu9a9GF4DTw8nv9bXXcqontjQ0XOFB1vebSrjDAffWtv16zdUX2TW8opzPE8v+pA/OraeBFxFp/fO+hbw6FYTxYHc+526FaMumcrhLd0MY8H1IvuDh5IMZErrnT7krfoXfnQiYzOzvNr025k6ubU5/Lt9Wx6wQY2km958PzNsWcltZPz/r2D4/ujcHHp99TxfIWqNWRuEj1Zl+mv4m34z0c32cG+qFpGS7WzSTJ1nLOGeexUn4jWQHgVRbzjYlRgkS2fgyJ3LYv5N7JeAM4mHwymkc5ONNFTL8X/M7G33lejFEVZYF23nfveDOvAkXwbvboLw/R4nkp/66YmfAY4xsub2TUfDW8/CpDZXCwY/IeDXXmHeTyrGryWvM+0Oo9up0JHBeDtDJ2OkfxdeinOAQ7dgltX4yIIcAALdvWrIrWaTSU1x7oz37GDpMCUV81HHZ56OSSOXyCuAdZpLfs5mYEn45eMAnAot9musP4Ttrv07uJt5d2I+sIO6zyQY/rm0fT7zt7BYfQ3+K5gYAfmo8TRr1Pp8NFmd4FACJijO39uZXguetdGuJ+JBeAsrFe3rbXOLr278CkvJokLMyWwxPNto8WTydZ/ZRUCTgTzEQBABh3X/cF+49W8sUGAAzyWPBCg5YM4wYVdev2h3l+lvFQm1pQA6LL4JIsgNYHoBrAA8xEAQJG0WYOO93Tkxjtco4IAB3ggdr6mL3mX3l24WRWz+ACcC32c5BueaD1msp6a+Pz9HKnDX/AeMB8BANTZtewHAAAAAAAAAAAAAG/nP/xxCvyZADkpAAAAAElFTkSuQmCC",
v.ky=h);this.O=new IconManager(h,b);this.O.add("play",40,40);this.O.add("pause",40,40);this.O.add("tostart",40,40);this.O.add("menu",40,40);this.O.add("stepback",40,40);this.O.add("stepforward",40,40);this.O.add("autofit",40,40);this.O.add("fit",40,40);this.O.add("grid",40,40);this.O.add("shrink",40,40);this.O.add("draw",40,40);this.O.add("hexgrid",40,40);this.O.add("lines",40,40);this.O.add("pan",40,40);this.O.add("pick",40,40);this.O.add("states",40,40);this.O.add("hexagongrid",40,40);this.O.add("trianglegrid",
40,40);this.O.add("inside",40,40);this.O.add("undo",40,40);this.O.add("redo",40,40);this.O.add("drawpause",40,40);this.O.add("invertselection",40,40);this.O.add("autoshrink",40,40);this.O.add("selectlibrary",40,40);this.O.add("cut",40,40);this.O.add("copy",40,40);this.O.add("paste",40,40);this.O.add("flipx",40,40);this.O.add("flipy",40,40);this.O.add("rotatecw",40,40);this.O.add("rotateccw",40,40);this.O.add("random",40,40);this.O.add("smart",40,40);this.O.add("outside",40,40);this.O.add("select",
40,40)};m.prototype.Vz=function(b){var h=!1,n=null;""===b&&(b="Life");try{n=PatternManager.create("","x = 1, y = 1, rule = "+(b+"\nb!"),this.a.o)}catch(x){n=null}n&&n.kd&&(h=!0);return h};m.prototype.qx=function(b){var h=window.prompt("Change rule",""===b.je?b.cf:b.je);null!==h&&(b.Vz(h)?(""===h&&(h="Life"),b.cf=h,b.je="",h=b.a.Ts(b,b.a,!0),b.Ch(h,!1)):b.l.notification.N("Invalid rule",180,!0))};m.prototype.IE=function(b){var h=window.prompt("Start new pattern with rule",""===b.je?b.cf:b.je);null!==
h&&(b.Vz(h)?(""===h&&(h="Life"),b.Ch("x = 1, y = 1, rule = "+(h+"\nb!"),!1)):b.l.notification.N("Invalid rule",180,!0))};m.prototype.EA=function(){this.Bj.icon=this.a.U?this.a.od?[this.O.icon("hexagongrid")]:[this.O.icon("hexgrid")]:this.a.Z?[this.O.icon("trianglegrid")]:[this.O.icon("grid")]};m.prototype.Pq=function(b,h){b.l.hasFocus&&(b.Jk||(h.wheelDelta?b.wheelDelta=h.wheelDelta/120:h.detail&&(b.wheelDelta=-h.detail/3),b.l.Ah(!0)),h.preventDefault())};m.prototype.rw=function(){var b=this.J.gx(0===
this.Qo?0:this.Jf/this.Qo),h=this.fk,n=this.Zl;this.a.ga=this.a.width/2-(this.gk+b*(this.Hi-this.gk));this.a.da=this.a.height/2-(this.hk+b*(this.Sk-this.hk));this.a.zoom=this.ul*Math.pow(this.yj/this.ul,b);180<n-h?h+=360:-180>n-h&&(n+=360);this.a.angle=(h+b*(n-h))%360;this.iq&&(this.a.jd=this.Cv+b*(this.Ct-this.Cv),this.lc.current=this.fj([this.a.jd,this.a.jd],!1,this));this.Sq&&(this.a.G=this.Dv+b*(this.Dt-this.Dv),this.Wc.current=this.ep([this.a.G,this.a.G],!1,this));this.Jf+=1;this.Jf>this.Qo&&
(this.Jf=-1,this.a.zoom=this.yj,this.a.angle=n%360,this.a.ga=this.a.width/2-this.Hi,this.a.da=this.a.height/2-this.Sk,this.iq&&(this.a.jd=this.Ct,this.lc.current=this.fj([this.a.jd,this.a.jd],!1,this)),this.Sq&&(this.a.G=this.Dt,this.Wc.current=this.ep([this.a.G,this.a.G],!1,this)));this.Vb&&(this.Vb.current=this.Bi([this.a.zoom,this.a.zoom],!1,this));this.Kc&&(this.Kc.current=this.cp([this.a.angle,this.a.angle],!1,this))};m.prototype.tv=function(b,h){var n=b.J.Eb[h];b.gk=b.a.width/2-b.a.ga;b.hk=
b.a.height/2-b.a.da;b.ul=b.a.zoom;b.fk=b.a.angle;n.hf?b.Hi=n.x:b.Hi=b.gk;n.Fe?b.Sk=n.y:b.Sk=b.hk;n.pd?b.yj=n.zoom:b.yj=b.ul;n.og?b.Zl=n.angle:b.Zl=b.fk;b.a.U&&(b.Hi+=b.a.da/2);b.iq=n.yg;b.iq&&(b.Cv=b.a.jd,b.Ct=n.depth/v.Mk);b.Sq=n.Gg;b.Sq&&(b.Dv=b.a.G,b.Dt=n.G);b.Jf=0;b.Qo=n.gi;b.rw();n.ol&&b.Jz(b);n.xf===WaypointConstants.play?b.eb.current=b.Bd(v.Yh,!0,b):n.xf===WaypointConstants.stop&&b.Da&&(b.eb.current=b.Bd(v.Md,!0,b));n.Ce&&b.Mg(n.Qb,b.a.tj,b);b.l.notification.N("POI "+(h+1),60,!0);""!==n.oe?
b.l.notification.N(n.oe,180,!1):b.l.notification.clear(!1,!0);n.ik&&(b.ob=n.ob);n.Hj&&(b.Aa=n.Aa);n.Ag&&(b.Ue=Math.sqrt((n.Ob-v.vf)/(v.Kj-v.vf)),b.Za.current=b.Ai([b.Ue,b.Ue],!0,b));n.Qg&&(b.ra=n.step,b.Dc.current=b.rk([b.ra,b.ra],!0,b));n.Po&&(b.a.u>n.Cb&&b.Jz(b),b.a.u<n.Cb&&(b.Jk=!0,b.et=n.Cb,b.dt=!1));n.Vk&&(b.a.Nb=n.nc);n.Mr&&(this.Bh=n.ek)};m.prototype.tg=function(b,h,n){var x=h/b.a.ac;n&&(h=1<=h?Math.round(h):1/Math.round(1/h),x=h/b.a.ac);b.Mc||(b.gk=b.a.width/2-b.a.ga,b.hk=b.a.height/2-b.a.da,
b.ul=b.a.zoom,b.fk=b.a.angle,b.Hi=b.gk,b.Sk=b.hk,b.yj=x,b.Zl=b.fk,b.Jf=0)};m.prototype.$A=function(b){b.qw(b)};m.prototype.sB=function(b){b.fv(b)};m.prototype.fx=function(b){b.Hm=!1;b.Im=!1;b.Ir=!1;b.Jm=!1;b.Ti=!1};m.prototype.ms=function(b){b.Hm=!0};m.prototype.mB=function(b){b.Jm=!0};m.prototype.ws=function(b){b.Im=!0};m.prototype.uB=function(b){b.qx(b)};m.prototype.bC=function(b){b.Ti=!0};m.prototype.Qd=function(b,h,n){n&&(h[0]?(this.Mg(v.Pv[b],1,this),this.qc.current[0]&&(this.qc.current=this.Yo([!1],
!0,this))):(this.qc.current[0]&&(this.qc.current=this.Yo([!1],!0,this)),h[0]=!0));return h};m.prototype.aE=function(b,h,n){return n.Qd(0,b,h)};m.prototype.hE=function(b,h,n){return n.Qd(1,b,h)};m.prototype.bG=function(b,h,n){return n.Qd(2,b,h)};m.prototype.GG=function(b,h,n){return n.Qd(3,b,h)};m.prototype.SG=function(b,h,n){return n.Qd(4,b,h)};m.prototype.fH=function(b,h,n){return n.Qd(5,b,h)};m.prototype.lH=function(b,h,n){return n.Qd(6,b,h)};m.prototype.mH=function(b,h,n){return n.Qd(7,b,h)};m.prototype.nH=
function(b,h,n){return n.Qd(8,b,h)};m.prototype.oH=function(b,h,n){return n.Qd(9,b,h)};m.prototype.iE=function(b,h,n){return n.Qd(10,b,h)};m.prototype.rE=function(b,h,n){return n.Qd(11,b,h)};m.prototype.zE=function(b,h,n){return n.Qd(12,b,h)};m.prototype.HE=function(b,h,n){return n.Qd(13,b,h)};m.prototype.OE=function(b,h,n){return n.Qd(14,b,h)};m.prototype.VE=function(b,h,n){return n.Qd(15,b,h)};m.prototype.oF=function(b,h,n){return n.Qd(16,b,h)};m.prototype.rF=function(b,h,n){return n.Qd(17,b,h)};
m.prototype.us=function(b){b.Ac=!1;b.Aj.current=b.Cw([b.Ac],!0,b)};m.prototype.av=function(b){b.tc.length?(b.tc=[],b.Db=0):k()};m.prototype.vz=function(b){--b.pf;0>b.pf&&(b.pf=b.J.Eb.length-1);b.tv(b,b.pf)};m.prototype.Ty=function(b){b.pf+=1;b.pf>=b.J.Eb.length&&(b.pf=0);b.tv(b,b.pf)};m.prototype.Es=function(b){b.ic+=1;b.ic>=z.md.length&&(b.ic=0);b.Ch(z.md[b.ic].pattern,!1)};m.prototype.nB=function(b){--b.ic;0>b.ic&&(b.ic=z.md.length-1);b.Ch(z.md[b.ic].pattern,!1)};m.prototype.YB=function(b){b.Iv();
b.$&&(b.$=0);b.qc.current[0]=!1;b.l.Sg=!0};m.prototype.wB=function(b){b.Ko=!0};m.prototype.ZA=function(b){b.eg(v.ij,b)};m.prototype.gC=function(b,h){var n=0;if(b.a.Oa&&h)for(;n<b.xb.length;)1<b.xb[n]&&(b.xb[n]&=1),n+=1;else for(;n<b.xb.length;)b.xb[n]=0,n+=1};m.prototype.vx=function(b){var h=b.fb,n=h.i,x=h.s,u=h.h;h=h.m;var t=b.a.F,A=t.i,y=t.s,B=t.h;t=t.m;var C=(b.a.width>>1)-(b.Xa>>1)+(b.ib<<1);var F=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1);if(!b.xa&&b.Va){if(n>x){var E=x;x=n;n=E}u>h&&(E=h,h=u,u=E);n+=
C;x+=C;u+=F;h+=F;for(E=B;E<=t;E+=1)for(B=A;B<=y;B+=1)E>=u&&E<=h&&B>=n&&B<=x||(C=b.a.getState(B,E,!1),0!==C&&b.Gc(B,E,0));b.rb("clear cells outside selection")}};m.prototype.hC=function(b,h){var n=b.fb,x=n.i,u=n.s,t=n.h;n=n.m;var A=(b.a.width>>1)-(b.Xa>>1)+(b.ib<<1),y=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1);if(!b.xa&&b.Va){if(x>u){var B=u;u=x;x=B}t>n&&(B=n,n=t,t=B);if(b.a.Oa&&h){for(B=t;B<=n;B+=1)for(t=x;t<=u;t+=1){var C=b.a.getState(t+A,B+y,!1);1<C&&b.Gc(t+A,B+y,C&1)}this.a.ml()}else for(B=t;B<=n;B+=
1)for(t=x;t<=u;t+=1)C=b.a.getState(t+A,B+y,!1),0!==C&&b.Gc(t+A,B+y,0);b.a.zg();b.ng=!1;b.a.Oa&&h?b.rb("clear [R]History cells in selection"):b.rb("clear cells in selection")}};m.prototype.vt=function(b,h){b.xa||(b.pc?b.gC(b,h):b.hC(b,h))};m.prototype.Pu=function(b){b.vt(b,!1)};m.prototype.ru=function(b){b.vx(b)};m.prototype.Bu=function(b){b.vt(b,!0)};m.prototype.cA=function(b){var h=b.fb,n=b.a.F,x=(b.a.width>>1)-(b.Xa>>1)+(b.ib<<1),u=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1);0<b.a.wa?(h.i=n.i-x,h.h=n.h-
u,h.s=n.s-x,h.m=n.m-u,b.Va=!0,b.ng=!1,n=h.s<h.i?h.i-h.s+1:h.s-h.i+1,h=h.m<h.h?h.h-h.m+1:h.m-h.h+1,b.rb("select all ("+n+" x "+h+")")):b.zr(b)};m.prototype.yz=function(b,h,n){b.xa||(!b.Pi&&b.Qh&&(h?b.qn(b,!0):b.xa?b.qn(b,!0):n?b.Jp(b,!0):b.Jp(b,!1)),b.Gx(b,b.Vf,!1))};m.prototype.Fx=function(b){b.yz(b,!1,!1)};m.prototype.Gx=function(b,h,n){var x=b.fb,u=x.i,t=x.s,A=x.h;x=x.m;var y,B=b.a.f,C=2<B&&!b.a.pb,F=(b.a.width>>1)-(b.Xa>>1)+(b.ib<<1),E=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1);if(b.Va){if(u>t){var G=
t;t=u;u=G}A>x&&(G=x,x=A,A=G);var H=t-u+1;var L=x-A+1;var M=b.a.o.L(Uint8,H*L,"View.pasteBuffer"+h);G=0;for(y=A;y<=x;y+=1)for(A=u;A<=t;A+=1){var I=b.a.getState(A+F,y+E,!1);0<I&&C&&(I=B-I);M[G]=I;b.Gc(A+F,y+E,0);G+=1}b.xe[h]={buffer:M,width:H,height:L};b.xb=M;b.Pd=H;b.Nd=L;b.Mp();b.a.zg();b.nn=!0;b.td=!1;b.ng=!0;n?b.rb("advance outside"):b.rb("cut")}};m.prototype.xz=function(b,h,n){b.Pi||!b.Qh&&b.Va||(h?b.qn(b,!0):b.xa?b.qn(b,!0):n?b.Jp(b,!0):b.Jp(b,!1));b.Va&&(b.mC(b,b.Vf),b.Or||(b.Or=!0,b.l.notification.N("For external clipboard enable Sync",
180,!0)))};m.prototype.Ow=function(b){b.xz(b,!1,!1)};m.prototype.mC=function(b,h){var n=b.fb,x=n.i,u=n.h,t=n.s;n=n.m;var A,y=b.a.f,B=2<y&&!b.a.pb,C=(b.a.width>>1)-(b.Xa>>1)+(b.ib<<1),F=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1);if(b.Va){if(x>t){var E=x;x=t;t=E}u>n&&(E=u,u=n,n=E);var G=t-x+1;var H=n-u+1;var L=b.a.o.L(Uint8,G*H,"View.pasteBuffer"+h);E=0;for(A=u;A<=n;A+=1)for(u=x;u<=t;u+=1){var M=b.a.getState(u+C,A+F,!1);0<M&&B&&(M=y-M);L[E]=M;E+=1}b.xe[h]={buffer:L,width:G,height:H};b.xb=L;b.Pd=G;b.Nd=H;b.Mp();
b.nn=!0;b.td=!1;b.ng=!0}};m.prototype.Dp=function(b){b.pc=!1;b.l.notification.clear(!0,!1);b.td&&b.qw(b);b.td=!1};m.prototype.vD=function(b,h){var n=this.Od;h?b.Va?(b.Gx(b,b.Vf,!0),b.a.we(!0,b.he,b.mc),b.a.Re(),b.rb(""),this.Od=v.jr,b.vr(b,!0,!0),this.Od=n):b.l.notification.N("Advance Outside needs a selection",180,!0):b.td?b.Qx(b):b.Va?(b.ng||b.Fx(b),b.nn&&b.Qx(b)):b.l.notification.N("Advance Selection needs a selection",180,!0)};m.prototype.Qx=function(b){var h,n,x,u=b.Pd,t=b.Nd,A=b.xb,y=b.fb,B=
b.a.F,C=b.rq,F=b.a.nc,E=b.a.$e,G=b.a.la,H=b.a.Oh,L=b.a.ia,M=b.a.Fa,I=b.a.Ma,D=b.a.za,J=b.a.width,K=b.a.height,P=b.a.Ua,aa=b.a.Ib,ca=b.a.dd,V=b.a.sj,ba=b.a.Pe,W=b.a.rj,U=b.a.qa,da=b.a.ma,T=b.a.Ka,N=b.a.Na,O=b.a.u,Q=new BoundingBox;Q.i=B.i;Q.h=B.h;Q.s=B.s;Q.m=B.m;b.a.LB();var S=(b.a.width>>1)-(b.Xa>>1)+(b.ib<<1);var Z=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1);for(x=h=0;x<t;x+=1)for(n=0;n<u;n+=1){var R=A[h];0<R&&b.a.Ae(n+S,x+Z,R,!1);h+=1}b.a.we(!1,!0,!0);b.a.Re();b.Pd=B.s-B.i+1;b.Nd=B.m-B.h+1;b.xb=b.a.o.L(Uint8,
b.Pd*b.Nd,"View.pasteBuffer");h=0;for(x=B.h;x<=B.m;x+=1)for(n=B.i;n<=B.s;n+=1)b.xb[h]=b.a.getState(n,x,!1),h+=1;b.td?(C.i+=B.i-S,C.h+=B.h-Z,C.s=C.i+b.Pd-1,C.m=C.h+b.Nd-1):(C.i=y.i+B.i-S,C.h=y.h+B.h-S,C.s=C.i+b.Pd-1,C.m=C.h+b.Nd-1);b.td=!0;b.a.nc=F;b.a.$e=E;b.a.la=G;b.a.Oh=H;b.a.ia=L;b.a.Fa=M;b.a.Ma=I;b.a.za=D;b.a.width=J;b.a.height=K;b.a.Ua=P;b.a.Ib=aa;b.a.F.i=Q.i;b.a.dd=ca;b.a.sj=V;b.a.Pe=ba;b.a.rj=W;b.a.qa=U;b.a.ma=da;b.a.Ka=T;b.a.Na=N;b.a.u=O;B.i=Q.i;B.h=Q.h;B.s=Q.s;B.m=Q.m};m.prototype.Ru=function(b,
h,n,x){var u,t=b.Pd,A=b.Nd,y=b.xb;var B=b.cl;var C=b.a.width;switch(b.bf+.5|0){case v.dz:h-=t>>1;break;case v.ez:h-=t-1;break;case v.iz:n-=A>>1;break;case v.cz:h-=t>>1;n-=A>>1;break;case v.bz:h-=t-1;n-=A>>1;break;case v.hz:n-=A-1;break;case v.fz:h-=t>>1;n-=A-1;break;case v.gz:h-=t-1,n-=A-1}B.i=h;B.h=n;B.s=h+t;B.m=n+A;for(b.Ws(b,B);C!==b.a.width;)h+=C>>1,n+=C>>1,C<<=1;switch(b.Od){case v.kl:for(u=B=0;u<A;u+=1)for(C=0;C<t;C+=1){var F=y[B];0<F&&b.Gc(h+C,n+u,F);B+=1}break;case v.jr:for(u=B=0;u<A;u+=1)for(C=
0;C<t;C+=1)F=y[B],b.Gc(h+C,n+u,F),B+=1;break;case v.Ju:for(u=B=0;u<A;u+=1)for(C=0;C<t;C+=1){F=y[B];var E=this.a.getState(h+C,n+u,!1);b.Gc(h+C,n+u,E^F);B+=1}break;case v.Du:for(u=B=0;u<A;u+=1)for(C=0;C<t;C+=1)F=y[B],E=this.a.getState(h+C,n+u,!1),b.Gc(h+C,n+u,E&F),B+=1}b.pc=!1;b.td=!1;b.l.notification.clear(!0,!1);x&&b.rb("paste")};m.prototype.vr=function(b,h,n){var x=(b.a.width>>1)-(b.Xa>>1)+(b.ib<<1),u=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1),t=b.fb,A=b.rq,y=t.i,B=t.h,C=t.s;t=t.m;var F;if(!b.xa&&null!==
b.xe[b.Vf])if(h)if(b.Va)if(b.td&&(y=A.i,B=A.h,C=A.s,t=A.m),y>C&&(h=y,y=C,C=h),B>t&&(h=B,B=t,t=h),C=C-y+1,t=t-B+1,b.Pd>C||b.Nd>t)b.l.notification.N("Paste does not fit in selection",180,!0);else{h=b.bf;b.bf=v.po;for(F=B;F<=B+t-b.Nd;F+=b.Nd)for(A=y;A<=y+C-b.Pd;A+=b.Pd)b.Ru(b,A+x,F+u,!1);b.bf=h;b.Ih&&b.yp(b);n?b.rb("advance outside"):b.rb("paste to selection");b.td=!1}else b.l.notification.N("Paste to Selection needs a selection",180,!0);else b.Mu(b,b.Vf),b.td=!1,b.l.notification.N("Now click to paste",
180,!0)};m.prototype.TE=function(b){b.td?b.vr(b,!0,!1):b.Ru(b,b.Mh,b.Nh,!0)};m.prototype.jz=function(b){b.vr(b,!1,!1)};m.prototype.Mu=function(b,h){0<=h&&h<b.xe.length&&(null!==b.xe[h]?(b.pc=!0,b.td=!1,b.xb=b.xe[h].buffer,b.Pd=b.xe[h].width,b.Nd=b.xe[h].height,b.wd.current!==v.nm&&(b.wd.current=b.gj(v.nm,!0,b))):(b.pc=!1,b.td=!1,b.l.notification.N("Clipboard empty",180,!0)))};m.prototype.pF=function(b,h){var n,x=b.a.f;-1===x&&(x=2);for(n=0;n<b.xb.length;n+=1){var u=100*b.Si.random()<=b.nl?2===x||
h?x-1:(b.Si.random()*(x-1)|0)+1:0;b.xb[n]=u}};m.prototype.qF=function(b,h){var n=b.fb,x=n.i,u=n.s,t=n.h;n=n.m;var A=(b.a.width>>1)-(b.Xa>>1)+(b.ib<<1),y=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1),B=b.a.f;if(b.Va){if(x>u){var C=u;u=x;x=C}t>n&&(C=n,n=t,t=C);-1===B&&(B=2);for(C=t;C<=n;C+=1)for(t=x;t<=u;t+=1){var F=100*b.Si.random()<=b.nl?2===B||h?B-1:(b.Si.random()*(B-1)|0)+1:0;b.Gc(t+A,C+y,F)}b.a.zg();b.rb("random "+b.nl+"%")}};m.prototype.wr=function(b,h){b.xa||(b.pc?b.pF(b,h):b.qF(b,h))};m.prototype.qB=
function(b){b.xa||b.wr(b,!1)};m.prototype.pB=function(b){b.wr(b,!0)};m.prototype.AD=function(b){var h=b.Pd,n=b.Nd,x=h>>1,u,t,A;for(t=A=0;t<n;t+=1){for(u=0;u<x;u+=1){var y=b.xb[A+u];b.xb[A+u]=b.xb[A+h-u-1];b.xb[A+h-u-1]=y}A+=h}};m.prototype.BD=function(b){var h=b.fb,n=h.i,x=h.s,u=h.h;h=h.m;var t,A=b.a.f,y=2<A&&!b.a.pb,B=(b.a.width>>1)-(b.Xa>>1)+(b.ib<<1),C=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1);if(b.Va){if(n>x){var F=x;x=n;n=F}u>h&&(F=h,h=u,u=F);F=b.a.o.L(Uint8,x-n+1,"View.flipRow");for(t=u;t<=h;t+=1){for(u=
n;u<=x;u+=1){var E=b.a.getState(u+B,t+C,!1);y&&0<E&&(E=A-E);F[u-n]=E}for(u=n;u<=x;u+=1)b.Gc(u+B,t+C,F[x-u])}b.a.zg();b.rb("flip horizontally")}};m.prototype.CD=function(b){var h=b.Pd,n=b.Nd,x=n>>1,u,t,A;for(u=A=0;u<h;u+=1){for(t=0;t<x;t+=1){var y=b.xb[A+t*h];b.xb[A+t*h]=b.xb[A+(n-t-1)*h];b.xb[A+(n-t-1)*h]=y}A+=1}};m.prototype.DD=function(b){var h=b.fb,n=h.i,x=h.s,u=h.h;h=h.m;var t,A=b.a.f,y=2<A&&!b.a.pb,B=(b.a.width>>1)-(b.Xa>>1)+(b.ib<<1),C=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1);if(b.Va){if(n>x){var F=
x;x=n;n=F}u>h&&(F=h,h=u,u=F);for(F=b.a.o.L(Uint8,h-u+1,"View.flipColumn");n<=x;n+=1){for(t=u;t<=h;t+=1){var E=b.a.getState(n+B,t+C,!1);y&&0<E&&(E=A-E);F[t-u]=E}for(t=u;t<=h;t+=1)b.Gc(n+B,t+C,F[h-t])}b.a.zg();b.rb("flip vertically")}};m.prototype.Sz=function(b,h){var n=b.Pd,x=b.Nd,u,t,A=b.a.o.L(Uint8,n*x,"View.pasteBuffer");for(t=0;t<x;t+=1)for(u=0;u<n;u+=1)h?A[u*x+(x-t-1)]=b.xb[t*n+u]:A[(n-u-1)*x+t]=b.xb[t*n+u];b.xb=A;b.Pd=x;b.Nd=n};m.prototype.Tz=function(b,h,n){var x=b.fb,u=x.i,t=x.s,A=x.h,y=x.m,
B=0,C=b.a.f;var F=!0;var E=2<C&&!b.a.pb;var G=Math.round((b.a.width-b.a.na)/2);var H=Math.round((b.a.height-b.a.pa)/2);var L=G+b.a.na-1;var M=H+b.a.pa-1;var I=(b.a.width>>1)-(b.Xa>>1)+(b.ib<<1),D=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1);if(b.Va){if(u>t){var J=t;t=u;u=J}A>y&&(J=y,y=A,A=J);J=u+(t-u+1-1>>1);var K=A+(y-A+1-1>>1);var P=J+A-K;var aa=K+u-J;var ca=J+y-K;K=K+t-J;var V=x.i;var ba=x.h;var W=x.s;var U=x.m;x.i=P;x.h=aa;x.s=ca;x.m=K;x.i>x.s&&(J=x.i,x.i=x.s,x.s=J);x.h>x.m&&(J=x.h,x.h=x.m,x.m=J);if(-1!==
b.a.ja){if(x.i+I<G||x.s+I>L||x.h+D<H||x.m+D>M)b.l.notification.N("Rotation does not fit in bounded grid",180,!0),F=!1}else b.sx(b)?(b.l.notification.N("Rotation does not fit on grid",180,!0),F=!1):(I=(b.a.width>>1)-(b.Xa>>1)+(b.ib<<1),D=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1));if(F){h?(h=aa,L=ca,H=1,G=-1):(h=K,L=P,H=-1,G=1);aa=b.a.o.L(Int16,3*(t-u+1)*(y-A+1),"View.rotateCells");for(ca=A;ca<=y;ca+=1){M=h;for(P=u;P<=t;P+=1)F=b.a.getState(P+I,ca+D,!1),E&&0<F&&(F=C-F),aa[B]=L,aa[B+1]=M,aa[B+2]=F,B+=3,M+=
H;L+=G}I=(b.a.width>>1)-(b.Xa>>1)+(b.ib<<1);D=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1);for(B=0;B<aa.length;)P=aa[B],ca=aa[B+1],F=aa[B+2],b.Gc(P+I,ca+D,F),B+=3;for(P=u;P<x.i;P+=1)for(ca=A;ca<=y;ca+=1)b.Gc(P+I,ca+D,0);for(P=x.s+1;P<=t;P+=1)for(ca=A;ca<=y;ca+=1)b.Gc(P+I,ca+D,0);for(ca=A;ca<x.h;ca+=1)for(P=u;P<=t;P+=1)b.Gc(P+I,ca+D,0);for(ca=x.m+1;ca<=y;ca+=1)for(P=u;P<=t;P+=1)b.Gc(P+I,ca+D,0);b.a.zg();b.rb(n)}else x.i=V,x.h=ba,x.s=W,x.m=U}};m.prototype.Rx=function(b){b.xa||(b.pc?b.AD(b):b.BD(b))};m.prototype.Sx=
function(b){b.xa||(b.pc?b.CD(b):b.DD(b))};m.prototype.Rz=function(b){b.xa||(b.pc?b.Sz(b,!0):b.Tz(b,!0,"rotate clockwise"))};m.prototype.Qz=function(b){b.xa||(b.pc?b.Sz(b,!1):b.Tz(b,!1,"rotate counter-clockwise"))};m.prototype.eE=function(b){var h=0,n=b.a.f;if(!b.xa)for(-1===n&&(n=2);h<b.xb.length;){var x=b.xb[h];b.xb[h]=n-x-1;h+=1}};m.prototype.fE=function(b){var h=b.fb,n=h.i,x=h.s,u=h.h;h=h.m;var t=(b.a.width>>1)-(b.Xa>>1)+(b.ib<<1),A=(b.a.height>>1)-(b.cb>>1)+(b.jb<<1),y=b.a.f;if(!b.xa&&b.Va){if(n>
x){var B=x;x=n;n=B}u>h&&(B=h,h=u,u=B);-1===y&&(y=2);for(B=u;B<=h;B+=1)for(u=n;u<=x;u+=1){var C=b.a.getState(u+t,B+A,!1);2<y&&0<C&&(C=y-C);b.Gc(u+t,B+A,y-C-1)}b.a.zg();b.rb("invert cells in selection")}};m.prototype.oy=function(b){b.xa||(b.pc?b.eE(b):b.fE(b))};m.prototype.os=function(b){b.dh(!0,!0);b.Da||(b.tf=!0)};m.prototype.vA=function(b,h,n){h&&(n.a.Nb=b[0]);return[n.a.Nb]};m.prototype.wA=function(b,h,n){h&&(n.Cf=b[0]);return[n.Cf]};m.prototype.HD=function(b,h,n){h&&(n.pr=b[0]);return[n.pr]};m.prototype.Wv=
function(b,h,n){h&&(n.ei=b[0]);return[n.ei]};m.prototype.Yv=function(b,h,n){h&&(n.Ql=b[0]);return[n.Ql]};m.prototype.Yo=function(b,h,n){h&&(0!==n.$&&b[0]&&(n.$=0,n.Ki.current=n.Tm([n.$],!0,n)),b[0]||n.fx(n));return b};m.prototype.Xv=function(b,h,n){h&&(n.tl=b[0]);return[n.tl]};m.prototype.sq=function(b,h,n){h&&(n.Lo=b[0]);return[n.Lo]};m.prototype.wi=function(b,h,n){h&&(n.fi=b[0],n.fi?n.to?n.l.notification.N("Replace: Now click on a cell",180,!0):n.l.notification.N("Pick: Now click on a cell",180,
!0):(n.Xt||n.l.notification.clear(!0,!1),n.Xt=!1,n.to=!1));return[n.fi]};m.prototype.uA=function(b,h,n){h&&(n.Mb=b[0],n.Mb&&!n.Da&&n.dh(!0,!0));return[n.Mb]};m.prototype.yD=function(b,h,n){h&&-1!==n.Aa&&(n.Yb=!b[0],n.vc?(n.Sd=n.Yb,n.l.notification.N("Loop and Waypoints "+(n.Yb?"Off":"On"),40,!0)):n.Jc?(n.Rd=n.Yb,n.l.notification.N("Loop and Track "+(n.Yb?"Off":"On"),40,!0),n.Ww(n.Rd)):n.l.notification.N("Loop "+(n.Yb?"Off":"On"),40,!0));return[n.Yb]};m.prototype.rD=function(b,h,n){h&&n.Ed&&(n.Oe=
!b[0]);return[n.Oe]};m.prototype.ZD=function(b,h,n){h&&-1!==n.IH&&(n.Ad=!b[0]);return[n.Ad]};m.prototype.Zv=function(b,h,n){h&&(n.Jc?(n.Rd=!b[0],n.Ww(n.Rd),-1!==n.Aa?(n.Yb=n.Rd,n.l.notification.N("Loop and Track "+(n.Yb?"Off":"On"),40,!0)):n.l.notification.N("Track "+(n.Rd?"Off":"On"),40,!0)):n.vc&&(n.Sd=!b[0],n.Sd&&(n.l.notification.clear(!1,!1),n.ao=""),-1!==n.Aa?(n.Yb=n.Sd,n.l.notification.N("Loop and Waypoints "+(n.Yb?"Off":"On"),40,!0)):n.l.notification.N("Waypoints "+(n.Sd?"Off":"On"),40,!0)));
return n.Jc?[n.Rd]:[n.Sd]};m.prototype.Tm=function(b,h,n){h&&(n.$=b[0],n.$?(n.tc.length&&n.eg(v.qv,n),n.qc.current[0]&&(n.qc.current=n.Yo([!1],!0,n))):(n.eg(v.ij,n),n.$=0));return[n.$]};m.prototype.gs=function(b,h,n){h&&(n.If=b[0],n.If&&(n.a.ea?0<n.a.u&&-1===n.a.f&&(--n.a.u,n.a.we(!0,n.he,n.mc),n.Qi()):(n.a.wa=0,n.a.jc=0,n.a.hd=0)));n.l.Ah(!0);return[n.If]};m.prototype.Er=function(b,h){1<b.Db&&(b.Db-=h,1>b.Db&&(b.Db=1))};m.prototype.Dr=function(b,h){b.Db<b.tc.length-b.rc+1&&(b.Db+=h,b.Db>b.tc.length-
b.rc+1&&(b.Db=b.tc.length-b.rc+1))};m.prototype.Gr=function(b,h){1<b.$&&(b.$-=h,1>b.$&&(b.$=1))};m.prototype.Fr=function(b,h){b.$<b.qm-b.rc&&(b.$+=h,b.$>b.qm-b.rc&&(b.$=b.qm-b.rc))};m.prototype.iF=function(b){for(var h=b.V.length-1,n=!1;0<=h&&!n;)b.$<=b.V[h][0]?--h:n=!0;n&&(b.$=b.V[h][0])};m.prototype.KE=function(b){for(var h=0,n=!1;h<b.V.length&&!n;)b.$>=b.V[h][0]?h+=1:n=!0;n&&(b.$=b.V[h][0])};m.prototype.WF=function(b){for(;this.a.u<b-1;)this.a.ea?(this.a.we(!1,!1,this.mc),0===this.a.ea&&2<this.a.f||
this.a.Re(),0===this.a.ea&&2>=this.a.f&&(this.a.ea=1,this.a.we(!1,!1,this.mc),--this.a.u)):(this.a.u+=1,this.a.Re()),this.Qi();this.a.u<b&&(this.a.ea?(this.a.we(this.If,!1,this.mc),0===this.a.ea&&2<this.a.f||this.a.Re(),0===this.a.ea&&2>=this.a.f&&(this.a.ea=1,this.a.we(!1,!1,this.mc),--this.a.u)):(this.a.u+=1,this.a.Re()),this.Qi());this.elapsedTime=this.zb[b];this.uh=this.Ta=b};m.prototype.ql=function(b){var h=this.S+(0<this.a.f?this.a.f:0);this.he?this.l.notification.N("Step back disabled",40,
!0):this.l.$u&&(this.l.$u=!1,0>b&&(b=0),this.elapsedTime=this.zb[b],this.uh=this.Ta=b,-1!==this.Gi&&b>this.Gi+h?this.a.u=b:this.a.ql(b,this.If,this.mc,this),this.J.CG(this.elapsedTime),this.tf=!0,b!==this.a.u&&(this.Jk=!0,this.et=b,this.a.Cr(!1),this.l.notification.N("Computing previous generations",1E4,!0),this.dt=!0))};m.prototype.Qt=function(b){b.style.width="2em";b.style.height="2em";b.style.padding=0;b.style.pH="none";b.style.outline="none";b.style.boxShadow="none";b.style.background="transparent";
b.style.position="fixed";b.style.left="-100px";b.style.top="0px"};m.prototype.Lp=function(b,h,n){var x="textarea";b.Ro=h;b.si=0;b.yl=h.length;if(n){var u=performance.now()-b.Kp;u<v.pC&&b.yl<v.nC?n=!1:b.Oq||(x="div")}b.xl=document.createElement("div");b.xl.contentEditable=!0;b.Qt(b.xl);b.lk=document.createElement(x);b.Qt(b.lk);b.lk.contentEditable=!0;b.xl.appendChild(b.lk);document.body.appendChild(b.xl);n?(b.ft=v.qC,b.l.notification.N("Copying...",1E4,!0),b.on=!0,b.Ip=!1,b.v.locked=!0):(b.lk.innerHTML=
h,b.yx(b,n))};m.prototype.yx=function(b,h){b.Oq?b.lk.focus():b.xl.focus();try{document.execCommand("selectAll"),document.execCommand("copy")}catch(n){}document.body.removeChild(b.xl);b.Ro="";b.$b.canvas.focus();b.l.notification.N("Copied to external clipboard",180,!0);h&&(b.on=!1,b.v.locked=!1);b.Kp=-1};m.prototype.Ug=function(b){var h=ColourManager.Gd,n=Object.keys(h),x=b.red,u=b.green;b=b.blue;for(var t="",A=!1,y=null,B=0;B<n.length&&!A;)y=h[n[B]],y[1]===x&&y[2]===u&&y[3]===b?(A=!0,B=n.length):
B+=1;A?t=y[0]:t=x+" "+u+" "+b;return t};m.prototype.Ol=function(b,h){return b.red===h.red&&b.green===h.green&&b.blue===h.blue};m.prototype.zx=function(b,h){var n="#C "+Keywords.Zj+" ",x=String(-(b.a.width/2-b.a.ga-b.a.mb|0)),u=String(-(b.a.height/2-b.a.da-b.a.bb|0)),t=b.a.zoom,A=b.a.angle|0,y=b.a.hb[b.a.Qe];0!==b.a.u&&(n+=Keywords.Oo+b.a.u+" ");n+=Keywords.Td+" "+x+" "+Keywords.Ud+" "+u+" ";n+=Keywords.Rc+" "+(t===(t|0)?String(t):String(t.toFixed(2)))+" ";n+=Keywords.qj+" "+A+" ";n+=Keywords.Gm+"\n";
if(h){n+="#C "+Keywords.Zj+" ";if(b.vg){if(2<b.a.f){if(n+=Keywords.va+" "+Keywords.Qr+" "+b.Ug(y.zi),n+=" "+Keywords.va+" "+Keywords.Pr+" "+b.Ug(y.Sf),b.Ol(y.fc.M,y.zi)||(n+=" "+Keywords.va+" "+Keywords.Sr+" "+b.Ug(y.fc.M)),b.Ol(y.fc.K,y.fc.M)||(n+=" "+Keywords.va+" "+Keywords.Rr+" "+b.Ug(y.fc.K)),y.Xl||(n+=" "+Keywords.va+" "+Keywords.Ov+" "+b.Ug(y.ub.M)),y.Xl||!b.Ol(y.ub.K,y.ub.M))n+=" "+Keywords.va+" "+Keywords.Nv+" "+b.Ug(y.ub.K)}else n+=Keywords.va+" "+Keywords.Qr+" "+b.Ug(y.Ja),n+=" "+Keywords.va+
" "+Keywords.Pr+" "+b.Ug(y.La.K),b.Ol(y.La.K,y.La.M)||(n+=" "+Keywords.va+" "+Keywords.Mv+" "+b.Ug(y.La.M)),b.Ol(y.Ha.M,y.Ja)||(n+=" "+Keywords.va+" "+Keywords.Sr+" "+b.Ug(y.Ha.M)),b.Ol(y.Ha.K,y.Ha.M)||(n+=" "+Keywords.va+" "+Keywords.Rr+" "+b.Ug(y.Ha.K));n+=" "+Keywords.Gm+"\n#C "+Keywords.Zj+" "}n+=Keywords.Zi+" "+y.name+" ";b.S!==b.Wq&&(n+=Keywords.Mq+" "+b.S+" ");n+=Keywords.Xm+" "+b.D+" ";n+=Keywords.dm+" "+b.B+" ";n+=Keywords.Gm+"\n"}b.Lp(b,n,!1)};m.prototype.YF=function(b){b.element.innerHTML=
b.a.Ts(b,b.a,!0)};m.prototype.qn=function(b,h){b.Kp=performance.now();w.ya?b.Lp(b,z.md[b.ic].pattern,h):b.Lp(b,f(b.element),h)};m.prototype.Jp=function(b,h){b.Kp=performance.now();b.Lp(b,b.a.Ts(b,b.a,h),!0)};m.prototype.Bs=function(b,h){var n=h.charCode||h.keyCode;if(b.Jk?KeyProcessor.lF(b,n,h):b.on?KeyProcessor.kF(b,n,h):KeyProcessor.jF(b,n,h))b.l.Ah(!0),h.preventDefault()};m.prototype.aB=function(){this.a.Oa?(this.Lb.setPosition(Menu.gb,-85,-130),this.fa.setPosition(Menu.gb,-130,-130),this.fa.w=
"random fill",this.ec.setPosition(Menu.gb,-235,-130)):2>=this.a.f?(this.Lb.setPosition(Menu.gb,-40,-130),this.fa.setPosition(Menu.gb,-85,-130),this.fa.w="random fill",this.ec.setPosition(Menu.gb,-190,-130)):(this.Lb.setPosition(Menu.gb,-40,-130),this.fa.setPosition(Menu.gb,-130,-130),this.fa.w="random multi-state fill",this.Ke.setPosition(Menu.gb,-85,-130),this.ec.setPosition(Menu.gb,-235,-130))};m.prototype.bB=function(){if(this.B<v.Oi)this.oh.setPosition(Menu.zc,10,50),this.ph.setPosition(Menu.Yc,
0,50),this.nh.setPosition(Menu.Jb,-160,50),this.qh.setPosition(Menu.zc,10,100),this.eh.setPosition(Menu.Yc,0,100),this.$g.setPosition(Menu.Jb,-160,100),0<this.J.pm()?(this.Ge.setPosition(Menu.zc,10,150),this.bh.setPosition(Menu.Jb,-160,150)):this.Ge.setPosition(Menu.Yc,0,150);else{var b=0<this.J.pm()?-175:-150;this.oh.setPosition(Menu.Pb,0,b);this.ph.setPosition(Menu.Pb,0,b+50);this.nh.setPosition(Menu.Pb,0,b+100);this.qh.setPosition(Menu.Pb,0,b+150);this.eh.setPosition(Menu.Pb,0,b+200);this.$g.setPosition(Menu.Pb,
0,b+250);this.Ge.setPosition(Menu.Pb,0,b+300);this.bh.setPosition(Menu.Pb,0,b+350)}};m.prototype.YA=function(){var b="white",h="black",n="rgb(0,240,32)",x="blue",u="grey",t="white";var A=this.ba[v.zn];-1!==A?(b="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")",this.O.xr=!0,this.O.ev=this.a.Hg?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255):(this.O.xr=!0,A=16777215,this.O.ev=this.a.Hg?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255);
A=this.ba[v.xn];-1!==A?h="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")":A=0;this.Il=A;A=this.ba[v.An];-1!==A&&(n="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");A=this.ba[v.Cn];-1!==A&&(x="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");A=this.ba[v.Bn];-1!==A?u="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")":A=8421504;this.O.cy=this.a.Hg?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255;A=this.ba[v.yn];-1!==A&&(t="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");this.l.Fo(b,
h,n,x,u,t)};m.prototype.Rw=function(){var b,h=0;this.v=this.l.wC(this.dB,this.Fw,this);this.v.wt=this.fB;this.v.Iw=this.kB;this.th=this.v.yb(Menu.zc,0,40,16,20,"X");this.th.font=v.Hf;this.th.So=Menu.ud;this.bi=this.v.yb(Menu.zc,70,40,16,20,"Y");this.bi.font=v.Hf;this.bi.So=Menu.ud;this.rh=this.v.yb(Menu.zc,140,40,16,20,"A");this.rh.font=v.Hf;this.rh.So=Menu.ud;this.Xd=this.v.yb(Menu.zc,16,40,54,20,"");this.Xd.font=v.Hf;this.Xd.textAlign=Menu.right;this.Xd.w="camera X position";this.Yd=this.v.yb(Menu.zc,
86,40,54,20,"");this.Yd.font=v.Hf;this.Yd.textAlign=Menu.right;this.Yd.w="camera Y position";this.$c=this.v.yb(Menu.zc,156,40,40,20,"");this.$c.font=v.Hf;this.$c.textAlign=Menu.right;this.$c.w="camera angle";this.Ml=this.v.yb(Menu.zc,196,40,4,20,"");this.sk=this.v.yb(Menu.Jb,-280,40,20,20,"E");this.sk.font=v.Hf;this.uk=this.v.yb(Menu.Jb,-210,40,20,20,"S");this.uk.font=v.Hf;this.vk=this.v.yb(Menu.Jb,-140,40,20,20,"W");this.vk.font=v.Hf;this.tk=this.v.yb(Menu.Jb,-70,40,20,20,"N");this.tk.font=v.Hf;
this.ad=this.v.yb(Menu.Jb,-260,40,50,20,"");this.ad.font=v.Hf;this.ad.textAlign=Menu.right;this.ad.w="bounding box east edge velocity";this.Vd=this.v.yb(Menu.Jb,-190,40,50,20,"");this.Vd.font=v.Hf;this.Vd.textAlign=Menu.right;this.Vd.w="bounding box south edge velocity";this.Wd=this.v.yb(Menu.Jb,-120,40,50,20,"");this.Wd.font=v.Hf;this.Wd.textAlign=Menu.right;this.Wd.w="bounding box west edge velocity";this.Cd=this.v.yb(Menu.Jb,-50,40,50,20,"");this.Cd.font=v.Hf;this.Cd.textAlign=Menu.right;this.Cd.w=
"bounding box north edge velocity";this.Fk=this.v.Qa(this.rD,Menu.Jb,-210,0,38,20,["START"],[!1],Menu.ya);this.Fk.font=v.Kr;this.Fk.w=["autostart indicator"];this.jk=this.v.Qa(this.ZD,Menu.Jb,-210,20,38,20,["STOP"],[!1],Menu.ya);this.jk.font=v.Kr;this.jk.w=["stop indicator"];this.Nf=this.v.Qa(this.Zv,Menu.Jb,-172,0,38,20,["WAYPT"],[!1],Menu.ya);this.Nf.font=v.Kr;this.Nf.w=["toggle waypoint mode"];this.Ij=this.v.Qa(this.yD,Menu.Jb,-172,20,38,20,["LOOP"],[!1],Menu.ya);this.Ij.font=v.Kr;this.Ij.w=["toggle loop mode"];
this.wd=this.v.Qa(this.gj,Menu.zc,90,0,120,40,["","",""],v.mm,Menu.dk);this.wd.icon=[this.O.icon("draw"),this.O.icon("select"),this.O.icon("pan")];this.wd.w=["draw","select","pan"];this.aa=this.v.Qa(this.gB,Menu.Jb,-80,100,80,60,["1","2"],0,Menu.dk);this.aa.orientation=Menu.vertical;this.aa.w=["",""];this.aa.font="14px Arial";this.Ki=this.v.Qa(this.Tm,Menu.Jb,-40,0,40,40,["Help"],[!1],Menu.ya);this.Ki.w=["toggle help display"];this.Ki.font="16px Arial";this.Bk=this.v.Pa(this.ZA,Menu.Jb,-40,50,40,
["^"]);this.Bk.w=["show help topics"];this.zk=this.v.Pa(this.wB,Menu.Jb,-40,100,40,["<"]);this.zk.w=["show help sections"];this.oh=this.v.Pa(this.Cs,Menu.Yc,0,50,150,["Keys"]);this.oh.w=["show keyboard shortcuts"];this.ph=this.v.Pa(this.vB,Menu.Yc,0,100,150,["Scripts"]);this.ph.w=["show script commands"];this.nh=this.v.Pa(this.As,Menu.Yc,0,150,150,["Info"]);this.nh.w=["show pattern and engine information"];this.qh=this.v.Pa(this.GC,Menu.Yc,0,200,150,["Themes"]);this.qh.w=["show colour Themes"];this.eh=
this.v.Pa(this.dv,Menu.Yc,0,250,150,["Colours"]);this.eh.w=["show colour names"];this.$g=this.v.Pa(this.Zt,Menu.Yc,0,300,150,["Aliases"]);this.$g.w=["show rule aliases"];this.Ge=this.v.Pa(this.Ds,Menu.Yc,0,350,150,["Memory"]);this.Ge.w=["show memory usage"];this.bh=this.v.Pa(this.ku,Menu.Yc,0,350,150,["Annotations"]);this.bh.w=["show annotations"];this.Hh=this.v.Qa(this.uA,Menu.zc,0,0,40,40,["Auto"],[!1],Menu.ya);this.Hh.icon=[this.O.icon("autofit")];this.Hh.w=["toggle autofit"];this.Hh.font="16px Arial";
this.Ii=this.v.Pa(this.os,Menu.zc,45,0,40,"");this.Ii.icon=this.O.icon("fit");this.Ii.w="fit pattern to display";this.Bj=this.v.Qa(this.vA,Menu.Jb,-85,0,40,40,["Grid"],[!1],Menu.ya);this.Bj.icon=[this.O.icon("grid")];this.Bj.w=["toggle grid lines"];this.Bj.font="16px Arial";this.Df=this.v.GB();this.Df.locked=!0;this.kf=this.v.yb(Menu.Ui,0,-100,70,30,"Time");this.kf.textAlign=Menu.left;this.kf.font=v.Pg;this.kf.w="elapsed time";this.Rk=this.v.yb(Menu.Ui,70,-100,70,30,"");this.Rk.textAlign=Menu.right;
this.Rk.font=v.Pg;this.Rk.w="elapsed time";this.tb=this.v.yb(Menu.Ui,166,-70,130,30,"");this.tb.textAlign=Menu.left;this.tb.font=v.Pg;this.tb.w="selection size";this.R=this.v.yb(Menu.Ui,0,-70,166,30,"");this.R.textAlign=Menu.left;this.R.font=v.Pg;this.R.w="cell state at cursor position";this.Ve=this.v.Qa(this.gs,Menu.Ui,0,-40,100,40,[""],[this.If],Menu.ya);this.Ve.w=["toggle generation statistics"];this.$a=this.v.yb(Menu.Ui,0,-40,this.D-40,40,"");this.$a.textAlign=Menu.left;this.$a.j=!0;this.Ie=this.v.yb(Menu.gb,
-140,-130,70,30,"Alive");this.Ie.textAlign=Menu.left;this.Ie.font=v.Pg;this.Ie.w="current population";this.Vj=this.v.yb(Menu.gb,-70,-130,70,30,"");this.Vj.textAlign=Menu.right;this.Vj.font=v.Pg;this.Vj.w="alive";this.ha=this.v.yb(Menu.gb,-140,-100,70,30,"Births");this.ha.textAlign=Menu.left;this.ha.font=v.Pg;this.ha.w="cells born this generation";this.Lh=this.v.yb(Menu.gb,-70,-100,70,30,"");this.Lh.textAlign=Menu.right;this.Lh.font=v.Pg;this.Lh.w="births";this.se=this.v.yb(Menu.gb,-140,-70,70,30,
"Deaths");this.se.textAlign=Menu.left;this.se.font=v.Pg;this.se.w="cells died this generation";this.vj=this.v.yb(Menu.gb,-70,-70,70,30,"");this.vj.textAlign=Menu.right;this.vj.font=v.Pg;this.vj.w="deaths";this.uc=this.v.yb(Menu.Ui,0,-130,140,30,this.cf);this.uc.font=v.Pg;this.Vb=this.v.Gh(this.Bi,Menu.Yc,0,0,v.Tw,40,0,1,.1,"Zoom ","",1);this.Vb.w="camera zoom";this.Wc=this.v.Gh(this.ep,Menu.Lw,30,0,40,292,v.Xq,v.cr,1,"Layers ","",0);this.Wc.w="number of layers";this.lc=this.v.Gh(this.fj,Menu.Bt,-70,
0,40,292,1,0,.1,"Depth ","",2);this.lc.w="depth between layers";this.Kc=this.v.Gh(this.cp,Menu.Yc,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.Kc.w="camera angle";this.mj=this.v.Pa(this.YB,Menu.gb,-40,-90,40,"");this.mj.icon=this.O.icon("shrink");this.mj.w="shrink to thumbnail";this.Dj=this.v.Qa(this.NA,Menu.Pb,0,-125,120,40,["Hexagon"],[this.a.od],Menu.ya);this.Dj.w=["toggle hexagonal cells"];this.kn=this.v.Qa(this.KA,Menu.Pb,0,-75,120,40,["Borders"],[this.a.gd],Menu.ya);this.kn.w=["toggle cell borders"];
this.Vh=this.v.Qa(this.RA,Menu.Pb,0,-25,120,40,["Major"],[this.a.Ji],Menu.ya);this.Vh.w=["toggle major grid lines"];this.Nm=this.v.Qa(this.SA,Menu.Pb,0,25,120,40,["Stars"],[this.Bh],Menu.ya);this.Nm.w=["toggle stars display"];this.Gj=this.v.Qa(this.QA,Menu.Pb,0,75,120,40,["Labels"],[this.Ng],Menu.ya);this.Gj.w=["toggle labels"];this.Je=this.v.Qa(this.iB,Menu.Pb,0,125,120,40,["[R]History"],[this.a.Xf],Menu.ya);this.Je.w=["toggle [R]History display"];this.fm=this.v.Qa(this.OA,Menu.Pb,0,-100,120,40,
["HistoryFit"],[this.Bg],Menu.ya);this.fm.w=["toggle AutoFit History"];this.zl=this.v.Qa(this.Yv,Menu.Pb,0,-50,120,40,["Throttle"],[this.Ql],Menu.ya);this.zl.w=["toggle playback throttling"];this.sl=this.v.Qa(this.Wv,Menu.Pb,0,0,120,40,["PerfWarn"],[this.ei],Menu.ya);this.sl.w=["toggle performance warning display"];this.He=this.v.Qa(this.hB,Menu.Pb,0,50,120,40,["Kill"],[this.a.Wg],Menu.ya);this.He.w=["toggle kill escaping gliders"];this.Of=this.v.Qa(this.eB,Menu.Pb,0,100,120,40,["AutoHide"],[this.Th],
Menu.ya);this.Of.w=["toggle hide UI on playback"];this.am=this.v.Qa(this.Wm,Menu.Pb,0,-50,120,40,["Timing"],[this.l.ck],Menu.ya);this.am.w=["toggle timing display"];this.Vo=this.v.Qa(this.Gw,Menu.Pb,0,0,120,40,["Details"],[this.l.bk],Menu.ya);this.Vo.w=["toggle timing details"];this.gm=this.v.Qa(this.PA,Menu.Pb,0,50,120,40,["InfoBar"],[this.oc],Menu.ya);this.gm.w=["toggle InfoBar"];this.Wi=this.v.Pa(this.nB,Menu.Lr,-135,-90,120,"Prev");this.Wi.w="go to previous universe";this.ii=this.v.Pa(this.Es,
Menu.Lr,135,-90,120,"Next");this.ii.w="go to next universe";this.Ea=this.v.Pa(this.av,Menu.gb,-40,-90,40,"X");this.Ea.w="close window";this.mi=this.v.Pa(this.vz,Menu.Lw,10,0,40,"<");this.mi.w="go to previous POI";this.di=this.v.Pa(this.Ty,Menu.Bt,-50,0,40,">");this.di.w="go to next POI";this.sm=this.v.Gh(this.es,Menu.Yc,0,45,172,40,0,1,this.Bc,"Opacity ","%",0);this.sm.w="graph opacity";this.jm=this.v.Qa(this.wA,Menu.Jb,-85,45,40,40,[""],[!1],Menu.ya);this.jm.icon=[this.O.icon("lines")];this.jm.w=
["toggle graph lines/points"];this.Ll=this.v.Pa(this.us,Menu.Jb,-40,45,40,"X");this.Ll.w="close graph";this.cg=this.v.Qa(this.wi,Menu.zc,0,45,40,40,[""],[this.fi],Menu.ya);this.cg.icon=[this.O.icon("pick")];this.cg.w=["pick state"];this.nj=this.v.Qa(this.sq,Menu.zc,45,45,40,40,[""],[this.Lo],Menu.ya);this.nj.icon=[this.O.icon("states")];this.nj.w=["toggle states display"];this.xk=this.v.Qa(this.HD,Menu.zc,90,45,40,40,[""],[this.pr],Menu.ya);this.xk.icon=[this.O.icon("drawpause")];this.xk.w=["toggle pause playback while drawing"];
this.Mm=this.v.Qa(this.Xv,Menu.zc,135,45,40,40,[""],[this.tl],Menu.ya);this.Mm.icon=[this.O.icon("smart")];this.Mm.w=["toggle smart drawing"];this.qc=this.v.Qa(this.Yo,Menu.gb,-40,-40,40,40,[""],[!1],Menu.ya);this.qc.icon=[this.O.icon("menu")];this.qc.w=["toggle settings menu"];this.hj=this.v.Pa(this.uB,Menu.Pb,0,-125,150,"Rule");this.hj.w="choose rule";this.Pf=this.v.Pa(this.fx,Menu.Lr,0,-100,120,"Back");this.Pf.w="";this.ti=this.v.Pa(this.bC,Menu.Pb,0,-75,150,"Theme");this.ti.w="choose colour theme";
this.Aj=this.v.Qa(this.Cw,Menu.Pb,0,-25,150,40,["Graph"],[this.Ac],Menu.ya);this.Aj.w=["toggle population graph display"];this.ci=this.v.Pa(this.ws,Menu.Pb,0,25,150,"Info");this.ci.w="info settings";this.pg=this.v.Pa(this.ms,Menu.Pb,0,75,150,"Display");this.pg.w="display settings";this.yk=this.v.Pa(this.mB,Menu.Pb,0,125,150,"Playback");this.yk.w="playback settings";var n=-1;for(b=0;b<=this.a.ie;b+=1){var x=v.Pv[b];var u=v.KG[b];u!==n?(h=120,n=u):h+=60;this.A[b]=this.v.Qa(null,Menu.Yc,140*u-210,h,
120,40,[this.Tr(x)],[!1],Menu.ya);this.A[b].w=["select "+this.Tr(x)+" theme"];this.A[b].font="20px Arial"}this.A[0].Ya=this.aE;this.A[1].Ya=this.hE;this.A[2].Ya=this.bG;this.A[3].Ya=this.GG;this.A[4].Ya=this.SG;this.A[5].Ya=this.fH;this.A[6].Ya=this.lH;this.A[7].Ya=this.mH;this.A[8].Ya=this.nH;this.A[9].Ya=this.oH;this.A[10].Ya=this.iE;this.A[11].Ya=this.rE;this.A[12].Ya=this.zE;this.A[13].Ya=this.HE;this.A[14].Ya=this.OE;this.A[15].Ya=this.VE;this.A[16].Ya=this.oF;this.A[17].Ya=this.rF;this.hp=this.v.yb(Menu.Yc,
-210,60,120,40,"Default");this.np=this.v.yb(Menu.Yc,-70,60,120,40,"Classic");this.pp=this.v.yb(Menu.Yc,70,60,120,40,"Program");this.op=this.v.yb(Menu.Yc,210,60,120,40,"Basic");this.Za=this.v.Gh(this.Ai,Menu.gb,-365,-40,75,40,0,1,0,"","",-1);this.Za.w="steps per second";this.Dc=this.v.Gh(this.rk,Menu.gb,-285,-40,75,40,v.dl,v.Ye,1,"x","",0);this.Dc.w="generations per step";this.Me=this.v.yb(Menu.gb,-285,-60,75,20,0);this.Me.font=v.Pg;this.Me.j=!0;this.dj=this.v.Pa(this.$A,Menu.gb,-455,-40,40,"");this.dj.icon=
this.O.icon("undo");this.dj.w="undo";this.Zd=this.v.Pa(this.sB,Menu.gb,-410,-40,40,"");this.Zd.icon=this.O.icon("redo");this.Zd.w="redo";this.Sl=this.v.Qa(this.Bw,Menu.Jb,-130,0,40,40,["Sync"],[this.Qh],Menu.ya);this.Sl.w=["sync cut and copy with external clipboard"];this.Sl.font="15px Arial";this.eb=this.v.Qa(this.Bd,Menu.gb,-205,-40,160,40,["","","",""],v.Md,Menu.dk);this.eb.icon=[this.O.icon("tostart"),this.O.icon("stepback"),this.O.icon("stepforward"),this.O.icon("play")];this.eb.w=["reset","previous generation",
"next generation","play"];this.Cc=this.v.Qa(this.fs,Menu.Jb,-280,45,280,20,"0123456".split(""),this.Zf,Menu.dk);this.Cc.w="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.Cc.font="14px Arial";this.g=this.v.Qa(this.jB,Menu.Jb,-280,65,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],Menu.ya);this.g.w="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.g.qd=1;this.Ak=this.v.Gh(this.Nq,Menu.zc,180,45,100,40,0,1,0,"","",-1);this.Ak.w="select drawing states range";this.kj=
this.v.Pa(this.cA,Menu.zc,0,45,40,"All");this.kj.icon=this.O.icon("select");this.kj.w="select all cells";this.kj.font="16px Arial";this.Ek=this.v.Qa(this.Aw,Menu.zc,45,45,40,40,["Auto"],[this.Ih],Menu.ya);this.Ek.icon=[this.O.icon("autoshrink")];this.Ek.w=["toggle auto shrink selection"];this.Ek.font="16px Arial";this.bl=this.v.Qa(null,Menu.zc,90,45,40,40,[""],[!1],Menu.ya);this.bl.icon=[this.O.icon("selectlibrary")];this.bl.w=["clipboard library"];this.pn=this.v.Qa(this.LA,Menu.Yc,0,90,400,40,"0123456789".split(""),
this.Vf,Menu.dk);this.Mp();this.jl=this.v.Qa(this.Dw,Menu.Jb,-160,45,160,40,["AND","CPY","OR","XOR"],this.lB,Menu.dk);this.jl.w=["paste mode","paste mode","paste mode","paste mode"];this.jl.font="16px Arial";this.mg=this.v.Pa(this.Fx,Menu.zc,135,45,40,"");this.mg.icon=this.O.icon("cut");this.mg.w="cut";this.kg=this.v.Pa(this.Ow,Menu.zc,180,45,40,"");this.kg.icon=this.O.icon("copy");this.kg.w="copy";this.ji=this.v.Pa(this.jz,Menu.zc,225,45,40,"");this.ji.icon=this.O.icon("paste");this.ji.w="paste";
this.sg=this.v.Pa(this.Rx,Menu.gb,-265,-85,40,"");this.sg.icon=this.O.icon("flipx");this.sg.w="flip horizontally";this.xg=this.v.Pa(this.Sx,Menu.gb,-220,-85,40,"");this.xg.icon=this.O.icon("flipy");this.xg.w="flip vertically";this.ej=this.v.Pa(this.Rz,Menu.gb,-175,-85,40,"");this.ej.icon=this.O.icon("rotatecw");this.ej.w="rotate clockwise";this.cj=this.v.Pa(this.Qz,Menu.gb,-130,-85,40,"");this.cj.icon=this.O.icon("rotateccw");this.cj.w="rotate counter-clockwise";this.lg=this.v.Pa(this.Pu,Menu.gb,
-85,-85,40,"");this.lg.icon=this.O.icon("inside");this.lg.w="clear cells in selection";this.Qf=this.v.Pa(this.ru,Menu.gb,-40,-85,40,"");this.Qf.icon=this.O.icon("outside");this.Qf.w="clear cells outside selection";this.re=this.v.Pa(this.Bu,Menu.gb,-40,-130,40,"R");this.re.icon=this.O.icon("select");this.re.w="clear [R]History cells";this.re.font="16px Arial";this.Lb=this.v.Pa(this.oy,Menu.gb,-85,-130,40,"");this.Lb.icon=this.O.icon("invertselection");this.Lb.w="invert cells in selection";this.fa=
this.v.Pa(this.qB,Menu.gb,-130,-130,40,"");this.fa.icon=this.O.icon("random");this.fa.w="random fill";this.Ke=this.v.Pa(this.pB,Menu.gb,-175,-130,40,"2");this.Ke.icon=this.O.icon("random");this.Ke.w="random 2-state fill";this.ec=this.v.Gh(this.Iq,Menu.gb,-275,-130,100,40,1,100,this.nl,"","%",0);this.ec.w="random fill density";this.ll=this.v.Gh(this.Ew,Menu.Jb,-265,45,100,40,0,v.Wy-1,this.bf,"","",-1);this.ll.w="paste location";this.ll.font="16px Arial";this.bl.rp([this.pn]);this.qc.rp([this.Wc,this.lc,
this.Kc,this.Pf,this.ti,this.hj,this.ci,this.pg,this.yk,this.zl,this.sl,this.mj,this.Ea,this.Of,this.Dj,this.kn,this.Gj,this.He,this.Aj,this.am,this.Vo,this.gm,this.Nm,this.fm,this.Vh,this.Wi,this.ii,this.Je]);this.Ve.rp([this.Ie,this.Vj,this.ha,this.Lh,this.se,this.vj,this.kf,this.Rk,this.uc]);this.Ki.rp([this.aa,this.Bk,this.zk])};m.prototype.ou=function(b){var h=this,n=0,x=0;this.Zb=b;this.Zb.getContext&&(n=this.Zb.width,x=this.Zb.height,n!==this.Wh&&w.bo&&(n=this.Wh),n<v.vd&&(n=v.vd),x<v.lm&&
(x=v.lm),n&=-8,this.Zb.width!==n&&(this.Zb.width=n),this.Zb.height!==x&&(this.Zb.height=x),this.$b=this.Zb.getContext("2d",{alpha:!1}),this.$b.globalAlpha=1,this.$b.fillStyle="black",this.$b.imageSmoothingEnabled=!1,this.$b.fillRect(0,0,this.Zb.width,this.Zb.height),this.$b.textAlign="left",this.$b.textBaseline="middle",this.D=this.Zb.width,this.B=this.Zb.height,this.a=new Life(this.$b,this.D,this.B,512,512),this.a.bE(this.$b,this.D,this.B),this.zb=this.a.o.L(Float32,v.Vy,"View.elapsedTimes"),this.Vi=
new Stars(v.hr,this.a.o),this.Qw(this.$b),this.l=new MenuManager(this.Zb,this.$b,"24px Arial",this.O,this,this.rs),this.l.ck=!1,this.a.tC(),this.Rw(),this.Zm=this.eb.x,this.Kl=this.Za.x,this.an=this.Dc.x,registerEvent(this.Zb,"DOMMouseScroll",function(u){h.Pq(h,u)},!1),registerEvent(this.Zb,"mousewheel",function(u){h.Pq(h,u)},!1),this.l.notification.enabled=!0,this.l.yB(this.v),registerEvent(this.Zb,"keydown",function(u){h.Bs(h,u)},!1))};m.prototype.Tr=function(b){var h=this.a.hb,n="";b|=0;b<h.length&&
(n=h[b].name);return n};m.prototype.IG=function(b){var h=!1,n=this.a.hb,x=0;for(b=b.toLowerCase();x<n.length-1&&!h;)n[x].name.toLowerCase()===b?h=!0:x+=1;h||(x=-1);return x};m.prototype.cB=function(b){var h=this.J.Gn();h.hf||(h.x=this.a.width/2-this.a.ga);h.Fe||(h.y=this.a.height/2-this.a.da);h.pd||(h.zoom=this.a.zoom);h.og||(h.angle=this.a.angle);h.Gg||(h.G=this.a.G);h.yg||(h.depth=this.a.jd);h.Ag||(h.Ob=this.Ue);h.Qg||(h.step=this.ra);h.Ce||(h.Qb=this.a.Qe);this.J.hF(b)};m.prototype.ps=function(b){var h=
b,n=this.$b,x=b.length;n.font=v.qk;var u=n.measureText(b).width;if(420<u){--x;for(u=n.measureText(b.substr(0,x)+"...").width;420<u;)--x,u=n.measureText(b.substr(0,x)+"...").width;h=h.substr(0,x)+"..."}return h};m.prototype.rB=function(b,h){ScriptParser.SE(this,b,h)};m.prototype.tB=function(){this.a.Y=1<<v.YC;this.Lk=this.Ur=-1;this.Az=this.Pi=this.xu=this.fr=this.hc=!1;this.a.mb=0;this.a.bb=0;this.a.ac=1;this.oc=this.wp=this.Mb=this.my=!1;this.Ei=this.Wf=this.sb=null;this.ah=v.ah;this.a.ih=this.a.TD;
this.a.hh=this.a.SD;this.a.gh=this.a.RD;this.a.jh=this.a.UD;this.a.kh=this.a.VD;this.Oe=this.Ed=this.Gq=!1;this.ob=-1;this.Ad=!1;this.Aa=-1;this.If=this.Rd=this.Gl=this.Jc=this.El=this.vc=this.Sd=this.Yb=!1;this.S=this.Wq=2<this.a.f?63<=256-this.a.f?63:256-this.a.f:63;this.sd=!1;this.a.Wg=!1;this.a.jo=0};m.prototype.Hv=function(){this.ui?g(this.element):(this.D=this.Ep,this.B=this.Rv,this.Mb?(this.Ga=!1,this.dh(!0,!1)):this.a.zoom=this.nq,this.Vb&&(this.Vb.current=this.Bi([this.a.zoom,this.a.zoom],
!1,this)),this.$=this.Bp,this.Ga=!1,this.l.Ga=!1,this.v.j=!1,this.l.notification.N("Shrink with hotkey N",100,!0),this.resize())};m.prototype.rs=function(b){b.Ga?b.Hv():b.hc&&(b.Pi||b.qn(b,!1));b.Ip=!1};m.prototype.resize=function(){this.$m&&(z.Yu.gv=this.Ym-this.D,this.Ym=this.D,this.$m=!1);this.Zb.width=this.D;this.Zb.height=this.B;this.$b.textBaseline="middle";this.a.Mz(this.D,this.B)};m.prototype.Iv=function(){this.Ep=this.D;this.Rv=this.B;this.nq=this.a.zoom;this.Bp=this.$;this.D=this.D/this.nd|
0;this.B=this.B/this.nd|0;this.a.zoom=this.a.zoom/this.nd;this.D&=-8;this.v.j=!0;this.l.Ga=!0;this.l.nd=this.nd;this.Ga=!0;this.resize()};m.prototype.uq=function(){var b=this.a.f,h;b>this.Jj&&(b=this.Jj);this.Cc.lower=[];this.Cc.w=[];this.Cc.width=40*b;this.g.lower=[];this.g.w=[];this.g.current=[];this.g.width=40*b;this.g.qd=1;for(h=0;h<b;h+=1){var n=h+this.Og;this.Cc.lower[h]=String(n);n=0===n?"dead":1===n?"alive":"dying "+String(n-1);this.Cc.w[h]=n;this.g.lower[h]="";this.g.w[h]=n;this.g.current[h]=
!1}n=this.Zf;0<n&&(n=this.a.f-n);this.Cc.current=n-this.Og};m.prototype.xB=function(){var b=this.a.f;this.Zf=1;this.Og=0;this.nj.current=[this.sq([!0],!0,this)];this.Jj=7+((this.D-v.vd)/40|0);this.a.Oa?(this.Cc.lower="0123456".split(""),this.Cc.width=280,this.Cc.w="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.Cc.current=this.Zf,this.g.lower="      ".split(" "),this.g.width=280,this.g.w="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.g.qd=1,this.g.current=[!1,!1,
!1,!1,!1,!1,!1]):2>=b?(this.Cc.lower=["0","1"],this.Cc.width=80,this.Cc.w=["dead","alive"],this.Cc.current=this.Zf,this.g.lower=["",""],this.g.width=80,this.g.w=["dead","alive"],this.g.qd=1,this.g.current=[!1,!1]):(this.Zf=b-1,b>this.Jj&&(b=this.Jj),this.uq(),this.Cc.width=40*b,this.g.width=40*b,this.Ak.current=this.Nq([0,0],!0,this));this.Cc.setPosition(Menu.Jb,-this.Cc.width,45);this.g.setPosition(Menu.Jb,-this.g.width,65)};m.prototype.jp=function(){this.zj=!1;this.wq=0;this.yh=!1;this.Xj=this.Wj=
0;this.qo=this.vm=this.Nu=this.je=this.cf="";this.so=this.Ri=this.cb=this.Xa=0;this.vh="(none)";this.a.pb=!1;this.a.Oa=!1;this.a.Xf=!1;this.a.U=!1;this.a.Z=!1;this.a.Zc=PatternManager.Hl;this.a.fe=!1;this.a.ff=-1;this.a.mr=!1;this.a.f=-1;this.a.ja=-1;this.a.sa=!1;this.Ia=this.a.CH=!1};m.prototype.Ch=function(b,h){var n,x=!1;var u=0;this.Oq=-1!==window.navigator.userAgent.indexOf("Edge")?!0:!1;this.zl.current=this.Yv([!0],!0,this);this.Ir=this.Jm=this.Hm=this.Im=this.Ti=!1;this.a.Qe=-1;this.l.Lz();
this.Sh=this.Va=this.Ih=this.Qh=!1;this.xe=[];for(n=0;10>n;n+=1)this.xe[n]=null;this.Vf=0;this.nn=!1;this.xb=null;this.pc=!1;this.Nd=this.Pd=0;this.ng=this.td=!1;this.jl.current=this.Dw(v.kl,!0,this);this.ym=!1;this.ki=[];this.Cm=[];this.tc=[];this.li=[];this.Se=[];this.Qc=[];this.gl=this.Hb=this.kc=0;this.a.Km=!1;this.af=[];this.Od=v.kl;this.um=0;this.no=-1;this.tm=[];this.oo=0;this.Ni=!1;this.Lj=0;this.wk=!1;this.Rj=v.Jh;this.Sj=-v.Jh;this.Qj=v.Jh;this.Tj=-v.Jh;this.l.notification.clear(!0,!0);
this.l.notification.clear(!1,!0);if(b=PatternManager.create("",b,this.a.o)){this.zj=PatternManager.zj;this.wq=PatternManager.Ht;this.yh=PatternManager.yh;this.Wj=PatternManager.tr;this.Xj=PatternManager.ur;this.oi=PatternManager.oi;this.ni=PatternManager.ni;this.Xa=b.width;this.cb=b.height;this.vm=b.name;this.qo=b.Zy;this.vh=b.vh;""===this.vh&&(this.vh="(none)");this.Ri=b.Bf;this.so=b.mo;this.cf=b.ca;this.je=b.Ne;this.Nu=b.Cp;this.a.Rb=b.Rb;this.a.Rf=b.Rf;this.Ia=PatternManager.Ia;this.a.Oa=b.Xb;
this.a.Xf=b.Xb;this.a.f=b.f;if(this.a.sa=b.sa)this.a.Wb.jc=b.Fd,this.a.Wb.Nr=b.me,this.a.Wb.Do=b.f,this.a.Wb.tG(b.zf,b.Oc),PatternManager.$d?(this.a.Wb.tp=b.dn,this.a.Wb.up=b.fn,this.a.Wb.$d=!0):this.a.Wb.$d=!1;this.a.pb=b.pb;this.a.od=!0;this.a.U=b.U;this.a.mr=b.U;this.a.Z=b.Z;this.a.Zc=b.Zc;this.a.fe=b.fe;this.a.ff=b.ff;this.a.ja=b.Sb;this.a.na=b.ce;this.a.pa=b.$f;this.a.ln=b.In;this.a.mn=b.cm;this.a.Vs=b.Lt;this.a.nx=b.Fq;this.ro=new Uint32Array(this.Ri);for(n=0;n<this.Ri;n+=1)this.ro[n]=PatternManager.vl[n]}else this.jp();
this.a.wG();this.Ng=!0;this.Ac=!1;this.Cf=!0;this.Bc=v.Mx;this.mc=b?!1:!0;this.bm=!0;this.xq=!1;this.C=PatternManager.C;this.a.ea=1;this.a.zo=v.Lx;this.jb=this.ib=0;this.Jf=this.pf=-1;this.on=this.Jk=!1;this.Dh=this.Bg=this.v.locked=!1;this.a.FD();this.a.GD();this.a.Oa&&(this.a.xC(),this.a.AC());this.Tg="";this.Bh=!1;ColourManager.de();this.a.Fp(!1);this.a.Uc=v.Dq;this.a.We=v.Cq;this.a.rf=10;this.a.ZC=10;this.a.Ji=!0;this.Dx=this.Ex=-1;this.Ue=60;this.ra=1;this.a.G=1;this.a.jd=.1;this.a.angle=0;this.a.zoom=
6;this.a.IF();this.a.ga=this.a.width/2;this.a.da=this.a.height/2;this.st=this.rt=this.tt=!1;this.Zg=this.rd=0;this.Lg=this.le=this.Ff=this.xd=-1;this.ba[v.qf]=-1;this.ba[v.Yg]=-1;this.ba[v.Tp]=-1;this.ba[v.wg]=-1;this.ba[v.sn]=-1;this.ba[v.tn]=-1;this.ba[v.un]=-1;this.ba[v.bq]=-1;this.ba[v.cq]=-1;this.ba[v.Up]=-1;this.ba[v.Zp]=-1;this.ba[v.Yp]=-1;this.ba[v.Xp]=-1;this.ba[v.$p]=-1;this.ba[v.aq]=-1;this.ba[v.Wp]=-1;this.ba[v.vn]=-1;this.ba[v.Vp]=-1;this.ba[v.mt]=-1;this.ba[v.zn]=-1;this.ba[v.xn]=-1;
this.ba[v.An]=-1;this.ba[v.Cn]=-1;this.ba[v.Bn]=-1;this.ba[v.yn]=-1;this.ba[v.rn]=-1;this.ba[v.wn]=-1;this.kt=v.ty;this.jt=v.vp;this.lt=v.pz;this.Ga&&this.Hv();this.$i=!1;this.l.Ga=!1;this.nd=v.Nx;this.ui=!1;this.Vr=this.l.JH=!1;this.yc=b?!1:!0;this.xa=!1;this.a.Nb=!1;this.a.gd=!1;this.eb.j=!1;this.wd.j=!1;this.Ve.j=!1;this.Za.j=!1;this.Dc.j=!1;this.qc.j=!1;this.Wc.j=!1;this.lc.j=!1;this.ti.j=!1;this.zl.j=!1;this.sl.j=!1;this.v.j=!1;this.Df.j=!1;this.dj.j=!1;this.Zd.j=!1;this.hj.j=!1;this.ci.j=!1;
this.yk.j=!1;this.pg.j=!1;this.Pf.j=!1;this.qc.current=[!1];this.Ve.current=[!1];this.Db=this.$=0;this.bl.current=[!1];this.Ek.current=this.Aw([this.Ih],!0,this);this.Sl.current=this.Bw([this.Qh],!0,this);this.Or=!1;this.wd.current=this.gj(v.mm,!0,this);this.ec.current=this.Iq([50,50],!0,this);this.ll.current=this.Ew([v.po,v.po],!0,this);this.Ki.current=this.Tm([this.$],!0,this);this.uj=[96,96,96];this.a.Pl=this.a.Hg?4284506208:1616929023;this.J.reset();this.vc=!1;this.J.eC();this.he=this.Th=!1;this.ei=
!0;this.vg=!1;this.a.Yf=!1;if(b){if(b.pb)this.Gd=ColourManager.fq,this.Rl="(default)";else if(PatternManager.$l||b.Xb)b.Xb?(this.Gd=ColourManager.wx("LifeHistory"),this.Gd[2]=96):this.Gd=ColourManager.wx(b.ca),this.Gd.length?this.Rl=b.ca:(this.Gd=ColourManager.fq,this.Rl="(default)");this.tB();b.title&&(n=b.Bf,this.a.Oa&&(n=7),this.rB(b.title,n),myRand.de(this.zz),this.tc.length&&(this.Db=1),this.Ga&&h&&(this.Ga=!1),-1<this.xd&&(this.xd&=-8,this.xd!==this.D&&(this.D=this.xd,x=!0)),-1<this.Ff&&this.Ff!==
this.B&&(this.B=this.Ff,x=!0),this.Xe&&(-1<this.le?(this.le&=-8,this.le!==this.D&&(this.D=this.le,x=!0)):this.D=v.vd,-1<this.Lg?this.Lg!==this.B&&(this.B=this.Lg,x=!0):this.B=v.Oi+80));this.Xe&&this.D!==this.Ym&&(this.$m=!0);b.fg&&0===this.af.length&&(this.Ia=!1);this.xB();this.YA();this.bB();this.aB();this.a.nF();this.a.S=this.S;this.ui&&!this.Ac&&(this.mc=!0,this.Ac=!1);this.a.KB(!this.mc);if(b.width>this.a.Y||b.height>this.a.Y)this.C="Pattern too big (maximum "+this.a.Y+"x"+this.a.Y+")",this.fg=
!0,this.Ia=!1,this.jp();-1!==b.Sb&&(b.sa&&(u=6*b.Oc),b.Ld&&(u=6*b.dc),b.ce>=this.a.Y-u||b.$f>=this.a.Y-u)&&(this.C="Bounded grid is too big",this.Ia=!1,this.a.ja=-1);this.a.WG();this.wk&&(this.a.Ax(),this.oB());this.Jw=!1;if(-1!==this.a.ja){h=this.a.na;var t=this.a.pa;0===h&&(h=b.width);0===t&&(t=b.height)}else h=b.width,t=b.height,0<this.af.length&&(h=this.pw(h),t=this.Jv(t));u=v.Ye;this.a.sa&&(u=4*this.a.Wb.Fc+1,-1!==this.a.ja&&(u+=2*this.a.Wb.Fc),this.a.Wb.type===PatternManager.gg&&(u=-1!==this.a.ja?
u+this.a.pa/2:u+(this.a.F.m-this.a.F.h+1)/2),u<v.Ye&&(u=v.Ye));n=this.a.Y/2-u;this.yh&&(this.Wj<-n?this.Wj=-n:this.Wj>=n&&(this.Wj=n-1),this.Xj<-n?this.Xj=-n:this.Xj>=n&&(this.Xj=n-1),this.ib+=this.Wj,this.jb+=this.Xj);this.ib<-n?this.ib=-n:this.ib>=n&&(this.ib=n-1);this.jb<-n?this.jb=-n:this.jb>=n&&(this.jb=n-1);for(;this.a.width<this.a.Y&&(h+u+2*Math.abs(this.ib)>=this.a.width||t+u+2*Math.abs(this.jb)>=this.a.height);)this.a.Ln(),this.rd+=this.a.width>>2,this.Zg+=this.a.height>>2,this.yd+=this.a.width>>
2,this.zh+=this.a.height>>2,this.a.U&&(this.rd-=this.a.height>>3,this.yd-=this.a.height>>3);b.sa&&this.a.Wb.resize(this.a.width,this.a.height);this.yw(b.width,b.height);this.a.Oa&&PatternManager.vl[6]&&this.a.gF(b,this.bc,this.cc);this.Wf?this.l.notification.nf="rgb("+this.Wf[0]+","+this.Wf[1]+","+this.Wf[2]+")":this.l.notification.nf=this.l.notification.wz;if(null===this.sb)for(n=0;n<this.Gd.length;n+=1)this.Kk[n]=PatternManager.vl[n]?v.pA:v.Fv;this.a.Ab?(this.a.uC(this.Gd,this.sb),this.a.Yf=!0):
this.a.Yf=!1;this.Kw(b);this.uc.Ub=""!==this.je?this.je:this.cf;this.uc.w=this.cf;""!==this.je&&(this.uc.w+=" alias "+this.je)}this.sl.current=this.Wv([this.ei],!0,this);this.a.Ax();-1!==this.Ur?this.Mg(this.Ur,1,this):this.vg?this.Mg(this.a.ie,1,this):this.a.Oa?this.Mg(10,1,this):2<this.a.f?this.Mg(11,1,this):this.Mg(1,1,this);this.a.sb=this.sb;this.a.pb?this.a.Cx(this.Gd,this.sb):this.a.Bx();this.a.Hd(1);this.a.dG();this.Mm.current=this.Xv([this.tl],!0,this);this.sm.current=this.es([this.Bc,this.Bc],
!1,this);this.jm.current=[this.Cf];this.Hh.current=[this.Mb];this.Bj.current=[this.a.Nb];this.elapsedTime=this.uh=this.Ta=this.a.u=0;this.wd.Eg=[!1,!1,!1];if(this.xa||this.a.pb)this.wd.Eg[v.Mj]=!0;this.yc?(b&&this.sb&&(this.Gd=this.sb),this.a.Cx(this.Gd,this.sb),this.a.ef.reset(),this.mc=!0,this.Ac=!1):(this.a.Hz(this.Dh),this.a.Br(),2>=this.a.f&&this.a.Iz(this.a.Ua),this.a.Oa&&PatternManager.vl[2]&&this.a.oC(b,this.bc,this.cc),this.Qi(),0<this.af.length&&(this.a.Hz(this.Dh),this.a.Br(),2>=this.a.f&&
this.a.Iz(this.a.Ua)),this.a.KF(this.a.Ua,this.a.la),b&&0===this.a.wa&&!this.Ni?(this.Yl=!0,this.a.pb||(b.fg?this.l.notification.N("Pattern too big!",v.pq,!1):this.l.notification.N("New pattern",300,!1))):this.Yl=!1,-1!==this.a.ja&&this.a.sv(),this.a.$F(this.he),this.a.Cr(this.he));this.R.width=9999<this.a.Y?166:140;this.tb.x=this.R.width;this.tb.Ef=this.R.width;this.Je.locked=!this.a.Oa;this.Je.current=[this.a.Xf];this.Aj.locked=this.mc;this.Aj.current=[this.Ac];this.He.current=[this.a.Wg];this.Of.current=
[this.Th];this.Dj.current=[this.a.od];this.Dj.locked=this.a.Z;0===this.J.pm()?(this.Gj.locked=!0,this.Ng=!1):(this.Gj.locked=!1,this.Ng=!0);this.Gj.current=[this.Ng];this.gm.current=[this.oc];this.Nm.current=[this.Bh];this.fm.current=[this.Bg];this.J.Eb.length?(this.mi.j=!1,this.di.j=!1):(this.mi.j=!0,this.di.j=!0);0===this.a.rf?(this.Vh.current=[!1],this.Vh.locked=!0):(this.Vh.current=[this.a.Ji],this.Vh.locked=!1);this.mc||this.a.Kz();b&&(b.Ze=null);n=this.a.zoom;u=this.a.ga;h=this.a.da;t=this.Ga;
this.Ga=!1;this.dh(!0,!1);this.Ga=t;this.tt?this.a.zoom=n:!this.Mb&&this.a.zoom>v.Ey&&(this.a.zoom=v.Ey);this.rt&&(this.a.ga=u);this.st&&(this.a.da=h);this.vc&&this.cB(this.tc);this.Ga&&this.Vr&&(this.a.zoom=this.Tv);this.Ox=this.a.zoom;this.Vb.current=this.Bi([this.a.zoom,this.a.zoom],!1,this);this.rd=this.a.ga;this.Zg=this.a.da;this.Ul=this.a.angle;this.Kc.current=[this.Ul,this.Ul];this.hq=this.a.Qe;this.Mg(this.hq,this.a.tj,this);this.qt=this.Ue;n=Math.sqrt((this.qt-v.vf)/(v.Kj-v.vf));this.Za.current=
this.Ai([n,n],!0,this);this.gq=this.ra;this.Dc.current=this.rk([this.gq,this.gq],!0,this);this.Wl=this.a.G;this.Wc.current=[this.Wl,this.Wl];this.pt=this.a.jd;n=Math.sqrt(this.pt);this.lc.current=this.fj([n,n],!0,this);this.a.ea=1;this.Ed&&!this.Oe?(this.Da=!0,this.eb.current=v.Yh):(this.Da=!1,this.eb.current=v.Md);this.gA(this.Da);this.B<v.Oi?(this.qc.j=!0,this.eb.x=this.Zm+45,this.eb.Ef=this.eb.x,this.Za.x=this.Kl+45,this.Za.Ef=this.Za.x,this.Dc.x=this.an+45):(this.eb.x=this.Zm,this.eb.Ef=this.eb.x,
this.Za.x=this.Kl,this.Za.Ef=this.Za.x,this.Dc.x=this.an);this.Dc.Ef=this.Dc.x;this.D>v.vd?(n=this.D-v.vd+v.Tw,n>v.XA&&(n=v.XA),this.Vb.width=n):this.Vb.width=v.Tw;if(x||this.Ga)this.Ga?this.Iv():this.resize();b||(PatternManager.fg?this.l.notification.N("Pattern too big!",v.pq,!1):this.l.notification.N("Invalid pattern!",v.pq,!1));this.tc.length?this.$=0:this.Db=0;this.Ia||(this.xa=!0);this.xa?(this.eb.j=!0,this.Ve.j=!0,this.Df.j=!0,this.Za.j=!0,this.Dc.j=!0,this.dj.j=!0,this.Zd.j=!0,this.yc&&(this.Wc.j=
!0,this.lc.j=!0,this.ti.j=!0,this.a.G=1),this.$a.j=!1,""===this.C?(this.$a.Ub=Keywords.fp,this.$a.ue=v.em):(this.$a.Ub=this.C,this.$a.ue=this.ah)):this.$a.j=!0;this.EA();this.tf=!1;this.ao="";this.bA(this);this.tq()?(this.ha.Ub="Density",this.ha.w="cell density"):(this.ha.Ub="Births",this.ha.w="cells born this generation");this.l.Sg=!0;this.l.Ah(!0);this.Xe&&this.Wr&&(""===this.Tg?this.Wr.nodeValue="LifeViewer":this.Wr.nodeValue=this.ps(this.Tg));w.ya?(x=this.vm,""===x&&(x="Universe "+(this.ic+1)),
this.l.notification.N(x,120,!0),this.Wi.j=!1,this.ii.j=!1):(this.Wi.j=!0,this.ii.j=!0);this.rb("")};registerEvent(window,"load",r,!1);window.DocConfig=w;window.Controller=z;window.ViewConstants=v;window.startAllViewers=r;window.updateViewer=g;window.updateMe=e;window.hideViewer=k})();window.Help={uv:0,yF:function(d,m,l,a,k,c,f,e,g,p){var q=e,r=!1,w=d.P;c&&(c.fillStyle===ViewConstants.Mn&&(r=!0),w>=p&&w<=p+d.rc&&(c.font=ViewConstants.Hn,r||(c.fillStyle=1<(d.$|0)?ViewConstants.em:ViewConstants.Aq),c.fillText(m,f,e),r||(c.fillStyle=ViewConstants.em),c.fillText(l,f+c.measureText(m).width,e),r||(c.fillStyle=(d.$|0)<d.qm-d.rc?ViewConstants.em:ViewConstants.Aq),c.fillText(a,f+c.measureText(m+l).width,e),r||(c.fillStyle=ViewConstants.em),c.font=ViewConstants.qk,c.fillText(k,f+d.W[0],
e),q+=g));d.P+=1;return q},Rs:function(d){d/=1048576;return 10>d?String(d.toFixed(1)):String(d.toFixed(0))},Ra:function(d,m,l,a,k,c,f,e,g){var p=d.P;k&&(e-=6,p>=g&&p<=g+d.rc&&(d=k.fillStyle,d!==ViewConstants.Mn&&(k.fillStyle="rgb("+m+","+l+","+a+")"),k.fillRect(c,f-(e>>1)-1,e,e),k.fillStyle=d))},measureText:function(d,m,l,a){var k=a?d.Kq:d.Jq;k[d.P]?m=k[d.P]:(m.font=0===a?ViewConstants.Hn:ViewConstants.qk,m=m.measureText(l).width,k[d.P]=m);return m},b:function(d,m,l,a,k,c,f,e){var g=c,p=String(l).indexOf("\t"),
q=0,r=d.P>=e&&d.P<=e+d.rc;if(m.length){r&&(a.font=ViewConstants.Hn,a.fillText(m,k,c));m=this.measureText(d,a,m,0);m>d.W[q]&&(r&&(c+=f,g+=f),d.P+=1,r=d.P>=e&&d.P<=e+d.rc);r&&(a.font=ViewConstants.qk);for(;-1!==p;)r&&a.fillText(l.substr(0,p),k+d.W[q],c),q+=1,l=l.substr(p+1),p=l.indexOf("\t");p=!1;d.gf&&(m=this.measureText(d,a,l,1),k+d.W[q]+m+this.uv>a.canvas.width&&(m=l.toLowerCase().indexOf("|"),-1===m&&(m=l.toLowerCase().indexOf("s"),-1===m&&(m=l.indexOf("/"),-1!==m&&(m+=1))),-1!==m&&(r&&(a.fillText(l.substr(0,
m),k+d.W[q],c),c+=f,g+=f),d.P+=1,(r=d.P>=e&&d.P<=e+d.rc)&&a.fillText("  "+l.substr(m),k+d.W[q],c),p=!0)));p||r&&a.fillText(l,k+d.W[q],c)}else a.font=ViewConstants.qk,r&&a.fillText(l,k,c);r&&(g+=f);d.P+=1;return g},sc:function(d,m,l){for(var a=ColourManager.Gd,k=Object.keys(a),c="    "+d+"\t"+m+"\t"+l,f=!1,e,g=0;g<k.length&&!f;)e=a[k[g]],e[1]===d&&e[2]===m&&e[3]===l?(c+="\t"+e[0],f=!0,g=k.length):g+=1;return c},ye:function(d){return this.sc(d.red,d.green,d.blue)},PB:function(d){var m=0,l=0;d.a.ea&&
(m=d.a.F.s-d.a.F.i+1,l=d.a.F.m-d.a.F.h+1);-1!==d.a.ja&&(0!==d.a.na&&(m=d.a.na),0!==d.a.pa&&(l=d.a.pa));return m+" x "+l},WB:function(d){var m="AutoFit";d.Bg&&(m+=" History");d.Dh&&(m+=" State 1");return m},$y:function(d,m){m-=d.length;for(var l="";0<m;)l+=" ",--m;return l+d},at:function(d){var m=d.indexOf(","),l=d.lastIndexOf(",");return[d.substring(4,m),d.substring(m+1,l),d.substring(l+1,d.length-1)]},Gz:function(d,m,l,a,k,c){var f=a;switch(d.Cj){case ViewConstants.ij:this.EF(d,m,l,a,k,c);break;
case ViewConstants.qy:this.AF(d,m,l,a,k,c);break;case ViewConstants.qv:this.CF(d,m,l,a,k,c);break;case ViewConstants.Nn:this.zF(d,m,l,a,k,c);break;case ViewConstants.sA:this.DF(d,m,l,a,k,c);break;case ViewConstants.xx:this.vF(d,m,l,a,k,c);break;case ViewConstants.Xw:this.tF(d,m,l,a,k,c);break;case ViewConstants.My:this.BF(d,m,l,a,k,c);break;case ViewConstants.cx:this.uF(d,m,l,a,k,c)}d.qm=d.P-1;d.P=1;d.W[0]=120;a=f+k*(d.rc+2);a=d.Cj!==ViewConstants.ij?this.yF(d,"Up"," / ","Down","scroll help",m,l,
a,k,0):a+k;d.Xe?this.b(d,"H","close help",m,l,a,k,0):this.b(d,"H / Esc","close help",m,l,a,k,0)},EF:function(d,m,l,a,k,c){d.P=1;d.gf=!1;d.V=[];d.W[0]=108;d.V[0]=[d.P,"Top"];this.b(d,"",ViewConstants.JA+" build "+ViewConstants.zw+" by "+ViewConstants.IA,m,l,a,k,c)},uF:function(d,m,l,a,k,c){var f,e=0;d.P=1;d.gf=!1;d.V=[];d.V[e]=[d.P,"Top"];e+=1;d.W[0]=128;d.W[1]=208;d.W[2]=288;d.W[3]=368;a=this.b(d,"","Annotations",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[e]=[d.P,"Labels"];e+=1;a=this.b(d,"","Labels:",
m,l,a,k,c);a=this.b(d,"Number",d.J.ge.length,m,l,a,k,c);for(f=0;f<d.J.ge.length;f+=1){var g="Label "+String(f+1);a=this.b(d,g,d.J.jE(f),m,l,a,k,c);a=this.b(d," ",d.J.kE(f),m,l,a,k,c);a=this.b(d," ",d.J.lE(f),m,l,a,k,c);g=this.at(d.J.mE(f));this.Ra(d,g[0],g[1],g[2],m,l+d.W[0],a,k,c);a=this.b(d,"Colour",this.sc(g[0],g[1],g[2]),m,l,a,k,c)}a=this.b(d,"","",m,l,a,k,c);d.V[e]=[d.P,"Arrows"];e+=1;a=this.b(d,"","Arrows:",m,l,a,k,c);a=this.b(d,"Number",d.J.ae.length,m,l,a,k,c);for(f=0;f<d.J.ae.length;f+=1)g=
"Arrow "+String(f+1),a=this.b(d,g,d.J.QB(f),m,l,a,k,c),a=this.b(d," ",d.J.RB(f),m,l,a,k,c),a=this.b(d," ",d.J.SB(f),m,l,a,k,c),g=this.at(d.J.vp(f)),this.Ra(d,g[0],g[1],g[2],m,l+d.W[0],a,k,c),a=this.b(d,"Colour",this.sc(g[0],g[1],g[2]),m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[e]=[d.P,"Polygons"];a=this.b(d,"","Polygons:",m,l,a,k,c);a=this.b(d,"Number",d.J.ke.length,m,l,a,k,c);for(f=0;f<d.J.ke.length;f+=1)g="Polygon "+String(f+1),a=this.b(d,g,d.J.cF(f),m,l,a,k,c),a=this.b(d," ",d.J.dF(f),m,l,a,k,
c),a=this.b(d," ",d.J.eF(f),m,l,a,k,c),g=this.at(d.J.fF(f)),this.Ra(d,g[0],g[1],g[2],m,l+d.W[0],a,k,c),a=this.b(d,"Colour",this.sc(g[0],g[1],g[2]),m,l,a,k,c)},AF:function(d,m,l,a,k,c){var f,e=0;d.P=1;d.V=[];d.gf=!0;d.W[0]=124;d.V[e]=[d.P,"Top"];e+=1;a=this.b(d,"","Keyboard commands",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[e]=[d.P,"Playback"];e+=1;a=this.b(d,"","Playback controls:",m,l,a,k,c);d.yc?a=this.b(d,"R","reset",m,l,a,k,c):(a=this.b(d,"Enter","toggle play / pause",m,l,a,k,c),a=this.b(d,
"Space","pause / next generation",m,l,a,k,c),a=this.b(d,"B","pause / previous generation",m,l,a,k,c),a=this.b(d,"Backspace","pause / previous generation",m,l,a,k,c),a=this.b(d,"Tab","pause / next step",m,l,a,k,c),a=this.b(d,"Shift Tab","pause / previous step",m,l,a,k,c),a=d.Xe?this.b(d,"Esc","close LifeViewer",m,l,a,k,c):this.b(d,"Esc","pause if playing",m,l,a,k,c),a=this.b(d,"R","reset to generation 0",m,l,a,k,c),a=this.b(d,"-","decrease generation speed",m,l,a,k,c),a=this.b(d,"+","increase generation speed",
m,l,a,k,c),a=this.b(d,"Shift -","minimum generation speed",m,l,a,k,c),a=this.b(d,"Shift +","maximum generation speed",m,l,a,k,c),a=this.b(d,"D","decrease step size",m,l,a,k,c),a=this.b(d,"E","increase step size",m,l,a,k,c),a=this.b(d,"Shift D","minimum step size",m,l,a,k,c),a=this.b(d,"Shift E","maximum step size",m,l,a,k,c),a=this.b(d,"0","reset step and speed",m,l,a,k,c),a=this.b(d,"Alt T","toggle throttling",m,l,a,k,c),d.vc?-1!==d.Aa?(a=this.b(d,"W","toggle waypoint playback and loop",m,l,a,k,
c),a=this.b(d,"Shift P","toggle just loop",m,l,a,k,c)):a=this.b(d,"W","toggle waypoint playback",m,l,a,k,c):-1!==d.Aa&&(a=this.b(d,"W","toggle loop",m,l,a,k,c)),d.Ed&&(a=this.b(d,"Alt O","toggle autostart",m,l,a,k,c)),-1!==d.ob&&(a=this.b(d,"Alt P","toggle stop",m,l,a,k,c)));a=this.b(d,"","",m,l,a,k,c);d.V[e]=[d.P,"Multi"];e+=1;a=this.b(d,"","Multi-Viewer controls:",m,l,a,k,c);DocConfig.ya&&(a=this.b(d,"Page Up","previous universe",m,l,a,k,c),a=this.b(d,"Page Down","next universe",m,l,a,k,c),a=this.b(d,
"Home","first universe",m,l,a,k,c),a=this.b(d,"End","last universe",m,l,a,k,c));a=this.b(d,"Shift R","reset all LifeViewers to generation 0",m,l,a,k,c);a=this.b(d,"Z","stop playback in all other LifeViewers",m,l,a,k,c);a=this.b(d,"Shift Z","stop playback in all LifeViewers",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[e]=[d.P,"Camera"];e+=1;a=this.b(d,"","Camera controls:",m,l,a,k,c);if(d.B>=ViewConstants.Oi||(d.Ga&&d.Rv)>=ViewConstants.Oi)a=this.b(d,"M","toggle settings menu",m,l,a,k,c);a=this.b(d,
"V","restore saved camera position",m,l,a,k,c);a=this.b(d,"Shift V","save current camera position",m,l,a,k,c);var g=d.J.Eb.length;if(0<g&&(a=this.b(d,"J","jump to next point of interest",m,l,a,k,c),a=this.b(d,"Shift J","jump to previous point of interest",m,l,a,k,c),9<g&&(g=9),!d.sd&&!d.Gf))for(f=1;f<=g;f+=1)a=this.b(d,"Alt "+String(f),"jump to POI #"+String(f),m,l,a,k,c);a=this.b(d,"F","fit pattern to display",m,l,a,k,c);a=this.b(d,"Shift F","toggle autofit",m,l,a,k,c);a=this.b(d,"Shift H","toggle autofit history mode",
m,l,a,k,c);d.a.Oa&&(a=this.b(d,"Shift S","toggle autofit state 1 mode",m,l,a,k,c));a=this.b(d,"[","zoom out",m,l,a,k,c);a=this.b(d,"]","zoom in",m,l,a,k,c);a=this.b(d,"Shift [","halve zoom",m,l,a,k,c);a=this.b(d,"Shift ]","double zoom",m,l,a,k,c);a=this.b(d,"1","1x zoom",m,l,a,k,c);a=this.b(d,"2","2x zoom",m,l,a,k,c);a=this.b(d,"4","4x zoom",m,l,a,k,c);a=this.b(d,"8","8x zoom",m,l,a,k,c);a=this.b(d,"6","16x zoom",m,l,a,k,c);a=this.b(d,"3","32x zoom",m,l,a,k,c);a=this.b(d,"Shift 3","64x zoom",m,l,
a,k,c);a=this.b(d,"Shift 1","integer zoom",m,l,a,k,c);a=this.b(d,"Shift 2","-2x zoom",m,l,a,k,c);a=this.b(d,"Shift 4","-4x zoom",m,l,a,k,c);a=this.b(d,"Shift 8","-8x zoom",m,l,a,k,c);a=this.b(d,"Shift 6","-16x zoom",m,l,a,k,c);a=this.b(d,"Left","pan left",m,l,a,k,c);a=this.b(d,"Right","pan right",m,l,a,k,c);a=this.b(d,"Up","pan up",m,l,a,k,c);a=this.b(d,"Down","pan down",m,l,a,k,c);a=this.b(d,"Shift Left","pan north west",m,l,a,k,c);a=this.b(d,"Shift Right","pan south east",m,l,a,k,c);a=this.b(d,
"Shift Up","pan north east",m,l,a,k,c);a=this.b(d,"Shift Down","pan south west",m,l,a,k,c);a=this.b(d,"<","rotate left",m,l,a,k,c);a=this.b(d,">","rotate right",m,l,a,k,c);a=this.b(d,"Shift <","rotate left 90 degrees",m,l,a,k,c);a=this.b(d,"Shift >","rotate right 90 degrees",m,l,a,k,c);a=this.b(d,"5","reset angle",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.yc||(d.V[e]=[d.P,"View"],e+=1,a=this.b(d,"","View controls:",m,l,a,k,c),a=this.b(d,"Q","increase number of layers",m,l,a,k,c),a=this.b(d,"A","decrease number of layers",
m,l,a,k,c),a=this.b(d,"P","increase layer depth",m,l,a,k,c),a=this.b(d,"L","decrease layer depth",m,l,a,k,c),a=this.b(d,"C","next colour theme",m,l,a,k,c),a=this.b(d,"Shift C","previous colour theme",m,l,a,k,c),a=this.b(d,"Alt C","default theme",m,l,a,k,c),a=this.b(d,"","",m,l,a,k,c));d.V[e]=[d.P,"Display"];e+=1;a=this.b(d,"","Display controls:",m,l,a,k,c);d.yc||(a=this.b(d,"G","toggle generation statistics",m,l,a,k,c),a=this.b(d,"Shift G","toggle generation display mode",m,l,a,k,c),d.mc||(a=this.b(d,
"Y","toggle population graph",m,l,a,k,c),a=this.b(d,"Shift Y","toggle graph lines",m,l,a,k,c),a=this.b(d,"7","decrease graph opacity",m,l,a,k,c),a=this.b(d,"9","increase graph opacity",m,l,a,k,c)),a=this.b(d,"Shift W","toggle performance warning",m,l,a,k,c));a=this.b(d,"/","toggle hexagons for hex view",m,l,a,k,c);a=this.b(d,"T","toggle timing information",m,l,a,k,c);a=this.b(d,"Shift T","toggle extended timing information",m,l,a,k,c);a=this.b(d,"I","toggle pattern and engine information",m,l,a,k,
c);a=this.b(d,"Shift I","toggle information bar",m,l,a,k,c);a=this.b(d,"Alt B","toggle cell borders",m,l,a,k,c);a=this.b(d,"X","toggle grid lines",m,l,a,k,c);0<d.a.rf&&(a=this.b(d,"Shift X","toggle major grid lines",m,l,a,k,c));d.a.Oa&&(a=this.b(d,"Alt H","[R]History display on",m,l,a,k,c),a=this.b(d,"Alt J","[R]History display off",m,l,a,k,c));0<d.J.pm()&&(a=this.b(d,"Shift L","toggle annotation display",m,l,a,k,c));a=this.b(d,"Alt G","toggle kill escaping gliders",m,l,a,k,c);d.$i&&(a=this.b(d,"N",
"toggle thumbnail view",m,l,a,k,c));a=this.b(d,"S","toggle stars",m,l,a,k,c);a=this.b(d,"O","open screenshot in separate window",m,l,a,k,c);a=this.b(d,"Shift O","open population graph in separate window",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[e]=[d.P,"Pattern"];e+=1;a=this.b(d,"","Pattern controls:",m,l,a,k,c);a=this.b(d,"Alt N","new pattern",m,l,a,k,c);a=this.b(d,"Alt R","change rule",m,l,a,k,c);a=this.b(d,"Ctrl O","open original or last saved pattern",m,l,a,k,c);a=this.b(d,"Ctrl S","save pattern",
m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[e]=[d.P,"Clipboard"];e+=1;a=this.b(d,"","External clipboard controls:",m,l,a,k,c);a=this.b(d,"Alt S","toggle sync cut and copy with external clipboard",m,l,a,k,c);a=this.b(d,"Ctrl+Shift C","copy original pattern",m,l,a,k,c);a=this.b(d,"Ctrl C","copy current selection",m,l,a,k,c);a=this.b(d,"Ctrl+Alt C","copy current selection with comments",m,l,a,k,c);a=this.b(d,"Ctrl+Shift X","copy original pattern",m,l,a,k,c);a=this.b(d,"Ctrl X","copy current selection",
m,l,a,k,c);a=this.b(d,"Ctrl+Alt X","copy current selection with comments",m,l,a,k,c);a=this.b(d,"K","copy camera position",m,l,a,k,c);a=this.b(d,"Shift K","copy camera position and view",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[e]=[d.P,"Edit"];e+=1;a=this.b(d,"","Edit controls:",m,l,a,k,c);a=this.b(d,"F1","toggle draw/pan mode",m,l,a,k,c);a=this.b(d,"F2","draw mode",m,l,a,k,c);a=this.b(d,"Shift F2","toggle smart drawing",m,l,a,k,c);a=this.b(d,"F3","pick mode",m,l,a,k,c);a=this.b(d,"F4","select mode",
m,l,a,k,c);a=this.b(d,"F5","pan mode",m,l,a,k,c);a=this.b(d,"Ctrl A","select all",m,l,a,k,c);a=this.b(d,"Shift A","shrink selection",m,l,a,k,c);a=this.b(d,"Alt A","toggle auto-shrink selection",m,l,a,k,c);a=this.b(d,"Ctrl C","copy",m,l,a,k,c);a=this.b(d,"Ctrl I","invert selection",m,l,a,k,c);a=this.b(d,"Ctrl K","remove selection",m,l,a,k,c);a=this.b(d,"Ctrl V","paste",m,l,a,k,c);a=this.b(d,"Ctrl+Shift V","paste to selection",m,l,a,k,c);a=this.b(d,"Ctrl X","cut",m,l,a,k,c);a=this.b(d,"Ctrl Y","redo edit",
m,l,a,k,c);a=this.b(d,"Ctrl Z","undo edit",m,l,a,k,c);a=this.b(d,"Ctrl+Shift Z","redo edit",m,l,a,k,c);a=this.b(d,"Ctrl Space","advance selection",m,l,a,k,c);a=this.b(d,"Shift Space","advance outside",m,l,a,k,c);a=this.b(d,"Shift L","cycle paste location",m,l,a,k,c);a=this.b(d,"Shift M","cycle paste mode",m,l,a,k,c);2<d.a.f?(a=this.b(d,"Shift 5","multi-state random fill",m,l,a,k,c),a=this.b(d,"Ctrl+Shift 5","2-state random fill",m,l,a,k,c)):a=this.b(d,"Shift 5","random fill",m,l,a,k,c);a=this.b(d,
"Alt K","pick cell state to replace with drawing state",m,l,a,k,c);a=this.b(d,"Ctrl+Alt K","clear current drawing state cells",m,l,a,k,c);a=this.b(d,"Del","clear cells in selection",m,l,a,k,c);a=this.b(d,"Shift Del","clear outside selection",m,l,a,k,c);d.a.Oa&&(a=this.b(d,"Ctrl Del","clear [R]History cells",m,l,a,k,c),a=this.b(d,"Alt Del","clear [R]History marked cells",m,l,a,k,c));a=this.b(d,">","rotate selection clockwise",m,l,a,k,c);a=this.b(d,"<","rotate selection counter-clockwise",m,l,a,k,c);
a=this.b(d,"Alt X","flip selection horizontally",m,l,a,k,c);a=this.b(d,"Alt Y","flip selection vertically",m,l,a,k,c);a=this.b(d,"Esc","hide paste",m,l,a,k,c);a=this.b(d,"Enter","perform paste",m,l,a,k,c);d.a.Oa?g=7:(g=-1===d.a.f?2:d.a.f,10<g&&(g=10));for(f=0;f<g;f+=1)a=this.b(d,"Ctrl "+f,"select state "+f+" for drawing",m,l,a,k,c);for(f=0;10>f;f+=1)a=this.b(d,"Alt "+f,"make clipboard "+f+" active",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[e]=[d.P,"Help"];a=this.b(d,"","Help controls:",m,l,a,k,c);
a=this.b(d,"Up","scroll up one line",m,l,a,k,c);a=this.b(d,"Down","scroll down one line",m,l,a,k,c);a=this.b(d,"Page Up","scroll up one page",m,l,a,k,c);a=this.b(d,"Page Down","scroll down one page",m,l,a,k,c);a=this.b(d,"Shift Page Up","scroll up one section",m,l,a,k,c);a=this.b(d,"Shift Page Down","scroll down one section",m,l,a,k,c);a=this.b(d,"Home","go to first help page",m,l,a,k,c);this.b(d,"End","go to last help page",m,l,a,k,c)},CF:function(d,m,l,a,k,c){var f=0;d.P=1;d.gf=!1;d.V=[];d.W[0]=
252;d.V[f]=[d.P,"Top"];f+=1;a=this.b(d,"","Scripts",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);a=this.b(d,"","Scripts must be embedded in pattern comments",m,l,a,k,c);a=this.b(d,"","Commands must be surrounded by whitespace",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[f]=[d.P,"Params"];f+=1;a=this.b(d,"","Parameter conventions:",m,l,a,k,c);a=this.b(d,"A|B","either A or B",m,l,a,k,c);a=this.b(d,"(A)","A is optional",m,l,a,k,c);a=this.b(d,"A*","zero or more A",m,l,a,k,c);a=this.b(d,"A+","one or more A",
m,l,a,k,c);a=this.b(d,"<1..3>","integer range",m,l,a,k,c);a=this.b(d,"<1.0..3.0>","decimal range",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[f]=[d.P,"General"];f+=1;a=this.b(d,"","General:",m,l,a,k,c);a=this.b(d,Keywords.Zj,"start script section",m,l,a,k,c);a=this.b(d,Keywords.Gm,"end script section",m,l,a,k,c);a=this.b(d,Keywords.Gv,"suppress overwrite warning",m,l,a,k,c);a=this.b(d,Keywords.cv+" <string>","set random seed",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[f]=[d.P,"Playback"];f+=1;a=this.b(d,
"","Playback:",m,l,a,k,c);a=this.b(d,Keywords.zp+" ("+Keywords.ab+")","start play automatically",m,l,a,k,c);a=this.b(d,Keywords.sh+" <1..>|"+Keywords.ab,"loop at generation",m,l,a,k,c);a=this.b(d,Keywords.Eh+" <1..>|"+Keywords.ab,"stop at generation",m,l,a,k,c);a=this.b(d,Keywords.Uk+" <"+ViewConstants.vf+".."+ViewConstants.Kj+">","set steps per second",m,l,a,k,c);a=this.b(d,Keywords.wl+" <"+ViewConstants.dl+".."+ViewConstants.Ye+">","set generations per step",m,l,a,k,c);a=this.b(d,Keywords.Mt,"always use hard reset",
m,l,a,k,c);a=this.b(d,Keywords.fp,"disable playback",m,l,a,k,c);a=this.b(d,Keywords.uu,"disable step back",m,l,a,k,c);a=this.b(d,Keywords.wu,"disable stop messages",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[f]=[d.P,"Camera"];f+=1;a=this.b(d,"","Camera:",m,l,a,k,c);a=this.b(d,Keywords.qj+" <0..359>","set camera angle",m,l,a,k,c);a=this.b(d,Keywords.Td+" <-"+(d.a.Y>>1)+".."+(d.a.Y>>1)+">","set camera x position",m,l,a,k,c);a=this.b(d,Keywords.Ud+" <-"+(d.a.Y>>1)+".."+(d.a.Y>>1)+">","set camera y position",
m,l,a,k,c);a=this.b(d,Keywords.Rc+" <"+Number(-1/ViewConstants.wb).toFixed(1)+".."+ViewConstants.gc.toFixed(1)+">","set camera zoom",m,l,a,k,c);a=this.b(d,Keywords.Ks,"same as "+Keywords.Rc,m,l,a,k,c);a=this.b(d,Keywords.xp+" ("+Keywords.ab+")","fit pattern to display",m,l,a,k,c);a=this.b(d,Keywords.St+" ("+Keywords.ab+")","autofit uses pattern history",m,l,a,k,c);a=this.b(d,Keywords.Ev+" ("+Keywords.ab+")","autofit only uses state 1",m,l,a,k,c);a=this.b(d,Keywords.$o+" X Y","camera tracking",m,l,
a,k,c);a=this.b(d," X ","horizontal speed cells/gen",m,l,a,k,c);a=this.b(d," Y ","vertical speed cells/gen",m,l,a,k,c);a=this.b(d,Keywords.Fl+" E S W N","camera box tracking",m,l,a,k,c);a=this.b(d," E ","east edge speed cells/gen",m,l,a,k,c);a=this.b(d," S ","south edge speed cells/gen",m,l,a,k,c);a=this.b(d," W ","west edge speed cells/gen",m,l,a,k,c);a=this.b(d," N ","north edge speed cells/gen",m,l,a,k,c);a=this.b(d,Keywords.Zo+" P X Y","camera tracking with loop",m,l,a,k,c);a=this.b(d," P ","period",
m,l,a,k,c);a=this.b(d," X ","horizontal speed cells/gen",m,l,a,k,c);a=this.b(d," Y ","vertical speed cells/gen",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[f]=[d.P,"Waypoints"];f+=1;a=this.b(d,"","Waypoints:",m,l,a,k,c);a=this.b(d,Keywords.Oo+" <0..>","waypoint at generation",m,l,a,k,c);a=this.b(d,Keywords.Ou+" <0.0..>","pause for time",m,l,a,k,c);a=this.b(d,Keywords.ag+" "+Keywords.Tf+"|"+Keywords.Td+"|"+Keywords.Ud+"|"+Keywords.Rc,"linear motion",m,l,a,k,c);a=this.b(d,Keywords.Vg+" "+Keywords.Tf+
"|"+Keywords.Td+"|"+Keywords.Ud+"|"+Keywords.Rc,"bezier motion (default)",m,l,a,k,c);a=this.b(d,Keywords.tA,"save timing at waypoint start",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[f]=[d.P,"POIs"];f+=1;a=this.b(d,"","Points of interest:",m,l,a,k,c);a=this.b(d,Keywords.rr,"define point of interest",m,l,a,k,c);a=this.b(d,Keywords.qr+" <0..>","start POI at generation",m,l,a,k,c);a=this.b(d,Keywords.uo,"reset generation at POI",m,l,a,k,c);a=this.b(d,Keywords.Am,"start playback at POI",m,l,a,k,c);a=
this.b(d,Keywords.Bm,"stop playback at POI",m,l,a,k,c);a=this.b(d,Keywords.vo+" <"+WaypointConstants.oz+".."+WaypointConstants.nz+">","set POI transition speed",m,l,a,k,c);a=this.b(d,"<command>|ALL "+Keywords.vb,"use initial value for POI",m,l,a,k,c);a=this.b(d,Keywords.Ec+"<string>"+Keywords.Ec,"define message",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[f]=[d.P,"Annotations"];f+=1;a=this.b(d,"","Annotations:",m,l,a,k,c);a=this.b(d,Keywords.Wn+" X Y ZOOM ("+Keywords.Kd+")","define label at position",
m,l,a,k,c);a=this.b(d," "+Keywords.Ec+"<string>"+Keywords.Ec,"... optionally fix position",m,l,a,k,c);a=this.b(d,Keywords.cu+" <"+ViewConstants.Py+".."+ViewConstants.Iy+">","define label font size",m,l,a,k,c);a=this.b(d,Keywords.au+" <0.0..1.0>","define label font alpha",m,l,a,k,c);a=this.b(d,Keywords.du+" <0..> <0..> <0..>","generation range / fade",m,l,a,k,c);a=this.b(d,Keywords.bu+" <0..359>","label angle",m,l,a,k,c);a=this.b(d," ("+Keywords.Kd+")","... optionally fix angle",m,l,a,k,c);a=this.b(d,
Keywords.eu+" X Y D|"+Keywords.ab,"label target and distance",m,l,a,k,c);a=this.b(d,Keywords.fu+" DX DY|"+Keywords.Kd,"label move per generation",m,l,a,k,c);a=this.b(d,Keywords.gn+" X1 Y1 X2 Y2 ZOOM","define arrow at position",m,l,a,k,c);a=this.b(d," ("+Keywords.Kd+")","... optionally fix position",m,l,a,k,c);a=this.b(d,Keywords.Ns+" <"+ViewConstants.dr+".."+ViewConstants.Yq+"> <0.0..1.0>","line width and head multiple",m,l,a,k,c);a=this.b(d,Keywords.Ls+" <0.0..1.0>","define arrow alpha",m,l,a,k,
c);a=this.b(d,Keywords.Os+" <0..> <0..> <0..>","generation range / fade",m,l,a,k,c);a=this.b(d,Keywords.Ms+" <0..359>","arrow angle",m,l,a,k,c);a=this.b(d," ("+Keywords.Kd+")","... optionally fix angle",m,l,a,k,c);a=this.b(d,Keywords.Ps+" X Y D|"+Keywords.ab,"arrow target and distance",m,l,a,k,c);a=this.b(d,Keywords.Qs+" DX DY|"+Keywords.Kd,"arrow move per generation",m,l,a,k,c);a=this.b(d,Keywords.Uu+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",m,l,a,k,c);a=this.b(d," ("+Keywords.Kd+")","... optionally fix position",
m,l,a,k,c);a=this.b(d,Keywords.sr+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",m,l,a,k,c);a=this.b(d," ("+Keywords.Kd+")","... optionally fix position",m,l,a,k,c);a=this.b(d,Keywords.Vu+" <"+ViewConstants.dr+".."+ViewConstants.Yq+">","line width",m,l,a,k,c);a=this.b(d,Keywords.Su+" <0.0..1.0>","define polygon alpha",m,l,a,k,c);a=this.b(d,Keywords.Wu+" <0..> <0..> <0..>","generation range / fade",m,l,a,k,c);a=this.b(d,Keywords.Tu+" <0..359>","polygon angle",m,l,a,k,c);a=this.b(d," ("+Keywords.Kd+
")","... optionally fix angle",m,l,a,k,c);a=this.b(d,Keywords.Xu+" X Y D|"+Keywords.ab,"polygon target and distance",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[f]=[d.P,"Display"];f+=1;a=this.b(d,"","Display:",m,l,a,k,c);a=this.b(d,Keywords.Xm+" <"+ViewConstants.vd+".."+d.Wh+">","set LifeViewer width",m,l,a,k,c);a=this.b(d,Keywords.dm+" <"+ViewConstants.lm+".."+ViewConstants.ar+">","set LifeViewer height",m,l,a,k,c);a=this.b(d,Keywords.xo+" <"+ViewConstants.vd+".."+d.Wh+">","set popup width",m,l,a,
k,c);a=this.b(d,Keywords.wo+" <"+ViewConstants.lm+".."+ViewConstants.ar+">","set popup height",m,l,a,k,c);a=this.b(d,Keywords.Sm+" "+Keywords.Ec+"<string>"+Keywords.Ec,"set popup window title",m,l,a,k,c);a=this.b(d," "+Keywords.Ee+"B","program build number",m,l,a,k,c);a=this.b(d," "+Keywords.Ee+"N","pattern name",m,l,a,k,c);a=this.b(d," "+Keywords.Ee+"O","pattern originator",m,l,a,k,c);a=this.b(d," "+Keywords.Ee+"R","rule name",m,l,a,k,c);a=this.b(d," "+Keywords.Ee+"A","rule alias",m,l,a,k,c);a=this.b(d,
" "+Keywords.Ee+"T","program title",m,l,a,k,c);a=this.b(d," "+Keywords.Ee+"0..9","saved timing as average fps",m,l,a,k,c);a=this.b(d," "+Keywords.Ee+Keywords.Ee,Keywords.Ee+" symbol",m,l,a,k,c);a=this.b(d,Keywords.al+" <"+ViewConstants.cr+".."+ViewConstants.Xq+">","set number of layers",m,l,a,k,c);a=this.b(d,Keywords.Nk+" <"+ViewConstants.br.toFixed(1)+".."+ViewConstants.Gy.toFixed(1)+">","set layer depth",m,l,a,k,c);a=this.b(d,Keywords.Kn+" ("+Keywords.ab+")","display grid lines",m,l,a,k,c);a=this.b(d,
Keywords.Jn+" <0..16>","set major grid line interval",m,l,a,k,c);a=this.b(d,Keywords.Mq+" <0.."+(2<d.a.f?1:63)+">","number of history states",m,l,a,k,c);a=this.b(d,Keywords.No+" ("+Keywords.ab+")","display stars",m,l,a,k,c);a=this.b(d,Keywords.Nt,"hexagonal cells for hex",m,l,a,k,c);a=this.b(d,Keywords.zv,"square cells for hex",m,l,a,k,c);a=this.b(d,Keywords.tu,"disable menus and hotkeys",m,l,a,k,c);a=this.b(d,Keywords.Rt,"hide menus during playback",m,l,a,k,c);a=this.b(d,Keywords.xv,"show timing information",
m,l,a,k,c);a=this.b(d,Keywords.Ft,"extended timing information",m,l,a,k,c);a=this.b(d,Keywords.vv,"show generation statistics",m,l,a,k,c);a=this.b(d,Keywords.wv,"show information bar",m,l,a,k,c);a=this.b(d,Keywords.vu,"hide performance warning",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[f]=[d.P,"Thumb"];f+=1;a=this.b(d,"","Thumbnails:",m,l,a,k,c);a=this.b(d,Keywords.Vv+" ("+Keywords.ab+")","start at 1/"+d.nd+" size",m,l,a,k,c);a=this.b(d,Keywords.Sv+" <"+ViewConstants.Sy+".."+ViewConstants.Ly+">",
"set thumbnail divisor",m,l,a,k,c);a=this.b(d,Keywords.Qv+" ("+Keywords.ab+")","thumbnail launches viewer",m,l,a,k,c);a=this.b(d,Keywords.Uv+" <"+Number(-1/ViewConstants.wb).toFixed(1)+".."+ViewConstants.gc.toFixed(1)+">","set thumbnail zoom",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[f]=[d.P,"Graph"];f+=1;a=this.b(d,"","Population Graph:",m,l,a,k,c);a=this.b(d,Keywords.zq,"display population graph",m,l,a,k,c);a=this.b(d,Keywords.Jt+" <0.0..1.0>","population graph opacity",m,l,a,k,c);a=this.b(d,Keywords.Kt,
"population graph use points",m,l,a,k,c);a=this.b(d,Keywords.gr,"disable population graph",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[f]=[d.P,"Colours"];f+=1;a=this.b(d,"","Colours:",m,l,a,k,c);a=this.b(d,Keywords.Zi+" <0.."+(d.a.ie-1)+">|<name>","set theme",m,l,a,k,c);a=this.b(d," <name> = "+Keywords.Rm,"set custom theme",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.Qr+" R G B","set theme background",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.Pr+" R G B","set theme alive color",m,l,a,k,c);
a=this.b(d,Keywords.va+" "+Keywords.Mv+" R G B","set theme alive ramp",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.Sr+" R G B","set theme dead color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.Rr+" R G B","set theme dead ramp",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.Ov+" R G B","set theme dying color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.Nv+" R G B","set theme dying ramp",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.kx+" R G B","set boundary color",m,l,a,k,c);a=this.b(d,
Keywords.va+" <0.."+String(d.Ri-1)+"> R G B","set state color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.Xy+" R G B","set [R]History state color "+ViewConstants.PE,m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.Yy+" R G B","set [R]History state color "+ViewConstants.QE,m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.jy+" R G B","set [R]History state color "+ViewConstants.$D,m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.yy+" R G B","set [R]History state color "+ViewConstants.zy,m,l,a,k,c);a=this.b(d,
Keywords.va+" "+Keywords.Cy+" R G B","set [R]History state color "+ViewConstants.Dy,m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.Ay+" R G B","set [R]History state color "+ViewConstants.By,m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.ry+" R G B","set [R]History state color "+ViewConstants.sy,m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.Kn+" R G B","set grid color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.Jn+" R G B","set grid major color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.No+
" R G B","set star color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.Kv+" R G B","set waypoint message color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.Et+" R G B","set error message color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.$x+" R G B","set graph background color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.Zx+" R G B","set graph axis color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.Yx+" R G B","set graph alive color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.ay+
" R G B","set graph birth color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.by+" R G B","set graph death color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.Wn+" R G B","set label text color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.gn+" R G B","set arrow line color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.sz+" R G B","set polygon color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.AA+" R G B","set UI foreground color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.yA+" R G B",
"set UI background color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.BA+" R G B","set UI highlight text color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.DA+" R G B","set UI selected color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.CA+" R G B","set UI locked color",m,l,a,k,c);a=this.b(d,Keywords.va+" "+Keywords.zA+" R G B","set UI border color",m,l,a,k,c);a=this.b(d,Keywords.bt,"same as "+Keywords.va,m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[f]=[d.P,"Pattern"];a=this.b(d,"","Pattern:",
m,l,a,k,c);a=this.b(d,Keywords.js+" <-"+(d.a.Y>>1)+".."+(d.a.Y>>1)+">","set pattern x offset",m,l,a,k,c);a=this.b(d,Keywords.ks+" <-"+(d.a.Y>>1)+".."+(d.a.Y>>1)+">","set pattern y offset",m,l,a,k,c);a=this.b(d,Keywords.ut+" <"+ViewConstants.Ny+".."+ViewConstants.Fy+">","set boundary delete range",m,l,a,k,c);a=this.b(d,Keywords.su,"disable pattern source copy",m,l,a,k,c);a=this.b(d,Keywords.yu,"hide pattern source",m,l,a,k,c);a=this.b(d,Keywords.mu+" <"+ViewConstants.Oy+".."+ViewConstants.Hy+">","set maximum grid size 2^n",
m,l,a,k,c);a=this.b(d,Keywords.Dm+" name X Y (<1..>)+","create a named recipe",m,l,a,k,c);a=this.b(d,Keywords.pl+" name rle","create a named rle",m,l,a,k,c);a=this.b(d," (X Y) (TRANS)","... X Y and transformation",m,l,a,k,c);a=this.b(d," "+Keywords.jw,"identity",m,l,a,k,c);a=this.b(d," "+Keywords.gw,"flip",m,l,a,k,c);a=this.b(d," "+Keywords.hw,"flip X",m,l,a,k,c);a=this.b(d," "+Keywords.iw,"flip Y",m,l,a,k,c);a=this.b(d," "+Keywords.mw,"swap X and Y",m,l,a,k,c);a=this.b(d," "+Keywords.nw,"swap X and Y and flip",
m,l,a,k,c);a=this.b(d," "+Keywords.lw,"rotate clockwise",m,l,a,k,c);a=this.b(d," "+Keywords.kw,"rotate counter-clockwise",m,l,a,k,c);a=this.b(d,Keywords.lr+" name|rle (X Y)","paste rle at optional X Y",m,l,a,k,c);a=this.b(d," (TRANS)","... optional transformation",m,l,a,k,c);a=this.b(d,Keywords.kr+" <0..>","set paste generation",m,l,a,k,c);a=this.b(d,"(recipe|<1..>+)*","... optional delta list",m,l,a,k,c);a=this.b(d,Keywords.kr+" "+Keywords.qq+" <1..>","set paste interval",m,l,a,k,c);a=this.b(d," (<0..> (<1..>))",
"... optional start and end",m,l,a,k,c);a=this.b(d,Keywords.Iu+" "+Keywords.Hu+"|"+Keywords.Fu+"|"+Keywords.Ku+"|"+Keywords.Eu+"|"+Keywords.Gu,"set the paste mode",m,l,a,k,c);this.b(d,Keywords.$t,"suppress escaping gliders",m,l,a,k,c)},zF:function(d,m,l,a,k,c){var f,e=Controller.Pc.length,g=d.Gd,p=d.a.hb[d.a.Qe];var q=0;d.P=1;d.gf=!1;d.V=[];d.W[0]=128;d.V[q]=[d.P,"Top"];q+=1;a=this.b(d,"","Information",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[q]=[d.P,"Display"];q+=1;a=this.b(d,"","Display:",m,l,
a,k,c);a=this.b(d,"Size",d.D+" x "+d.B,m,l,a,k,c);DocConfig.bo&&(a=this.b(d,"Limit Width",d.Wh,m,l,a,k,c));var r=d.a.ta;1>r&&(r=-1/r);a=this.b(d,"View","X "+-(d.a.width/2-(d.a.ga+d.a.mb)|0)+"  Y "+-(d.a.height/2-(d.a.da+d.a.bb)|0)+"  Z "+r.toFixed(2)+"  ANGLE "+d.a.angle.toFixed(0),m,l,a,k,c);r=d.Fm;1>r&&(r=1/r);a=this.b(d,"Saved View","X "+-(d.a.width/2-d.yd|0)+"  Y "+-(d.a.height/2-d.zh|0)+"  Z "+r.toFixed(2)+"  ANGLE "+d.nv.toFixed(0),m,l,a,k,c);a=this.b(d,"Origin","X "+d.a.mb.toFixed(2)+"  Y "+
d.a.bb.toFixed(2)+"  Z "+d.a.ac.toFixed(3),m,l,a,k,c);var w=d.xa?d.yc?"Multi-State Viewer":"Viewer":d.a.Oa?"History Player":"Player";a=this.b(d,"Type",w,m,l,a,k,c);w=d.a.U?"Hexagonal":d.a.Z?"Triangular":"Square";a=this.b(d,"Mode",w,m,l,a,k,c);w=d.a.U&&d.a.od?"Hexagonal":d.a.Z?"Triangular":"Square";a=this.b(d,"Cells",w,m,l,a,k,c);d.$i&&(a=this.b(d,"Thumbnail","1/"+d.nd,m,l,a,k,c));a=this.b(d,"","",m,l,a,k,c);d.V[q]=[d.P,"Pattern"];q+=1;a=this.b(d,"","Pattern:",m,l,a,k,c);""!==d.vm&&(a=this.b(d,"Name",
d.vm,m,l,a,k,c));""!==d.qo&&(a=this.b(d,"Originator",d.qo,m,l,a,k,c));a=this.b(d,"Actual Size",d.Xa+" x "+d.cb,m,l,a,k,c);-1!==d.oi&&-1!==d.ni&&(a=this.b(d,"Specified",d.oi+" x "+d.ni,m,l,a,k,c));0<d.af.length&&(a=this.b(d,"Pastes",d.af.length,m,l,a,k,c),a=this.b(d,"Paste Size",d.Sj-d.Rj+1+" x "+(d.Tj-d.Qj+1)+" from ("+d.Rj+", "+d.Qj+") to ("+d.Sj+", "+d.Tj+")",m,l,a,k,c),a=this.b(d,"Paste Max T",d.Lj+(d.Ni?" + "+Keywords.qq:""),m,l,a,k,c));0<d.li.length&&(a=this.b(d,"RLEs",d.li.length,m,l,a,k,c));
0<d.ki.length&&(a=this.b(d,"Recipes",d.ki.length,m,l,a,k,c));a=this.b(d,"Offset","X "+d.ib+"  Y "+d.jb,m,l,a,k,c);d.zj&&(a=this.b(d,"CXRLE Gen",d.wq,m,l,a,k,c));d.yh&&(a=this.b(d,"CXRLE Pos","X "+d.Wj+"  Y "+d.Xj,m,l,a,k,c));d.Jw&&(a=this.b(d,"Clipped",(0===d.a.na?"Inf":d.a.na)+" x "+(0===d.a.pa?"Inf":d.a.pa)+" "+PatternManager.lx(d.a.ja),m,l,a,k,c));d.Ia?w=d.cf:(w=d.cf,""===w&&(w="(none)"));if("MAP"===w.substr(0,3)&&w.length===PatternManager.km+3)for(a=this.b(d,"Rule","MAP",m,l,a,k,c),r=3;r<PatternManager.km+
3;)a=this.b(d,"  "+(r-3),w.substr(r,16),m,l,a,k,c),r+=16;else d.gf=!0,a=this.b(d,"Rule",w,m,l,a,k,c),d.gf=!1;""!==d.je&&(a=this.b(d,"Alias",d.je,m,l,a,k,c));-1!==d.a.ff?w="1D":d.a.mr?w="Hex":d.a.sa?(w=d.a.Wb.type===PatternManager.yf?"Moore":d.a.Wb.type===PatternManager.gg?"von Neumann":"Circular",1<d.a.Wb.Fc&&(w+=" range "+d.a.Wb.Fc)):d.a.Z?(w="Triangular",d.a.Zc===PatternManager.Um?w+=" Edges":d.a.Zc===PatternManager.Vm&&(w+=" Vertices")):w=d.a.fe?"von Neumann":"Moore";a=this.b(d,"N'hood",w,m,l,
a,k,c);w=d.Ri;2<d.Ri&&d.so!==d.Ri&&(w=d.so+" of "+w);a=this.b(d,"States",w,m,l,a,k,c);if(d.ro)for(f=1;f<d.Ri;f+=1)d.ro[f]&&(a=this.b(d,"State "+f,d.ro[f],m,l,a,k,c));a=this.b(d,"Decoder",d.vh,m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[q]=[d.P,"Grid"];q+=1;a=this.b(d,"","Grid:",m,l,a,k,c);a=this.b(d,"Size",d.a.width+" x "+d.a.height,m,l,a,k,c);a=this.b(d,"Maximum",d.a.Y+" x "+d.a.Y,m,l,a,k,c);a=this.b(d,"Area",this.PB(d),m,l,a,k,c);a=0!==(d.a.u&1)?this.b(d,"Tiles",d.a.Al(d.a.Fa)+" / "+d.a.Al(d.a.Ma)+
" / "+d.a.Al(d.a.za),m,l,a,k,c):this.b(d,"Tiles",d.a.Al(d.a.ia)+" / "+d.a.Al(d.a.Ma)+" / "+d.a.Al(d.a.za),m,l,a,k,c);d.a.Be&&(a=this.b(d,"State6",d.a.Al(d.a.Be),m,l,a,k,c));a=this.b(d,"Tile Size",(d.a.To<<3)+" x "+d.a.Uo,m,l,a,k,c);a=this.b(d,"Generation",d.a.u,m,l,a,k,c);a=this.b(d,"DeleteRange",d.a.zo,m,l,a,k,c);d.a.Wg&&(a=this.b(d,"KillGliders",d.a.jo,m,l,a,k,c));a=this.b(d,"","",m,l,a,k,c);-1!==d.a.ja&&(d.V[q]=[d.P,"Bounded"],q+=1,a=this.b(d,"","Bounded grid:",m,l,a,k,c),a=this.b(d,"Type",PatternManager.lx(d.a.ja),
m,l,a,k,c),a=0===d.a.na?this.b(d,"Width","Infinite",m,l,a,k,c):this.b(d,"Width",d.a.na,m,l,a,k,c),4!==d.a.ja&&(a=0===d.a.pa?this.b(d,"Height","Infinite",m,l,a,k,c):this.b(d,"Height",d.a.pa,m,l,a,k,c),2===d.a.ja&&(a=d.a.Vs?this.b(d,"Twist","Horizontal",m,l,a,k,c):this.b(d,"Twist","Vertical",m,l,a,k,c)),0!==d.a.ln&&(a=this.b(d,"H'Shift",d.a.ln,m,l,a,k,c)),0!==d.a.mn&&(a=this.b(d,"V'Shift",d.a.mn,m,l,a,k,c))),a=this.b(d,"","",m,l,a,k,c));d.V[q]=[d.P,"AutoFit"];q+=1;a=this.b(d,"","AutoFit:",m,l,a,k,c);
a=this.b(d,"Enabled",d.Mb?"On":"Off",m,l,a,k,c);a=this.b(d,"Mode",this.WB(d),m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[q]=[d.P,"Track"];q+=1;a=this.b(d,"","Track:",m,l,a,k,c);a=this.b(d,"Enabled",d.Jc&&!d.Rd?"On":"Off",m,l,a,k,c);d.Jc&&(d.El?(a=this.b(d,"Mode","Track Box",m,l,a,k,c),a=this.b(d,"Definition","E "+d.xi.toFixed(3)+"  S "+d.yi.toFixed(3)+"  W "+d.bj.toFixed(3)+"  N "+d.aj.toFixed(3),m,l,a,k,c)):(a=this.b(d,"Mode","Track",m,l,a,k,c),a=this.b(d,"Definition","X "+d.xi.toFixed(3)+"  Y "+
d.yi.toFixed(3),m,l,a,k,c)));a=this.b(d,"Current","E "+d.Op.toFixed(3)+"  S "+d.Qp.toFixed(3)+"  W "+d.Rp.toFixed(3)+"  N "+d.Pp.toFixed(3),m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[q]=[d.P,"Undo/Redo"];q+=1;a=this.b(d,"","Undo/Redo:",m,l,a,k,c);a=this.b(d,"Enabled",d.he?"Off":"On",m,l,a,k,c);if(!d.he)for(a=this.b(d,"Snapshots",d.a.ef.dH()+"/"+d.a.ef.rg.length,m,l,a,k,c),a=this.b(d,"Buffer",(d.a.ef.bufferSize()>>10)+"K",m,l,a,k,c),a=this.b(d,"Next Gen",d.a.el,m,l,a,k,c),a=this.b(d,"Undo",d.Hb,m,
l,a,k,c),a=this.b(d,"Redo",d.gl-d.Hb,m,l,a,k,c),f=0;9>=f;f+=1)null!==d.xe[f]&&(a=this.b(d,"Clip "+f+(f===d.Vf?"*":""),d.xe[f].width+" x "+d.xe[f].height,m,l,a,k,c));a=this.b(d,"","",m,l,a,k,c);d.V[q]=[d.P,"Engine"];q+=1;a=this.b(d,"","Engine:",m,l,a,k,c);a=this.b(d,"Name",ViewConstants.JA,m,l,a,k,c);a=this.b(d,"Build",ViewConstants.zw,m,l,a,k,c);a=this.b(d,"Author",ViewConstants.IA,m,l,a,k,c);a=this.b(d,"Decoders","RLE, Life 1.06, Life 1.05, Cells",m,l,a,k,c);a=this.b(d,"N'hoods","Moore, Hex, von Neumann, Circular, 1D",
m,l,a,k,c);a=this.b(d,"Rules","Wolfram, Totalistic, Generations,",m,l,a,k,c);a=this.b(d," ","Isotropic Non-Totalistic (Hensel, Callahan),",m,l,a,k,c);a=this.b(d," ","Alternating, MAP, Larger than Life (LtL),",m,l,a,k,c);a=this.b(d," ","Higher-range outer-totalistic (HROT)",m,l,a,k,c);a=this.b(d,"BoundedGrid","Plane, Torus, Klein, Cross-surface, Sphere",m,l,a,k,c);a=this.b(d,"States","2 state, [R]History, Niemiec, Generations",m,l,a,k,c);a=this.b(d,"Viewers",e,m,l,a,k,c);a=this.b(d,"Playing",Controller.jH(),
m,l,a,k,c);if(DocConfig.ya){r=Controller.md.length;a=this.b(d,"Universe","Multi ("+(d.ic+1)+" of "+r+")",m,l,a,k,c);d.gf=!0;for(f=0;f<r;f+=1)a=this.b(d,String(f+1)+(f===d.ic?"*":""),Controller.md[f].name,m,l,a,k,c),a=this.b(d," ",Controller.md[f].PF,m,l,a,k,c),a=this.b(d," ",Controller.md[f].width+" x "+Controller.md[f].height,m,l,a,k,c);d.gf=!1}else a=this.b(d,"Universe","Single",m,l,a,k,c);a=this.b(d,"Endian",littleEndian?"Little":"Big",m,l,a,k,c);a=this.b(d,"ArrayFill",arrayFill?"Yes":"No",m,l,
a,k,c);a=this.b(d,"CopyWithin",copyWithin?"Yes":"No",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.W[1]=210;d.W[2]=270;d.W[3]=330;if(d.yc)for(d.V[q]=[d.P,"Colours"],q+=1,a=this.b(d,"","Set:",m,l,a,k,c),a=this.b(d,"Name",d.Rl,m,l,a,k,c),a=this.b(d,"Used",d.so,m,l,a,k,c),f=0;f<d.Kk.length;f+=1)d.Kk[f]!==ViewConstants.Fv&&(e=this.sc(g[f]>>16&255,g[f]>>8&255,g[f]&255),w=String(f),d.Kk[f]!==ViewConstants.oA||d.sp||(w+="*"),this.Ra(d,g[f]>>16,g[f]>>8&255,g[f]&255,m,l+d.W[0],a,k,c),a=this.b(d,w,e,m,l,a,k,c));
else{d.V[q]=[d.P,"Theme"];q+=1;a=this.b(d,"","Theme:",m,l,a,k,c);a=this.b(d,"Name",d.a.hb[d.a.Qe].name,m,l,a,k,c);a=this.b(d,"History",d.S,m,l,a,k,c);this.Ra(d,d.a.nb[0],d.a.lb[0],d.a.kb[0],m,l+d.W[0],a,k,c);a=this.b(d,"Background",this.sc(d.a.nb[0],d.a.lb[0],d.a.kb[0]),m,l,a,k,c);if(d.a.pb)for(f=1;f<d.a.f;f+=1)this.Ra(d,d.a.nb[f],d.a.lb[f],d.a.kb[f],m,l+d.W[0],a,k,c),a=this.b(d,"State "+f,this.sc(d.a.nb[f],d.a.lb[f],d.a.kb[f]),m,l,a,k,c);else if(2<d.a.f){w=d.a.f+d.S-1;this.Ra(d,d.a.nb[w],d.a.lb[w],
d.a.kb[w],m,l+d.W[0],a,k,c);a=this.b(d,"Alive",this.sc(d.a.nb[w],d.a.lb[w],d.a.kb[w]),m,l,a,k,c);for(f=1;f<d.a.f-1;f+=1)w=d.a.f-f+d.S-1,this.Ra(d,d.a.nb[w],d.a.lb[w],d.a.kb[w],m,l+d.W[0],a,k,c),a=this.b(d,"Dying "+f,this.sc(d.a.nb[w],d.a.lb[w],d.a.kb[w]),m,l,a,k,c);0<d.S&&(w=d.S,this.Ra(d,d.a.nb[w],d.a.lb[w],d.a.kb[w],m,l+d.W[0],a,k,c),a=this.b(d,"Dead",this.sc(d.a.nb[w],d.a.lb[w],d.a.kb[w]),m,l,a,k,c),1<d.S&&(w=1,this.Ra(d,d.a.nb[w],d.a.lb[w],d.a.kb[w],m,l+d.W[0],a,k,c),a=this.b(d,"DeadRamp",this.sc(d.a.nb[w],
d.a.lb[w],d.a.kb[w]),m,l,a,k,c)))}else this.Ra(d,p.La.K.red,p.La.K.green,p.La.K.blue,m,l+d.W[0],a,k,c),a=this.b(d,"Alive",this.ye(p.La.K),m,l,a,k,c),p.La.K.red!==p.La.M.red||p.La.K.green!==p.La.M.green||p.La.K.blue!==p.La.M.blue?(this.Ra(d,p.La.M.red,p.La.M.green,p.La.M.blue,m,l+d.W[0],a,k,c),a=this.b(d,"AliveRamp",this.ye(p.La.M),m,l,a,k,c)):a=this.b(d,"AliveRamp","    (none)",m,l,a,k,c),0<d.S&&(this.Ra(d,p.Ha.M.red,p.Ha.M.green,p.Ha.M.blue,m,l+d.W[0],a,k,c),a=this.b(d,"Dead",this.ye(p.Ha.M),m,l,
a,k,c),1<d.S&&(p.Ha.K.red!==p.Ha.M.red||p.Ha.K.green!==p.Ha.M.green||p.Ha.K.blue!==p.Ha.M.blue?(this.Ra(d,p.Ha.K.red,p.Ha.K.green,p.Ha.K.blue,m,l+d.W[0],a,k,c),a=this.b(d,"DeadRamp",this.ye(p.Ha.K),m,l,a,k,c)):a=this.b(d,"DeadRamp","    (none)",m,l,a,k,c)));if(d.a.Oa)for(f=3;6>=f;f+=1)r=128+ViewConstants.Ba[f],e=this.sc(d.a.nb[r],d.a.lb[r],d.a.kb[r]),w=ViewConstants.nA[f],this.Ra(d,d.a.nb[r],d.a.lb[r],d.a.kb[r],m,l+d.W[0],a,k,c),a=this.b(d,w,e,m,l,a,k,c)}this.Ra(d,d.uj[0],d.uj[1],d.uj[2],m,l+d.W[0],
a,k,c);a=this.b(d,"Boundary",this.sc(d.uj[0],d.uj[1],d.uj[2]),m,l,a,k,c);d.Wf&&(this.Ra(d,d.Wf[0],d.Wf[1],d.Wf[2],m,l+d.W[0],a,k,c),a=this.b(d,"Text",this.sc(d.Wf[0],d.Wf[1],d.Wf[2]),m,l,a,k,c));d.Ei&&(this.Ra(d,d.Ei[0],d.Ei[1],d.Ei[2],m,l+d.W[0],a,k,c),a=this.b(d,"Error",this.sc(d.Ei[0],d.Ei[1],d.Ei[2]),m,l,a,k,c));a=this.b(d,"","",m,l,a,k,c);d.V[q]=[d.P,"Grid Lines"];q+=1;a=this.b(d,"","Grid Lines:",m,l,a,k,c);w=d.a.Nb?"On":"Off";d.a.Nb&&!d.a.Di()&&(w+=" (Hidden)");a=this.b(d,"Enabled",w,m,l,a,
k,c);this.Ra(d,d.a.Uc>>16,d.a.Uc>>8&255,d.a.Uc&255,m,l+d.W[0],a,k,c);a=this.b(d,"Line Color",this.sc(d.a.Uc>>16,d.a.Uc>>8&255,d.a.Uc&255),m,l,a,k,c);this.Ra(d,d.a.We>>16,d.a.We>>8&255,d.a.We&255,m,l+d.W[0],a,k,c);a=this.b(d,"Major Color",this.sc(d.a.We>>16,d.a.We>>8&255,d.a.We&255),m,l,a,k,c);w=0<d.a.rf&&d.a.Ji?String(d.a.rf):"Off";a=this.b(d,"Interval",w,m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[q]=[d.P,"Graph"];q+=1;a=this.b(d,"","Population Graph:",m,l,a,k,c);a=this.b(d,"Enabled",d.Ac?"On":"Off",
m,l,a,k,c);a=this.b(d,"Disabled",d.mc?"On":"Off",m,l,a,k,c);a=this.b(d,"Mode",d.Cf?"Lines":"Points",m,l,a,k,c);a=this.b(d,"Opacity",d.Bc.toFixed(2),m,l,a,k,c);this.Ra(d,d.a.ih[0],d.a.ih[1],d.a.ih[2],m,l+d.W[0],a,k,c);a=this.b(d,"Bg Color",this.sc(d.a.ih[0],d.a.ih[1],d.a.ih[2]),m,l,a,k,c);this.Ra(d,d.a.hh[0],d.a.hh[1],d.a.hh[2],m,l+d.W[0],a,k,c);a=this.b(d,"Axis Color",this.sc(d.a.hh[0],d.a.hh[1],d.a.hh[2]),m,l,a,k,c);this.Ra(d,d.a.gh[0],d.a.gh[1],d.a.gh[2],m,l+d.W[0],a,k,c);a=this.b(d,"Alive Color",
this.sc(d.a.gh[0],d.a.gh[1],d.a.gh[2]),m,l,a,k,c);this.Ra(d,d.a.jh[0],d.a.jh[1],d.a.jh[2],m,l+d.W[0],a,k,c);a=this.b(d,"Birth Color",this.sc(d.a.jh[0],d.a.jh[1],d.a.jh[2]),m,l,a,k,c);this.Ra(d,d.a.kh[0],d.a.kh[1],d.a.kh[2],m,l+d.W[0],a,k,c);a=this.b(d,"Death Color",this.sc(d.a.kh[0],d.a.kh[1],d.a.kh[2]),m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[q]=[d.P,"Stars"];q+=1;a=this.b(d,"","Stars:",m,l,a,k,c);a=this.b(d,"Enabled",d.Bh?"On":"Off",m,l,a,k,c);this.Ra(d,d.Vi.red,d.Vi.green,d.Vi.blue,m,l+d.W[0],
a,k,c);a=this.b(d,"Color",this.ye(d.Vi),m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[q]=[d.P,"Script"];q+=1;a=this.b(d,"","Script:",m,l,a,k,c);a=this.b(d,"Commands",d.lo,m,l,a,k,c);a=this.b(d,"Errors",d.Au,m,l,a,k,c);if(d.vc)for(a=this.b(d,"","",m,l,a,k,c),d.V[q]=[d.P,"Waypoints"],q+=1,a=this.b(d,"","Waypoints:",m,l,a,k,c),a=this.b(d,"Enabled",d.Sd?"Off":"On",m,l,a,k,c),a=this.b(d,"Number",d.J.ua.length,m,l,a,k,c),f=0;f<d.J.ua.length;f+=1)w=String(f),f===d.J.Xi&&(w=d.J.ex(d.elapsedTime)?w+">":w+"*"),
a=this.b(d,w,d.J.kH(f),m,l,a,k,c);if(d.J.Eb.length)for(a=this.b(d,"","",m,l,a,k,c),d.V[q]=[d.P,"POIs"],a=this.b(d,"","Points of interest:",m,l,a,k,c),a=this.b(d,"Number",d.J.Eb.length,m,l,a,k,c),f=0;f<d.J.Eb.length;f+=1)w=String(f+1),f===d.pf&&(w+="*"),f===d.Lk&&(w+=" INITIAL"),q=!1,r=d.J.YE(f),""!==r&&(a=this.b(d,q?" ":w,(q?"  ":"")+r,m,l,a,k,c),q=!0),r=d.J.bF(f),""!==r&&(a=this.b(d,q?" ":w,(q?"  ":"")+r,m,l,a,k,c),q=!0),r=d.J.ZE(f),""!==r&&(a=this.b(d,q?" ":w,(q?"  ":"")+r,m,l,a,k,c),q=!0),r=d.J.mz(f),
""!==r&&(a=this.b(d,q?" ":w,(q?"  ":"")+r,m,l,a,k,c),q=!0),r=d.J.aF(f),""!==r&&(a=this.b(d,q?" ":w,(q?"  ":"")+r,m,l,a,k,c),q=!0),r=d.J.$E(f),""!==r&&(a=this.b(d,q?" ":w,(q?"  ":"")+r,m,l,a,k,c))},DF:function(d,m,l,a,k,c){var f,e=0;d.P=1;d.gf=!1;d.V=[];d.W[0]=130;d.W[1]=200;d.W[2]=250;d.W[3]=300;d.V[e]=[d.P,"Top"];e+=1;a=this.b(d,"","Themes",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);a=this.b(d,"","Themes are used to provide a visual representation of",m,l,a,k,c);a=this.b(d,"","cell history and longevity and also define grid colours",
m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[e]=[d.P,"Grid"];e+=1;a=this.b(d,"","Grid:",m,l,a,k,c);a=this.b(d,"GRID","grid line colour",m,l,a,k,c);a=this.b(d,"GRIDMAJOR","major grid line colour and interval",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);d.V[e]=[d.P,"2-State"];e+=1;a=this.b(d,"","Two-state Themes:",m,l,a,k,c);a=this.b(d,"BACKGROUND","cell never occupied",m,l,a,k,c);a=this.b(d,"ALIVE","cell just born",m,l,a,k,c);a=this.b(d,"ALIVERAMP","cell alive for several generations",m,l,a,k,c);a=this.b(d,
"DEAD","cell just died",m,l,a,k,c);a=this.b(d,"DEADRAMP","cell dead for several generations",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);a=this.b(d,"",LifeConstants.cd-LifeConstants.Sa+1+" states from ALIVE to ALIVERAMP",m,l,a,k,c);a=this.b(d,"",d.S+" (HISTORYSTATES) states from DEAD to DEADRAMP",m,l,a,k,c);for(f=0;f<d.a.hb.length-1;f+=1){a=this.b(d,"","",m,l,a,k,c);var g=d.a.hb[f];a=this.b(d,"Name"+(f===d.a.Qe&&2>=d.a.f?"*":""),g.name,m,l,a,k,c);this.Ra(d,g.Ja.red,g.Ja.green,g.Ja.blue,m,l+d.W[0],a,k,
c);a=this.b(d,"BACKGROUND",this.ye(g.Ja),m,l,a,k,c);this.Ra(d,g.La.K.red,g.La.K.green,g.La.K.blue,m,l+d.W[0],a,k,c);a=this.b(d,"ALIVE",this.ye(g.La.K),m,l,a,k,c);if(g.La.K.red!==g.La.M.red||g.La.K.green!==g.La.M.green||g.La.K.blue!==g.La.M.blue)this.Ra(d,g.La.M.red,g.La.M.green,g.La.M.blue,m,l+d.W[0],a,k,c),a=this.b(d,"ALIVERAMP",this.ye(g.La.M),m,l,a,k,c);this.Ra(d,g.Ha.M.red,g.Ha.M.green,g.Ha.M.blue,m,l+d.W[0],a,k,c);a=this.b(d,"DEAD",this.ye(g.Ha.M),m,l,a,k,c);if(g.Ha.K.red!==g.Ha.M.red||g.Ha.K.green!==
g.Ha.M.green||g.Ha.K.blue!==g.Ha.M.blue)this.Ra(d,g.Ha.K.red,g.Ha.K.green,g.Ha.K.blue,m,l+d.W[0],a,k,c),a=this.b(d,"DEADRAMP",this.ye(g.Ha.K),m,l,a,k,c);g.Vk&&(this.Ra(d,g.lh>>16,g.lh>>8&255,g.lh&255,m,l+d.W[0],a,k,c),a=this.b(d,"GRID",this.sc(g.lh>>16,g.lh>>8&255,g.lh&255),m,l,a,k,c),this.Ra(d,g.mh>>16,g.mh>>8&255,g.mh&255,m,l+d.W[0],a,k,c),a=this.b(d,"GRIDMAJOR",this.sc(g.mh>>16,g.mh>>8&255,g.mh&255),m,l,a,k,c),a=this.b(d,"GRIDMAJOR",g.Eq,m,l,a,k,c))}a=this.b(d,"","",m,l,a,k,c);d.V[e]=[d.P,"Multi"];
a=this.b(d,"","Multi-state Themes:",m,l,a,k,c);a=this.b(d,"BACKGROUND","cell never occupied",m,l,a,k,c);a=this.b(d,"ALIVE","cell alive",m,l,a,k,c);a=this.b(d,"DYING","cell just starting dying",m,l,a,k,c);a=this.b(d,"DYINGRAMP","cell about to die",m,l,a,k,c);a=this.b(d,"DEAD","cell just died",m,l,a,k,c);a=this.b(d,"DEADRAMP","cell dead for several generations",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);a=this.b(d,"","Rule defines "+(2>d.a.f?"":String(d.a.f-1)+" ")+"states from DYING to DYINGRAMP",m,l,
a,k,c);a=this.b(d,"",d.S+" (HISTORYSTATES) states from DEAD to DEADRAMP",m,l,a,k,c);for(f=0;f<d.a.hb.length-1;f+=1){a=this.b(d,"","",m,l,a,k,c);g=d.a.hb[f];a=this.b(d,"Name"+(f===d.a.Qe&&2<d.a.f?"*":""),g.name,m,l,a,k,c);this.Ra(d,g.zi.red,g.zi.green,g.zi.blue,m,l+d.W[0],a,k,c);a=this.b(d,"BACKGROUND",this.ye(g.zi),m,l,a,k,c);this.Ra(d,g.Sf.red,g.Sf.green,g.Sf.blue,m,l+d.W[0],a,k,c);a=this.b(d,"ALIVE",this.ye(g.Sf),m,l,a,k,c);this.Ra(d,g.ub.M.red,g.ub.M.green,g.ub.M.blue,m,l+d.W[0],a,k,c);a=this.b(d,
"DYING",this.ye(g.ub.M),m,l,a,k,c);if(g.ub.K.red!==g.ub.M.red||g.ub.K.green!==g.ub.M.green||g.ub.K.blue!==g.ub.M.blue)this.Ra(d,g.ub.K.red,g.ub.K.green,g.ub.K.blue,m,l+d.W[0],a,k,c),a=this.b(d,"DYINGRAMP",this.ye(g.ub.K),m,l,a,k,c);this.Ra(d,g.fc.M.red,g.fc.M.green,g.fc.M.blue,m,l+d.W[0],a,k,c);a=this.b(d,"DEAD",this.ye(g.fc.M),m,l,a,k,c);if(g.fc.K.red!==g.fc.M.red||g.fc.K.green!==g.fc.M.green||g.fc.K.blue!==g.fc.M.blue)this.Ra(d,g.fc.K.red,g.fc.K.green,g.fc.K.blue,m,l+d.W[0],a,k,c),a=this.b(d,"DEADRAMP",
this.ye(g.fc.K),m,l,a,k,c)}},vF:function(d,m,l,a,k,c){var f,e=ColourManager.Gd,g=Object.keys(e);d.P=1;d.gf=!1;d.V=[];d.W[0]=260;d.W[1]=330;d.W[2]=380;d.W[3]=d.D;d.V[0]=[d.P,"Top"];a=this.b(d,"","Colours",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);a=this.b(d,"","The following names can be used in place of R G B",m,l,a,k,c);a=this.b(d,"","for example [[ COLOUR ALIVE Green ]]",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);for(f=0;f<g.length;f+=1){var p=e[g[f]];this.Ra(d,p[1],p[2],p[3],m,l+d.W[0],a,k,c);a=this.b(d,
p[0],this.sc(p[1],p[2],p[3]),m,l,a,k,c)}},tF:function(d,m,l,a,k,c){var f,e=0,g=AliasManager.c,p=AliasManager.df;d.P=1;d.gf=!1;d.V=[];d.W[0]=260;d.V[e]=[d.P,"Top"];e+=1;a=this.b(d,"","Aliases",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);a=this.b(d,"","Alias names can be used as rule names in RLE",m,l,a,k,c);a=this.b(d,"","for example 'rule = HighLife'",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);a=this.b(d,"","* denotes duplicate rule and should be omitted",m,l,a,k,c);d.gf=!0;for(f=0;f<g.length;f+=1)""===g[f][1]?
(a=this.b(d,"","",m,l,a,k,c),d.V[e]=[d.P,p[e-1]],e+=1,a=this.b(d,"",g[f][0]+" Aliases:",m,l,a,k,c)):""!==g[f][0]&&(a=this.b(d,g[f][0]+(g[f][2]?"*":""),g[f][1],m,l,a,k,c))},BF:function(d,m,l,a,k,c){var f,e=0,g=Controller.Pc.length,p=0,q=0,r=0,w=0,v;d.P=1;d.gf=!1;d.V=[];d.W[0]=128;d.W[1]=200;d.W[2]=290;d.W[3]=530;d.V[e]=[d.P,"Top"];e+=1;a=this.b(d,"","Memory usage",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c);if(1<g){d.V[e]=[d.P,"All"];e+=1;a=this.b(d,"","Memory (all "+g+" LifeViewers):",m,l,a,k,c);for(f=
0;f<g;f+=1)if(v=Controller.MD(f))p+=v.a.o.io,r+=v.a.o.Cl>>10,q+=v.a.o.ko,w+=v.a.o.Dl>>10;a=this.b(d,"In Use",p-q+"\t"+((r>>10)-(w>>10))+"M",m,l,a,k,c);a=this.b(d,"Allocations",p+"\t"+(r>>10)+"M",m,l,a,k,c);a=this.b(d,"Frees",q+"\t"+(w>>10)+"M",m,l,a,k,c);a=this.b(d,"","",m,l,a,k,c)}d.V[e]=[d.P,"Current"];a=this.b(d,"","Memory (this LifeViewer):",m,l,a,k,c);a=this.b(d,"In Use",d.a.o.io-d.a.o.ko+"\t"+this.Rs(d.a.o.Cl-d.a.o.Dl)+"M\t"+(d.a.o.Cl-d.a.o.Dl),m,l,a,k,c);a=this.b(d,"Allocations",d.a.o.io+"\t"+
this.Rs(d.a.o.Cl)+"M\t"+d.a.o.Cl,m,l,a,k,c);a=this.b(d,"Frees",d.a.o.ko+"\t"+this.Rs(d.a.o.Dl)+"M\t"+d.a.o.Dl,m,l,a,k,c);a=this.b(d,this.$y("Bytes",10),"Type\tElements\tName\tCount",m,l,a,k,c);for(f=0;f<d.a.o.Uf.length;f+=1)a=this.b(d,this.$y(String(d.a.o.Uf[f].size),10),d.a.o.NB(f),m,l,a,k,c);this.b(d,"","",m,l,a,k,c)},zt:function(d){var m=d.$b;d.rc=(d.B/19|0)-6;m.fillStyle="black";m.globalAlpha=.5;m.fillRect(0,0,m.canvas.width,m.canvas.height);m.globalAlpha=1;m.fillStyle=ViewConstants.Mn;this.uv=
-2;this.Gz(d,m,6,14,19,d.$|0);m.fillStyle=ViewConstants.em;this.uv=0;this.Gz(d,m,4,12,19,d.$|0)},wF:function(d,m,l,a,k,c,f,e,g,p){var q=e,r=0,w=!1,v=d.P;c.fillStyle===ViewConstants.Mn&&(w=!0);v>=p&&v<=p+d.rc&&(c.font=ViewConstants.Hn,w||(c.fillStyle=1<(d.Db|0)?d.ah:ViewConstants.Aq),c.fillText(m,f,e),w||(c.fillStyle=d.ah),c.fillText(l,f+c.measureText(m).width,e),w||(c.fillStyle=(d.Db|0)<d.tc.length-d.rc+1?d.ah:ViewConstants.Aq),c.fillText(a,f+c.measureText(m+l).width,e),d.W[0]&&(r=d.W[0]),w||(c.fillStyle=
d.ah),c.font=ViewConstants.qk,c.fillText(k,f+r,e),q+=g);return q},Ar:function(d,m,l,a,k,c,f,e){var g=c,p=0,q=d.P;q>=e&&q<=e+d.rc&&(m.length&&(a.font=ViewConstants.Hn,a.fillText(m,k,c),p=a.measureText(m+" ").width),d.W[0]&&(p=d.W[0]),a.font=ViewConstants.qk,a.fillText(l,k+p,c),g+=f);d.P+=1;return g},Fz:function(d,m,l,a,k,c){var f,e=d.tc,g=a;d.P=1;d.W[0]=0;m.font=ViewConstants.qk;a=this.Ar(d,"",ViewConstants.cG,m,l,a,k,c);for(f=0;f<e.length;f+=1)a=this.Ar(d,e[f][0],e[f][1],m,l,a,k,c);d.Ga||(d.W[0]=
120,d.P=1,a=g+k*(d.rc+2),a=this.wF(d,"Up"," / ","Down","scroll errors",m,l,a,k,0),a=this.Ar(d,"Esc","clear messages",m,l,a,k,0),this.Ar(d,"H  ","help on script commands",m,l,a,k,0))},yt:function(d){var m=d.$b,l=7;d.Ga&&(l=1);d.rc=(d.B/19|0)-l;m.fillStyle="black";m.globalAlpha=.5;m.fillRect(0,0,m.canvas.width,m.canvas.height);m.globalAlpha=1;m.fillStyle=ViewConstants.Mn;this.Fz(d,m,6,14,19,d.Db|0);m.fillStyle=d.ah;this.Fz(d,m,4,12,19,d.Db|0)}};window.Keywords={Ec:'"',Zj:"[[",Gm:"]]",tA:"TIME",Gv:"SUPPRESS",qr:"POIT",vb:"INITIAL",ab:"OFF",Ev:"STATE1FIT",uo:"POIRESET",Am:"POIPLAY",Bm:"POISTOP",vo:"POITRANS",Mt:"HARDRESET",$o:"TRACK",Fl:"TRACKBOX",Zo:"TRACKLOOP",wu:"NOREPORT",zq:"GRAPH",gr:"NOGRAPH",Jt:"GRAPHOPACITY",Kt:"GRAPHPOINTS",vu:"NOPERFWARNING",Rt:"AUTOHIDEGUI",Tf:"ALL",ag:"LINEAR",Vg:"BEZIER",wH:"HEXDISPLAY",GH:"SQUAREDISPLAY",Nt:"HEXCELLS",zv:"SQUARECELLS",jx:"CELLBORDERS",ny:"INTEGERZOOM",cv:"RANDOMSEED",ut:"DELETERANGE",xv:"SHOWTIMING",
Ft:"EXTENDEDTIMING",vv:"SHOWGENSTATS",wv:"SHOWINFOBAR",yu:"NOSOURCE",rr:"POI",Sm:"TITLE",sz:"POLY",sr:"POLYFILL",Uu:"POLYLINE",Su:"POLYALPHA",Vu:"POLYSIZE",Wu:"POLYT",Tu:"POLYANGLE",Xu:"POLYTARGET",rz:"POLYTRACK",gn:"ARROW",Ls:"ARROWALPHA",Ns:"ARROWSIZE",Os:"ARROWT",Ms:"ARROWANGLE",Ps:"ARROWTARGET",Qs:"ARROWTRACK",Wn:"LABEL",au:"LABELALPHA",cu:"LABELSIZE",du:"LABELT",bu:"LABELANGLE",eu:"LABELTARGET",fu:"LABELTRACK",Kd:"FIXED",mu:"MAXGRIDSIZE",No:"STARS",Rm:"CUSTOM",js:"XOFFSET",ks:"YOFFSET",Qr:"BACKGROUND",
Pr:"ALIVE",Mv:"ALIVERAMP",Sr:"DEAD",Rr:"DEADRAMP",Ov:"DYING",Nv:"DYINGRAMP",AA:"UIFOREGROUND",MH:"UIFOREGROUNDA",yA:"UIBACKGROUND",KH:"UIBACKGROUNDA",BA:"UIHIGHLIGHT",NH:"UIHIGHTLIGHTA",DA:"UISELECT",PH:"UISELECTA",CA:"UILOCKED",OH:"UILOCKEDA",zA:"UIBORDER",LH:"UIBORDERA",kx:"BOUNDARY",xp:"AUTOFIT",St:"HISTORYFIT",Mq:"HISTORYSTATES",wl:"STEP",uu:"NOSTEPBACK",Oo:"T",Ou:"PAUSE",Kn:"GRID",Jn:"GRIDMAJOR",Kv:"TEXT",Et:"ERROR",Xy:"OFF",Yy:"ON",jy:"HISTORY",yy:"MARK1",Cy:"MARKOFF",Ay:"MARK2",ry:"KILL",$x:"GRAPHBG",
Zx:"GRAPHAXIS",Yx:"GRAPHALIVE",ay:"GRAPHBIRTH",by:"GRAPHDEATH",va:"COLOR",bt:"COLOUR",fp:"VIEWONLY",tu:"NOGUI",su:"NOCOPY",Vv:"THUMBNAIL",Sv:"THUMBSIZE",Qv:"THUMBLAUNCH",Zi:"THEME",zp:"AUTOSTART",sh:"LOOP",Eh:"STOP",qj:"ANGLE",al:"LAYERS",Nk:"DEPTH",Uk:"GPS",Rc:"ZOOM",Ks:"Z",Td:"X",Ud:"Y",Xm:"WIDTH",dm:"HEIGHT",xo:"POPUPWIDTH",wo:"POPUPHEIGHT",Uv:"THUMBZOOM",$t:"KILLGLIDERS",Dm:"RECIPE",pl:"RLE",lr:"PASTE",kr:"PASTET",qq:"EVERY",Iu:"PASTEMODE",Hu:"OR",Fu:"COPY",Gu:"NOT",Ku:"XOR",Eu:"AND",jw:"IDENTITY",
gw:"FLIP",hw:"FLIPX",iw:"FLIPY",mw:"SWAPXY",nw:"SWAPXYFLIP",lw:"RCW",kw:"RCCW",Ee:"#"};window.KeyProcessor={kF:function(d,m,l){var a=!0;if(l.ctrlKey&&82===m)return!0;switch(m){case 13:d.si===d.yl&&d.yx(d,!0);break;case 84:d.Wm([!d.l.ck],!0,d);break;default:a=!1}return a},lF:function(d,m,l){var a=!0;if(l.ctrlKey||l.metaKey||l.altKey)m=-1;switch(m){case 84:d.Wm([!d.l.ck],!0,d);break;default:a=!1}return a},jF:function(d,m,l){var a=!0;if(d.hc)d.fr||85!==m||(d.hc=!d.hc,d.v.j=d.hc,d.l.hc=d.hc);else{l.ctrlKey&&37<=m&&40>=m&&(37===m?m=33:38===m?m=36:39===m?m=34:40===m&&(m=35));if(l.altKey&&
!l.ctrlKey){if(48<=m&&57>=m)m-=48,d.Gf||0===d.J.Eb.length?d.Vf===m?d.pc?d.Mu(d):d.jz(d):(d.pn.current=d.LA(m,!0,d),d.pc?d.Mu(d,m):d.l.notification.N("Clipboard "+m+" active",80,!0)):(--m,0<=m&&m<d.J.Eb.length&&(d.pf=m,d.tv(d,d.pf)));else switch(m){case 46:d.Ys(d,!0,!0);d.l.notification.N("Cleared [R]History marked cells",120,!0);break;case 65:d.Ek.current=d.Aw([!d.Ih],!0,d);d.l.notification.N("Auto-Shrink Selection "+(d.Ih?"On":"Off"),40,!0);break;case 66:d.kn.current=d.KA([!d.a.gd],!0,d);break;case 67:d.yc||
(d.Mg(d.hq,d.a.tj,d),d.a.pb||d.Ti||d.l.notification.N(d.Tr(d.a.Qe)+" Theme",40,!0));break;case 71:d.a.Wg=!d.a.Wg;d.l.notification.N("Kill Gliders "+(d.a.Wg?"On":"Off"),40,!0);break;case 72:d.a.Oa&&(d.a.Xf=!0,d.a.Yf=!0,d.l.notification.N("[R]History Display "+(d.a.Xf?"On":"Off"),40,!0));break;case 74:d.a.Oa&&(d.a.Xf=!1,d.a.Yf=!1,d.l.notification.N("[R]History Display "+(d.a.Xf?"On":"Off"),40,!0));break;case 75:d.wd.current!==ViewConstants.Mj&&(d.wd.current=d.gj(ViewConstants.Mj,!0,d));d.to=!0;d.cg.current=
d.wi([!0],!0,d);break;case 76:0<d.J.pm()&&(d.Gj.current=d.QA([!d.Ng],!0,d),d.l.notification.N("Annotations "+(d.Ng?"On":"Off"),40,!0));break;case 78:d.IE(d);break;case 79:d.Ed&&(d.Oe=!d.Oe,d.Fk.current=[d.Oe],d.l.notification.N("AutoStart "+(d.Oe?"Off":"On"),40,!0));break;case 80:-1!==d.ob&&(d.Ad=!d.Ad,d.jk.current=[d.Ad],d.l.notification.N("Stop "+(d.Ad?"Off":"On"),40,!0));break;case 82:d.qx(d);break;case 83:d.Sl.current=d.Bw([!d.Qh],!0,d);d.l.notification.N("Sync Clipboard "+(d.Qh?"On":"Off"),40,
!0);break;case 84:d.zl.current=d.Yv([!d.Ql],!0,d);d.l.notification.N("Throttling "+(d.Ql?"On":"Off"),40,!0);break;case 88:d.Rx(d);break;case 89:d.Sx(d)}m=-2}switch(m){case 191:case 111:d.a.U&&(d.Dj.current=d.NA([!d.a.od],!0,d),d.l.notification.N("Hex display uses "+(d.a.od?"Hexagons":"Squares"),40,!0));break;case 8:d.xa||(d.Da?d.eb.current=d.Bd(ViewConstants.Md,!0,d):0<d.a.u&&(d.ql(d.a.u-1),d.Io(d.a.u)));break;case 66:d.xa||(d.Da?d.eb.current=d.Bd(ViewConstants.Md,!0,d):0<d.a.u&&(d.Io(d.a.u-1),d.ql(d.a.u-
1)));break;case 13:d.pc||d.td?d.TE(d):d.xa||(d.eb.current===ViewConstants.Yh?d.eb.current=d.Bd(ViewConstants.Md,!0,d):d.sd&&d.l.xc||(d.eb.current=d.Bd(ViewConstants.Yh,!0,d)));break;case 9:d.xa||(d.Da?d.eb.current=d.Bd(ViewConstants.Md,!0,d):l.shiftKey?0<d.a.u&&(d.ql(d.a.u-d.ra),d.Io(d.a.u-d.ra+1)):(d.Jg=!0,d.rb("")));break;case 32:d.xa||(d.Da?d.eb.current=d.Bd(ViewConstants.Md,!0,d):l.ctrlKey||l.shiftKey?d.vD(d,l.shiftKey):(d.Jg=!0,d.yv=!0,d.rb("")));break;case 87:l.shiftKey?(d.sl.current=d.Wv([!d.ei],
!0,d),d.l.notification.N("Performance Warning "+(d.ei?"On":"Off"),40,!0)):d.Jc?d.Nf.current=d.Zv([d.Rd],!0,d):d.vc&&(d.Nf.current=d.Zv([d.Sd],!0,d));break;case 69:!d.Dc.locked&&d.ra<ViewConstants.Ye&&(d.ra=l.shiftKey?ViewConstants.Ye:d.ra+1,d.Dc.current=d.rk([d.ra,d.ra],!0,d));break;case 68:!d.Dc.locked&&d.ra>ViewConstants.dl&&(l.shiftKey?d.ra=ViewConstants.dl:--d.ra,d.Dc.current=d.rk([d.ra,d.ra],!0,d));break;case 90:l.ctrlKey?l.shiftKey?d.fv(d):d.dj.locked||d.qw(d):l.shiftKey?(m=Controller.DG(),
0===m?d.l.notification.N("No LifeViewers playing",100,!0):1<m&&d.l.notification.N("Paused all LifeViewers",100,!0)):(m=Controller.EG(d),0<m&&(1<m?d.l.notification.N("Paused "+m+" other LifeViewers",100,!0):d.l.notification.N("Paused "+m+" other LifeViewer",100,!0)));break;case 88:l.ctrlKey?d.yz(d,l.shiftKey,l.altKey):l.shiftKey?(d.Vh.current=d.RA([!d.a.Ji],!0,d),0<d.a.rf&&(d.l.notification.N("Major Grid Lines "+(d.a.Ji?"On":"Off"),40,!0),d.ux())):(d.a.Nb=!d.a.Nb,d.Bj.current=d.vA([d.a.Nb],!0,d),d.l.notification.N("Grid Lines "+
(d.a.Nb?"On":"Off"),40,!0));break;case 89:l.ctrlKey?d.fv(d):d.mc?d.l.notification.N("Graph Disabled",40,!0):l.shiftKey?(d.Cf=!d.Cf,d.jm.current=d.wA([d.Cf],!0,d),d.l.notification.N("Graph "+(d.Cf?"Lines":"Points"),40,!0)):(d.Ac=!d.Ac,d.Aj.current=d.Cw([d.Ac],!0,d),d.l.notification.N("Population Graph "+(d.Ac?"On":"Off"),40,!0));break;case 75:l.ctrlKey?l.altKey?(d.Ys(d,!1,!1),m=d.Zf,2<d.a.f&&(m=d.a.f-m),d.l.notification.N("Cleared "+d.Xx(m)+" cells",120,!0)):d.zr(d):l.shiftKey?(d.zx(d,!0),d.l.notification.N("Copied view to clipboard",
180,!0)):(d.zx(d,!1),d.l.notification.N("Copied position to clipboard",180,!0));break;case 80:l.shiftKey?-1!==d.Aa&&(d.Yb=!d.Yb,d.Ij.current=[d.Yb],d.l.notification.N("Loop "+(d.Yb?"Off":"On"),40,!0)):d.yc||d.lc.locked||(d.lc.current=.99>=d.lc.current[0]?d.fj([d.lc.current[0]+.01,d.lc.current[1]],!0,d):d.fj([1,d.lc.current[1]],!0,d));break;case 76:l.shiftKey?d.EC(d):d.yc||d.lc.locked||(d.lc.current=.01<=d.lc.current[0]?d.fj([d.lc.current[0]-.01,d.lc.current[1]],!0,d):d.fj([0,d.lc.current[1]],!0,d));
break;case 81:!d.yc&&!d.Wc.locked&&d.Wc.current[0]<ViewConstants.Xq&&(d.Wc.current=d.ep([d.a.G+1,d.Wc.current[1]],!0,d));break;case 65:l.shiftKey?d.Va&&d.yp(d):l.ctrlKey?d.cA(d):!d.yc&&!d.Wc.locked&&d.Wc.current[0]>ViewConstants.cr&&(d.Wc.current=d.ep([d.a.G-1,d.Wc.current[1]],!0,d));break;case 82:l.shiftKey?Controller.GF():d.eb.current=d.Bd(ViewConstants.qu,!0,d);break;case 83:l.ctrlKey?(d.YF(d),d.l.notification.N("Saved",40,!0)):l.shiftKey?d.a.Oa&&(d.Dh=!d.Dh,d.l.notification.N("AutoFit State 1 Mode "+
(d.Dh?"On":"Off"),40,!0)):(d.Nm.current=d.SA([!d.Bh],!0,d),d.l.notification.N("Stars "+(d.Bh?"On":"Off"),40,!0));break;case 78:d.$i&&(d.Ga?d.Hv():(d.Iv(),d.$&&(d.$=0)));break;case 86:l.ctrlKey?d.vr(d,l.shiftKey):l.shiftKey?(d.bA(d),d.l.notification.N("Saved camera position",100,!0)):d.Mc||(d.LF(d),d.l.notification.N("Restored camera position",100,!0),d.Da||(d.tf=!0));break;case 221:d.Mc||(l.shiftKey?d.Nl(d.Vb.current[0],Math.log(d.a.zoom*d.a.ac*2/ViewConstants.wb)/Math.log(ViewConstants.gc/ViewConstants.wb)-
d.Vb.current[0]):d.Nl(d.Vb.current[0],.01));break;case 219:d.Mc||(l.shiftKey?d.Nl(d.Vb.current[0],Math.log(d.a.zoom*d.a.ac/2/ViewConstants.wb)/Math.log(ViewConstants.gc/ViewConstants.wb)-d.Vb.current[0]):d.Nl(d.Vb.current[0],-.01));break;case 53:case 101:l.ctrlKey?l.shiftKey?d.wr(d,!0):d.ri(5):l.shiftKey?d.wr(d,!1):d.Kc.locked||(d.a.angle=0,d.Kc.current=[d.a.angle,d.a.angle]);break;case 49:case 97:l.ctrlKey?d.ri(1):l.shiftKey?(d.tg(d,d.a.zoom*d.a.ac,!0),d.l.notification.N("Integer Zoom",40,!0)):d.tg(d,
1,!1);break;case 50:case 98:l.ctrlKey?d.ri(2):l.shiftKey?d.tg(d,.5,!1):d.tg(d,2,!1);break;case 51:case 99:l.ctrlKey?d.ri(3):l.shiftKey?d.tg(d,64,!1):d.tg(d,32,!1);break;case 52:case 100:l.ctrlKey?d.ri(4):l.shiftKey?d.tg(d,.25,!1):d.tg(d,4,!1);break;case 54:case 102:l.ctrlKey?d.ri(6):l.shiftKey?d.tg(d,.0625,!1):d.tg(d,16,!1);break;case 55:l.ctrlKey?d.ri(7):d.mc?d.l.notification.N("Graph Disabled",40,!0):(0<d.Bc&&(d.Bc-=.05,0>d.Bc&&(d.Bc=0)),d.sm.current=d.es([d.Bc,d.Bc],!1,d));break;case 56:case 104:l.ctrlKey?
d.ri(8):l.shiftKey?d.tg(d,.125,!1):d.tg(d,8,!1);break;case 57:l.ctrlKey?d.ri(9):d.mc?d.l.notification.N("Graph Disabled",40,!0):(1>d.Bc&&(d.Bc+=.05,1<d.Bc&&(d.Bc=1)),d.sm.current=d.es([d.Bc,d.Bc],!1,d));break;case 48:case 96:l.ctrlKey?d.ri(0):(d.ra=1,d.Dc.current=d.rk([d.ra,d.ra],!0,d),d.Za.current=d.Ai([1,d.Za.current[1]],!0,d));break;case 189:case 109:d.xa||(d.ra>ViewConstants.dl?(l.shiftKey?d.ra=ViewConstants.dl:--d.ra,d.Dc.current=d.rk([d.ra,d.ra],!0,d)):d.Za&&(d.Za.current=.01<=d.Za.current[0]&&
!l.shiftKey?d.Ai([d.Za.current[0]-.01,d.Za.current[1]],!0,d):d.Ai([0,d.Za.current[1]],!0,d)));break;case 187:case 107:!d.xa&&d.Za&&(.99>=d.Za.current[0]&&!l.shiftKey?d.Za.current=d.Ai([d.Za.current[0]+.01,d.Za.current[1]],!0,d):.99>=d.Za.current[0]?d.Za.current=d.Ai([1,d.Za.current[1]],!0,d):(d.Za.current=d.Ai([1,d.Za.current[1]],!0,d),d.ra<ViewConstants.Ye&&(d.ra=l.shiftKey?ViewConstants.Ye:d.ra+1,d.Dc.current=d.rk([d.ra,d.ra],!0,d))));break;case 188:l.shiftKey&&(d.Va||d.pc)?d.Qz(d):d.Kc.locked||
(m=d.Kc.current[0],m=l.shiftKey?m-90:m-1,0>m&&(m+=360),d.Kc.current=d.cp([m,m],!0,d));break;case 190:l.shiftKey&&(d.Va||d.pc)?d.Rz(d):d.Kc.locked||(m=d.Kc.current[0],m=l.shiftKey?m+90:m+1,360<=m&&(m-=360),d.Kc.current=d.cp([m,m],!0,d));break;case 46:d.Va?l.shiftKey?d.vx(d):d.vt(d,l.ctrlKey):l.ctrlKey&&(m=d.Ys(d,l.ctrlKey,!1))&&d.l.notification.N("Cleared [R]History cells",120,!0);break;case 74:d.J.Eb.length?d.Mc||(l.shiftKey?d.vz(d):d.Ty(d)):d.l.notification.N("No POIs defined",80,!0);break;case 84:l.shiftKey?
d.l.bk=!d.l.bk:d.am.current=d.Wm([!d.l.ck],!0,d);break;case 85:d.fr||(d.hc=!d.hc,d.v.j=d.hc,d.l.hc=d.hc);break;case 71:d.xa||(l.shiftKey?d.zj&&(d.xq=!d.xq):(d.gs([!d.If],!0,d),d.Ve&&(d.Ve.current=[d.If],d.l.Sg=!0)));break;case 70:l.shiftKey?d.Hh.locked||(d.Mb=!d.Mb,d.Hh.current=d.uA([d.Mb],!0,d),d.l.notification.N("AutoFit "+(d.Mb?"On":"Off"),40,!0)):d.Ii.locked||(d.dh(!0,!0),d.l.notification.N("Fit Zoom",80,!0),d.Da||(d.tf=!0));break;case 79:l.ctrlKey?d.sE(d):d.Eo=l.shiftKey?2:1;break;case 37:l.shiftKey?
d.Oj(d.a.zoom,d.a.zoom):d.Oj(d.a.zoom,0);break;case 38:d.$?d.Gr(d,1):d.Db?d.Er(d,1):l.shiftKey?d.Oj(-d.a.zoom,d.a.zoom):d.Oj(0,d.a.zoom);break;case 39:l.shiftKey?d.Oj(-d.a.zoom,-d.a.zoom):d.Oj(-d.a.zoom,0);break;case 40:d.$?d.Fr(d,1):d.Db?d.Dr(d,1):l.shiftKey?d.Oj(d.a.zoom,-d.a.zoom):d.Oj(0,-d.a.zoom);break;case 77:l.shiftKey?d.FC(d):d.qc&&!d.qc.j&&(d.qc.current[0]=!d.qc.current[0],d.l.Sg=!0);break;case 67:l.ctrlKey?d.xz(d,l.shiftKey,l.altKey):d.yc||!d.ti||d.ti.locked||(l.shiftKey?(m=d.a.Qe-1,0>m&&
(d.vg?m=d.a.ie:m=d.a.ie-1)):(m=d.a.Qe+1,d.vg?m>=d.a.ie+1&&(m=0):m>=d.a.ie&&(m=0)),d.Mg(m,d.a.tj,d),d.a.pb||d.Ti||d.l.notification.N(d.Tr(d.a.Qe)+" Theme",40,!0));break;case 72:l.shiftKey?(d.fm.current=d.OA([!d.Bg],!0,d),d.l.notification.N("AutoFit History Mode "+(d.Bg?"On":"Off"),40,!0)):(d.tc.length?d.$=d.$?0:1:d.$?d.$=0:d.Ga||(d.$=1),d.Ki.current=d.Tm([d.$],!0,d),d.l.Sg=!0);break;case 73:l.ctrlKey?d.oy(d):l.shiftKey?d.gm.current=d.PA([!d.oc],!0,d):(d.$?d.Cj===ViewConstants.Nn?d.$=0:d.eg(ViewConstants.Nn,
d):d.Ga||d.eg(ViewConstants.Nn,d),d.Ki.current=d.Tm([d.$],!0,d),d.l.Sg=!0);break;case 27:d.Xe?d.tc.length?(d.tc=[],d.Db=0):d.pc||d.td?d.Dp(d):d.fi?d.cg.current=d.wi([!1],!0,d):hideViewer():d.$?d.$=0:d.tc.length?(d.tc=[],d.Db=0):d.pc||d.td?d.Dp(d):d.fi?d.cg.current=d.wi([!1],!0,d):d.Da&&(d.eb.current=d.Bd(ViewConstants.Md,!0,d));d.Ki.current=d.Tm([d.$],!0,d);d.l.Sg=!0;break;case 33:d.$?l.shiftKey?d.iF(d):d.Gr(d,d.rc):d.Db?d.Er(d,d.rc):DocConfig.ya&&(--d.ic,0>d.ic&&(d.ic=Controller.md.length-1),d.Ch(Controller.md[d.ic].pattern,
!1));break;case 34:d.$?l.shiftKey?d.KE(d):d.Fr(d,d.rc):d.Db?d.Dr(d,d.rc):DocConfig.ya&&(d.ic+=1,d.ic>=Controller.md.length&&(d.ic=0),d.Ch(Controller.md[d.ic].pattern,!1));break;case 36:d.$?d.$=1:d.Db?d.Db=1:DocConfig.ya&&(d.ic=0,d.Ch(Controller.md[d.ic].pattern,!1));break;case 35:d.$?d.$=d.qm-d.rc:d.Db?d.Db=d.tc.length-d.rc:DocConfig.ya&&(d.ic=Controller.md.length-1,d.Ch(Controller.md[d.ic].pattern,!1));break;case 112:d.xa||(d.sd=!d.sd,d.wd.current=d.gj(d.sd?ViewConstants.Mj:ViewConstants.mm,!0,d),
d.l.notification.N((d.sd?"Draw":"Pan")+" Mode",40,!0));break;case 113:l.shiftKey?(d.Mm.current=d.Xv([!d.tl],!0,d),d.l.notification.N("Smart Drawing "+(d.tl?"On":"Off"),40,!0)):d.wd.current=d.gj(ViewConstants.Mj,!0,d);break;case 114:d.xa||(d.wd.current=d.gj(ViewConstants.Mj,!0,d),d.fi||(d.cg.current=d.wi([!0],!0,d)));break;case 115:d.wd.Eg[ViewConstants.nm]||(d.wd.current=d.gj(ViewConstants.nm,!0,d));break;case 116:d.wd.current=d.gj(ViewConstants.mm,!0,d);break;default:if(-1===m||116===m)a=!1}}return a}};
