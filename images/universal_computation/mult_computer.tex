\documentclass[10pt]{standalone}
\input{../macros}

\begin{document}
	\begin{tikzpicture}%
		\node[inner sep=0pt,anchor=south west] (sbr) at (0,0) {\includegraphics[width=12cm]{../universal_computation/mult_computer.png}};
		
		% Z OUT
		\newcommand\zoutx{5.63}
		\newcommand\zouty{8.62}
		\draw[gray] (\zoutx-0.1,\zouty-0.1) node[rotate=45] {\tiny \texttt{Z}};
		\draw[color=gray,-stealth] (\zoutx-0.15,\zouty-0.3) -- (\zoutx+0.15,\zouty+0);
		
		% NZ OUT
		\newcommand\nzoutx{6.56}
		\newcommand\nzouty{9.14}
		\draw[gray] (\nzoutx,\nzouty) node[rotate=45] {\tiny \texttt{NZ out}};
		\draw[color=gray,-stealth] (\nzoutx-0.27,\nzouty-0.4) -- (\nzoutx+0.43,\nzouty+0.3);
		
		% Z IN
		\newcommand\nzinx{8.63}
		\newcommand\nziny{7.5}
		\draw[gray] (\nzinx,\nziny) node[rotate=-45] {\tiny \texttt{Z}};
		\draw[color=gray,-stealth] (\nzinx-0.18,\nziny+0.04) -- (\nzinx+0.09,\nziny-0.23);
		
		% NZ IN
		\newcommand\zinx{9}
		\newcommand\ziny{7.83}
		\draw[gray] (\zinx,\ziny) node[rotate=-45] {\tiny \texttt{NZ}};
		\draw[color=gray,-stealth] (\zinx-0.2,\ziny+0.06) -- (\zinx+0.13,\ziny-0.27);
		
		% HALT_OUT
		\newcommand\haltx{4.24}
		\newcommand\halty{3.77}
		\draw[gray] (\haltx-0.15,\halty-0.15) node[rotate=-45] {\tiny \texttt{HALT\_OUT}};
		\draw[color=gray,stealth-] (\haltx-0.45,\halty+0.31) -- (\haltx+0.24,\halty-0.38);
		
		% INC U3
		\newcommand\incrtx{4.56}
		\newcommand\incrty{4.17}
		\draw[gray] (\incrtx-0.15,\incrty-0.15) node[rotate=-45] {\tiny \texttt{INC U3}};
		\draw[color=gray,stealth-] (\incrtx-0.45,\incrty+0.31) -- (\incrtx+0.24,\incrty-0.38);
		
		% TDEC U3
		\newcommand\tdecrtx{4.88}
		\newcommand\tdecrty{4.57}
		\draw[gray] (\tdecrtx-0.15,\tdecrty-0.15) node[rotate=-45] {\tiny \texttt{TDEC U3}};
		\draw[color=gray,stealth-] (\tdecrtx-0.45,\tdecrty+0.31) -- (\tdecrtx+0.24,\tdecrty-0.38);
		
		% INC U2
		\newcommand\incrtwx{5.2}
		\newcommand\incrtwy{4.97}
		\draw[gray] (\incrtwx-0.15,\incrtwy-0.15) node[rotate=-45] {\tiny \texttt{INC U2}};
		\draw[color=gray,stealth-] (\incrtwx-0.45,\incrtwy+0.31) -- (\incrtwx+0.24,\incrtwy-0.38);
		
		% TDEC U2
		\newcommand\tdecrtwx{5.52}
		\newcommand\tdecrtwy{5.37}
		\draw[gray] (\tdecrtwx-0.15,\tdecrtwy-0.15) node[rotate=-45] {\tiny \texttt{TDEC U2}};
		\draw[color=gray,stealth-] (\tdecrtwx-0.45,\tdecrtwy+0.31) -- (\tdecrtwx+0.24,\tdecrtwy-0.38);
		
		% INC U1
		\newcommand\incrox{5.84}
		\newcommand\incroy{5.77}
		\draw[gray] (\incrox-0.15,\incroy-0.15) node[rotate=-45] {\tiny \texttt{INC U1}};
		\draw[color=gray,stealth-] (\incrox-0.45,\incroy+0.31) -- (\incrox+0.24,\incroy-0.38);
		
		% TDEC U1
		\newcommand\tdecrox{6.16}
		\newcommand\tdecroy{6.17}
		\draw[gray] (\tdecrox-0.15,\tdecroy-0.15) node[rotate=-45] {\tiny \texttt{TDEC U1}};
		\draw[color=gray,stealth-] (\tdecrox-0.45,\tdecroy+0.31) -- (\tdecrox+0.24,\tdecroy-0.38);
		
		% INC U0
		\newcommand\incrzx{6.48}
		\newcommand\incrzy{6.57}
		\draw[gray] (\incrzx-0.15,\incrzy-0.15) node[rotate=-45] {\tiny \texttt{INC U0}};
		\draw[color=gray,stealth-] (\incrzx-0.45,\incrzy+0.31) -- (\incrzx+0.24,\incrzy-0.38);
		
		% TDEC U0
		\newcommand\tdecrzx{6.8}
		\newcommand\tdecrzy{6.97}
		\draw[gray] (\tdecrzx-0.15,\tdecrzy-0.15) node[rotate=-45] {\tiny \texttt{TDEC U0}};
		\draw[color=gray,stealth-] (\tdecrzx-0.45,\tdecrzy+0.31) -- (\tdecrzx+0.24,\tdecrzy-0.38);
		
		% INITIAL; Z
		\newcommand\initzx{7.8}
		\newcommand\initzy{6.93}
		\draw[gray] (\initzx,\initzy) node[rotate=45] {\tiny \texttt{INITIAL;Z}};
		\draw[color=gray,stealth-] (\initzx-0.3,\initzy-0.45) -- (\initzx+0.42,\initzy+0.27);
		
		% ID1; Z
		\newcommand\idox{8.2}
		\newcommand\idoy{6.61}
		\draw[gray] (\idox,\idoy) node[rotate=45] {\tiny \texttt{ID1;Z}};
		\draw[color=gray,stealth-] (\idox-0.25,\idoy-0.4) -- (\idox+0.37,\idoy+0.22);
		
		% ID1; NZ
		\newcommand\idonx{8.56}
		\newcommand\idony{6.25}
		\draw[gray] (\idonx,\idony) node[rotate=45] {\tiny \texttt{ID1;NZ}};
		\draw[color=gray,stealth-] (\idonx-0.25,\idony-0.4) -- (\idonx+0.37,\idony+0.22);
		
		% ID2; Z
		\newcommand\idtwx{8.9}
		\newcommand\idtwy{5.87}
		\draw[gray] (\idtwx,\idtwy) node[rotate=45] {\tiny \texttt{ID2;Z}};
		\draw[color=gray,stealth-] (\idtwx-0.25,\idtwy-0.4) -- (\idtwx+0.37,\idtwy+0.22);
		
		% ID2; NZ
		\newcommand\idtwnx{9.26}
		\newcommand\idtwny{5.51}
		\draw[gray] (\idtwnx,\idtwny) node[rotate=45] {\tiny \texttt{ID2;NZ}};
		\draw[color=gray,stealth-] (\idtwnx-0.25,\idtwny-0.4) -- (\idtwnx+0.37,\idtwny+0.22);
		
		% ID3; Z
		\newcommand\idthx{9.77}
		\newcommand\idthy{5.3}
		\draw[gray] (\idthx,\idthy) node[rotate=45] {\tiny \texttt{ID3;Z}};
		\draw[color=gray,stealth-] (\idthx-0.25,\idthy-0.4) -- (\idthx+0.37,\idthy+0.22);
		
		% ID3; NZ
		\newcommand\idthnx{9.98}
		\newcommand\idthny{4.79}
		\draw[gray] (\idthnx,\idthny) node[rotate=45] {\tiny \texttt{ID3;NZ}};
		\draw[color=gray,stealth-] (\idthnx-0.25,\idthny-0.4) -- (\idthnx+0.37,\idthny+0.22);
		
		% CIRCLE THE INTIAL GLIDERS
		\draw[white,line width=1.5pt,opacity=0.6](6.2,8.2) circle (0.1);
		\draw[redback2,line width=0.6pt](6.2,8.2) circle (0.1);
		\draw[white,line width=1.5pt,opacity=0.6](9.902,8.243) circle (0.1);
		\draw[redback2,line width=0.6pt](9.902,8.243) circle (0.1);

		% COMPONENT STACK
		\draw[gridgray,dashed] (0,5.35) -- (0,5.8) -- (3.6,9.4) -- (4.75,9.4) -- (4.75,8.85) -- (5.8,7.8) -- (2.1,4.1) -- (1.25,4.1) -- cycle;
		\draw[gray] (3.3,5) node[rotate=45] {\scriptsize \texttt{Component Stack}};
		
		% COMPUTER
		\draw[gridgray,dashed] (8.8,7.4) -- (9.9,7.4) -- (10.5,6.8) -- (10.7,6.8) -- (11.3,6.2) -- (11.5,6.2) -- (12,5.7) -- (12,5.05) -- (6.95,0) -- (6.25,0) -- (4.65,1.6) -- (4.65,2.3) -- (4.1,2.85) -- (4.1,3.25) -- (4.2,3.35);
		\draw[gridgray,dashed] (5.55,4.6) -- (7.3,6.35);
		\draw[gray] (9.7,2.4) node[rotate=45] {\scriptsize \texttt{Computer}};
		
		% BORDER
		\draw[gridgray] (0,0) rectangle (12,9.72);
		
		% ZOOM BOX U0
			\newcommand\rzsmlx{3.93}
			\newcommand\rzsmrx{\rzsmlx+0.1945}
			\newcommand\rzsmby{9.13}
			\newcommand\rzsmty{\rzsmby+0.1945}
			
			\newcommand\rzbglx{3.6}
			\newcommand\rzbgrx{\rzbglx+1.552}
			\newcommand\rzbgty{11.05}
			\newcommand\rzbgby{\rzbgty-1.552}
			
			\path[draw,gridgray,line width=0.45pt] (\rzsmlx,\rzsmty) -- (\rzbglx,\rzbgty);
			\path[draw,gridgray,line width=0.45pt] (\rzsmrx,\rzsmty) -- (\rzbgrx,\rzbgty);
			
			\node[inner sep=0pt,anchor=north west] (zoom1) at (\rzbglx,\rzbgty) {\includegraphics[width=1.552cm]{../universal_computation/mult_computer_zoom1.png}};
			
			\path[fill,white,opacity=0.4,line width=0pt] (\rzsmlx,\rzsmty) -- (\rzsmrx,\rzsmty) -- (\rzsmrx,\rzsmby) -- (\rzbgrx,\rzbgby) -- (\rzbglx,\rzbgby) -- (\rzsmlx,\rzsmby) -- cycle;
			
			\path[draw,gridgray,line width=0.45pt] (\rzsmlx,\rzsmby) -- (\rzbglx,\rzbgby);
			\path[draw,gridgray,line width=0.45pt] (\rzsmrx,\rzsmby) -- (\rzbgrx,\rzbgby);
			
			%\node[inner sep=0pt] (zoom1_3x) at (3.35,7.95) {\includegraphics[width=0.21cm]{../mag.png} \footnotesize 8x};
			
			\filldraw[draw=gridgray,fill=white,line width=0.3pt,fill opacity=0.64] (\rzsmlx,\rzsmty) rectangle (\rzsmrx,\rzsmby);
			\draw[gridgray,line width=0.6pt] (\rzbglx,\rzbgty) rectangle (\rzbgrx,\rzbgby);
			
			\draw[gray] (\rzbglx,\rzbgty) node[anchor=north west] {\footnotesize \texttt{U0 = 7}};
			\draw[dred,opacity=0.5] (4.26,9.9) node[anchor=south west] {\footnotesize \texttt{0}};
			\draw[gray] (3.91,10.25) node[anchor=south west] {\footnotesize \texttt{7}};
		% END ZOOM BOX U0
		
		% ZOOM BOX U1
			\newcommand\ronesmlx{2.85}
			\newcommand\ronesmrx{\ronesmlx+0.1945}
			\newcommand\ronesmby{8.06}
			\newcommand\ronesmty{\ronesmby+0.1945}
			
			\newcommand\ronebglx{1.9}
			\newcommand\ronebgrx{\ronebglx+1.552}
			\newcommand\ronebgty{10.55}
			\newcommand\ronebgby{\ronebgty-1.552}
			
			\path[draw,gridgray,line width=0.45pt] (\ronesmlx,\ronesmty) -- (\ronebglx,\ronebgty);
			\path[draw,gridgray,line width=0.45pt] (\ronesmrx,\ronesmty) -- (\ronebgrx,\ronebgty);
			
			\node[inner sep=0pt,anchor=north west] (zoom1) at (\ronebglx,\ronebgty) {\includegraphics[width=1.552cm]{../universal_computation/mult_computer_zoom2.png}};
			
			\path[fill,white,opacity=0.4,line width=0pt] (\ronesmlx,\ronesmty) -- (\ronesmrx,\ronesmty) -- (\ronesmrx,\ronesmby) -- (\ronebgrx,\ronebgby) -- (\ronebglx,\ronebgby) -- (\ronesmlx,\ronesmby) -- cycle;
			
			\path[draw,gridgray,line width=0.45pt] (\ronesmlx,\ronesmby) -- (\ronebglx,\ronebgby);
			\path[draw,gridgray,line width=0.45pt] (\ronesmrx,\ronesmby) -- (\ronebgrx,\ronebgby);
			
			%\node[inner sep=0pt] (zoom1_3x) at (3.35,7.95) {\includegraphics[width=0.21cm]{../mag.png} \footnotesize 8x};
			
			\filldraw[draw=gridgray,fill=white,line width=0.3pt,fill opacity=0.64] (\ronesmlx,\ronesmty) rectangle (\ronesmrx,\ronesmby);
			\draw[gridgray,line width=0.6pt] (\ronebglx,\ronebgty) rectangle (\ronebgrx,\ronebgby);
			
			\draw[gray] (\ronebglx,\ronebgty) node[anchor=north west] {\footnotesize \texttt{U1 = 5}};
			\draw[dred,opacity=0.5] (2.57,9.39) node[anchor=south west] {\footnotesize \texttt{0}};
			\draw[gray] (2.32,9.66) node[anchor=south west] {\footnotesize \texttt{5}};
		% END ZOOM BOX U1
		
		% ZOOM BOX U2
			\newcommand\rtwosmlx{1.59}
			\newcommand\rtwosmrx{\rtwosmlx+2*0.193}
			\newcommand\rtwosmby{7.01}
			\newcommand\rtwosmty{\rtwosmby+2*0.193}
			
			\newcommand\rtwobglx{0.2}
			\newcommand\rtwobgrx{\rtwobglx+1.552}
			\newcommand\rtwobgty{10.05}
			\newcommand\rtwobgby{\rtwobgty-1.552}
			
			\path[draw,gridgray,line width=0.45pt] (\rtwosmlx,\rtwosmty) -- (\rtwobglx,\rtwobgty);
			\path[draw,gridgray,line width=0.45pt] (\rtwosmrx,\rtwosmty) -- (\rtwobgrx,\rtwobgty);
			
			\node[inner sep=0pt,anchor=north west] (zoom1) at (\rtwobglx,\rtwobgty) {\includegraphics[width=1.552cm]{../universal_computation/mult_computer_zoom3.png}};
			
			\path[fill,white,opacity=0.4,line width=0pt] (\rtwosmlx,\rtwosmty) -- (\rtwosmrx,\rtwosmty) -- (\rtwosmrx,\rtwosmby) -- (\rtwobgrx,\rtwobgby) -- (\rtwobglx,\rtwobgby) -- (\rtwosmlx,\rtwosmby) -- cycle;
			
			\path[draw,gridgray,line width=0.45pt] (\rtwosmlx,\rtwosmby) -- (\rtwobglx,\rtwobgby);
			
			%\node[inner sep=0pt] (zoom1_3x) at (3.35,7.95) {\includegraphics[width=0.21cm]{../mag.png} \footnotesize 8x};
			
			\filldraw[draw=gridgray,fill=white,line width=0.3pt,fill opacity=0.64] (\rtwosmlx,\rtwosmty) rectangle (\rtwosmrx,\rtwosmby);
			\draw[gridgray,line width=0.6pt] (\rtwobglx,\rtwobgty) rectangle (\rtwobgrx,\rtwobgby);
			
			\path[draw,gridgray,line width=0.45pt] (\rtwosmrx,\rtwosmby) -- (\rtwobgrx,\rtwobgby);
			
			\draw[gray] (\rtwobglx,\rtwobgty) node[anchor=north west] {\footnotesize \texttt{U2}};
			\draw[gren,opacity=0.5] (0.35,9.35) node[anchor=south west] {\footnotesize \texttt{35}};
			\draw[gray] (1.2,8.57) node[anchor=south west] {\footnotesize \texttt{0}};
		% END ZOOM BOX U2
		
		\draw[gray] (0.5,6.42) node[anchor=north west] {\footnotesize \texttt{U3}};
	\end{tikzpicture}
\end{document}