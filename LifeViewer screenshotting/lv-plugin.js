(function(){var q;window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.fm||performance.gm||performance.hm||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);window.cancelRequestAnimationFrame||(window.cancelRequestAnimationFrame=
window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame);window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);Array.c=function(n,a,f){var k=null,b=null,I=0,k=0,p=[];if(0!==f){if(I<n){for(b=new Uint8Array(a);k<
a;)b[k]=f,k+=1;p[I]=b;for(I+=1;I<n;)k=new Uint8Array(a),k.set(b),p[I]=k,I+=1}}else for(;I<n;)k=new Uint8Array(a),p[I]=k,I+=1;return p};Array.b=function(n,a){for(var f=null,k=0,b=[];k<n;)f=new Uint16Array(a),b[k]=f,k+=1;return b};Array.B=function(n){for(var a=null,f=0,k=[];1>f;)a=new Uint32Array(n),k[f]=a,f+=1;return k};Array.J=function(n,a){var f=0,k=n.length,b=new Uint8Array(n[0].length);if(0!==a)for(;f<k;)b[f]=a,f+=1;n[n.length]=b};Array.K=function(n,a){var f=0,k=n.length,b=new Uint16Array(n[0].length);
if(0!==a)for(;f<k;)b[f]=a,f+=1;n[n.length]=b};Array.w=function(n){var a=n.length,f=new Uint32Array(n[0].length);n[a]=f};Array.V=function(n,a){for(var f=0,k=n.length,b=0,I=0,p=null,J=null,w=!0;f<k;){p=n[f];J=a[f];I=p.length;for(b=0;b<I;)p[b]!==J[b]&&(w=!1),b+=1;f+=1}return w};Array.h=function(n,a){for(var f=0,k=n.length;f<k;)a[f].set(n[f]),f+=1};Array.o=function(n){for(var a=0,f=n.length,k=[],a=0;a<f;a+=1)k[a]=new Uint16Array(n[a].buffer);return k};Array.P=function(n){for(var a=0,f=n.length,k=[],a=
0;a<f;a+=1)k[a]=new Uint32Array(n[a].buffer);return k};Array.f=function(n,a){var f=0,k=n.length,b=[];switch(n[0].BYTES_PER_ELEMENT){case 1:for(f=0;f<k;f+=1)b[f]=new Uint8Array(n[f].buffer,a);break;case 2:for(f=0;f<k;f+=1)b[f]=new Uint16Array(n[f].buffer,a);break;case 4:for(f=0;f<k;f+=1)b[f]=new Uint32Array(n[f].buffer,a)}return b};q=new Uint32Array(1);q[0]=4660;52===(new Uint8Array(q.buffer))[0]?window.littleEndian=!0:window.littleEndian=!1;window.registerEvent=function(n,a,f,k){n.addEventListener?
n.addEventListener(a,f,k):n.attachEvent("on"+a,f)}})();(function(){function q(p,a,f,d,l){this.i=l;this.J=p;this.K=a;this.V=f;this.f="";this.o=p;this.w=a;this.P=f;this.c="";this.b=d;this.B=this.h=0;this.wj=this.nh="rgb(32,255,255)";this.Y="black";this.enabled=!1}function n(p,a,f,d){this.name=p;this.width=a;this.height=f;this.ll=d}function a(p,a){this.c=a;this.f=p;this.b=[]}function f(p,a,f,d,l,e,v,g,m,c,z,L,E,h,t,F,b,k,r,ba){this.N=!1;this.Aa=a;this.caller=f;this.icon=r;this.x=l;this.y=e;this.Xb=l;this.b=e;this.position=d;this.width=v;this.height=g;this.border=
h;this.type=L;E===I.xi?this.orientation=v>=g?I.Hb:I.Rg:this.orientation=E;this.lower=m;this.upper=c;switch(L){case I.Fe:this.current=[z,z];break;default:this.current=z}this.ni=t;this.Lb=F;this.Wh=b;this.fixed=k;this.Mh=!1;this.gf=this.ff=this.jf=this.hf=this.cj=this.bj=-1;this.textAlign=I.Bi;this.enabled=!0;this.locked=!1;this.Kf=[];this.yg=0;this.$k=!1;this.cc=ba.cc;this.Rb=ba.Rb;this.ic=ba.ic;this.fb=ba.fb;this.Lc=ba.Lc;this.Kc=ba.Kc;this.Rd=ba.Rd;this.hd=ba.hd;this.Mc=ba.Mc;this.bd=ba.bd;this.border=
ba.border}function k(p,a,f,d){this.b=d;this.locked=this.N=!1;this.ed=this.yc=-1;this.Ka=!1;this.w=6;this.Aa=p;this.Ib=[];this.ma=0;this.cc="";this.Rb=0;this.ic="";this.fb=0;this.Lc="";this.Kc=0;this.Rd="";this.hd=0;this.Mc="";this.border=this.bd=0;this.f=I.xi;this.h=-1;this.zh=null;this.Tf=a;this.caller=f;this.Da=null}function b(p,a,f,d,l,e){var v=this,g=0,m=p.canvas;this.Nd=!1;this.caller=l;this.fa=!1;this.mg=e;this.hasFocus=this.mh=!1;this.Ue=!0;this.Nf=!1;this.Mf=1;this.cc="black";this.Rb=.7;this.ic=
"rgb(32,255,255)";this.fb=1;this.Lc="rgb(0,240,32)";this.Kc=.7;this.Rd="blue";this.hd=.7;this.Mc="grey";this.border=this.bd=1;this.Ai=function(g){return function(){g.B(g)}}(this);this.Da=d;this.xc=p;this.lb=a;this.Ka=!1;this.Oc=this.Nc=-1;this.Pa=null;this.vh=f;this.yf=!1;this.Nh=performance.now();this.lj=1E3;this.Ld=5;this.If=0;this.Lh=[];this.Ph=[];this.Kh=[];for(g=0;5>g;g+=1)this.Lh[g]=0,this.Ph[g]=0,this.Kh[g]=0;this.mf=null;this.Oe=!1;this.notification=new q(25,100,25,a,this);registerEvent(m,
"mousedown",function(g){v.c(v,g)},!1);registerEvent(m,"mousemove",function(g){v.f(v,g)},!1);registerEvent(m,"mouseup",function(g){v.w(v,g)},!1);registerEvent(m,"mouseover",function(g){v.o(v,g)},!1);registerEvent(m,"mouseout",function(g){v.h(v,g)},!1);registerEvent(m,"touchstart",function(g){v.b(v,g)},!1);registerEvent(m,"touchmove",function(g){v.b(v,g)},!1);registerEvent(m,"touchend",function(g){v.b(v,g)},!1)}q.prototype.zd=function(){var p=!1;if(""!==this.f||""!==this.c)p=!0;return p};q.prototype.clear=
function(p,a){p?""!==this.c&&(a?this.c="":this.B=performance.now()-(this.o+this.w)):""!==this.f&&(a?this.f="":this.h=performance.now()-(this.J+this.K))};q.prototype.O=function(p,a,f){this.enabled&&(f?this.c!==p&&(this.c=p,this.o=240,this.w=16*a,this.P=240,this.B=performance.now()):(this.f=p,this.J=240,this.K=16*a,this.V=240,this.h=performance.now()))};q.prototype.Wc=function(p,a){var f=0,f=this.b.measureText(p).width>>1;this.b.fillStyle=this.Y;this.b.fillText(p,-f+2,2);this.b.fillStyle=a?this.wj:
this.nh;this.b.fillText(p,-f,0)};q.prototype.X=function(p,a,f,d,l,e,v){var g=0,m=0,g=0,c=!0;""!==p&&(c=!1,m=performance.now()-l,this.b.save(),this.b.font="30px Arial",this.b.translate(this.b.canvas.width/2,60+e),m<=a?(g=m/a,g*=g,this.b.globalAlpha=g,this.b.scale(g,g)):m>a+f&&m<=a+f+d&&(g=(d-(m-(a+f)))/d,g*=g,this.b.globalAlpha=g,this.b.scale(g,g)),m>a+f+d?c=!0:(g=p.indexOf("\\n"),-1===g?this.Wc(p,v):(this.Wc(p.substr(0,g),v),this.b.translate(0,32),this.Wc(p.substr(g+2),v))),this.b.restore());return c};
q.prototype.update=function(){!this.i.fa&&this.X(this.f,this.J,this.K,this.V,this.h,36,!1)&&(this.f="");this.i.fa&&"Expand"!==this.c||!this.X(this.c,this.o,this.w,this.P,this.B,0,!0)||(this.c="")};a.prototype.Wc=function(p,a,f){this.c.drawImage(this.f,p.ll*p.width,0,p.width,p.height,a,f,p.width,p.height)};a.prototype.length=function(){return this.b.length};a.prototype.icon=function(p){var a,f=this.b,d=this.length(),l=null;for(a=0;a<d&&!l;)f[a].name===p?l=f[a]:a+=1;return l};a.prototype.add=function(p,
a,f){var d=this.b.length;this.b[d]=new n(p,a,f,d)};var I={xi:0,Hb:1,Rg:2,Fe:0,button:1,toggle:2,Wb:3,list:4,label:5,di:0,xe:1,left:0,Bi:1,right:2,Rh:0,Sh:1,Oi:2,mc:3,Gj:4,Td:5,bm:6,qj:7,gl:8};f.prototype.wk=function(p,a){this.x=this.Xb;this.y=this.b;switch(this.position){case I.Rh:this.x=(p-this.width>>1)+this.Xb;break;case I.Sh:this.x=p+this.Xb;break;case I.Oi:this.y=(a-this.height>>1)+this.b;this.x=p+this.Xb;break;case I.mc:this.x=p+this.Xb;this.y=a+this.b;break;case I.Gj:this.x=(p-this.width>>
1)+this.Xb;this.y=a+this.b;break;case I.Td:this.y=a+this.b;break;case I.$l:this.y=(a-this.height>>1)+this.b;break;case I.gl:this.x=(p-this.width>>1)+this.Xb,this.y=(a-this.height>>1)+this.b}};f.prototype.wi=function(p,a){var f=this.yg;this.Kf[f]=[p,a];this.yg=f+1};f.prototype.vi=function(p){var a=[],f,d;d=p.length;for(f=0;f<d;f+=1)p[f].wi(this,!0);d=a.length;for(f=0;f<d;f+=1)a[f].wi(this,!1)};f.prototype.kl=function(p,a){var f=!1;this.enabled&&p>=this.x&&p<this.x+this.width&&a>=this.y&&a<this.y+this.height&&
(f=!0);return f};k.prototype.o=function(p,a){var f,d,l=p.yg;p.type===I.list&&p.upper===I.xe?f=p.current[0]:f=p.current===p.upper;p.$k&&(f=!f);if(f&&a)for(d=0;d<l;d+=1)f&=this.o(p.Kf[d][0],p.Kf[d][1]);return f};k.prototype.Vj=function(p){var a,f,d=p.yg;a=!0;for(f=0;f<d;f+=1)a&=this.o(p.Kf[f][0],p.Kf[f][1]);p.enabled=a};k.prototype.ad=function(){var a,f;for(f=0;f<this.ma;f+=1){a=this.Ib[f];a.enabled=!0;switch(a.type){case I.toggle:a.Aa&&(a.current=a.Aa(a.current===a.upper,!1,this.caller)?a.upper:a.lower);
break;case I.Fe:a.Aa&&(a.current=a.Aa(a.current,!1,this.caller));break;case I.list:a.Aa&&(a.current=a.Aa(a.current,!1,this.caller))}this.Vj(a)}};k.prototype.be=function(a,b,k,d,l,e,v,g){this.Ib[this.ma]=new f(0,a,this.caller,b,k,d,l,40,e,g,v,I.list,this.f,this.border,!0,"","",-1,[],this);this.ma+=1;return this.Ib[this.ma-1]};k.prototype.nd=function(a,b,k,d,l,e,v,g,m,c,z,L){this.Ib[this.ma]=new f(0,a,this.caller,b,k,d,l,e,v,g,m,I.Fe,this.f,this.border,!0,c,z,L,null,this);this.ma+=1;return this.Ib[this.ma-
1]};k.prototype.tc=function(a,b,k,d,l){this.Ib[this.ma]=new f(0,null,null,a,b,k,d,40,0,0,0,I.label,this.f,this.border,!0,l,"",-1,null,this);this.ma+=1;return this.Ib[this.ma-1]};k.prototype.rk=function(a){this.Ib[this.ma]=new f(0,a,this.caller,Menu.qj,45,0,40,40,0,0,0,I.button,this.f,this.border,!0,"","",-1,null,this);this.ma+=1;return this.Ib[this.ma-1]};k.prototype.sk=function(){this.Ib[this.ma]=new f(0,null,null,Menu.Td,0,-40,100,40,0,100,0,I.Wb,this.f,this.border,!1,"","",0,null,this);this.ma+=
1;return this.Ib[this.ma-1]};k.prototype.c=function(a,f,b){var d,l,e,v,g;a+=String();if(""!==a){this.b.save();this.b.translate(f.x+f.width/2,f.y+f.height/2);f.orientation===I.Rg&&this.b.rotate(.5*Math.PI);d=this.b.measureText(a).width;l=f.orientation===I.Rg?f.height:f.width;if(d>=l-6){if(e=a.length){do--e,v=a.substr(0,e)+"...",d=this.b.measureText(v).width;while(1<e&&d>=l-6)}a=v}switch(f.textAlign){case I.left:g=f.width/2-2;break;case I.Bi:g=d/2;break;case I.right:g=d/2-(f.width-d)/2+4}this.b.fillStyle=
this.cc;b&&this.b.fillRect(2-g,2,d,2);this.b.fillText(a,2-g+.5,2.5);this.b.fillStyle=f.locked||this.locked?this.Mc:this.ic;this.b.fillText(a,-g+.5,.5);b&&this.b.fillRect(-g,0,d,2);this.b.restore()}};k.prototype.K=function(a){this.b.globalAlpha=this.fb;this.c(a.Lb,a,!1)};k.prototype.B=function(a){this.b.globalAlpha=this.fb;this.c(a.Lb,a,!1);a.icon&&this.Da.Wc(a.icon,a.x,a.y)};k.prototype.V=function(a){var f;f=(a.current-a.lower)/(a.upper-a.lower);this.b.globalAlpha=this.Rb;this.b.fillStyle=this.ic;
a.orientation===I.Hb?(f*=a.width-3,this.b.fillRect(a.x+(f+1|0),a.y,1,a.height)):(f*=a.height-3,f=f+1|0,this.b.fillRect(a.x,a.y+f,a.width,1));f=a.Lb;a.ni&&(f=-1!==a.fixed?f+a.current.toFixed(a.fixed):f+a.current,f+=a.Wh);""!==f&&(this.b.globalAlpha=this.fb,this.c(f,a,!1))};k.prototype.X=function(a,f){var b,d;b=(a.current[0]-a.lower)/(a.upper-a.lower);d=this.w;a.orientation===I.Hb?(b*=a.width-3,b=b+1|0,f&&(this.b.fillStyle=this.Lc,this.b.globalAlpha=this.Kc,this.b.fillRect(a.x+b-d,a.y,d,a.height),this.b.fillRect(a.x+
b+1,a.y,d,a.height)),a.locked||this.locked?(this.b.fillStyle=this.Mc,this.b.globalAlpha=this.bd):(this.b.fillStyle=this.ic,this.b.globalAlpha=this.fb),this.b.fillRect(a.x+b,a.y,1,a.height)):(b*=a.height-3,b=b+1|0,f&&(this.b.fillStyle=this.Lc,this.b.globalAlpha=this.Kc,this.b.fillRect(a.x,a.y+b-d,a.width,d),this.b.fillRect(a.x,a.y+b+1,a.width,d)),a.locked||this.locked?(this.b.fillStyle=this.Mc,this.b.globalAlpha=this.bd):(this.b.fillStyle=this.ic,this.b.globalAlpha=this.fb),this.b.fillRect(a.x,a.y+
b,a.width,1));b=a.Lb;a.ni&&(b=0<=a.fixed?b+a.current[1].toFixed(a.fixed):b+a.current[1]);b+=a.Wh;""!==b&&(this.b.globalAlpha=this.fb,this.c(b,a,!1))};k.prototype.Y=function(a){var f,b;this.b.globalAlpha=this.fb;f="-"===a.lower&&""===a.upper&&a.current===a.lower;b=a.Lb;a.ni&&!f&&(b+=a.current);b+=a.Wh;this.c(b,a,f)};k.prototype.P=function(a,f){var b,d,l,e,v,g,m,c,z,L;e=a.x;v=a.y;m=a.width;c=a.height;z=a.orientation;L=a.current;l=a.lower;d=l.length;g=a.orientation===I.Hb?m/d:c/d;this.b.globalAlpha=
this.hd;this.b.fillStyle=this.Rd;if(a.upper===I.di)b=a.current,a.orientation===I.Hb?this.b.fillRect(e+b*g+1,v+1,g-2,c-2):this.b.fillRect(e+1,v+1+b*g,m-2,g-2);else if(a.orientation===I.Hb)for(b=0;b<d;b+=1)L[b]&&this.b.fillRect(e+b*g+1,v+1,g-2,c-2);else for(b=0;b<d;b+=1)L[b]&&this.b.fillRect(e+1,v+1+b*g,m-2,g-2);this.b.globalAlpha=this.fb;if(a.orientation===I.Hb)for(b=0;b<d;b+=1)a.icon[b]&&this.Da.Wc(a.icon[b],a.x+g*b,a.y);else for(b=0;b<d;b+=1)a.icon[b]&&this.Da.Wc(a.icon[b],a.x,a.y+g*b);f&&(this.b.globalAlpha=
this.Kc,this.b.fillStyle=this.Lc,a.orientation===I.Hb?(b=(this.yc-e)/m*d|0,0<=b&&b<d&&this.b.fillRect(e+b*g+.5,v+.5,g-1,c-1)):(b=(this.ed-v)/c*d|0,0<=b&&b<d&&this.b.fillRect(e+.5,v+.5+b*g,m-1,g-1)));this.b.globalAlpha=this.fb;this.b.fillStyle=this.ic;if(z===I.Hb)for(b=0;b<d;b+=1)e=l[b],""!==e&&(this.b.save(),this.b.translate((.5+(b-d/2))*g,0),this.c(e,a,!1),this.b.restore());else for(b=0;b<d;b+=1)e=l[b],""!==e&&(this.b.save(),this.b.translate(0,(.5+(b-d/2))*g),this.c(e,a,!1),this.b.restore())};k.prototype.J=
function(a,f,b,d){var l,e,v;!(b===d||-1===d&&f)||a.type!==I.button&&a.type!==I.toggle?(this.b.fillStyle=a.cc,this.b.globalAlpha=a.Rb):(this.b.fillStyle=a.Lc,this.b.globalAlpha=a.Kc);switch(a.type){case I.Wb:l=(a.current-a.lower)/(a.upper-a.lower);this.b.fillStyle=a.Rd;this.b.globalAlpha=a.hd;a.orientation===I.Hb?(l*=a.width-3,l=l+1|0,this.b.fillRect(a.x,a.y,l,a.height),this.b.fillStyle=a.cc,this.b.globalAlpha=a.Rb,this.b.fillRect(a.x+l,a.y,a.width-l,a.height)):(l*=a.height-3,l=l+1|0,this.b.fillRect(a.x,
a.y,a.width,l),this.b.fillStyle=a.cc,this.b.fillRect(a.x,a.y+l,a.width,a.height-l));break;case I.Fe:l=(a.current[0]-a.lower)/(a.upper-a.lower);b===d||-1===d&&f?(e=this.w,a.orientation===I.Hb?(l*=a.width-3,l=l+1|0,v=l-e,0<v&&this.b.fillRect(a.x,a.y,v,a.height),v=1+l+e,v<a.width&&this.b.fillRect(a.x+v,a.y,a.width-v,a.height)):(l*=a.height-3,l=l+1|0,v=l-e,0<v&&this.b.fillRect(a.x,a.y,a.width,v),v=1+l+e,v<a.height&&this.b.fillRect(a.x,a.y+v,a.width,a.height-v))):this.b.fillRect(a.x,a.y,a.width,a.height);
break;default:this.b.fillRect(a.x,a.y,a.width,a.height)}a.type!==I.list&&a.icon&&(this.b.globalAlpha=a.fb,this.Da.Wc(a.icon,a.x,a.y),!(b===d||-1===d&&f)||a.type!==I.button&&a.type!==I.toggle||(this.b.globalAlpha=a.hd,this.b.fillRect(a.x,a.y,a.width,a.height)));if(0<a.border)switch(a.locked||this.locked?(this.b.strokeStyle=a.Mc,this.b.globalAlpha=a.bd):(this.b.strokeStyle=a.ic,this.b.globalAlpha=a.fb),this.b.lineWidth=a.border,a.type){case I.label:break;case I.list:e=a.lower.length;if(a.orientation===
I.Hb)for(v=a.width/e,l=0;l<e;l+=1)this.b.strokeRect(a.x+.5+l*v,a.y+.5,v-1,a.height-1);else for(v=a.height/e,l=0;l<e;l+=1)this.b.strokeRect(a.x+.5,a.y+.5+l*v,a.width-1,v-1);break;default:this.b.strokeRect(a.x+.5,a.y+.5,a.width-1,a.height-1)}switch(a.type){case I.button:this.B(a);break;case I.label:this.K(a);break;case I.Fe:this.X(a,b===d||-1===d&&f);break;case I.toggle:this.Y(a);break;case I.Wb:this.V(a);break;case I.list:this.P(a,b===d||-1===d&&f)}if(b===d)switch(a.type){case I.Fe:l=this.ed,a.orientation===
I.Rg?(l<a.y?l=a.y:l>=a.y+a.height&&(l=a.y+a.height-1),a.current[0]=(l-a.y)/(a.height-1)*(a.upper-a.lower)+a.lower):(l=this.yc,l<a.x?l=a.x:l>=a.x+a.width&&(l=a.x+a.width-1),a.current[0]=(l-a.x)/(a.width-1)*(a.upper-a.lower)+a.lower),a.Aa&&(a.current=a.Aa(a.current,!0,a.caller))}if(f&&!this.Ka&&a.Mh)switch(a.type){case I.button:a.Aa&&a.Aa(a.caller);break;case I.toggle:a.current=a.current===a.upper?a.lower:a.upper;a.Aa&&a.Aa(a.current===a.upper,!0,a.caller);break;case I.list:e=a.lower.length,v=a.orientation===
I.Hb?(this.yc-a.x)/a.width*e|0:(this.ed-a.y)/a.height*e|0,a.upper===I.di?a.Aa?a.current=a.Aa(v,!0,a.caller):a.current=v:(a.current[v]=!a.current[v],a.Aa&&a.Aa(a.current,!0,a.caller))}f&&b===d?(a.Mh=this.Ka,a.bj=this.yc,a.cj=this.ed):(a.Mh=!1,a.bj=-1,a.cj=-1)};k.prototype.Ah=function(){var a=null,f=!1,b=this.h,d=0,l=!1,e=this.b.canvas.width,v=this.b.canvas.height,l=!1;if(!this.N){b=this.h;this.b.textAlign="left";for(d=0;d<this.ma;d+=1)a=this.Ib[d],a.N||(a.wk(e,v),f=a.kl(this.yc,this.ed)&&!(a.locked||
this.locked),this.Ka&&-1===b&&f&&(b=d),d===b&&(a.locked||this.locked)&&(b=-1,f=!1),a.enabled&&this.J(a,f,d,b));0<=b&&!this.Ka&&(l=!0);this.Ka&&-1===b&&(b=-2);-2===b&&this.zh&&!this.locked&&this.zh(this.yc,this.ed,this.Ka,this.caller);this.Ka||(b=-1);this.h=b;this.b.globalAlpha=1}return l};b.prototype.Bk=function(){var a=this.xc.canvas,f=a.offsetParent;this.offsetLeft=a.offsetLeft;for(this.offsetTop=a.offsetTop;f;)this.offsetLeft+=f.offsetLeft,this.offsetTop+=f.offsetTop,f=f.offsetParent;f=a.parentNode;
if("fixed"===f.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;else for(;"body"!==f.tagName.toLowerCase();)this.offsetLeft-=f.scrollLeft,this.offsetTop-=f.scrollTop,f=f.parentNode};b.prototype.Gk=function(a,f,b){a=new k(a,f,b,this.lb);a.ic=this.ic;a.fb=this.fb;a.cc=this.cc;a.Rb=this.Rb;a.Lc=this.Lc;a.Kc=this.Kc;a.Rd=this.Rd;a.hd=this.hd;a.Mc=this.Mc;a.bd=this.bd;a.border=this.border;
return a};b.prototype.B=function(a){var f,b,d,l,e,v=a.lb,g=v.canvas.width-96;a.Nf=!1;a.mf&&(a.Pa=a.mf,a.mf=null,v.font=a.vh,a.Pa.ad(),a.Pa.Tf&&a.Pa.Tf(a.Pa.caller));if(a.Ue||a.notification.zd()||a.Mf)a.wf(a),a.Mf&&--a.Mf;b=performance.now();d=b-a.Nh;a.Nh=b;a.Pa.Aa&&(d>a.lj?a.Pa.Aa(a.lj,a.Pa.caller):a.Pa.Aa(d,a.Pa.caller));b=performance.now()-b;f=performance.now();a.Ah();f=performance.now()-f;a.Lh[a.If]=f;for(e=f=0;e<a.Ld;e+=1)f+=a.Lh[e];f=f/a.Ld;a.Ph[a.If]=b;for(e=b=0;e<a.Ld;e+=1)b+=a.Ph[e];b=b/a.Ld;
a.Kh[a.If]=d;for(e=l=0;e<a.Ld;e+=1)l+=a.Kh[e];l=l/a.Ld;a.If=(a.If+1)%a.Ld;e=Math.round(1E3/l);a.yf&&(v.font="12px Arial",v.globalAlpha=.7,v.fillStyle="black",v.fillRect(g,40,96,83),d=d.toFixed(1),f=f.toFixed(1),b=b.toFixed(1),v.globalAlpha=1,v.fillText(e+"fps"+d+"ms",g+8,52),v.fillText("menu "+f+"ms",g+8,68),v.fillText("work "+b+"ms",g+8,84),v.fillText("update "+(a.Ue?"on":"off"),g+8,100),v.fillText("focus "+(a.hasFocus?"on":"off"),g+8,116),v.fillStyle="white",v.fillText(e+"fps "+d+"ms",g+6,50),v.fillText("menu "+
f+"ms",g+6,66),v.fillText("work "+b+"ms",g+6,82),v.fillText("update "+(a.Ue?"on":"off"),g+6,98),v.fillText("focus "+(a.hasFocus?"on":"off"),g+6,114),v.globalAlpha=1);a.notification.update();a.xc.drawImage(v.canvas,0,0)};b.prototype.qk=function(a){a.Da=this.Da;this.Pa?this.mf=a:(this.mf=null,this.Pa=a,this.lb.font=this.vh,this.Pa.ad(),this.Pa.Tf&&this.Pa.Tf(this.Pa.caller),this.wf(this))};b.prototype.Ah=function(){var a,f,b;if(this.Pa&&(f=this.Pa,this.lb.font=this.vh,f.yc=this.Nc,f.ed=this.Oc,f.Ka=
this.Ka,f.Ah()||this.Oe)){for(a=0;a<f.ma;a+=1)b=f.Ib[a],f.Vj(b);this.Oe=!1}};b.prototype.wf=function(a){a.Nf||(requestAnimationFrame?requestAnimationFrame(a.Ai):setTimeout(a.Ai,16),a.Nf=!0)};b.prototype.b=function(a,f){var b=null,d,l="";if("touchend"===f.type)l="mouseup",d=document.createEvent("MouseEvent"),d.initMouseEvent(l,!0,!0,window,1,a.hf,a.jf,a.ff,a.gf,!1,!1,!1,!1,0,null),f.target.dispatchEvent(d),f.preventDefault();else{if(1===f.touches.length)switch(f.type){case "touchstart":l="mousedown";
break;case "touchmove":l="mousemove"}""!==l&&(b=f.changedTouches[0],d=document.createEvent("MouseEvent"),d.initMouseEvent(l,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),b.target.dispatchEvent(d),f.preventDefault(),a.hf=b.screenX,a.jf=b.screenY,a.ff=b.clientX,a.gf=b.clientY)}};b.prototype.c=function(a,f){a.Nd||(a.hasFocus?a.fa&&a.mg&&a.mg(a.caller):(a.xc.canvas.focus(),a.hasFocus=!0,a.notification.clear(!0,!1),a.mg&&a.mg(a.caller)),a.Yd(a,f),a.Ka=!0,f.stopPropagation&&
f.stopPropagation(),f.preventDefault())};b.prototype.w=function(a,f){a.Nd||(a.Yd(a,f),a.Ka=!1,f.stopPropagation&&f.stopPropagation(),f.preventDefault())};b.prototype.f=function(a,f){a.Nd||(a.Yd(a,f),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};b.prototype.o=function(a,f){a.Nd||(a.hasFocus||a.mh||(a.fa?a.notification.O("Expand",600,!0):a.notification.O("Click to control",600,!0),a.mh=!0),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};b.prototype.h=function(a,f){a.Nd||(a.hasFocus||
a.notification.clear(!0,!1),a.xc.canvas.blur(),a.hasFocus=!1,a.Ka=!1,a.Nc=-1,a.Oc=-1,a.mh=!1,a.Nf||(a.wf(a),a.Mf=2),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};b.prototype.Yd=function(a,f){var b,d;f.pageX||f.pageY?(b=f.pageX,d=f.pageY):(b=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=f.clientY+document.body.scrollTop+document.documentElement.scrollTop);a.Bk();b-=a.offsetLeft;d-=a.offsetTop;a.Nc=b-1|0;a.Oc=d-1|0;a.Nf||(a.wf(a),a.Mf=2)};b.prototype.Sd=function(a){!a&&
!this.notification.zd()||this.Ue||this.wf(this);this.Ue=a};window.IconManager=a;window.Menu=I;window.MenuManager=b})();(function(){function q(a,k,b,n,p,q){this.Ie=a;this.Je=k;this.width=b;this.height=n;this.Ml=p;this.Pk=q}function n(f){var k=f.lastIndexOf(".");-1!==k&&(f=f.substr(0,k));this.name=f;this.Mb="";this.ef=!1;this.height=this.width=0;this.kb=this.Z=null;this.title="";this.ec=a.rh;this.Dc=a.xh;this.Jb="";this.Ae=2;this.Be=0;this.Yi=this.ld=!1}var a={maxWidth:8192,maxHeight:8192,rh:8,xh:12,el:256,Zb:new Uint8Array(256),Ij:new Uint32Array(256),Va:!1,Fb:!1,Dd:"history",ld:!1,Lk:function(a,k){var b,n,p,q,w=0,
d=0,l=0,e,v,g=!1;n=k.length;for(b=q=0;b<n;)switch(p=k[b],b+=1,q){case 0:switch(p){case "!":q=1;v=!0;break;case "O":case "*":case ".":q=2,d=w=l=0,--b,e=b}break;case 1:"\r"!==p&&(" "===p?v||(a.title+=p):(v=!1,a.title+=p));"\n"===p&&(q=0);break;case 2:switch(p){case "O":case "*":case ".":d+=1;break;case "\n":l+=1;d>w&&(w=d);d=0;break;case " ":break;default:b=n,g=!0}}if(!g){2===q&&"\n"!==p&&(l+=1,d>w&&(w=d));a.height=l;a.width=w;a.Jb="Cells";a.Z=Array.b(a.height,(a.width-1>>4)+1);b=e;for(q=w=0;b<n;)switch(p=
k[b],b+=1,p){case "\n":w+=1;q=0;break;case "O":case "*":a.Z[w][q>>4]|=1<<(~q&15);q+=1;break;case ".":q+=1}this.Va=!0}},Kk:function(a,k){var b,n,p,q,w,d,l,e,v,g;n=k.length;d=[];l=0;w=!1;v=e=0;g=!1;for(b=10;b<n;)switch(p=k[b],b+=1,p){case "\n":g&&(g=!1,2===q&&w&&(v=-v,w=!1),d[l]=[e,v],l+=1);q=v=e=0;break;case "-":w=!0;0===q?q=1:1===q&&(q=2);break;case " ":1===q&&(w&&(e=-e,w=!1),q=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===q&&(q=1),1===q?e=
10*e+parseInt(p,10):(v=10*v+parseInt(p,10),g=!0)}g&&(2===q&&w&&(v=-v),d[l]=[e,v],l+=1);if(l){p=n=d[0][0];w=q=d[0][1];for(b=1;b<l;b+=1)e=d[b][0],v=d[b][1],e<n&&(n=e),e>p&&(p=e),v<q&&(q=v),v>w&&(w=v);a.height=w-q+1;a.width=p-n+1;a.Z=Array.b(a.height,(a.width-1>>4)+1);a.Jb="Life 1.06";for(b=0;b<l;b+=1)e=d[b][0]-n,v=d[b][1]-q,a.Z[v][e>>4]|=1<<(~e&15)}},Gi:function(a,k,b){var n,p,J,w,d,l,e=[],v=0,g=k.length,m=0,c=0,z=!1,L=!1,E=0,h=0;for(b=b?10:0;b<g&&!L;)switch(p=k[b],b+=1,m){case 0:switch(p){case "#":m=
2;break;case "*":case ".":m=3,w=J=n=0,--b,d=b}break;case 2:switch(p){case "C":case "D":m=1;l=!0;break;case "N":m=0;break;case "R":m=4;break;case "P":m=5;c=2;z=!1;h=E=0;break;case "\n":m=0;break;default:m=1,l=!0}break;case 1:"\r"!==p&&(" "===p?l||(a.title+=p):(l=!1,a.title+=p));"\n"===p&&(m=0);break;case 4:switch(p){case "\n":m=0;break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":switch(c){case 1:a.ec|=1<<parseInt(p,10);break;case 0:a.Dc|=1<<parseInt(p,10)}break;
case "/":c=1}break;case 5:switch(p){case "\n":m=0;4===c&&z&&(h=-h,z=!1);break;case "-":z=!0;2===c?c=3:3===c&&(c=4);break;case " ":3===c&&(z&&(E=-E,z=!1),c=4);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":2===c&&(c=3),3===c?E=10*E+parseInt(p,10):h=10*h+parseInt(p,10)}break;case 3:switch(p){case "\n":n>J&&(J=n);n=0;w+=1;break;case "#":e[v]=new q(E,h,J,w,d,b-1);v+=1;m=2;break;case "*":case ".":n+=1;break;default:L=!0}}"\n"!==p&&(w+=1);3===m&&(e[v]=new q(E,
h,J,w,d,b-1),v+=1);if(v&&!L){E=e[0].Ie;h=e[0].Je;p=E+e[0].width-1;n=h+e[0].height-1;for(b=1;b<v;b+=1)e[b].Ie<E&&(E=e[b].Ie),e[b].Je<h&&(h=e[b].Je),e[b].Ie+e[b].width-1>p&&(p=e[b].Ie+e[b].width-1),e[b].Je+e[b].height-1>n&&(n=e[b].Je+e[b].height-1);a.height=n-h+1;a.width=p-E+1;a.Z=Array.b(a.height,(a.width-1>>4)+1);a.Jb="Life 1.05";for(b=0;b<v;b+=1)for(n=e[b].Ml,J=e[b].Pk,d=e[b].Ie-E,p=e[b].Je-h,w=d,l=p;n<=J;)switch(p=k[n],n+=1,p){case "\n":l+=1;w=d;break;case "*":a.Z[l][w>>4]|=1<<(~w&15);w+=1;break;
default:w+=1}}},Kl:function(a,k){var b,n,p,q,w,d,l,e;this.Fb=!1;l=e=d=w=0;n=a.length;q=!1;for(b=k;b<n&&!q;)switch(p=a[b],b+=1,p){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":l=10*l+parseInt(p,10);break;case "o":l||(l+=1);w+=l;l=0;break;case "b":l||(l+=1);w+=l;l=0;break;case "$":l||(l+=1);d+=l;w>e&&(e=w);l=w=0;break;case "!":q=!0;break;default:"p"<=p&&"y">=p?this.Fb=!0:"A"<=p&&"X">=p||"."===p?(this.Fb=!0,l||(l+=1),w+=l,l=0):"\n"!==p&&(d=w=e=0,q=!0)}b=d;
0<w&&(b+=1);return[e,b]},Xk:function(a,k,b,n){for(var p=b;p<n&&" "===k[p];)p+=1;if(p<n){for(b=p;b<n&&" "!==k[b]&&"\n"!==k[b]&&":"!==k[b];)b+=1;a.Mb=k.substr(p,b-p)}return p},Hi:function(f,k){var b,n,p,q,w,d,l,e,v,g,m;p="";var c=!1,z=!1,L=0,E=!1,h=a.el,t=this.Zb,F=this.Ij;q=[0,0];var N=!1,ea=0;p=null;this.Fb=!1;n=k.length;e=l=w=d=q=0;g=v=!1;f.ec=0;for(b=f.Dc=0;b<h;b+=1)t[b]=0,F[b]=0;for(b=0;b<n&&!v;)switch(p=k[b],b+=1,q){case 0:switch(p){case "#":q=2;break;case "x":q=3;break;case "\n":break;default:0===
f.width&&0===f.height&&(q=this.Kl(k,ea),f.width=q[0],f.height=q[1],e=l=0,0===f.width||0===f.height?(f.Z=null,f.kb=null,v=!0):f.width>a.maxWidth||f.height>a.maxHeight?v=f.ld=!0:0<f.width&&0<f.height&&(f.Z=Array.b(f.height,(f.width-1>>4)+1),f.kb=Array.c(f.height,f.width,0),f.Jb="RLE",f.ec=a.rh,f.Dc=a.xh,z=c=!0)),q=4,--b,ea=b}break;case 2:"\n"===p?q=0:(q=1,m=!0);break;case 1:"\r"!==p&&(" "===p?m||(f.title+=p):(m=!1,f.title+=p));"\n"===p&&(q=0);break;case 3:switch(p){case "\n":q=4;ea=b;f.width>a.maxWidth||
f.height>a.maxHeight?(v=f.ld=!0,f.Z=null,f.kb=null):0===f.width||0===f.height?(v=!0,f.Z=null,f.kb=null):(f.Z=Array.b(f.height,(f.width-1>>4)+1),f.kb=Array.c(f.height,f.width,0),f.Jb="RLE");break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":switch(w){case 0:f.width=10*f.width+parseInt(p,10);break;case 1:f.height=10*f.height+parseInt(p,10);break;case 2:f.ec|=1<<parseInt(p,10);break;case 3:f.Dc|=1<<parseInt(p,10)}break;case "y":4!==w&&(w=1,E=!1);break;case "r":4!==
w&&(w=2,E=!0);break;case "b":case "B":4!==w&&(c=!0,w=2);break;case "s":case "S":4!==w&&(z=!0,w=3);break;case "/":4!==w&&(c&&z?(w=4,z=c=!1):c?w=3:z?w=2:(w=2,f.Dc=f.ec,f.ec=0,z=c=!0));break;case " ":4===w&&(w=0);break;case ":":w=4;break;case "=":E&&(b=this.Xk(f,k,b,n),E=!1,p=f.Mb.toLowerCase(),-1!==p.lastIndexOf(a.Dd)&&p.lastIndexOf(a.Dd)===p.length-a.Dd.length&&(N=!0,f.ef=!0,f.Mb=f.Mb.substr(0,f.Mb.length-a.Dd.length)),-1===f.Mb.indexOf("/")&&(p=RuleManager.Dl(f.Mb.toLowerCase())))&&(f.ec=p.dc,f.Dc=
p.$b,z=c=!0,w=4,b+=f.Mb.length);break;case "h":case "H":if(N||c&&z)p=k.substr(b-1,a.Dd.length).toLowerCase(),p===a.Dd?b+=a.Dd.length-1:z=c=!1;break;default:if(c||z)z=c=!1}break;case 4:switch(p){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":d=10*d+parseInt(p,10);break;case "b":d||(d+=1);l+=d;d=0;break;case ".":d||(d+=1);l+=d;d=0;this.Fb=!0;t[0]||(t[0]=1,f.Be+=1);break;case "o":for(d||(d+=1);d--&&!v;)e>=f.height||l>=f.width?(q=0,b=ea,f.width=0,d=f.height=
0):(f.Z[e][l>>4]|=1<<(~l&15),l+=1);d=0;break;case "$":d||(d+=1);e+=d;d=l=0;break;case "!":v=g=!0;break;default:if("p"<=p&&"y">=p)this.Fb=!0,L=24*(p.charCodeAt(0)-111);else if("A"<=p&&"X">=p)if(this.Fb=!0,L+=p.charCodeAt(0)-64,0>L||L>=h)v=!0,f.Z=null,f.kb=null;else{d||(d+=1);for(F[L]+=d;d--&&!v;)e>=f.height||l>=f.width?(q=0,b=ea,f.width=0,d=f.height=0):(f.kb[e][l]=L,N?L&1&&(f.Z[e][l>>4]|=1<<(~l&15)):f.Z[e][l>>4]|=1<<(~l&15)),l+=1;d=0;t[L]||(t[L]=1,f.Be+=1);L>=f.Ae&&(f.Ae=L+1);L=0}}}if(g)for(;b<n;)p=
k[b],b+=1,f.title+=p;if(c&&z)this.Fb=!1,this.Va=!0;else if("life"===f.Mb.toLowerCase()||""===f.Mb)f.ec=a.rh,f.Dc=a.xh,this.Va=!0;this.Fb||N||(this.kb=null);f.Z||(f.title="");N&&7<f.Ae&&(f.Z=null,f.kb=null,this.Va=!1,f.Yi=!0)},create:function(a,k){var b=new n(a);this.Va=this.Fb=this.ld=!1;"!"===k.substr(0,1)||"O"===k.substr(0,1)||"."===k.substr(0,1)||"*"===k.substr(0,1)?(this.Lk(b,k),this.Va=!0):"#Life 1.05"===k.substr(0,10)?(this.Gi(b,k,!0),this.Va=!0):"#Life 1.06"===k.substr(0,10)?(this.Kk(b,k),
this.Va=!0):"#"===k[0]||"x"===k[0]?(this.Hi(b,k),null!==b.Z||b.ld||b.Yi||(this.Gi(b,k,!1),this.Va=!0,this.Fb=!1,b.kb=null,b.ef=!1,b.Ae=2,b.Be=0)):this.Hi(b,k);b.ld&&(this.ld=!0,this.Va=!1);null===b.Z&&(b=null,this.Va=!1);return b}};window.PatternManager=a;window.Pattern=n})();(function(){function q(){this.ph=[]}q.prototype.add=function(a,f,k){this.ph[this.ph.length]=a<<16|f<<8|k};var n={Fc:[],sf:[],Xi:!1,th:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,169,255,188,252,
179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,59,59,5,145,119,
39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,113,255,189,47,
0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,158,136,0,247,
62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,108,159,99,255,
226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],sh:[],sb:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,245,220],bisque:["Bisque",
255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",0,0,139],darkcyan:["DarkCyan",
0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",47,79,79],
darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],gray:["Gray",
128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",
224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",
250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",
25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",
219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],
seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",
255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},dm:function(){return this.sh},Di:function(a){for(var f=0,k=!1,b=[];f<this.sf.length&&!k;)a===this.sf[f][0]?k=!0:f+=1;k&&(b=this.Fc[this.sf[f][1]].ph);return b},T:function(a){this.sf[this.sf.length]=a},ad:function(){var a=null,f=0,k=a=0;if(!this.Xi){this.Xi=!0;for(a=k=0;256>a;a+=1)this.sh[a]=this.th[k]<<16|this.th[k+1]<<8|this.th[k+2],k+=3;a=new q;a.add(0,0,0);a.add(0,255,0);a.add(0,
0,128);a.add(216,255,216);a.add(255,0,0);a.add(255,255,0);a.add(96,96,96);this.Fc[f]=a;n.T(["LifeHistory",f]);f+=1;a=new q;a.add(48,48,48);a.add(0,128,255);a.add(255,255,255);a.add(255,128,0);this.Fc[f]=a;n.T(["WireWorld",f]);f+=1;a=new q;a.add(0,0,0);a.add(255,255,255);a.add(144,128,112);a.add(144,90,45);a.add(192,192,192);a.add(255,0,0);a.add(255,128,0);a.add(255,255,0);a.add(0,255,0);a.add(0,255,208);a.add(0,192,255);a.add(0,0,255);a.add(192,0,255);a.add(255,64,160);a.add(112,128,144);a.add(0,
128,0);a.add(0,96,128);a.add(160,0,80);a.add(40,40,40);a.add(220,220,220);a.add(140,60,0);a.add(0,160,0);a.add(160,160,250);this.Fc[f]=a;n.T(["WWE",f]);n.T(["WWE2",f]);n.T(["WWEJ",f]);n.T(["WWEJ2",f]);n.T(["WWEJ3",f]);f+=1;a=new q;a.add(30,30,30);a.add(0,128,128);a.add(0,255,0);a.add(255,0,0);a.add(255,128,0);a.add(255,255,0);a.add(128,0,128);a.add(128,128,128);a.add(255,255,255);a.add(128,128,255);this.Fc[f]=a;n.T(["Novoloop",f]);f+=1;a=new q;a.add(0,0,0);a.add(255,128,0);a.add(255,0,0);a.add(0,
255,0);a.add(0,0,255);a.add(0,190,0);a.add(0,140,0);a.add(255,255,255);a.add(80,80,80);a.add(95,95,95);a.add(128,128,128);a.add(0,64,0);a.add(255,255,0);a.add(64,0,164);a.add(64,32,64);a.add(80,80,100);a.add(95,95,125);a.add(128,255,128);a.add(64,100,100);this.Fc[f]=a;n.T(["shapeloop",f]);n.T(["shapeloop-b",f]);n.T(["shapeloop2",f]);n.T(["shapeloop-ltd",f]);n.T(["2armshapeloop-a",f]);n.T(["2armshapeloop2-a",f]);n.T(["shapeloop2a-bounded",f]);n.T(["foodshapeloop",f]);n.T(["foodshapeloop2",f]);f+=1;
a=new q;a.add(0,0,0);a.add(255,255,255);a.add(255,0,0);a.add(0,128,255);a.add(170,0,0);a.add(85,0,0);this.Fc[f]=a;n.T(["b3s23mmg",f]);f+=1;a=new q;a.add(0,0,0);a.add(255,0,0);a.add(0,255,0);a.add(0,0,255);a.add(255,255,0);a.add(0,255,255);a.add(255,0,255);a.add(92,36,110);a.add(0,99,140);a.add(176,196,222);a.add(115,61,26);this.Fc[f]=a;n.T(["_235_4_O3",f]);n.T(["0_245_5_O4",f]);n.T(["0_245_5_O3",f]);n.T(["58_27_4_O3",f]);n.T(["0_24_4H_O3",f]);n.T(["2_235_4H_O3",f]);n.T(["24_235_4H_O3",f]);n.T(["3_25_4_O2",
f]);n.T(["Snake_O5",f]);n.T(["Mites",f]);n.T(["Mites2",f]);n.T(["Mites3",f]);f+=1;a=new q;a.add(48,48,48);a.add(255,128,0);a.add(0,0,255);a.add(32,32,255);a.add(64,64,255);a.add(96,96,255);this.Fc[f]=a;n.T(["Alpha-1",f])}}};window.ColourManager=n})();window.BoundingBox=function(q,n,a,f){this.ba=q;this.aa=n;this.da=a;this.ga=f};(function(){function q(a,f){this.index=f;this.$=a.Me[f];this.tb=a.ge[f];this.c=a.pg[f];this.b=a.Yf[f];this.v=new BoundingBox(0,0,0,0);this.elapsedTime=this.hc=this.fc=this.lc=0;this.m=-1;this.f=a}function n(){var a=0,f=0,k=0;this.Sa=[];this.vc=[];this.Me=[];this.ge=[];this.pg=[];this.Yf=[];this.b=0;this.index=-1;this.dl=33;this.Cc=null;this.sd=new Uint8Array(256);for(a=0;a<this.sd.length;a+=1){f=a;for(k=0;f;k+=1)f&=f-1;this.sd[a]=k}}q.prototype.Bl=function(a,f,k){var b=f.length,n=f[0].length,p=0,
q=0,w=0,d=0,l=0,e=0,v=null,g=0,m=k.Gf;k=k.Hf;var c=0,z=0,L=this.c,E=0,h=L[E],t=h.length,F=0;Array.h(this.$,f);for(q=0;q<b;q+=1){v=this.$[q];for(p=c=0;p<n;p+=1)if(g=v[p])for(w=15;0<=w;--w)0!==(g&1<<w)&&(l=z,d=c,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l+1][d]=F>>16&255,a[l+1][d+1]=F>>24,l+=2,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l+1][d]=F>>16&255,a[l+1][d+1]=F>>24,l+=2,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l+1][d]=F>>16&255,a[l+1][d+1]=F>>24,l+=2,F=h[e],e+=1,a[l][d]=F&255,a[l][d+
1]=F>>8&255,a[l+1][d]=F>>16&255,a[l+1][d+1]=F>>24,l+=2,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l+1][d]=F>>16&255,a[l+1][d+1]=F>>24,l+=2,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l+1][d]=F>>16&255,a[l+1][d+1]=F>>24,l+=2,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l+1][d]=F>>16&255,a[l+1][d+1]=F>>24,l+=2,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l+1][d]=F>>16&255,a[l+1][d+1]=F>>24,e>=t&&(E+=1,h=L[E],e=0)),c+=m;else c+=m<<4;z+=k}};q.prototype.Gl=function(a,f,k){var b=f.length,n=f[0].length,
p=0,q=0,w=0,d=0,l=0,e=0,v=null,g=0,w=0,m=k.Gf;k=k.Hf;var c=0,z=0,L=this.c,E=0,h=L[E],t=h.length,F=L.length,d=this.f.sd;Array.h(f,this.$);for(q=0;q<b;q+=1)for(v=f[q],p=0;p<n;p+=1)(g=v[p])&&(w+=d[g>>8]+d[g&255]);if(w)for(q=0;q<b;q+=1){v=f[q];for(p=c=0;p<n;p+=1)if(g=v[p])for(w=15;0<=w;--w)0!==(g&1<<w)&&(l=z,d=c,h[e]=a[l][d]|a[l][d+1]<<8|a[l+1][d]<<16|a[l+1][d+1]<<24,e+=1,l+=2,h[e]=a[l][d]|a[l][d+1]<<8|a[l+1][d]<<16|a[l+1][d+1]<<24,e+=1,l+=2,h[e]=a[l][d]|a[l][d+1]<<8|a[l+1][d]<<16|a[l+1][d+1]<<24,e+=
1,l+=2,h[e]=a[l][d]|a[l][d+1]<<8|a[l+1][d]<<16|a[l+1][d+1]<<24,e+=1,l+=2,h[e]=a[l][d]|a[l][d+1]<<8|a[l+1][d]<<16|a[l+1][d+1]<<24,e+=1,l+=2,h[e]=a[l][d]|a[l][d+1]<<8|a[l+1][d]<<16|a[l+1][d+1]<<24,e+=1,l+=2,h[e]=a[l][d]|a[l][d+1]<<8|a[l+1][d]<<16|a[l+1][d+1]<<24,e+=1,l+=2,h[e]=a[l][d]|a[l][d+1]<<8|a[l+1][d]<<16|a[l+1][d+1]<<24,e+=1,e>=t&&(E+=1,e=0,E>=F&&(Array.w(L),F+=1)),h=L[E]),c+=m;else c+=m<<4;z+=k}else this.c=null};q.prototype.Al=function(a,f,k){var b=f.length,n=f[0].length,p=0,q=0,w=0,d=0,l=0,
e=0,v=null,g=0,m=k.Gf<<3;k=k.Hf;var c=0,z=0,L=this.b,E=0,h=L[E],t=h.length,F=0;Array.h(this.tb,f);for(q=0;q<b;q+=1){v=f[q];for(p=c=0;p<n;p+=1)if(g=v[p])for(w=15;0<=w;--w){if(0!==(g&1<<w))for(d=c;d<c+m;d+=4)l=z,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l][d+2]=F>>16&255,a[l][d+3]=F>>24,l+=1,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l][d+2]=F>>16&255,a[l][d+3]=F>>24,l+=1,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l][d+2]=F>>16&255,a[l][d+3]=F>>24,l+=1,F=h[e],e+=1,a[l][d]=F&255,a[l][d+
1]=F>>8&255,a[l][d+2]=F>>16&255,a[l][d+3]=F>>24,l+=1,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l][d+2]=F>>16&255,a[l][d+3]=F>>24,l+=1,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l][d+2]=F>>16&255,a[l][d+3]=F>>24,l+=1,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l][d+2]=F>>16&255,a[l][d+3]=F>>24,l+=1,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l][d+2]=F>>16&255,a[l][d+3]=F>>24,l+=1,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l][d+2]=F>>16&255,a[l][d+3]=F>>24,l+=1,F=h[e],e+=1,a[l][d]=
F&255,a[l][d+1]=F>>8&255,a[l][d+2]=F>>16&255,a[l][d+3]=F>>24,l+=1,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l][d+2]=F>>16&255,a[l][d+3]=F>>24,l+=1,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l][d+2]=F>>16&255,a[l][d+3]=F>>24,l+=1,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l][d+2]=F>>16&255,a[l][d+3]=F>>24,l+=1,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l][d+2]=F>>16&255,a[l][d+3]=F>>24,l+=1,F=h[e],e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l][d+2]=F>>16&255,a[l][d+3]=F>>24,l+=1,F=h[e],
e+=1,a[l][d]=F&255,a[l][d+1]=F>>8&255,a[l][d+2]=F>>16&255,a[l][d+3]=F>>24,e>=t&&(E+=1,h=L[E],e=0);c+=m}else c+=m<<4;z+=k}};q.prototype.El=function(a,f,k){var b=f.length,n=f[0].length,p=0,q=0,w=0,d=0,l=0,e=0,v=null,g=0,w=0,m=k.Gf<<3;k=k.Hf;var c=0,z=0,L=this.b,E=0,h=L[E],t=h.length,F=L.length,d=this.f.sd;Array.h(f,this.tb);for(q=0;q<b;q+=1)for(v=f[q],p=0;p<n;p+=1)(g=v[p])&&(w+=d[g>>8]+d[g&255]);if(w)for(q=0;q<b;q+=1){v=f[q];for(p=c=0;p<n;p+=1)if(g=v[p])for(w=15;0<=w;--w){if(0!==(g&1<<w))for(d=c;d<
c+m;d+=4)l=z,h[e]=a[l][d]|a[l][d+1]<<8|a[l][d+2]<<16|a[l][d+3]<<24,e+=1,l+=1,h[e]=a[l][d]|a[l][d+1]<<8|a[l][d+2]<<16|a[l][d+3]<<24,e+=1,l+=1,h[e]=a[l][d]|a[l][d+1]<<8|a[l][d+2]<<16|a[l][d+3]<<24,e+=1,l+=1,h[e]=a[l][d]|a[l][d+1]<<8|a[l][d+2]<<16|a[l][d+3]<<24,e+=1,l+=1,h[e]=a[l][d]|a[l][d+1]<<8|a[l][d+2]<<16|a[l][d+3]<<24,e+=1,l+=1,h[e]=a[l][d]|a[l][d+1]<<8|a[l][d+2]<<16|a[l][d+3]<<24,e+=1,l+=1,h[e]=a[l][d]|a[l][d+1]<<8|a[l][d+2]<<16|a[l][d+3]<<24,e+=1,l+=1,h[e]=a[l][d]|a[l][d+1]<<8|a[l][d+2]<<16|
a[l][d+3]<<24,e+=1,l+=1,h[e]=a[l][d]|a[l][d+1]<<8|a[l][d+2]<<16|a[l][d+3]<<24,e+=1,l+=1,h[e]=a[l][d]|a[l][d+1]<<8|a[l][d+2]<<16|a[l][d+3]<<24,e+=1,l+=1,h[e]=a[l][d]|a[l][d+1]<<8|a[l][d+2]<<16|a[l][d+3]<<24,e+=1,l+=1,h[e]=a[l][d]|a[l][d+1]<<8|a[l][d+2]<<16|a[l][d+3]<<24,e+=1,l+=1,h[e]=a[l][d]|a[l][d+1]<<8|a[l][d+2]<<16|a[l][d+3]<<24,e+=1,l+=1,h[e]=a[l][d]|a[l][d+1]<<8|a[l][d+2]<<16|a[l][d+3]<<24,e+=1,l+=1,h[e]=a[l][d]|a[l][d+1]<<8|a[l][d+2]<<16|a[l][d+3]<<24,e+=1,l+=1,h[e]=a[l][d]|a[l][d+1]<<8|a[l][d+
2]<<16|a[l][d+3]<<24,e+=1,e>=t&&(E+=1,e=0,E>=F&&(Array.w(L),F+=1),h=L[E]);c+=m}else c+=m<<4;z+=k}else this.b=null};n.prototype.bufferSize=function(){for(var a=0,f=0;f<this.vc.length;)a+=this.Me[f].length*this.Me[f][0].length*2,a+=this.ge[f].length*this.ge[f][0].length*2,a+=this.pg[f].length*this.pg[f][0].length*4,a+=this.Yf[f].length*this.Yf[f][0].length*4,f+=1;return a};n.prototype.Vl=function(){for(var a=0,f=0;f<this.vc.length;)this.vc[f]&&(a+=1),f+=1;return a};n.prototype.reset=function(){var a=
0,f=-1;this.Sa=[];this.index=-1;this.Cc&&(f=this.Cc.index);for(;a<this.vc.length;)a!==f&&(this.vc[a]=!1),a+=1};n.prototype.Ll=function(a){var f=null;0<this.Sa.length&&(f=this.Sa[this.index],f.m>a&&(f=null,0<this.index&&(this.c(this.Sa[this.index].index),this.Sa.pop(),--this.index,0<=this.index&&(f=this.Sa[this.index]))));return f};n.prototype.uf=function(a,f,k,b,n,p,q,w,d,l,e,v,g,m){var c=null,c=0;if(m)c=this.Cc;else if(33>this.Sa.length)c=this.qh(e,v,!1),this.index+=1;else{this.index+=1;if(33<=this.index){this.index=
32;this.c(this.Sa[0].index);for(c=0;32>c;c+=1)this.Sa[c]=this.Sa[c+1];this.Sa.pop();this.qh(e,v,!1)}c=this.Sa[this.index]}c.Gl(a,f,g);c.El(k,b,g);c.v.ba=n.ba;c.v.da=n.da;c.v.aa=n.aa;c.v.ga=n.ga;c.lc=p;c.fc=q;c.hc=w;c.elapsedTime=d;c.m=l};n.prototype.c=function(a){this.vc[a]=!1};n.prototype.h=function(a,f){for(var k=0,b=0,k=!1;b<this.b&&!k;)this.vc[b]?b+=1:k=!0;k?(k=b,this.vc[b]=!0):(this.Me[b]=Array.b(f,a),this.ge[b]=Array.b(f,a),this.pg[b]=Array.B(128),this.Yf[b]=Array.B(1024),this.vc[b]=!0,this.b+=
1,k=b);return k};n.prototype.qh=function(a,f,k){a=this.h(a,f);a=new q(this,a);k?this.Cc=a:this.Sa[this.Sa.length]=a;return a};n.prototype.f=function(a,f,k,b){var n=a.$,p=a.tb,q=a.$.length,w=q>>1,d=a.$[0].length>>1,l=0,e=a.index;this.Me[e]=Array.b(k,f);this.ge[e]=Array.b(k,f);a.$=this.Me[e];for(a.tb=this.ge[e];l<q;)a.$[l+w].set(n[l],d),a.tb[l+w].set(p[l],d),l+=1;a.v.ba+=b;a.v.da+=b;a.v.aa+=b;a.v.ga+=b};n.prototype.zl=function(a,f,k){var b=0,n=this.Sa.length;for(this.f(this.Cc,a,f,k);b<n;)this.f(this.Sa[b],
a,f,k),b+=1};window.SnapshotManager=n;window.Snapshot=q})();(function(){function q(a,e){var v,g,m,c=!0;this.name=a;this.dc=this.$b=0;g=e.length;for(v=0;v<g;){m=e[v];switch(m){case "B":case "b":c=!1;break;case "S":case "s":c=!0;break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":c?this.$b|=1<<parseInt(m,10):this.dc|=1<<parseInt(m,10);break;case "/":c=!1;break;default:this.dc=this.$b=-1,v=g}v+=1}}function n(a,e,v){this.ja=e;this.ha=a;this.Ma=v}function a(a,e,v){this.red=a;this.green=e;this.blue=v}function f(a,e){this.L=a;this.M=
e}function k(a,e,v,g,m){this.Cg=ViewConstants.Ii;this.bh=new Int32Array(b.Xh);this.dh=new Int32Array(b.Xh);this.fe=4294967295;this.Hc=this.rf=!1;this.elapsedTime=0;this.Nb=new SnapshotManager;this.Kd=b.zf;this.Ia=this.Sj=!1;this.ua=this.v=null;this.title="LifeViewer";this.width=g;this.height=m;this.Gf=2;this.Hf=16;this.c=this.width>>4;this.f=this.height>>4;this.Cc=this.Nb.qh((this.c-1>>4)+1,this.f,!0);this.j=e;this.g=v;this.hc=this.fc=this.lc=0;this.V=64;this.J=127;this.Fd=63;this.rc=1;this.Nh=this.Ma=
0;this.td=this.gc=this.l=1;this.Ci=30;this.$b=12;this.dc=8;this.s=this.m=0;this.zoom=6;this.G=this.F=0;this.vb=.1;this.X=0;this.h=1;this.B=this.w=0;this.b=.1;this.lf=littleEndian;this.nb=[];this.Eb=this.Ga=this.Ha=this.ac=this.Ua=this.$a=null;this.xb=11;this.rb=this.eb=this.Ed=null;this.Bd=a;this.ra=this.na=0;this.$=Array.b(this.f,(this.c-1>>4)+1);this.gb=Array.b(this.f,(this.c-1>>4)+1);this.Na=Array.c(this.height,(this.width-1>>3)+1,0);this.ab=Array.c(this.height,(this.width-1>>3)+1,0);this.ub=Array.o(this.Na);
this.bb=Array.o(this.ab);this.Uc=new Uint32Array(this.j);this.jb=new Uint8Array((this.width-1>>3)+1);this.Bb=new Uint16Array(this.c>>4);this.Rc=new Uint8Array(this.width);this.ka=Array.c(this.height,this.width,this.Ma);this.o=Array.c(this.height,this.width,this.Ma);this.Y=Array.f(this.o,1);this.ia=Array.f(this.o,3);this.oa=Array.f(this.o,7);this.tf=Array.o(this.ka);this.Yc=this.qc=this.Qb=this.Pb=this.P=this.yb=null;this.tb=Array.b(this.f,(this.c-1>>4)+1);this.cb=Array.b(this.f,(this.c-1>>4)+1);this.nc=
this.Cb=this.Db=this.ya=null;this.gd=new Uint8Array(256);this.Zc=new Uint8Array(256);this.Tc=new Uint8Array(256);this.Bc=new Uint32Array(256);this.ve=new Uint8Array(b.bf);this.ye=new Uint8Array(b.bf);this.Cf=new Uint8Array(2*(this.J+1));this.Lf=Array.c(65536,16,0);this.Jc=this.Ti=5263440;this.Hd=-1;this.Ic=this.Si=7368816;this.Gd=-1;this.$c=10;this.sd=new Uint8Array(256);this.Cd=new Uint8Array(65536);this.Vc=new Uint16Array((this.width-1>>4)+1);this.Sc=new Uint16Array((this.width-1>>4)+1);this.wa=
8192}var b={Xh:8192,bf:262144,zf:32,Ub:1,Yb:2,Re:4,ee:8,Pe:16,Qe:32,ce:64,de:128},I=new Uint8Array(b.bf),p=new Uint8Array(b.bf),J=-1,w=-1,d={Ge:[],length:function(){return this.Ge.length},Dg:function(a){return this.Ge[a]},Dl:function(a){for(var e=0,v=this.length(),g=null,m=!1;e<v&&!m;)this.Ge[e].name.toLowerCase()===a?(g=this.Ge[e],m=!0):e+=1;return g},add:function(a,e){var v,g,m,c=!1;g=this.Ge;m=g.length;v=new q(a,e);0<=v.$b&&(c=!0,g[m]=v);return c},Cl:function(a,e){var v,g,m,c;v=this.Ge;m=v.length;
g=0;for(c=!1;g<m&&!c;)e===v[g].$b&&a===v[g].dc?c=!0:g+=1;c||(g=-1);return g},Bj:function(a,e){var v,g;g="B";for(v=0;9>v;v+=1)0!==(a&1<<v)&&(g+=v);g+="/S";for(v=0;9>v;v+=1)0!==(e&1<<v)&&(g+=v);return g}};n.prototype.Yk=function(){var a=!0;this.ja.L.Hh(this.ja.M)&&this.ha.L.Hh(this.ha.M)&&this.ha.L.Hh(this.Ma)&&(a=!1);return a};a.prototype.set=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue};a.prototype.Hh=function(a){var e=!1;this.red===a.red&&this.green===a.green&&this.blue===a.blue&&
(e=!0);return e};f.prototype.set=function(a){this.L.set(a.L);this.M.set(a.M)};k.prototype.Ff=function(a){for(var e=null,v=0,g=0,m=0,c=a.length,z=a[0].length,d=this.sd,E=0,v=0;v<c;v+=1)for(e=a[v],g=0;g<z;g+=1)(m=e[g])&&(E+=d[m>>8]+d[m&255]);return E};k.prototype.Fg=function(a,e,v){var g=this.Nb.Sa.length,m=this.Nb.Ll(a),c=!0;g!==this.Nb.Sa.length&&(this.Kd-=b.zf);if(m){for(this.Rf(m);this.m<a-1;)this.Jd(!1,this.elapsedTime,!0),this.ie();this.m<a&&this.Jd(e,this.elapsedTime,!0);c=this.ie();this.elapsedTime=
v-(v-m.elapsedTime)/(a-m.m+1)}return c};k.prototype.Rf=function(a){var e=null,v=null,g=null,m=null,c=0,z=0,d=this.jb,E=this.Rc;this.m=a.m;0!==(this.m&1)?(e=this.ab,v=this.Na,g=this.gb,m=this.$):(e=this.Na,v=this.ab,g=this.$,m=this.gb);z=e.length;for(c=0;c<z;c+=1)e[c].set(d),this.ka[c].set(E),this.o[c].set(E);Array.h(e,v);Array.h(this.cb,this.tb);a.Bl(e,g,this);a.Al(this.ka,this.cb,this);Array.h(g,m);Array.h(e,v);this.v.ba=a.v.ba;this.v.aa=a.v.aa;this.v.da=a.v.da;this.v.ga=a.v.ga;this.lc=a.lc;this.fc=
a.fc;this.hc=a.hc;this.elapsedTime=a.elapsedTime};k.prototype.uf=function(a){var e=null,v=null;0!==(this.m&1)?(e=this.ab,v=this.gb):(e=this.Na,v=this.$);this.Sf(!1,e,v,a)};k.prototype.Aj=function(a){this.Rf(this.Cc);this.Nb.reset();this.Kd=b.zf;a||this.uf(0)};k.prototype.Sf=function(a,e,v,g){this.Nb.uf(e,v,this.ka,this.cb,this.v,this.lc,this.fc,this.hc,g,this.m,(this.c-1>>4)+1,this.f,this,a)};k.prototype.Fl=function(a){this.Nb.reset();this.Sf(!0,this.Na,this.$,0);a||this.uf(0)};k.prototype.Ui=function(){var a=
this.Na,e=this.ab,v=this.ka,g=this.o,m=this.yb,c=this.P,z=this.ya,d=this.Cb,E=this.Db,h=this.nc,f=this.$,b=this.gb,N=this.tb,k=this.cb,r=this.height,n=this.f,u=this.width>>1,D=this.height>>1,A=0;if(8192>this.width){this.width*=2;this.height*=2;this.Na=Array.c(this.height,(this.width-1>>3)+1,0);this.ab=Array.c(this.height,(this.width-1>>3)+1,0);this.ub=Array.o(this.Na);this.bb=Array.o(this.ab);z&&(this.ya=Array.b(this.height,(this.width-1>>4)+1),this.Cb=Array.b(this.height,(this.width-1>>4)+1),this.Db=
Array.b(this.height,(this.width-1>>4)+1));this.c=this.width>>4;this.f=this.height>>4;z&&(this.nc=Array.b(this.f,(this.c-1>>4)+1));this.$=Array.b(this.f,(this.c-1>>4)+1);this.gb=Array.b(this.f,(this.c-1>>4)+1);this.tb=Array.b(this.f,(this.c-1>>4)+1);this.cb=Array.b(this.f,(this.c-1>>4)+1);this.jb=new Uint8Array((this.width-1>>3)+1);this.Bb=new Uint16Array(this.c>>4);this.Rc=new Uint8Array(this.width);this.Vc=new Uint16Array((this.width-1>>4)+1);this.Sc=new Uint16Array((this.width-1>>4)+1);this.ka=
Array.c(this.height,this.width,this.Ma);this.o=Array.c(this.height,this.width,this.Ma);this.Y=Array.f(this.o,1);this.ia=Array.f(this.o,3);this.oa=Array.f(this.o,7);this.tf=Array.o(this.ka);m&&(this.yb=Array.c(this.height,this.width,this.Ma),this.P=Array.c(this.height,this.width,this.Ma),this.Pb=Array.f(this.P,1),this.Qb=Array.f(this.P,3),this.qc=Array.f(this.P,7),this.Yc=Array.o(this.yb));this.na=this.width-1;this.ra=this.height-1;for(A=0;A<r;A+=1)this.Na[A+D].set(a[A],u>>3),this.ab[A+D].set(e[A],
u>>3),this.ka[A+D].set(v[A],u),this.o[A+D].set(g[A],u),m&&(this.yb[A+D].set(m[A],u),this.P[A+D].set(c[A],u)),z&&(this.ya[A+D].set(z[A],u>>4),this.Cb[A+D].set(d[A],u>>4),this.Db[A+D].set(E[A],u>>4));D=n>>1;for(A=0;A<n;A+=1)z&&this.nc[A+D].set(h[A],this.nc[A].length>>2),this.$[A+D].set(f[A],this.$[A].length>>2),this.gb[A+D].set(b[A],this.gb[A].length>>2),this.tb[A+D].set(N[A],this.tb[A].length>>2),this.cb[A+D].set(k[A],this.cb[A].length>>2);u=this.width>>2;D=this.width>>2;this.Nb.zl((this.c-1>>4)+1,
this.f,u);this.F+=u;this.G+=D;this.v.ba+=u;this.v.da+=u;this.v.ga+=D;this.v.aa+=D;this.ua.ba+=u;this.ua.da+=u;this.ua.ga+=D;this.ua.aa+=D}};k.prototype.zk=function(){var a=this.v,e=this.width,v=this.height,g=!1;8192>e&&(32>=a.ba||32>=a.aa||a.da>=e-32||a.ga>=v-32)&&(this.Ui(),g=!0);return g};k.prototype.hk=function(){0===d.length()&&(d.add("Conway's Life","B3/S23"),d.add("2x2","B36/S125"),d.add("34 Life","B34/S34"),d.add("3-4 Life","B34/S34"),d.add("Amoeba","B357/S1358"),d.add("AntiLife","B0123478/S01234678"),
d.add("Assimilation","B345/S4567"),d.add("Bacteria","B34/S456"),d.add("Bugs","B3567/S15678"),d.add("Coagulations","B378/S235678"),d.add("Life","B3/S23"),d.add("Coral","B3/S45678"),d.add("Day & Night","B3678/S34678"),d.add("Day and Night","B3678/S34678"),d.add("Diamoeba","B35678/S5678"),d.add("DotLife","B3/S023"),d.add("DryLife","B37/S23"),d.add("Fredkin","B1357/S02468"),d.add("Gnarl","B1/S1"),d.add("H-Trees","B1/S012345678"),d.add("HighLife","B36/S23"),d.add("Iceballs","B25678/S5678"),d.add("InverseLife",
"B012345678/S34678"),d.add("Land Rush","B36/S234578"),d.add("Life without Death","B3/S012345678"),d.add("Live Free or Die","B2/S0"),d.add("LongLife","B345/S5"),d.add("Long Life","B345/S5"),d.add("Majority","B45678/S5678"),d.add("Maze","B3/S12345"),d.add("Mazectric","B3/S1234"),d.add("Morley","B368/S245"),d.add("Move","B368/S245"),d.add("Persian Rug","B234/S"),d.add("Plow World","B378/S012345678"),d.add("Pseudo Life","B357/S238"),d.add("Replicator","B1357/S1357"),d.add("Seeds","B2/S"),d.add("Serviettes",
"B234/S"),d.add("Slow Blob","B367/S125678"),d.add("Stains","B3678/S235678"),d.add("Vote","B5678/S45678"),d.add("Vote 4/5","B4678/S35678"),d.add("Walled Cities","B45678/S2345"))};k.prototype.dk=function(){var a,e,v,g=this.Cd;for(a=0;65536>a;a+=1){e=a;for(v=0;e;v+=1)e&=e-1;g[a]=v}};k.prototype.ck=function(){var a,e,v,g=this.sd;for(a=0;256>a;a+=1){e=a;for(v=0;e;v+=1)e&=e-1;g[a]=v}};k.prototype.ek=function(){var a,e,v=this.Lf,g=this.V,m;for(a=0;a<v.length;a+=1)for(m=v[a],e=0;e<m.length;e+=1)m[e]=a&1<<
15-e?g:0};k.prototype.xl=function(a){for(var e=0,v=0,g=null,m=0,c=0,z=this.Cd,e=this.v,d=e.ba>>4,E=e.da>>4,h=e.ga,e=e.aa;e<=h;e+=1)for(g=a[e],v=d;v<=E;v+=1)c=z[g[v]],m+=c;this.lc=m;this.hc=this.fc=0};k.prototype.yj=function(a,e){var v=this.Bd,g=0,m=0,g=this.lf?4278190080:255;this.j=a;this.g=e;this.Ed=this.eb=this.rb=null;this.rb=v.createImageData(v.canvas.width,v.canvas.height);this.rb.data.buffer?this.eb=new Uint32Array(this.rb.data.buffer):(this.eb=new Uint32Array(this.rb.data.length>>2),this.Ed=
new Uint8Array(this.eb.buffer));this.Uc=new Uint32Array(a);for(m=0;m<a;m+=1)this.Uc[m]=g;this.fh()};k.prototype.Dk=function(a,e,v){var g=0,m=0,c=this.ka,z=null,d=a.width,E=a.height;e=(this.width-d>>1)+e;v=(this.height-E>>1)+v;for(var h=this.na,f=this.ra,b=null,N=this.rc,k=ViewConstants.Fa[2],m=0;m<E;m+=1)for(b=a.kb[m],z=c[m+v&f],g=0;g<d;g+=1)b[g]===k&&(z[g+e&h]=N)};k.prototype.Uk=function(){this.Yc=this.P=this.yb=null};k.prototype.Ik=function(){this.yb=Array.c(this.height,this.width,this.Ma);this.P=
Array.c(this.height,this.width,this.Ma);this.Pb=Array.f(this.P,1);this.Qb=Array.f(this.P,3);this.qc=Array.f(this.P,7);this.Yc=Array.o(this.yb)};k.prototype.Vk=function(){this.nc=this.Db=this.Cb=this.ya=null};k.prototype.Jk=function(){this.ya=Array.b(this.height,(this.width-1>>4)+1);this.Cb=Array.b(this.height,(this.width-1>>4)+1);this.Db=Array.b(this.height,(this.width-1>>4)+1);this.nc=Array.b(this.f,(this.c-1>>4)+1)};k.prototype.pl=function(a,e,v){var g=0,m=0,c=null,z=null,d=null,E=null,h=a.width,
f=a.height;e=(this.width-h>>1)+e;v=(this.height-f>>1)+v;for(var b=this.na,N=this.ra,k=null,r=0,n=this.nc,u=null,D=null,A=null,m=0;m<f;m+=1)for(k=a.kb[m],c=this.ya[m-1+v&N],z=this.ya[m+v&N],d=this.ya[m+1+v&N],E=this.Db[m+v&N],u=n[(m-1+v&N)>>4],D=n[(m+v&N)>>4],A=n[(m+1+v&N)>>4],g=0;g<h;g+=1)6===k[g]&&(r=g+e&b,E[r>>4]|=1<<(~r&15),c[r>>4]|=1<<(~r&15),z[r>>4]|=1<<(~r&15),d[r>>4]|=1<<(~r&15),u[r>>8]|=1<<(~(r>>4)&15),D[r>>8]|=1<<(~(r>>4)&15),A[r>>8]|=1<<(~(r>>4)&15),r=g-1+e&b,c[r>>4]|=1<<(~r&15),z[r>>4]|=
1<<(~r&15),d[r>>4]|=1<<(~r&15),u[r>>8]|=1<<(~(r>>4)&15),D[r>>8]|=1<<(~(r>>4)&15),A[r>>8]|=1<<(~(r>>4)&15),r=g+1+e&b,c[r>>4]|=1<<(~r&15),z[r>>4]|=1<<(~r&15),d[r>>4]|=1<<(~r&15),u[r>>8]|=1<<(~(r>>4)&15),D[r>>8]|=1<<(~(r>>4)&15),A[r>>8]|=1<<(~(r>>4)&15))};k.prototype.wl=function(a){for(var e=0,v=0,g=0,m=this.ka,c=this.Lf,z,d,E,e=this.v,h=e.ba>>4,f=e.da>>4,b=e.ga,v=e.aa;v<=b;v+=1)for(z=a[v],d=m[v],g=h<<4,e=h;e<=f;e+=1)E=c[z[e]],d[g]=E[0],g+=1,d[g]=E[1],g+=1,d[g]=E[2],g+=1,d[g]=E[3],g+=1,d[g]=E[4],g+=
1,d[g]=E[5],g+=1,d[g]=E[6],g+=1,d[g]=E[7],g+=1,d[g]=E[8],g+=1,d[g]=E[9],g+=1,d[g]=E[10],g+=1,d[g]=E[11],g+=1,d[g]=E[12],g+=1,d[g]=E[13],g+=1,d[g]=E[14],g+=1,d[g]=E[15],g+=1};k.prototype.Zk=function(a,e,v){var g=0,m=0,c=this.Ma,z=this.jb,d=this.Rc,E=this.Uc,h=this.Bb,f;f=this.lf?4278190080:255;this.Hc=!1;this.na=this.width-1;this.ra=this.height-1;this.v=new BoundingBox(0,0,this.width-1,this.height-1);this.ua=new BoundingBox(0,0,this.width-1,this.height-1);this.Bd=a;this.ek();this.hk();this.yj(e,v);
m=(this.width-1>>3)+1;for(g=0;g<m;g+=1)z[g]=0;m=this.width;for(g=0;g<m;g+=1)d[g]=c;m=this.c>>4;for(g=0;g<m;g+=1)h[g]=0;for(g=0;g<e;g+=1)E[g]=f;this.ck();this.dk();this.hh();this.jd(1,1);this.ah();this.gh();this.K(1)};k.prototype.hh=function(){var l=0;this.nb[l]=new n(new f(new a(0,0,0),new a(0,0,0)),new f(new a(255,255,255),new a(255,255,255)),new a(0,0,0));l+=1;this.nb[l]=new n(new f(new a(0,0,47),new a(0,0,255)),new f(new a(0,255,255),new a(255,255,255)),new a(0,0,0));l+=1;this.nb[l]=new n(new f(new a(32,
0,0),new a(160,0,0)),new f(new a(255,144,0),new a(255,255,0)),new a(0,0,0));l+=1;this.nb[l]=new n(new f(new a(0,24,0),new a(0,128,0)),new f(new a(0,255,255),new a(255,255,255)),new a(0,0,0));l+=1;this.nb[l]=new n(new f(new a(0,47,0),new a(128,0,128)),new f(new a(255,255,0),new a(255,255,255)),new a(0,32,128));l+=1;this.nb[l]=new n(new f(new a(16,16,16),new a(104,104,104)),new f(new a(176,176,176),new a(255,255,255)),new a(0,0,0));l+=1;this.nb[l]=new n(new f(new a(255,255,255),new a(255,255,255)),
new f(new a(0,0,0),new a(0,0,0)),new a(255,255,255));l+=1;this.nb[l]=new n(new f(new a(240,240,240),new a(0,255,255)),new f(new a(0,0,255),new a(0,0,0)),new a(255,255,255));l+=1;this.nb[l]=new n(new f(new a(240,240,240),new a(240,240,240)),new f(new a(240,240,240),new a(240,240,240)),new a(0,0,0));l+=1;this.nb[l]=new n(new f(new a(160,0,0),new a(160,0,0)),new f(new a(240,240,240),new a(240,240,240)),new a(0,0,0));l+=1;this.nb[l]=new n(new f(new a(0,0,96),new a(0,0,160)),new f(new a(0,240,0),new a(16,
255,16)),new a(0,0,0));this.nb[l+1]=new n(new f(new a(0,0,0),new a(0,0,0)),new f(new a(0,0,0),new a(0,0,0)),new a(0,0,0));this.Ua=new f(new a(0,0,0),new a(0,0,0));this.$a=new f(new a(0,0,0),new a(0,0,0));this.ac=new a(0,0,0);this.Ga=new f(new a(0,0,0),new a(0,0,0));this.Ha=new f(new a(0,0,0),new a(0,0,0));this.Eb=new a(0,0,0)};k.prototype.jd=function(a,e){var v=this.nb[a];this.gc=a;this.Ua.set(this.Ga);this.$a.set(this.Ha);this.ac.set(this.Eb);this.Ga.set(v.ja);this.Ha.set(v.ha);this.Eb.set(v.Ma);
this.td=e;this.Sj=v.Yk()};k.prototype.gh=function(){var a,e,v,g,m,c;a=this.Cf;e=this.J;v=this.V;g=this.rc;m=this.Fd;a[0]=0;a[e+1]=v;for(c=1;c<e+1;c+=1)a[c]=Math.min(Math.max(c-1,g),m),a[c+e+1]=Math.max(Math.min(c+1,e),v)};k.prototype.ah=function(){var a,e,v,g,m;e=(this.td-1)/30;a=0;this.gd[a]=this.ac.red*e+this.Eb.red*(1-e);this.Zc[a]=this.ac.green*e+this.Eb.green*(1-e);this.Tc[a]=this.ac.blue*e+this.Eb.blue*(1-e);for(a=this.rc;a<=this.Fd;a+=1)v=1-(a-this.rc)/(this.Fd-this.rc),g=this.$a.L.red*v+this.$a.M.red*
(1-v),m=this.Ha.L.red*v+this.Ha.M.red*(1-v),this.gd[a]=g*e+m*(1-e),g=this.$a.L.green*v+this.$a.M.green*(1-v),m=this.Ha.L.green*v+this.Ha.M.green*(1-v),this.Zc[a]=g*e+m*(1-e),g=this.$a.L.blue*v+this.$a.M.blue*(1-v),m=this.Ha.L.blue*v+this.Ha.M.blue*(1-v),this.Tc[a]=g*e+m*(1-e);for(a=this.V;a<=this.J;a+=1)v=1-(a-this.V)/(this.J-this.V),g=this.Ua.L.red*v+this.Ua.M.red*(1-v),m=this.Ga.L.red*v+this.Ga.M.red*(1-v),this.gd[a]=g*e+m*(1-e),g=this.Ua.L.green*v+this.Ua.M.green*(1-v),m=this.Ga.L.green*v+this.Ga.M.green*
(1-v),this.Zc[a]=g*e+m*(1-e),g=this.Ua.L.blue*v+this.Ua.M.blue*(1-v),m=this.Ga.L.blue*v+this.Ga.M.blue*(1-v),this.Tc[a]=g*e+m*(1-e)};k.prototype.Hk=function(a){for(var e=this.gd,v=this.Zc,g=this.Tc,m=0,c=0,m=0;m<a.length;m+=1)c=a[m],e[m]=c>>16,v[m]=c>>8&255,g[m]=c&255;this.td=0};k.prototype.Fk=function(a,e){for(var v=this.gd,g=this.Zc,m=this.Tc,c=ViewConstants.Fa,z=e.length,d=0,d=0;d<a.length;d+=1)d>=z||-1===e[d]?(v[128+c[d]]=a[d]>>16,g[128+c[d]]=a[d]>>8&255,m[128+c[d]]=a[d]&255):(v[128+c[d]]=e[d]>>
16,g[128+c[d]]=e[d]>>8&255,m[128+c[d]]=e[d]&255)};k.prototype.K=function(a){var e=this.gd,d=this.Zc,g=this.Tc,m=this.Bc,c=this.Jc,z=this.Ic,f=0;if(this.lf){for(f=0;f<this.V;f+=1)m[f]=-16777216|g[f]<<16|d[f]<<8|e[f];for(f=this.V;f<=this.J;f+=1)m[f]=-16777216|g[f]*a<<16|d[f]*a<<8|e[f]*a;this.Hd=-16777216|(c&255)<<16|(c>>8&255)<<8|c>>16;this.Gd=-16777216|(z&255)<<16|(z>>8&255)<<8|z>>16;for(f=this.J+1;256>f;f+=1)m[f]=-16777216|g[f]*a<<16|d[f]*a<<8|e[f]*a}else{for(f=0;f<this.V;f+=1)m[f]=e[f]<<24|d[f]<<
16|g[f]<<8|255;for(f=this.V;f<=this.J;f+=1)m[f]=e[f]*a<<24|d[f]*a<<16|g[f]*a<<8|255;this.Hd=(c&255)<<24|(c>>8&255)<<16|c>>16<<8|255;this.Gd=(z&255)<<24|(z>>8&255)<<16|z>>16<<8|255;for(f=this.J+1;256>f;f+=1)m[f]=e[f]*a<<24|d[f]*a<<16|g[f]*a<<8|255}};k.prototype.Ak=function(){for(var a=this.height,e=this.Na,d=this.ab,g=this.ka,m=this.o,c=this.yb,z=this.P,f=this.$,E=this.tb,h=this.cb,t=this.gb,b=this.jb,N=this.Bb,k=this.Rc,r=0,r=0;r<a;r+=1)e[r].set(b),d[r].set(b),g[r].set(k),m[r].set(k),c&&(c[r].set(k),
z[r].set(k));a=this.f;for(r=0;r<a;r+=1)f[r].set(N),t[r].set(N),E[r].set(N),h[r].set(N)};k.prototype.Xc=function(a,e,d){for(var g=0,m=0,c=0,z=0,f=b.bf,m=0;m<f;m+=1)g=c=0,0!==(m&131072)&&(g+=1),0!==(m&65536)&&(g+=1),0!==(m&32768)&&(g+=1),0!==(m&2048)&&(g+=1),0!==(m&512)&&(g+=1),0!==(m&32)&&(g+=1),0!==(m&16)&&(g+=1),0!==(m&8)&&(g+=1),z=8,0!==(m&1024)?0!==(d&1<<g)&&(c|=z):0!==(e&1<<g)&&(c|=z),g=0,0!==(m&65536)&&(g+=1),0!==(m&32768)&&(g+=1),0!==(m&16384)&&(g+=1),0!==(m&1024)&&(g+=1),0!==(m&256)&&(g+=1),
0!==(m&16)&&(g+=1),0!==(m&8)&&(g+=1),0!==(m&4)&&(g+=1),z=4,0!==(m&512)?0!==(d&1<<g)&&(c|=z):0!==(e&1<<g)&&(c|=z),g=0,0!==(m&32768)&&(g+=1),0!==(m&16384)&&(g+=1),0!==(m&8192)&&(g+=1),0!==(m&512)&&(g+=1),0!==(m&128)&&(g+=1),0!==(m&8)&&(g+=1),0!==(m&4)&&(g+=1),0!==(m&2)&&(g+=1),z=2,0!==(m&256)?0!==(d&1<<g)&&(c|=z):0!==(e&1<<g)&&(c|=z),g=0,0!==(m&16384)&&(g+=1),0!==(m&8192)&&(g+=1),0!==(m&4096)&&(g+=1),0!==(m&256)&&(g+=1),0!==(m&64)&&(g+=1),0!==(m&4)&&(g+=1),0!==(m&2)&&(g+=1),0!==(m&1)&&(g+=1),z=1,0!==
(m&128)?0!==(d&1<<g)&&(c|=z):0!==(e&1<<g)&&(c|=z),a[m]=c};k.prototype.ih=function(){var a=this.ve,e=this.ye,d=this.dc,g=this.$b,m=0,c=0,z=0;if(J===d&&w===g)a.set(I),e.set(p);else{if(0!==(d&1))if(0!==(g&256)){d=~d&511;g=~g&511;for(z=0;9>z;z+=1)0!==(d&1<<z)&&(c|=1<<8-z),0!==(g&1<<z)&&(m|=1<<8-z);this.Xc(a,m,c);e.set(a)}else{this.Xc(a,~d&511,~g&511);for(z=c=m=0;9>z;z+=1)0!==(d&1<<z)&&(c|=1<<8-z),0!==(g&1<<z)&&(m|=1<<8-z);this.Xc(e,m,c)}else this.Xc(a,d,g),e.set(a);J=d;w=g;I.set(a);p.set(e)}};k.prototype.Rl=
function(a,e){this.dc=a;this.$b=e;this.ih()};k.prototype.Ce=function(a){var e=0;0!==(a&32768)?e=0:0!==(a&16384)?e=1:0!==(a&8192)?e=2:0!==(a&4096)?e=3:0!==(a&2048)?e=4:0!==(a&1024)?e=5:0!==(a&512)?e=6:0!==(a&256)?e=7:0!==(a&128)?e=8:0!==(a&64)?e=9:0!==(a&32)?e=10:0!==(a&16)?e=11:0!==(a&8)?e=12:0!==(a&4)?e=13:0!==(a&2)?e=14:0!==(a&1)&&(e=15);return e};k.prototype.Ee=function(a){var e=0;0!==(a&1)?e=15:0!==(a&2)?e=14:0!==(a&4)?e=13:0!==(a&8)?e=12:0!==(a&16)?e=11:0!==(a&32)?e=10:0!==(a&64)?e=9:0!==(a&
128)?e=8:0!==(a&256)?e=7:0!==(a&512)?e=6:0!==(a&1024)?e=5:0!==(a&2048)?e=4:0!==(a&4096)?e=3:0!==(a&8192)?e=2:0!==(a&16384)&&(e=1);return e};k.prototype.jh=function(){for(var a=this.yb,e=null,d=this.$,g=null,m=this.width,c=this.height,z=0,f=this.v.ga,E=this.v.aa,h=this.v.ba,t=this.v.da,b=0,N=0,b=0;b<c;b+=1){e=a[b];g=d[b>>4];for(N=z=0;N<m;N+=1)0!==e[N]&&(g[N>>8]|=1<<(~(N>>4)&15),z|=e[N],N<h&&(h=N),N>t&&(t=N));z&&(b<E&&(E=b),b>f&&(f=b))}this.v.ga=f;this.v.aa=E;this.v.ba=h;this.v.da=t};k.prototype.Ok=
function(){for(var a=0,e=0,d=0,g=0,m=0,c=this.ub,d=null,z=this.gb,f=null,E=this.$,h=null,t=null,F=null,N=0,k=0,r=0,n=0,u=0,D=0,A=0,p=!1,x=this.f,C=this.c>>4,y=this.Bb,B=0,u=0,D=u+16,g=0;g<x;g+=1)E[g].set(y);for(g=0;g<x;g+=1){A=0;f=z[g];h=E[g];0<g?t=E[g-1]:t=y;g<x-1?F=E[g+1]:F=y;f[0]&=32767;f[C-1]&=65534;for(m=0;m<C;m+=1)if(N=f[m]){k=h[m];r=t[m];n=F[m];for(e=15;0<=e;--e){if(0!==(N&1<<e)){p=!1;B=0;a=u;d=c[a];if(d=d[A])p=!0,0!==(d&32768)&&(B|=b.Ub,B|=b.ce),0!==(d&1)&&(B|=b.Yb,B|=b.de),B|=b.ee;for(a+=
1;a<D-1;){d=c[a];if(d=d[A])p=!0,0!==(d&32768)&&(B|=b.Ub),0!==(d&1)&&(B|=b.Yb);a+=1}d=c[a];if(d=d[A])p=!0,0!==(d&32768)&&(B|=b.Ub,B|=b.Pe),0!==(d&1)&&(B|=b.Yb,B|=b.Qe),B|=b.Re;p&&(k|=1<<e,B&&(0!==(B&b.Ub)&&(15>e?k|=1<<e+1:0<m&&(h[m-1]|=1)),0!==(B&b.Yb)&&(0<e?k|=1<<e-1:m<C-1&&(h[m+1]|=32768)),0!==(B&b.ee)&&(r|=1<<e),0!==(B&b.Re)&&(n|=1<<e),0!==(B&b.ce)&&(15>e?r|=1<<e+1:0<m&&(t[m-1]|=1)),0!==(B&b.de)&&(0<e?r|=1<<e-1:m<C-1&&(t[m+1]|=32768)),0!==(B&b.Pe)&&(15>e?n|=1<<e+1:0<m&&(F[m-1]|=1)),0!==(B&b.Qe)&&
(0<e?n|=1<<e-1:m<C-1&&(F[m+1]|=32768))))}A+=1}h[m]|=k;0<g&&(t[m]|=r);g<x-1&&(F[m]|=n)}else A+=16;u+=16;D+=16}for(g=0;g<y.length;g+=1)y[g]=0};k.prototype.ul=function(a){var e=0,d=0,g=0,m=this.width>>4,c=this.height,z=this.width,f=this.ub,E=null,h=this.yb,t=null,b=this.v,k=this.ua,n=this.height,r=-1,p=this.width,u=-1,D=this.height,A=-1,q=this.width,x=-1,C=0,y=this.Vc,E=this.f,B=this.$,H=null,w=this.gb,I=this.tb,G=this.cb,H=this.Bb,t=C=g=0;this.rf=a;if(h)for(d=0;d<c;d+=1){t=h[d];for(e=C=0;e<z;e+=1)g=
t[e],C|=g,g&&(e<q&&(q=e),e>x&&(x=e));C&&(d<D&&(D=d),d>A&&(A=d))}y.set(this.Sc);for(d=0;d<E;d+=1)w[d].set(H);for(d=0;d<c;d+=1){E=f[d];for(e=C=0;e<m;e+=1)g=E[e],C|=g,y[e]|=g;C&&(d<n&&(n=d),d>r&&(r=d))}for(e=0;e<m;e+=1)y[e]&&(e<p&&(p=e),e>u&&(u=e));p=(p<<4)+this.Ce(y[p]);u=(u<<4)+this.Ee(y[u]);if(0>r||n>=c||p>=z||0>u)n=r=c>>1,u=p=z>>1;h&&(A<r&&(r=A),D>n&&(n=D),q<p&&(p=q),x>u&&(u=x));r>this.height-1&&(r=this.height-1);0>n&&(n=0);0>p&&(p=0);u>this.width-1&&(u=this.width-1);b.ga=r;b.aa=n;b.ba=p;b.da=u;
k.ga=r;k.aa=n;k.ba=p;k.da=u;0<p&&--p;0<n&&--n;u<this.width-1&&(u+=1);r<this.height-1&&(r+=1);g=r>>4;C=p>>8;t=u>>8;for(d=n>>4;d<=g;d+=1)for(H=w[d],e=C;e<=t;e+=1)H[e]=-1;this.Ok();h&&(this.jh(),k.ga=b.ga,k.aa=b.aa,k.ba=b.ba,k.da=b.da);Array.h(B,w);Array.h(B,I);Array.h(B,G)};k.prototype.Jd=function(a,e,d){var g=!1;this.m===this.Kd-1&&(g=!0,d||(a=!0));this.ya&&this.Wk();a?this.gk():this.fk();this.ya&&this.Rk();8192===this.width&&(16>=this.v.ba||8176<=this.v.da||16>=this.v.aa||8176<=this.v.ga)&&this.eh();
g&&(this.Kd+=b.zf,d||this.uf(e))};k.prototype.Wk=function(){for(var a=0,e=0,d=0,g=0,m=0,c=0,z=null,f=this.ya,E=this.Cb,h=this.Db,t=this.nc,b=null,k=this.f,n=this.c>>4,r=0,m=0,z=0!==(this.m&1)?this.bb:this.ub,a=0;a<k;a+=1){c=0;b=t[a];for(e=0;e<n;e+=1)if(r=b[e])for(d=15;0<=d;--d){if(0!==(r&1<<d))for(g=m;g<m+16;g+=1)E[g][c]=(z[g][c]|h[g][c])&f[g][c];c+=1}else c+=16;m+=16}};k.prototype.Rk=function(){for(var a=0,e=0,d=0,g=0,m=0,c=0,z=null,f=this.Cb,E=this.nc,h=null,t=this.f,b=this.c>>4,k=0,z=0!==(this.m&
1)?this.bb:this.ub,a=m=0;a<t;a+=1){c=0;h=E[a];for(e=0;e<b;e+=1)if(k=h[e])for(d=15;0<=d;--d){if(0!==(k&1<<d))for(g=m;g<m+16;g+=1)z[g][c]&=~f[g][c];c+=1}else c+=16;m+=16}};k.prototype.De=function(a,e,d){var g=0,m=0,c=this.bh,z=this.dh,f=0,E=b.Xh,h=this.Cg,t=this.na,F=this.ra;c[f]=a;z[f]=e;f+=1;for(d[e][a>>4]&=~(1<<(~a&15));0<f&&f<E;)for(--f,a=c[f],e=z[f],m=e-h;m<=e+h;){for(g=a-h;g<=a+h;)g===(g&t)&&m===(m&F)&&0!==(d[m][g>>4]&1<<(~g&15))&&(d[m][g>>4]&=~(1<<(~g&15)),f<E&&(c[f]=g,z[f]=m,f+=1)),g+=1;m+=
1}};k.prototype.Qf=function(a,e,d){for(var g=d[e][a],m=15;0<=m;)0!==(g&1<<m)&&this.De((a<<4)+(~m&15),e,d),--m};k.prototype.ik=function(a,e){this.De(0,a,e)};k.prototype.jk=function(a,e,d){this.De((a<<4)+15,e,d)};k.prototype.eh=function(){for(var a=null,e=0,d=0,g=0,g=0,m=null,c=null,a=0!==(this.m&1)?this.bb:this.ub,e=a.length,d=a[0].length,m=a[0],c=a[e-1],g=0;g<d;)m[g]&&this.Qf(g,0,a),c[g]&&this.Qf(g,e-1,a),g+=1;for(g=0;g<e;)0!==(a[g][0]&32768)&&this.ik(g,a),0!==(a[g][d-1]&1)&&this.jk(d-1,g,a),g+=1};
k.prototype.fk=function(){var a=null,e,d,g,m,c=0,z=0,f=0,E=0,h=0,t=0,F=0,k=0,n=null,r=null,p=null,u=null,D=null,A=null,q=null,x=null,C=0,y=0,B=0,H=0,w=0,I=0,G=0,T=this.Vc,J=this.height,X=this.width,V=X>>4,da=this.v,P=J,Q=-1,R=X,S=-1,W=!1,Y=!1,Z=this.f,aa=this.c>>4,ca=this.Bb,M=0;0!==(this.m&1)?(n=this.bb,r=this.ub,p=this.gb,u=this.$,a=this.ye):(n=this.ub,r=this.bb,p=this.$,u=this.gb,a=this.ve);this.m+=1;T.set(this.Sc);w=0;I=w+16;for(F=0;F<Z;F+=1)u[F].set(ca);for(F=0;F<Z;F+=1){G=0;D=p[F];A=u[F];0<
F?q=u[F-1]:q=ca;F<Z-1?x=u[F+1]:x=ca;for(k=0;k<aa;k+=1)if(C=D[k]){y=A[k];B=q[k];H=x[k];for(z=15;0<=z;--z){if(0!==(C&1<<z)){Y=W=!1;M=0;c=w;0===c?e=this.jb:e=n[c-1];d=n[c];g=n[c+1];m=r[c];G?G<V-1?(f=e[G-1]<<17|e[G]<<1|e[G+1]>>15,E=d[G-1]<<17|d[G]<<1|d[G+1]>>15,h=g[G-1]<<17|g[G]<<1|g[G+1]>>15):(f=e[G-1]<<17|e[G]<<1,E=d[G-1]<<17|d[G]<<1,h=g[G-1]<<17|g[G]<<1):(f=e[G]<<1|e[G+1]>>15,E=d[G]<<1|d[G+1]>>15,h=g[G]<<1|g[G+1]>>15);t=a[f>>12&63|(E>>12&63)<<6|(h>>12&63)<<12]<<12;t|=a[f>>8&63|(E>>8&63)<<6|(h>>8&63)<<
12]<<8;t|=a[f>>4&63|(E>>4&63)<<6|(h>>4&63)<<12]<<4;t|=a[f&63|(E&63)<<6|(h&63)<<12];m[G]=t;d[G]&&(Y=!0);t&&(T[G]|=t,c<P?P=c:c>Q&&(Q=c),W=!0,0!==(t&32768)&&(M|=b.Ub,M|=b.ce),0!==(t&1)&&(M|=b.Yb,M|=b.de),M|=b.ee);for(c+=1;c<I-1;)e=n[c-1],d=n[c],g=n[c+1],m=r[c],G?G<V-1?(f=e[G-1]<<17|e[G]<<1|e[G+1]>>15,E=d[G-1]<<17|d[G]<<1|d[G+1]>>15,h=g[G-1]<<17|g[G]<<1|g[G+1]>>15):(f=e[G-1]<<17|e[G]<<1,E=d[G-1]<<17|d[G]<<1,h=g[G-1]<<17|g[G]<<1):(f=e[G]<<1|e[G+1]>>15,E=d[G]<<1|d[G+1]>>15,h=g[G]<<1|g[G+1]>>15),t=a[f>>
12&63|(E>>12&63)<<6|(h>>12&63)<<12]<<12,t|=a[f>>8&63|(E>>8&63)<<6|(h>>8&63)<<12]<<8,t|=a[f>>4&63|(E>>4&63)<<6|(h>>4&63)<<12]<<4,t|=a[f&63|(E&63)<<6|(h&63)<<12],m[G]=t,d[G]&&(Y=!0),t&&(T[G]|=t,c<P?P=c:c>Q&&(Q=c),W=!0,0!==(t&32768)&&(M|=b.Ub),0!==(t&1)&&(M|=b.Yb)),c+=1;e=n[c-1];d=n[c];c===this.height-1?g=this.jb:g=n[c+1];m=r[c];G?G<V-1?(f=e[G-1]<<17|e[G]<<1|e[G+1]>>15,E=d[G-1]<<17|d[G]<<1|d[G+1]>>15,h=g[G-1]<<17|g[G]<<1|g[G+1]>>15):(f=e[G-1]<<17|e[G]<<1,E=d[G-1]<<17|d[G]<<1,h=g[G-1]<<17|g[G]<<1):(f=
e[G]<<1|e[G+1]>>15,E=d[G]<<1|d[G+1]>>15,h=g[G]<<1|g[G+1]>>15);t=a[f>>12&63|(E>>12&63)<<6|(h>>12&63)<<12]<<12;t|=a[f>>8&63|(E>>8&63)<<6|(h>>8&63)<<12]<<8;t|=a[f>>4&63|(E>>4&63)<<6|(h>>4&63)<<12]<<4;t|=a[f&63|(E&63)<<6|(h&63)<<12];m[G]=t;d[G]&&(Y=!0);t&&(T[G]|=t,c<P?P=c:c>Q&&(Q=c),W=!0,0!==(t&32768)&&(M|=b.Ub,M|=b.Pe),0!==(t&1)&&(M|=b.Yb,M|=b.Qe),M|=b.Re);if(W||Y)y|=1<<z,M&&(0!==(M&b.Ub)&&(15>z?y|=1<<z+1:0<k&&0<G&&(A[k-1]|=1)),0!==(M&b.Yb)&&(0<z?y|=1<<z-1:k<aa-1&&G<V-1&&(A[k+1]|=32768)),0!==(M&b.ee)&&
(B|=1<<z),0!==(M&b.Re)&&(H|=1<<z),0!==(M&b.ce)&&(15>z?B|=1<<z+1:0<k&&0<G&&(q[k-1]|=1)),0!==(M&b.de)&&(0<z?B|=1<<z-1:k<aa-1&&G<V-1&&(q[k+1]|=32768)),0!==(M&b.Pe)&&(15>z?H|=1<<z+1:0<k&&0<G&&(x[k-1]|=1)),0!==(M&b.Qe)&&(0<z?H|=1<<z-1:k<aa-1&&G<V-1&&(x[k+1]|=32768)))}G+=1}A[k]|=y;0<F&&(q[k]|=B);F<Z-1&&(x[k]|=H)}else G+=16;w+=16;I+=16}for(k=0;k<V;k+=1)T[k]&&(k<R&&(R=k),k>S&&(S=k));R=(R<<4)+this.Ce(T[R]);S=(S<<4)+this.Ee(T[S]);0>Q&&(Q=J-1);P>=J&&(P=0);R>=X&&(R=0);0>S&&(S=X-1);Q>J-1&&(Q=J-1);0>P&&(P=0);0>
R&&(R=0);S>X-1&&(S=X-1);da.ga=Q;da.aa=P;da.ba=R;da.da=S;for(F=0;F<ca.length;F+=1)ca[F]=0};k.prototype.gk=function(){var a=null,e,d,g,m,c=0,z=0,f=0,E=0,h=0,t=0,F=0,k=0,n=null,r=null,p=null,u=null,D=null,A=null,q=null,x=null,C=0,y=0,B=0,H=0,w=0,I=0,G=0,J=this.Vc,U=this.height,X=this.width,V=X>>4,da=this.v,P=U,Q=-1,R=X,S=-1,W=this.Cd,Y=0,Z=0,aa=0,ca=!1,M=!1,ga=this.f,ha=this.c>>4,fa=this.Bb,O=0;0!==(this.m&1)?(n=this.bb,r=this.ub,p=this.gb,u=this.$,a=this.ye):(n=this.ub,r=this.bb,p=this.$,u=this.gb,
a=this.ve);this.m+=1;J.set(this.Sc);w=0;I=w+16;for(F=0;F<ga;F+=1)u[F].set(fa);for(F=0;F<ga;F+=1){G=0;D=p[F];A=u[F];0<F?q=u[F-1]:q=fa;F<ga-1?x=u[F+1]:x=fa;for(k=0;k<ha;k+=1)if(C=D[k]){y=A[k];B=q[k];H=x[k];for(z=15;0<=z;--z){if(0!==(C&1<<z)){M=ca=!1;O=0;c=w;0===c?e=this.jb:e=n[c-1];d=n[c];g=n[c+1];m=r[c];G?G<V-1?(f=e[G-1]<<17|e[G]<<1|e[G+1]>>15,E=d[G-1]<<17|d[G]<<1|d[G+1]>>15,h=g[G-1]<<17|g[G]<<1|g[G+1]>>15):(f=e[G-1]<<17|e[G]<<1,E=d[G-1]<<17|d[G]<<1,h=g[G-1]<<17|g[G]<<1):(f=e[G]<<1|e[G+1]>>15,E=d[G]<<
1|d[G+1]>>15,h=g[G]<<1|g[G+1]>>15);t=a[f>>12&63|(E>>12&63)<<6|(h>>12&63)<<12]<<12;t|=a[f>>8&63|(E>>8&63)<<6|(h>>8&63)<<12]<<8;t|=a[f>>4&63|(E>>4&63)<<6|(h>>4&63)<<12]<<4;t|=a[f&63|(E&63)<<6|(h&63)<<12];m[G]=t;d[G]&&(M=!0);Y+=W[t];Z+=W[t&~d[G]];aa+=W[d[G]&~t];t&&(J[G]|=t,c<P?P=c:c>Q&&(Q=c),ca=!0,0!==(t&32768)&&(O|=b.Ub,O|=b.ce),0!==(t&1)&&(O|=b.Yb,O|=b.de),O|=b.ee);for(c+=1;c<I-1;)e=n[c-1],d=n[c],g=n[c+1],m=r[c],G?G<V-1?(f=e[G-1]<<17|e[G]<<1|e[G+1]>>15,E=d[G-1]<<17|d[G]<<1|d[G+1]>>15,h=g[G-1]<<17|
g[G]<<1|g[G+1]>>15):(f=e[G-1]<<17|e[G]<<1,E=d[G-1]<<17|d[G]<<1,h=g[G-1]<<17|g[G]<<1):(f=e[G]<<1|e[G+1]>>15,E=d[G]<<1|d[G+1]>>15,h=g[G]<<1|g[G+1]>>15),t=a[f>>12&63|(E>>12&63)<<6|(h>>12&63)<<12]<<12,t|=a[f>>8&63|(E>>8&63)<<6|(h>>8&63)<<12]<<8,t|=a[f>>4&63|(E>>4&63)<<6|(h>>4&63)<<12]<<4,t|=a[f&63|(E&63)<<6|(h&63)<<12],m[G]=t,d[G]&&(M=!0),Y+=W[t],Z+=W[t&~d[G]],aa+=W[d[G]&~t],t&&(J[G]|=t,c<P?P=c:c>Q&&(Q=c),ca=!0,0!==(t&32768)&&(O|=b.Ub),0!==(t&1)&&(O|=b.Yb)),c+=1;e=n[c-1];d=n[c];c===this.height-1?g=this.jb:
g=n[c+1];m=r[c];G?G<V-1?(f=e[G-1]<<17|e[G]<<1|e[G+1]>>15,E=d[G-1]<<17|d[G]<<1|d[G+1]>>15,h=g[G-1]<<17|g[G]<<1|g[G+1]>>15):(f=e[G-1]<<17|e[G]<<1,E=d[G-1]<<17|d[G]<<1,h=g[G-1]<<17|g[G]<<1):(f=e[G]<<1|e[G+1]>>15,E=d[G]<<1|d[G+1]>>15,h=g[G]<<1|g[G+1]>>15);t=a[f>>12&63|(E>>12&63)<<6|(h>>12&63)<<12]<<12;t|=a[f>>8&63|(E>>8&63)<<6|(h>>8&63)<<12]<<8;t|=a[f>>4&63|(E>>4&63)<<6|(h>>4&63)<<12]<<4;t|=a[f&63|(E&63)<<6|(h&63)<<12];m[G]=t;d[G]&&(M=!0);Y+=W[t];Z+=W[t&~d[G]];aa+=W[d[G]&~t];t&&(J[G]|=t,c<P?P=c:c>Q&&
(Q=c),ca=!0,0!==(t&32768)&&(O|=b.Ub,O|=b.Pe),0!==(t&1)&&(O|=b.Yb,O|=b.Qe),O|=b.Re);if(ca||M)y|=1<<z,O&&(0!==(O&b.Ub)&&(15>z?y|=1<<z+1:0<k&&0<G&&(A[k-1]|=1)),0!==(O&b.Yb)&&(0<z?y|=1<<z-1:k<ha-1&&G<V-1&&(A[k+1]|=32768)),0!==(O&b.ee)&&(B|=1<<z),0!==(O&b.Re)&&(H|=1<<z),0!==(O&b.ce)&&(15>z?B|=1<<z+1:0<k&&0<G&&(q[k-1]|=1)),0!==(O&b.de)&&(0<z?B|=1<<z-1:k<ha-1&&G<V-1&&(q[k+1]|=32768)),0!==(O&b.Pe)&&(15>z?H|=1<<z+1:0<k&&0<G&&(x[k-1]|=1)),0!==(O&b.Qe)&&(0<z?H|=1<<z-1:k<ha-1&&G<V-1&&(x[k+1]|=32768)))}G+=1}A[k]|=
y;0<F&&(q[k]|=B);F<ga-1&&(x[k]|=H)}else G+=16;w+=16;I+=16}for(k=0;k<V;k+=1)J[k]&&(k<R&&(R=k),k>S&&(S=k));R=(R<<4)+this.Ce(J[R]);S=(S<<4)+this.Ee(J[S]);0>Q&&(Q=U-1);P>=U&&(P=0);R>=X&&(R=0);0>S&&(S=X-1);Q>U-1&&(Q=U-1);0>P&&(P=0);0>R&&(R=0);S>X-1&&(S=X-1);da.ga=Q;da.aa=P;da.ba=R;da.da=S;this.lc=Y;this.fc=Z;this.hc=aa;for(F=0;F<fa.length;F+=1)fa[F]=0};k.prototype.Ug=function(a,e){for(var d=0,g=0,m=null,c=null,z=null,f=this.cb,E=null,h=0,t=0,b=0,k=0,n=0,r=0,p=0,u=0,D=0,A=this.f,q=this.c>>4,n=0,r=n+16,
t=0;t<A;t+=1){p=0;E=f[t];for(b=0;b<q;b+=1)if(u=E[b])for(k=15;0<=k;--k){if(0!==(u&1<<k))for(g=n;g<r;g+=2)m=a[g],c=a[g+1],z=e[g],d=p<<3,D=0,h=m[d],(h&255)>D&&(D=h&255),h>>=8,h>D&&(D=h),h=c[d],(h&255)>D&&(D=h&255),h>>=8,h>D&&(D=h),z[d+d]=D,d+=1,D=0,h=m[d],(h&255)>D&&(D=h&255),h>>=8,h>D&&(D=h),h=c[d],(h&255)>D&&(D=h&255),h>>=8,h>D&&(D=h),z[d+d]=D,d+=1,D=0,h=m[d],(h&255)>D&&(D=h&255),h>>=8,h>D&&(D=h),h=c[d],(h&255)>D&&(D=h&255),h>>=8,h>D&&(D=h),z[d+d]=D,d+=1,D=0,h=m[d],(h&255)>D&&(D=h&255),h>>=8,h>D&&
(D=h),h=c[d],(h&255)>D&&(D=h&255),h>>=8,h>D&&(D=h),z[d+d]=D,d+=1,D=0,h=m[d],(h&255)>D&&(D=h&255),h>>=8,h>D&&(D=h),h=c[d],(h&255)>D&&(D=h&255),h>>=8,h>D&&(D=h),z[d+d]=D,d+=1,D=0,h=m[d],(h&255)>D&&(D=h&255),h>>=8,h>D&&(D=h),h=c[d],(h&255)>D&&(D=h&255),h>>=8,h>D&&(D=h),z[d+d]=D,d+=1,D=0,h=m[d],(h&255)>D&&(D=h&255),h>>=8,h>D&&(D=h),h=c[d],(h&255)>D&&(D=h&255),h>>=8,h>D&&(D=h),z[d+d]=D,d+=1,D=0,h=m[d],(h&255)>D&&(D=h&255),h>>=8,h>D&&(D=h),h=c[d],(h&255)>D&&(D=h&255),h>>=8,h>D&&(D=h),z[d+d]=D;p+=1}else p+=
16;n+=16;r+=16}};k.prototype.Xg=function(a,e){for(var d=0,g=0,m=null,c=null,z=null,f=this.cb,E=null,h=0,t=0,b=0,k=0,n=0,r=0,p=0,u=0,D=0,A=this.f,q=this.c>>4,n=0,r=n+16,t=0;t<A;t+=1){p=0;E=f[t];for(b=0;b<q;b+=1)if(u=E[b])for(k=15;0<=k;--k){if(0!==(u&1<<k))for(d=n;d<r;d+=4)z=e[d],m=a[d],c=a[d+2],g=p<<4,D=m[g],h=m[g+2],h>D&&(D=h),h=c[g],h>D&&(D=h),h=c[g+2],h>D&&(D=h),z[g]=D,g+=4,D=m[g],h=m[g+2],h>D&&(D=h),h=c[g],h>D&&(D=h),h=c[g+2],h>D&&(D=h),z[g]=D,g+=4,D=m[g],h=m[g+2],h>D&&(D=h),h=c[g],h>D&&(D=h),
h=c[g+2],h>D&&(D=h),z[g]=D,g+=4,D=m[g],h=m[g+2],h>D&&(D=h),h=c[g],h>D&&(D=h),h=c[g+2],h>D&&(D=h),z[g]=D;p+=1}else p+=16;n+=16;r+=16}};k.prototype.$g=function(a,e){for(var d=0,g=0,m=null,c=null,z=null,f=this.cb,E=null,h=0,b=0,F=0,k=0,n=0,r=0,p=0,u=0,D=0,A=this.f,q=this.c>>4,n=0,r=n+16,b=0;b<A;b+=1){p=0;E=f[b];for(F=0;F<q;F+=1)if(u=E[F])for(k=15;0<=k;--k){if(0!==(u&1<<k))for(d=n;d<r;d+=8)z=e[d],m=a[d],c=a[d+4],g=p<<4,D=m[g],h=m[g+4],h>D&&(D=h),h=c[g],h>D&&(D=h),h=c[g+4],h>D&&(D=h),z[g]=D,g+=8,D=m[g],
h=m[g+4],h>D&&(D=h),h=c[g],h>D&&(D=h),h=c[g+4],h>D&&(D=h),z[g]=D;p+=1}else p+=16;n+=16;r+=16}};k.prototype.Of=function(a,e){for(var d=0,g=null,m=null,c=null,z=this.cb,f=null,E=g=0,h=0,b=0,F=0,k=0,n=0,r=0,p=this.f,u=this.c>>4,E=F=0;E<p;E+=1){k=0;f=z[E];for(h=0;h<u;h+=1)if(n=f[h])for(b=15;0<=b;--b)0!==(n&1<<b)&&(c=e[F],g=a[F],m=a[F+8],d=k<<4,r=g[d],g=g[d+8],g>r&&(r=g),g=m[d],g>r&&(r=g),g=m[d+8],g>r&&(r=g),c[d]=r),k+=1;else k+=16;F+=16}};k.prototype.kh=function(){1>this.zoom&&(this.Ug(this.tf,this.o),
.5>this.zoom&&(this.Xg(this.o,this.Y),.25>this.zoom&&(this.$g(this.Y,this.ia),.125>this.zoom&&this.Of(this.ia,this.oa))));this.Hc&&1>this.zoom&&(this.Ug(this.Yc,this.P),.5>this.zoom&&(this.Xg(this.P,this.Pb),.25>this.zoom&&(this.$g(this.Pb,this.Qb),.125>this.zoom&&this.Of(this.Qb,this.qc))))};k.prototype.ie=function(){var a=0,e=0,d=0,g=this.ka,m=null,c=null,z=null,f=this.cb,E=this.tb,h=this.Cf,b=this.J+1,F=null,k=d=null,n=null,r=0,p=0,u=0,D=0,A=0,q=0,x=0,C=0,y=0,B=0,H=0,w=this.f,I=this.c>>4;0!==(this.m&
1)?(F=this.bb,k=this.gb):(F=this.ub,k=this.$);A=0;q=A+16;for(p=0;p<w;p+=1){x=0;n=k[p];c=E[p];z=f[p];for(u=0;u<I;u+=1){C=n[u]|c[u];y=0;if(C)for(D=15;0<=D;--D){if(0!==(C&1<<D)){H=0;for(a=A;a<q;a+=1)d=F[a],m=g[a],e=x<<4,d=d[x],B|=d,H|=d,0!==(d&32768)?r=h[m[e]+b]:(r=h[m[e]],H|=1<r),m[e]=r,e+=1,0!==(d&16384)?r=h[m[e]+b]:(r=h[m[e]],H|=1<r),m[e]=r,e+=1,0!==(d&8192)?r=h[m[e]+b]:(r=h[m[e]],H|=1<r),m[e]=r,e+=1,0!==(d&4096)?r=h[m[e]+b]:(r=h[m[e]],H|=1<r),m[e]=r,e+=1,0!==(d&2048)?r=h[m[e]+b]:(r=h[m[e]],H|=1<
r),m[e]=r,e+=1,0!==(d&1024)?r=h[m[e]+b]:(r=h[m[e]],H|=1<r),m[e]=r,e+=1,0!==(d&512)?r=h[m[e]+b]:(r=h[m[e]],H|=1<r),m[e]=r,e+=1,0!==(d&256)?r=h[m[e]+b]:(r=h[m[e]],H|=1<r),m[e]=r,e+=1,0!==(d&128)?r=h[m[e]+b]:(r=h[m[e]],H|=1<r),m[e]=r,e+=1,0!==(d&64)?r=h[m[e]+b]:(r=h[m[e]],H|=1<r),m[e]=r,e+=1,0!==(d&32)?r=h[m[e]+b]:(r=h[m[e]],H|=1<r),m[e]=r,e+=1,0!==(d&16)?r=h[m[e]+b]:(r=h[m[e]],H|=1<r),m[e]=r,e+=1,0!==(d&8)?r=h[m[e]+b]:(r=h[m[e]],H|=1<r),m[e]=r,e+=1,0!==(d&4)?r=h[m[e]+b]:(r=h[m[e]],H|=1<r),m[e]=r,e+=
1,0!==(d&2)?r=h[m[e]+b]:(r=h[m[e]],H|=1<r),m[e]=r,e+=1,0!==(d&1)?r=h[m[e]+b]:(r=h[m[e]],H|=1<r),m[e]=r;H&&(y|=1<<D)}x+=1}else x+=16;c[u]=y;z[u]|=y}A+=16;q+=16}return B};k.prototype.Ad=function(a,e,d,g,m,c,z,f){var E=this.v,h=this.ua,b=1,F=0,k=0,n=b=0,r=E.ba,F=E.da,k=E.ga,E=E.aa;this.rf&&(h.ba<r&&(r=h.ba),h.da>F&&(F=h.da),h.ga>k&&(k=h.ga),h.aa<E&&(E=h.aa));f?(F=c,k=z,r=this.width/2-F/2,E=this.height/2-k/2):(F=F-r+1,k=k-E+1);0===F&&(F=1);0===k&&(k=1);b=a/F;n=e/k;b=(b>n?n:b)/m;b<d?b=d:b>g&&(b=g);return[b,
r+F/2,E+k/2]};k.prototype.ui=function(a,e,d){var g=0,m=this.eb,c=this.g,z=e*this.j+g;if(0<=e&&e<c)for(;g<=a;)m[z]=d,z+=1,g+=1};k.prototype.bk=function(a,e,d){var g=0,m=this.eb,c=this.j,z=g*c+a;if(0<=a&&a<c)for(;g<=e;)m[z]=d,z+=c,g+=1};k.prototype.qb=function(){for(var a=0,a=0,e=1,d=this.j,g=this.g,m=this.Hd,c=this.Gd,z=this.zoom,f=0,E=m,h=m,b=((this.height/2-this.G)*z+g/2)%z,F=((this.width/2-this.F)*z+d/2)%z,e=2,h=m;e;){f=-(d/2/z)-(this.width/2-this.F)|0;for(a=0;a<=d;a+=z)0<this.$c&&(E=0===f%this.$c?
c:m),f+=1,E===h&&this.bk(a+F|0,g-1,E);f=-(g/2/z)-(this.height/2-this.G)|0;for(a=b;a<g;a+=z)0<this.$c&&(E=0===f%this.$c?c:m),f+=1,E===h&&this.ui(d-1,a|0,E);--e;h=c}};k.prototype.Ec=function(){return 4<=this.zoom&&0===this.s};k.prototype.tl=function(){this.td&&(this.ah(),--this.td,this.td||(this.Ua.set(this.Ga),this.$a.set(this.Ha),this.ac.set(this.Eb)));this.X=this.s;this.h=this.zoom;this.w=this.F;this.B=this.G;this.b=this.vb/2+1;this.kh();.125>this.zoom?this.Hc?0===this.m?this.Oa(this.qc,15):this.sc(this.qc,
this.oa,15):this.Oa(this.oa,15):.25>this.zoom?this.Hc?0===this.m?this.Oa(this.Qb,7):this.sc(this.Qb,this.ia,7):this.Oa(this.ia,7):.5>this.zoom?this.Hc?0===this.m?this.Oa(this.Pb,3):this.sc(this.Pb,this.Y,3):this.Oa(this.Y,3):1>this.zoom?this.Hc?0===this.m?this.Oa(this.P,1):this.sc(this.P,this.o,1):this.Oa(this.o,1):this.Hc?0===this.m?this.Oa(this.yb,0):this.sc(this.yb,this.ka,0):this.Oa(this.ka,0)};k.prototype.ak=function(a,e){var d=this.j>>3,g=this.Bc,m=this.eb,c=0,z=0,f=0,E=0,h=0,b=0,F=0,k=0,n=
0,r=0,p=0,u=1,q=1,A=0,w=0,x=this.na&~e,C=this.ra&~e,y=~e,B=~e,c=0,H=a,I=this.h;1<this.b&&(u=this.l);b=Math.sin(this.X/180*Math.PI)/this.h;F=Math.cos(this.X/180*Math.PI)/this.h;k=-(this.j/2*-b+this.g/2*F)+this.B;n=-(this.j/2*F+this.g/2*b)+this.w;1<this.l&&1<this.b&&(A=.4/(this.l-1),q=.6);this.K(q);c=8192>this.width?g[0]|0:this.fe|0;p=0;h=k;for(z=0;z<this.g;z+=1){E=n;for(f=0;f<d;f+=1)(E&y)===(E&x)&&(h&B)===(h&C)?(w=H[h&C][E&x]|0,m[p]=g[w]):m[p]=c,p+=1,E+=F,h-=b,(E&y)===(E&x)&&(h&B)===(h&C)?(w=H[h&C][E&
x]|0,m[p]=g[w]):m[p]=c,p+=1,E+=F,h-=b,(E&y)===(E&x)&&(h&B)===(h&C)?(w=H[h&C][E&x]|0,m[p]=g[w]):m[p]=c,p+=1,E+=F,h-=b,(E&y)===(E&x)&&(h&B)===(h&C)?(w=H[h&C][E&x]|0,m[p]=g[w]):m[p]=c,p+=1,E+=F,h-=b,(E&y)===(E&x)&&(h&B)===(h&C)?(w=H[h&C][E&x]|0,m[p]=g[w]):m[p]=c,p+=1,E+=F,h-=b,(E&y)===(E&x)&&(h&B)===(h&C)?(w=H[h&C][E&x]|0,m[p]=g[w]):m[p]=c,p+=1,E+=F,h-=b,(E&y)===(E&x)&&(h&B)===(h&C)?(w=H[h&C][E&x]|0,m[p]=g[w]):m[p]=c,p+=1,E+=F,h-=b,(E&y)===(E&x)&&(h&B)===(h&C)?(w=H[h&C][E&x]|0,m[p]=g[w]):m[p]=c,p+=1,
E+=F,h-=b;n+=b;h=k+=F}this.Ia&&this.Ec()&&this.qb();for(c=1;c<u;c+=1)for(r=(this.J+1)/this.l*c|0,q+=A,this.K(q),b/=this.b,F/=this.b,I*=this.b,.125>I?(H=this.oa,e=15):.25>I?(H=this.ia,e=7):.5>I?(H=this.Y,e=3):1>I?(H=this.o,e=1):(H=this.ka,e=0),x=this.na&~e,C=this.ra&~e,y=~e,B=~e,k=-(this.j/2*-b+this.g/2*F)+this.B,n=-(this.j/2*F+this.g/2*b)+this.w,p=0,h=k,z=0;z<this.g;z+=1){E=n;for(f=0;f<d;f+=1)(E&y)===(E&x)&&(h&B)===(h&C)&&(w=H[h&C][E&x]|0,w>=r&&(m[p]=g[w])),p+=1,E+=F,h-=b,(E&y)===(E&x)&&(h&B)===(h&
C)&&(w=H[h&C][E&x]|0,w>=r&&(m[p]=g[w])),p+=1,E+=F,h-=b,(E&y)===(E&x)&&(h&B)===(h&C)&&(w=H[h&C][E&x]|0,w>=r&&(m[p]=g[w])),p+=1,E+=F,h-=b,(E&y)===(E&x)&&(h&B)===(h&C)&&(w=H[h&C][E&x]|0,w>=r&&(m[p]=g[w])),p+=1,E+=F,h-=b,(E&y)===(E&x)&&(h&B)===(h&C)&&(w=H[h&C][E&x]|0,w>=r&&(m[p]=g[w])),p+=1,E+=F,h-=b,(E&y)===(E&x)&&(h&B)===(h&C)&&(w=H[h&C][E&x]|0,w>=r&&(m[p]=g[w])),p+=1,E+=F,h-=b,(E&y)===(E&x)&&(h&B)===(h&C)&&(w=H[h&C][E&x]|0,w>=r&&(m[p]=g[w])),p+=1,E+=F,h-=b,(E&y)===(E&x)&&(h&B)===(h&C)&&(w=H[h&C][E&
x]|0,w>=r&&(m[p]=g[w])),p+=1,E+=F,h-=b;n+=b;h=k+=F}};k.prototype.pk=function(a,e){var d=this.j>>3,g=this.Bc,m=this.eb,c=0,z=0,f=0,b=0,h=0,t=0,k=0,n=0,p=0,r=0,q=1,u=1,D=0,A=0,w=this.na&~e,x=this.ra&~e,C=~e,y=~e,c=0,B=a,H=null,I=this.h;1<this.b&&(q=this.l);t=1/this.h;k=-(this.g/2*t)+this.B;n=-(this.j/2*t)+this.w;1<this.l&&1<this.b&&(D=.4/(this.l-1),u=.6);this.K(u);c=8192>this.width?g[0]|0:this.fe|0;r=0;h=k;for(z=0;z<this.g;z+=1){if((h&y)===(h&x))for(H=B[h&x],b=n,f=0;f<d;f+=1)(b&C)===(b&w)?(A=H[b&w]|
0,m[r]=g[A]):m[r]=c,r+=1,b+=t,(b&C)===(b&w)?(A=H[b&w]|0,m[r]=g[A]):m[r]=c,r+=1,b+=t,(b&C)===(b&w)?(A=H[b&w]|0,m[r]=g[A]):m[r]=c,r+=1,b+=t,(b&C)===(b&w)?(A=H[b&w]|0,m[r]=g[A]):m[r]=c,r+=1,b+=t,(b&C)===(b&w)?(A=H[b&w]|0,m[r]=g[A]):m[r]=c,r+=1,b+=t,(b&C)===(b&w)?(A=H[b&w]|0,m[r]=g[A]):m[r]=c,r+=1,b+=t,(b&C)===(b&w)?(A=H[b&w]|0,m[r]=g[A]):m[r]=c,r+=1,b+=t,(b&C)===(b&w)?(A=H[b&w]|0,m[r]=g[A]):m[r]=c,r+=1,b+=t;else for(f=0;f<d;f+=1)m[r]=c,r+=1,m[r]=c,r+=1,m[r]=c,r+=1,m[r]=c,r+=1,m[r]=c,r+=1,m[r]=c,r+=1,
m[r]=c,r+=1,m[r]=c,r+=1;h=k+=t}this.Ia&&this.Ec()&&this.qb();for(c=1;c<q;c+=1)for(p=(this.J+1)/this.l*c|0,u+=D,this.K(u),t/=this.b,I*=this.b,.125>I?(B=this.oa,e=15):.25>I?(B=this.ia,e=7):.5>I?(B=this.Y,e=3):1>I?(B=this.o,e=1):(B=this.ka,e=0),w=this.na&~e,x=this.ra&~e,C=~e,y=~e,k=-(this.g/2*t)+this.B,n=-(this.j/2*t)+this.w,r=0,h=k,z=0;z<this.g;z+=1){if((h&y)===(h&x))for(H=B[h&x],b=n,f=0;f<d;f+=1)(b&C)===(b&w)&&(A=H[b&w]|0,A>=p&&(m[r]=g[A])),r+=1,b+=t,(b&C)===(b&w)&&(A=B[h&x][b&w]|0,A>=p&&(m[r]=g[A])),
r+=1,b+=t,(b&C)===(b&w)&&(A=B[h&x][b&w]|0,A>=p&&(m[r]=g[A])),r+=1,b+=t,(b&C)===(b&w)&&(A=B[h&x][b&w]|0,A>=p&&(m[r]=g[A])),r+=1,b+=t,(b&C)===(b&w)&&(A=B[h&x][b&w]|0,A>=p&&(m[r]=g[A])),r+=1,b+=t,(b&C)===(b&w)&&(A=B[h&x][b&w]|0,A>=p&&(m[r]=g[A])),r+=1,b+=t,(b&C)===(b&w)&&(A=B[h&x][b&w]|0,A>=p&&(m[r]=g[A])),r+=1,b+=t,(b&C)===(b&w)&&(A=B[h&x][b&w]|0,A>=p&&(m[r]=g[A])),r+=1,b+=t;else r+=d<<3;h=k+=t}};k.prototype.vk=function(a,e){var d=this.j>>3,g=this.Bc,m=this.eb,c=0,z=0,f=0,b=0,h=0,t=0,k=0,n=0,p=0,r=
0,q=0,u=1,D=1,A=0,w=0,x=this.na&~e,C=this.ra&~e,y=a,B=this.h;1<this.b&&(u=this.l);t=Math.sin(this.X/180*Math.PI)/this.h;k=Math.cos(this.X/180*Math.PI)/this.h;n=-(this.j/2*-t+this.g/2*k)+this.B;p=-(this.j/2*k+this.g/2*t)+this.w;1<this.l&&1<this.b&&(A=.4/(this.l-1),D=.6);this.K(D);q=0;h=n;for(z=0;z<this.g;z+=1){b=p;for(f=0;f<d;f+=1)w=y[h&C][b&x]|0,m[q]=g[w],q+=1,b+=k,h-=t,w=y[h&C][b&x]|0,m[q]=g[w],q+=1,b+=k,h-=t,w=y[h&C][b&x]|0,m[q]=g[w],q+=1,b+=k,h-=t,w=y[h&C][b&x]|0,m[q]=g[w],q+=1,b+=k,h-=t,w=y[h&
C][b&x]|0,m[q]=g[w],q+=1,b+=k,h-=t,w=y[h&C][b&x]|0,m[q]=g[w],q+=1,b+=k,h-=t,w=y[h&C][b&x]|0,m[q]=g[w],q+=1,b+=k,h-=t,w=y[h&C][b&x]|0,m[q]=g[w],q+=1,b+=k,h-=t;p+=t;h=n+=k}this.Ia&&this.Ec()&&this.qb();for(c=1;c<u;c+=1)for(r=(this.J+1)/this.l*c|0,D+=A,this.K(D),t/=this.b,k/=this.b,B*=this.b,.125>B?(y=this.oa,e=15):.25>B?(y=this.ia,e=7):.5>B?(y=this.Y,e=3):1>B?(y=this.o,e=1):(y=this.ka,e=0),x=this.na&~e,C=this.ra&~e,n=-(this.j/2*-t+this.g/2*k)+this.B,p=-(this.j/2*k+this.g/2*t)+this.w,q=0,h=n,z=0;z<this.g;z+=
1){b=p;for(f=0;f<d;f+=1)w=y[h&C][b&x]|0,w>=r&&(m[q]=g[w]),q+=1,b+=k,h-=t,w=y[h&C][b&x]|0,w>=r&&(m[q]=g[w]),q+=1,b+=k,h-=t,w=y[h&C][b&x]|0,w>=r&&(m[q]=g[w]),q+=1,b+=k,h-=t,w=y[h&C][b&x]|0,w>=r&&(m[q]=g[w]),q+=1,b+=k,h-=t,w=y[h&C][b&x]|0,w>=r&&(m[q]=g[w]),q+=1,b+=k,h-=t,w=y[h&C][b&x]|0,w>=r&&(m[q]=g[w]),q+=1,b+=k,h-=t,w=y[h&C][b&x]|0,w>=r&&(m[q]=g[w]),q+=1,b+=k,h-=t,w=y[h&C][b&x]|0,w>=r&&(m[q]=g[w]),q+=1,b+=k,h-=t;p+=t;h=n+=k}};k.prototype.yk=function(a,e){var d=this.j>>3,g=this.Bc,m=this.eb,c=0,z=
0,f=0,b=0,h=f=0,t=0,k=0,n=0,p=0,r=1,q=1,u=0,D=0,A=this.na&~e,w=this.ra&~e,x=a,C=null,y=this.h;1<this.b&&(r=this.l);h=1/this.h;t=-(this.g/2*h)+this.B;k=-(this.j/2*h)+this.w;1<this.l&&1<this.b&&(u=.4/(this.l-1),q=.6);this.K(q);p=0;f=t;for(z=0;z<this.g;z+=1){C=x[f&w];b=k;for(f=0;f<d;f+=1)D=C[b&A]|0,m[p]=g[D],p+=1,b+=h,D=C[b&A]|0,m[p]=g[D],p+=1,b+=h,D=C[b&A]|0,m[p]=g[D],p+=1,b+=h,D=C[b&A]|0,m[p]=g[D],p+=1,b+=h,D=C[b&A]|0,m[p]=g[D],p+=1,b+=h,D=C[b&A]|0,m[p]=g[D],p+=1,b+=h,D=C[b&A]|0,m[p]=g[D],p+=1,b+=
h,D=C[b&A]|0,m[p]=g[D],p+=1,b+=h;f=t+=h}this.Ia&&this.Ec()&&this.qb();for(c=1;c<r;c+=1)for(n=(this.J+1)/this.l*c|0,q+=u,this.K(q),h/=this.b,y*=this.b,.125>y?(x=this.oa,e=15):.25>y?(x=this.ia,e=7):.5>y?(x=this.Y,e=3):1>y?(x=this.o,e=1):(x=this.ka,e=0),A=this.na&~e,w=this.ra&~e,t=-(this.g/2*h)+this.B,k=-(this.j/2*h)+this.w,p=0,f=t,z=0;z<this.g;z+=1){C=x[f&w];b=k;for(f=0;f<d;f+=1)D=C[b&A]|0,D>=n&&(m[p]=g[D]),p+=1,b+=h,D=C[b&A]|0,D>=n&&(m[p]=g[D]),p+=1,b+=h,D=C[b&A]|0,D>=n&&(m[p]=g[D]),p+=1,b+=h,D=C[b&
A]|0,D>=n&&(m[p]=g[D]),p+=1,b+=h,D=C[b&A]|0,D>=n&&(m[p]=g[D]),p+=1,b+=h,D=C[b&A]|0,D>=n&&(m[p]=g[D]),p+=1,b+=h,D=C[b&A]|0,D>=n&&(m[p]=g[D]),p+=1,b+=h,D=C[b&A]|0,D>=n&&(m[p]=g[D]),p+=1,b+=h;f=t+=h}};k.prototype.Oa=function(a,e){var d=Math.sin(this.X/180*Math.PI)/this.h,g=Math.cos(this.X/180*Math.PI)/this.h,m=this.j,c=this.g,z=-(this.j/2*-d+this.g/2*g)+this.B,b=-(this.j/2*g+this.g/2*d)+this.w,f=z+m*-d,h=b+m*g,t=z+c*g,c=b+c*d,d=t+m*-d,g=c+m*g,m=z,k=b;h<k&&(k=h);c<k&&(k=c);g<k&&(k=c);h>b&&(b=h);c>b&&
(b=c);g>b&&(b=g);f<m&&(m=f);t<m&&(m=t);d<m&&(m=d);f>z&&(z=f);t>z&&(z=t);d>z&&(z=d);0>(k|0)||(b|0)>=this.width||0>(m|0)||(z|0)>=this.height?0===this.s?this.pk(a,e):this.ak(a,e):0===this.s?this.yk(a,e):this.vk(a,e)};k.prototype.kk=function(a,e,d){var g=this.j>>3,m=this.Bc,c=this.eb,z=0,b=0,f=0,h=0,t=0,k=0,p=0,n=0,r=0,q=0,z=ViewConstants.Fa[3]+128,q=ViewConstants.Fa[4]+128,u=ViewConstants.Fa[5]+128,D=ViewConstants.Fa[6]+128,A=0,w=1,x=1,C=0,y=0,B=0,y=0,H=this.V,I=this.na&~d,K=this.ra&~d,G=~d;d=~d;var J=
0,U=this.h;1<this.b&&(w=this.l);k=Math.sin(this.X/180*Math.PI)/this.h;p=Math.cos(this.X/180*Math.PI)/this.h;n=-(this.j/2*-k+this.g/2*p)+this.B;r=-(this.j/2*p+this.g/2*k)+this.w;1<this.l&&1<this.b&&(C=.4/(this.l-1),x=.6);this.K(x);J=8192>this.width?m[0]|0:this.fe|0;A=0;t=n;for(b=0;b<this.g;b+=1){h=r;for(f=0;f<g;f+=1)(h&G)===(h&I)&&(t&d)===(t&K)?(y=e[t&K][h&I],B=a[t&K][h&I],B===q||B===D?(y>=H&&(B=z),y=m[B]|0):B===z||B===u?(y<H&&(B=q),y=m[B]|0):y=m[y]|0,c[A]=y):c[A]=J,A+=1,h+=p,t-=k,(h&G)===(h&I)&&(t&
d)===(t&K)?(y=e[t&K][h&I],B=a[t&K][h&I],B===q||B===D?(y>=H&&(B=z),y=m[B]|0):B===z||B===u?(y<H&&(B=q),y=m[B]|0):y=m[y]|0,c[A]=y):c[A]=J,A+=1,h+=p,t-=k,(h&G)===(h&I)&&(t&d)===(t&K)?(y=e[t&K][h&I],B=a[t&K][h&I],B===q||B===D?(y>=H&&(B=z),y=m[B]|0):B===z||B===u?(y<H&&(B=q),y=m[B]|0):y=m[y]|0,c[A]=y):c[A]=J,A+=1,h+=p,t-=k,(h&G)===(h&I)&&(t&d)===(t&K)?(y=e[t&K][h&I],B=a[t&K][h&I],B===q||B===D?(y>=H&&(B=z),y=m[B]|0):B===z||B===u?(y<H&&(B=q),y=m[B]|0):y=m[y]|0,c[A]=y):c[A]=J,A+=1,h+=p,t-=k,(h&G)===(h&I)&&
(t&d)===(t&K)?(y=e[t&K][h&I],B=a[t&K][h&I],B===q||B===D?(y>=H&&(B=z),y=m[B]|0):B===z||B===u?(y<H&&(B=q),y=m[B]|0):y=m[y]|0,c[A]=y):c[A]=J,A+=1,h+=p,t-=k,(h&G)===(h&I)&&(t&d)===(t&K)?(y=e[t&K][h&I],B=a[t&K][h&I],B===q||B===D?(y>=H&&(B=z),y=m[B]|0):B===z||B===u?(y<H&&(B=q),y=m[B]|0):y=m[y]|0,c[A]=y):c[A]=J,A+=1,h+=p,t-=k,(h&G)===(h&I)&&(t&d)===(t&K)?(y=e[t&K][h&I],B=a[t&K][h&I],B===q||B===D?(y>=H&&(B=z),y=m[B]|0):B===z||B===u?(y<H&&(B=q),y=m[B]|0):y=m[y]|0,c[A]=y):c[A]=J,A+=1,h+=p,t-=k,(h&G)===(h&I)&&
(t&d)===(t&K)?(y=e[t&K][h&I],B=a[t&K][h&I],B===q||B===D?(y>=H&&(B=z),y=m[B]|0):B===z||B===u?(y<H&&(B=q),y=m[B]|0):y=m[y]|0,c[A]=y):c[A]=J,A+=1,h+=p,t-=k;r+=k;t=n+=p}this.Ia&&this.Ec()&&this.qb();for(z=1;z<w;z+=1)for(q=(this.J+1)/this.l*z|0,x+=C,this.K(x),k/=this.b,p/=this.b,U*=this.b,.125>U?(e=this.oa,d=15):.25>U?(e=this.ia,d=7):.5>U?(e=this.Y,d=3):1>U?(e=this.o,d=1):(e=this.ka,d=0),I=this.na&~d,K=this.ra&~d,G=~d,d=~d,n=-(this.j/2*-k+this.g/2*p)+this.B,r=-(this.j/2*p+this.g/2*k)+this.w,A=0,t=n,b=
0;b<this.g;b+=1){h=r;for(f=0;f<g;f+=1)(h&G)===(h&I)&&(t&d)===(t&K)&&(y=e[t&K][h&I]|0,y>=q&&(c[A]=m[y])),A+=1,h+=p,t-=k,(h&G)===(h&I)&&(t&d)===(t&K)&&(y=e[t&K][h&I]|0,y>=q&&(c[A]=m[y])),A+=1,h+=p,t-=k,(h&G)===(h&I)&&(t&d)===(t&K)&&(y=e[t&K][h&I]|0,y>=q&&(c[A]=m[y])),A+=1,h+=p,t-=k,(h&G)===(h&I)&&(t&d)===(t&K)&&(y=e[t&K][h&I]|0,y>=q&&(c[A]=m[y])),A+=1,h+=p,t-=k,(h&G)===(h&I)&&(t&d)===(t&K)&&(y=e[t&K][h&I]|0,y>=q&&(c[A]=m[y])),A+=1,h+=p,t-=k,(h&G)===(h&I)&&(t&d)===(t&K)&&(y=e[t&K][h&I]|0,y>=q&&(c[A]=
m[y])),A+=1,h+=p,t-=k,(h&G)===(h&I)&&(t&d)===(t&K)&&(y=e[t&K][h&I]|0,y>=q&&(c[A]=m[y])),A+=1,h+=p,t-=k,(h&G)===(h&I)&&(t&d)===(t&K)&&(y=e[t&K][h&I]|0,y>=q&&(c[A]=m[y])),A+=1,h+=p,t-=k;r+=k;t=n+=p}};k.prototype.mk=function(a,e,d){var g=this.j>>3,m=this.Bc,c=this.eb,b=0,f=0,k=0,h=0,t=0,p=0,n=0,q=0,r=0,w=0,b=ViewConstants.Fa[3]+128,w=ViewConstants.Fa[4]+128,u=ViewConstants.Fa[5]+128,D=ViewConstants.Fa[6]+128,A=0,I=1,x=1,C=0,y=0,B=0,y=0,H=this.V,J=this.na&~d;d=this.ra&~d;var K=this.h;1<this.b&&(I=this.l);
p=Math.sin(this.X/180*Math.PI)/this.h;n=Math.cos(this.X/180*Math.PI)/this.h;q=-(this.j/2*-p+this.g/2*n)+this.B;r=-(this.j/2*n+this.g/2*p)+this.w;1<this.l&&1<this.b&&(C=.4/(this.l-1),x=.6);this.K(x);A=0;t=q;for(f=0;f<this.g;f+=1){h=r;for(k=0;k<g;k+=1)y=e[t&d][h&J],B=a[t&d][h&J],B===w||B===D?(y>=H&&(B=b),y=m[B]|0):B===b||B===u?(y<H&&(B=w),y=m[B]|0):y=m[y]|0,c[A]=y,A+=1,h+=n,t-=p,y=e[t&d][h&J],B=a[t&d][h&J],B===w||B===D?(y>=H&&(B=b),y=m[B]|0):B===b||B===u?(y<H&&(B=w),y=m[B]|0):y=m[y]|0,c[A]=y,A+=1,h+=
n,t-=p,y=e[t&d][h&J],B=a[t&d][h&J],B===w||B===D?(y>=H&&(B=b),y=m[B]|0):B===b||B===u?(y<H&&(B=w),y=m[B]|0):y=m[y]|0,c[A]=y,A+=1,h+=n,t-=p,y=e[t&d][h&J],B=a[t&d][h&J],B===w||B===D?(y>=H&&(B=b),y=m[B]|0):B===b||B===u?(y<H&&(B=w),y=m[B]|0):y=m[y]|0,c[A]=y,A+=1,h+=n,t-=p,y=e[t&d][h&J],B=a[t&d][h&J],B===w||B===D?(y>=H&&(B=b),y=m[B]|0):B===b||B===u?(y<H&&(B=w),y=m[B]|0):y=m[y]|0,c[A]=y,A+=1,h+=n,t-=p,y=e[t&d][h&J],B=a[t&d][h&J],B===w||B===D?(y>=H&&(B=b),y=m[B]|0):B===b||B===u?(y<H&&(B=w),y=m[B]|0):y=m[y]|
0,c[A]=y,A+=1,h+=n,t-=p,y=e[t&d][h&J],B=a[t&d][h&J],B===w||B===D?(y>=H&&(B=b),y=m[B]|0):B===b||B===u?(y<H&&(B=w),y=m[B]|0):y=m[y]|0,c[A]=y,A+=1,h+=n,t-=p,y=e[t&d][h&J],B=a[t&d][h&J],B===w||B===D?(y>=H&&(B=b),y=m[B]|0):B===b||B===u?(y<H&&(B=w),y=m[B]|0):y=m[y]|0,c[A]=y,A+=1,h+=n,t-=p;r+=p;t=q+=n}this.Ia&&this.Ec()&&this.qb();for(b=1;b<I;b+=1)for(w=(this.J+1)/this.l*b|0,x+=C,this.K(x),p/=this.b,n/=this.b,K*=this.b,.125>K?(e=this.oa,d=15):.25>K?(e=this.ia,d=7):.5>K?(e=this.Y,d=3):1>K?(e=this.o,d=1):
(e=this.ka,d=0),J=this.na&~d,d=this.ra&~d,q=-(this.j/2*-p+this.g/2*n)+this.B,r=-(this.j/2*n+this.g/2*p)+this.w,A=0,t=q,f=0;f<this.g;f+=1){h=r;for(k=0;k<g;k+=1)y=e[t&d][h&J]|0,y>=w&&(c[A]=m[y]),A+=1,h+=n,t-=p,y=e[t&d][h&J]|0,y>=w&&(c[A]=m[y]),A+=1,h+=n,t-=p,y=e[t&d][h&J]|0,y>=w&&(c[A]=m[y]),A+=1,h+=n,t-=p,y=e[t&d][h&J]|0,y>=w&&(c[A]=m[y]),A+=1,h+=n,t-=p,y=e[t&d][h&J]|0,y>=w&&(c[A]=m[y]),A+=1,h+=n,t-=p,y=e[t&d][h&J]|0,y>=w&&(c[A]=m[y]),A+=1,h+=n,t-=p,y=e[t&d][h&J]|0,y>=w&&(c[A]=m[y]),A+=1,h+=n,t-=p,
y=e[t&d][h&J]|0,y>=w&&(c[A]=m[y]),A+=1,h+=n,t-=p;r+=p;t=q+=n}};k.prototype.nk=function(a,e,d){var g=this.j>>3,m=this.Bc,c=this.eb,b=0,f=0,k=0,h=0,t=k=0,p=0,n=0,q=0,b=ViewConstants.Fa[3]+128,q=ViewConstants.Fa[4]+128,r=ViewConstants.Fa[5]+128,w=ViewConstants.Fa[6]+128,u=0,D=1,A=1,I=0,x=0,C=0,x=0,y=this.V,B=this.na&~d;d=this.ra&~d;var H=null,J=null,K=this.h;1<this.b&&(D=this.l);t=1/this.h;p=-(this.g/2*t)+this.B;n=-(this.j/2*t)+this.w;1<this.l&&1<this.b&&(I=.4/(this.l-1),A=.6);this.K(A);u=0;k=p;for(f=
0;f<this.g;f+=1){H=e[k&d];J=a[k&d];h=n;for(k=0;k<g;k+=1)x=H[h&B],C=J[h&B],C===q||C===w?(x>=y&&(C=b),x=m[C]|0):C===b||C===r?(x<y&&(C=q),x=m[C]|0):x=m[x]|0,c[u]=x,u+=1,h+=t,x=H[h&B],C=J[h&B],C===q||C===w?(x>=y&&(C=b),x=m[C]|0):C===b||C===r?(x<y&&(C=q),x=m[C]|0):x=m[x]|0,c[u]=x,u+=1,h+=t,x=H[h&B],C=J[h&B],C===q||C===w?(x>=y&&(C=b),x=m[C]|0):C===b||C===r?(x<y&&(C=q),x=m[C]|0):x=m[x]|0,c[u]=x,u+=1,h+=t,x=H[h&B],C=J[h&B],C===q||C===w?(x>=y&&(C=b),x=m[C]|0):C===b||C===r?(x<y&&(C=q),x=m[C]|0):x=m[x]|0,c[u]=
x,u+=1,h+=t,x=H[h&B],C=J[h&B],C===q||C===w?(x>=y&&(C=b),x=m[C]|0):C===b||C===r?(x<y&&(C=q),x=m[C]|0):x=m[x]|0,c[u]=x,u+=1,h+=t,x=H[h&B],C=J[h&B],C===q||C===w?(x>=y&&(C=b),x=m[C]|0):C===b||C===r?(x<y&&(C=q),x=m[C]|0):x=m[x]|0,c[u]=x,u+=1,h+=t,x=H[h&B],C=J[h&B],C===q||C===w?(x>=y&&(C=b),x=m[C]|0):C===b||C===r?(x<y&&(C=q),x=m[C]|0):x=m[x]|0,c[u]=x,u+=1,h+=t,x=H[h&B],C=J[h&B],C===q||C===w?(x>=y&&(C=b),x=m[C]|0):C===b||C===r?(x<y&&(C=q),x=m[C]|0):x=m[x]|0,c[u]=x,u+=1,h+=t;k=p+=t}this.Ia&&this.Ec()&&this.qb();
for(b=1;b<D;b+=1)for(q=(this.J+1)/this.l*b|0,A+=I,this.K(A),t/=this.b,K*=this.b,.125>K?(e=this.oa,d=15):.25>K?(e=this.ia,d=7):.5>K?(e=this.Y,d=3):1>K?(e=this.o,d=1):(e=this.ka,d=0),B=this.na&~d,d=this.ra&~d,p=-(this.g/2*t)+this.B,n=-(this.j/2*t)+this.w,u=0,k=p,f=0;f<this.g;f+=1){H=e[k&d];h=n;for(k=0;k<g;k+=1)x=H[h&B]|0,x>=q&&(c[u]=m[x]),u+=1,h+=t,x=H[h&B]|0,x>=q&&(c[u]=m[x]),u+=1,h+=t,x=H[h&B]|0,x>=q&&(c[u]=m[x]),u+=1,h+=t,x=H[h&B]|0,x>=q&&(c[u]=m[x]),u+=1,h+=t,x=H[h&B]|0,x>=q&&(c[u]=m[x]),u+=1,h+=
t,x=H[h&B]|0,x>=q&&(c[u]=m[x]),u+=1,h+=t,x=H[h&B]|0,x>=q&&(c[u]=m[x]),u+=1,h+=t,x=H[h&B]|0,x>=q&&(c[u]=m[x]),u+=1,h+=t;k=p+=t}};k.prototype.lk=function(a,e,d){var g=this.j>>3,m=this.Bc,c=this.eb,b=0,f=0,k=0,h=0,t=k=0,p=0,n=0,q=0,b=ViewConstants.Fa[3]+128,q=ViewConstants.Fa[4]+128,r=ViewConstants.Fa[5]+128,w=ViewConstants.Fa[6]+128,u=0,D=1,A=1,I=0,x=0,C=0,y=x=0,B=this.V,H=this.na&~d,J=this.ra&~d,K=~d;d=~d;var G=null,T=null,U=this.h;1<this.b&&(D=this.l);t=1/this.h;p=-(this.g/2*t)+this.B;n=-(this.j/
2*t)+this.w;1<this.l&&1<this.b&&(I=.4/(this.l-1),A=.6);this.K(A);y=8192>this.width?m[0]|0:this.fe|0;u=0;k=p;for(f=0;f<this.g;f+=1){if((k&d)===(k&J))for(G=e[k&J],T=a[k&J],h=n,k=0;k<g;k+=1)(h&K)===(h&H)?(x=G[h&H],C=T[h&H],C===q||C===w?(x>=B&&(C=b),x=m[C]|0):C===b||C===r?(x<B&&(C=q),x=m[C]|0):x=m[x]|0):x=y,c[u]=x,u+=1,h+=t,(h&K)===(h&H)?(x=G[h&H],C=T[h&H],C===q||C===w?(x>=B&&(C=b),x=m[C]|0):C===b||C===r?(x<B&&(C=q),x=m[C]|0):x=m[x]|0):x=y,c[u]=x,u+=1,h+=t,(h&K)===(h&H)?(x=G[h&H],C=T[h&H],C===q||C===
w?(x>=B&&(C=b),x=m[C]|0):C===b||C===r?(x<B&&(C=q),x=m[C]|0):x=m[x]|0):x=y,c[u]=x,u+=1,h+=t,(h&K)===(h&H)?(x=G[h&H],C=T[h&H],C===q||C===w?(x>=B&&(C=b),x=m[C]|0):C===b||C===r?(x<B&&(C=q),x=m[C]|0):x=m[x]|0):x=y,c[u]=x,u+=1,h+=t,(h&K)===(h&H)?(x=G[h&H],C=T[h&H],C===q||C===w?(x>=B&&(C=b),x=m[C]|0):C===b||C===r?(x<B&&(C=q),x=m[C]|0):x=m[x]|0):x=y,c[u]=x,u+=1,h+=t,(h&K)===(h&H)?(x=G[h&H],C=T[h&H],C===q||C===w?(x>=B&&(C=b),x=m[C]|0):C===b||C===r?(x<B&&(C=q),x=m[C]|0):x=m[x]|0):x=y,c[u]=x,u+=1,h+=t,(h&K)===
(h&H)?(x=G[h&H],C=T[h&H],C===q||C===w?(x>=B&&(C=b),x=m[C]|0):C===b||C===r?(x<B&&(C=q),x=m[C]|0):x=m[x]|0):x=y,c[u]=x,u+=1,h+=t,(h&K)===(h&H)?(x=G[h&H],C=T[h&H],C===q||C===w?(x>=B&&(C=b),x=m[C]|0):C===b||C===r?(x<B&&(C=q),x=m[C]|0):x=m[x]|0):x=y,c[u]=x,u+=1,h+=t;else for(k=0;k<g;k+=1)c[u]=y,u+=1,c[u]=y,u+=1,c[u]=y,u+=1,c[u]=y,u+=1,c[u]=y,u+=1,c[u]=y,u+=1,c[u]=y,u+=1,c[u]=y,u+=1;k=p+=t}this.Ia&&this.Ec()&&this.qb();for(b=1;b<D;b+=1)for(q=(this.J+1)/this.l*b|0,A+=I,this.K(A),t/=this.b,U*=this.b,.125>
U?(e=this.oa,d=15):.25>U?(e=this.ia,d=7):.5>U?(e=this.Y,d=3):1>U?(e=this.o,d=1):(e=this.ka,d=0),H=this.na&~d,J=this.ra&~d,K=~d,d=~d,p=-(this.g/2*t)+this.B,n=-(this.j/2*t)+this.w,u=0,k=p,f=0;f<this.g;f+=1){if((k&d)===(k&J))for(G=e[k&J],h=n,k=0;k<g;k+=1)(h&K)===(h&H)&&(x=G[h&H]|0,x>=q&&(c[u]=m[x])),u+=1,h+=t,(h&K)===(h&H)&&(x=G[h&H]|0,x>=q&&(c[u]=m[x])),u+=1,h+=t,(h&K)===(h&H)&&(x=G[h&H]|0,x>=q&&(c[u]=m[x])),u+=1,h+=t,(h&K)===(h&H)&&(x=G[h&H]|0,x>=q&&(c[u]=m[x])),u+=1,h+=t,(h&K)===(h&H)&&(x=G[h&H]|
0,x>=q&&(c[u]=m[x])),u+=1,h+=t,(h&K)===(h&H)&&(x=G[h&H]|0,x>=q&&(c[u]=m[x])),u+=1,h+=t,(h&K)===(h&H)&&(x=G[h&H]|0,x>=q&&(c[u]=m[x])),u+=1,h+=t,(h&K)===(h&H)&&(x=G[h&H]|0,x>=q&&(c[u]=m[x])),u+=1,h+=t;else u+=g<<3;k=p+=t}};k.prototype.sc=function(a,e,d){var g=Math.sin(this.X/180*Math.PI)/this.h,m=Math.cos(this.X/180*Math.PI)/this.h,c=this.j,b=this.g,f=-(this.j/2*-g+this.g/2*m)+this.B,k=-(this.j/2*m+this.g/2*g)+this.w,h=f+c*-g,t=k+c*m,p=f+b*m,b=k+b*g,g=p+c*-g,m=b+c*m,c=f,n=k;t<n&&(n=t);b<n&&(n=b);m<
n&&(n=b);t>k&&(k=t);b>k&&(k=b);m>k&&(k=m);h<c&&(c=h);p<c&&(c=p);g<c&&(c=g);h>f&&(f=h);p>f&&(f=p);g>f&&(f=g);0>(n|0)||(k|0)>=this.width||0>(c|0)||(f|0)>=this.height?0===this.s?this.lk(a,e,d):this.kk(a,e,d):0===this.s?this.nk(a,e,d):this.mk(a,e,d)};k.prototype.Mi=function(){var a=0,e,d,g;if(!this.rb.data.buffer)for(d=this.rb.data,g=this.Ed,e=g.length,a=0;a<e;)d[a]=g[a],a+=1,d[a]=g[a],a+=1,d[a]=g[a],a+=1,d[a]=g[a],a+=1;this.Bd.putImageData(this.rb,0,0)};k.prototype.fh=function(){for(var a=0,e=0,d=this.g,
g=this.j,m=this.eb,c=this.Uc,a=0;a<d;a+=1)m.set(c,e),e+=g};window.LifeConstants=b;window.RuleManager=d;window.Life=k})();(function(){function q(n){this.b=n.match(/\S+/g);this.current=0}q.prototype.C=function(){var n="";this.b&&this.current<this.b.length&&(n=this.b[this.current],this.current+=1);return n};q.prototype.Ag=function(){var n="";this.b&&this.current<this.b.length&&(n=this.b[this.current]);return n};q.prototype.Qi=function(n){var a=!1;if(this.b)for(;this.current<this.b.length&&!a;)this.b[this.current]===n&&(a=!0),this.current+=1;return a};q.prototype.ca=function(){var n=!1,a="";this.b&&this.current<this.b.length&&
(a=this.b[this.current],n=!isNaN(parseFloat(a))&&isFinite(a));return n};window.Script=q})();(function(){function q(a){this.c=a;this.Zi=!1;this.s=this.y=this.x=0;this.depth=this.l=this.zoom=1;this.ta=0;this.qa=60;this.step=1;this.sa=this.ea=0;this.hb="";this.Oj=this.Nj=this.Mj=this.Bf=this.Ze=this.Xd=this.Ve=this.kf=this.Ob=this.Te=this.Qc=this.md=this.Sb=!1}function n(){this.S=[];this.Kb=[];this.current=new q(this);this.o=new q(this);this.c=new q(this);this.f=!1;this.kd=0}q.prototype.set=function(a){this.x=a.x;this.y=a.y;this.Sb=a.Sb;this.s=a.s;this.zoom=a.zoom;this.l=a.l;this.depth=a.depth;
this.ta=a.ta;this.qa=a.qa;this.ea=a.ea;this.sa=a.sa;this.hb=a.hb};q.prototype.b=function(a,f,k){var b=a.sa+0,n=f.sa+0,p=a.s+0,q=f.s+0,w=1,d=1,l=1;n!==b&&(w=(k-b)/(n-b)+0,d=this.c.yi(w)+0);l=d;this.x=a.x+l*(f.x-a.x);this.y=a.y+l*(f.y-a.y);this.zoom=a.zoom*Math.pow(f.zoom/a.zoom,l);180<q-p?p+=360:-180>q-p&&(q+=360);this.s=(p+d*(q-p))%360;this.l=a.l+w*(f.l-a.l)|0;this.depth=a.depth+w*(f.depth-a.depth);this.ta=f.ta;this.qa=f.qa;this.step=f.step;this.ea=a.ea+w*(f.ea-a.ea);this.sa=k;this.hb=f.hb;this.Sb=
f.Sb};n.prototype.Zf=function(){return new q(this)};n.prototype.yi=function(a){return-2*Math.pow(a,3)+3*Math.pow(a,2)+0*a+0};n.prototype.reset=function(){this.S=[];this.Kb=[];this.f=!1;this.kd=0};n.prototype.al=function(){return this.S[this.S.length-1]};n.prototype.Pi=function(a){var f=0,f=this.h(a),k=this.S[f],b=null;a>k.ea?f=k.sa+1E3*(a-k.ea)/(k.qa*k.step):0<f?(b=this.S[f-1],f=b.sa+1E3*(a-b.ea)/(k.qa*k.step)):f=1E3*a/(k.qa*k.step);return f};n.prototype.Fi=function(a,f,k,b,n,p,q,w,d,l,e){var v=this.o,
g=0;v.x=a;v.y=f;v.zoom=k;v.s=b;v.qa=w;v.step=d;v.l=n;v.depth=p;v.ta=q;v.ea=l;this.f&&(e=this.c.sa);v.sa=e-1E3;this.update(e);this.c.set(this.current);this.c.Sb=!1;this.c.sa=e;this.f=!0;return g=v.sa};n.prototype.Tk=function(){return this.S[0]};n.prototype.add=function(a){a.Zi?this.Kb[this.Kb.length]=a:this.S[this.S.length]=a};n.prototype.lh=function(a){var f=!1;this.kd>=this.S.length-1&&a>=this.S[this.kd].sa&&(f=!0);return f};n.prototype.b=function(a){var f=null;return f=a===(a|0)?String(a|0):String(a.toFixed(1))};
n.prototype.ol=function(a,f){var k="",b=null;0<=a&&a<this.Kb.length&&(b=this.Kb[a],k="X "+b.x+" Y "+b.y+" Z "+this.b(b.zoom),""!==b.hb&&(k+=" "+f+b.hb+f));return k};n.prototype.Zl=function(a,f){var k="",b=null,n=null;0<=a&&a<this.S.length&&(b=this.S[a],0<a?(n=this.S[a-1],k=b.ea===n.ea?"P "+this.b((b.sa-n.sa|0)/1E3):"T "+b.ea,b.Sb?k+=" F":(b.x!==n.x&&(k+=" X "+b.x),b.y!==n.y&&(k+=" Y "+b.y),b.zoom!==n.zoom&&(k+=" Z "+this.b(b.zoom))),b.s!==n.s&&(k+=" A "+b.s),b.l!==n.l&&(k+=" L "+b.l),b.depth!==n.depth&&
(k+=" D "+this.b(b.depth)),b.ta!==n.ta&&(k+=" C "+b.ta),b.qa!==n.qa&&(k+=" G "+b.qa),b.step!==n.step&&(k+=" S "+b.step),""!==b.hb&&(k+=" "+f+b.hb+f)):k="T "+b.ea+" X "+b.x+" Y "+b.y+" Z "+this.b(b.zoom)+" A "+b.s+" L "+b.l+" D "+this.b(b.depth)+" C "+b.ta+" G "+b.qa+" S "+b.step);return k};n.prototype.update=function(a){var f=this.S.length,k=!1,b=this.kd,n=null,p=!1;if(this.f)this.current.b(this.o,this.c,a),a>=this.c.sa&&(this.f=!1);else{for(;b<f&&!k;)n=this.S[b],n.sa>=a?k=!0:b+=1;k?0<b?(this.S[b].Sb&&
(this.S[b].x=this.current.x,this.S[b].y=this.current.y,this.S[b].zoom=this.current.zoom),this.current.b(this.S[b-1],this.S[b],a)):(b=0,this.current.set(this.S[b])):(b=f-1,this.current.set(this.S[b]),p=!0);this.kd=b}return p};n.prototype.h=function(a){for(var f=0,k=!1,b=this.S,n=this.S.length;f<n&&!k;)b[f].ea>=a?k=!0:f+=1;k||(f=n-1);return f};n.prototype.Sk=function(a){this.kd=this.h(a)};n.prototype.ql=function(a){for(var f=0,k=null,b=null,n=this.S,p=this.S.length,f=1;f<p;f+=1)k=n[f-1],b=n[f],b.md||
(b.x=k.x),b.Qc||(b.y=k.y),b.Te||(b.s=k.s),b.Ob||(b.zoom=k.zoom),b.kf||(b.l=k.l),b.Ve||(b.depth=k.depth),b.Xd||(b.ta=k.ta),b.Ze||(b.qa=k.qa),b.Bf||(b.step=k.step),b.Mj?b.ea<=k.ea&&(a[a.length]=[Keywords.Og+" "+b.ea,"target generation must be later than previous ("+k.ea+")"]):b.ea=k.ea,b.sa=b.Nj?1E3*b.sa+k.sa:k.sa+1E3*(b.ea-k.ea)/(b.qa*b.step)};window.Waypoint=q;window.WaypointManager=n})();(function(){function q(n,a){var f=this;this.ti=n;this.i=a;this.top=this.left=0;""!==n.style.left&&(this.left=parseInt(n.style.left,10));""!==n.style.top&&(this.top=parseInt(n.style.top,10));this.Ka=this.zd=!1;this.gf=this.ff=this.jf=this.hf=this.Oc=this.Nc=-1;registerEvent(n,"mousedown",function(a){f.c(f,a)},!1);registerEvent(document,"mousemove",function(a){f.f(f,a)},!1);registerEvent(document,"mouseup",function(a){f.h(f,a)},!1);registerEvent(n,"touchstart",function(a){f.b(f,a)},!1);registerEvent(n,
"touchmove",function(a){f.b(f,a)},!1);registerEvent(n,"touchend",function(a){f.b(f,a)},!1);registerEvent(window,"resize",function(){f.zj(f)},!1)}q.prototype.zj=function(n){n.Fj(n.left,n.top,n.ti)};q.prototype.Sl=function(n,a){var f=this.ti,k=this.left,b=this.top;this.Fj(k+n,b+a,f)};q.prototype.Fj=function(n,a,f){var k=window.innerWidth-f.clientWidth,b=window.innerHeight-f.clientHeight;window.innerHeight<document.getElementsByTagName("body")[0].clientHeight&&(k-=21);0>n&&(n=0);0>a&&(a=0);n>k&&(n=k);
a>b&&(a=b);f.style.left=n+"px";f.style.top=a+"px";f.style.position="fixed";this.left=n;this.top=a};q.prototype.Ck=function(){var n=this.ti,a=n.offsetParent;this.offsetLeft=n.offsetLeft;for(this.offsetTop=n.offsetTop;a;)this.offsetLeft+=a.offsetLeft,this.offsetTop+=a.offsetTop,a=a.offsetParent;a=n.parentNode;if("fixed"===a.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;else for(;"body"!==
a.tagName.toLowerCase();)this.offsetLeft-=a.scrollLeft,this.offsetTop-=a.scrollTop,a=a.parentNode};q.prototype.b=function(n,a){var f=null,k,b="";if("touchend"===a.type)b="mouseup",k=document.createEvent("MouseEvent"),k.initMouseEvent(b,!0,!0,window,1,n.hf,n.jf,n.ff,n.gf,!1,!1,!1,!1,0,null),a.target.dispatchEvent(k),a.preventDefault();else{if(1===a.touches.length)switch(a.type){case "touchstart":b="mousedown";break;case "touchmove":b="mousemove"}""!==b&&(f=a.changedTouches[0],k=document.createEvent("MouseEvent"),
k.initMouseEvent(b,!0,!0,window,1,f.screenX,f.screenY,f.clientX,f.clientY,!1,!1,!1,!1,0,null),f.target.dispatchEvent(k),a.preventDefault(),n.hf=f.screenX,n.jf=f.screenY,n.ff=f.clientX,n.gf=f.clientY)}};q.prototype.c=function(n,a){n.Yd(n,a);n.Ka=!0;n.i.Nd=!0;a.stopPropagation&&a.stopPropagation();a.preventDefault()};q.prototype.h=function(n,a){n.zd&&n.Ka&&(n.Yd(n,a),n.Ka=!1,n.i.Nd=!1,a.stopPropagation&&a.stopPropagation(),a.preventDefault())};q.prototype.f=function(n,a){if(n.zd&&n.Ka){var f=n.Nc,k=
n.Oc;n.Yd(n,a);n.Ka&&n.Sl(n.Nc-f,n.Oc-k);n.Nc=f;n.Oc=k;a.stopPropagation&&a.stopPropagation();a.preventDefault()}};q.prototype.Yd=function(n,a){var f,k;a.pageX||a.pageY?(f=a.pageX,k=a.pageY):(f=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,k=a.clientY+document.body.scrollTop+document.documentElement.scrollTop);n.Ck();f-=n.offsetLeft;k-=n.offsetTop;n.Nc=f-1|0;n.Oc=k-1|0};window.PopupWindow=q})();(function(){function q(){this.key=new Uint8Array(256);this.Ih=this.Gh=0}q.prototype.ad=function(n){var a,f,k,b=this.key;for(a=0;256>a;a+=1)b[a]=a;for(a=f=0;256>a;a+=1)f=f+b[a]+n.charCodeAt(a%n.length)&255,k=b[a],b[a]=b[f],b[f]=k;this.Ih=this.Gh=0};q.prototype.random=function(){var n,a,f=0,k=1,b=this.key,q=this.Gh,p=this.Ih;for(n=0;8>n;n+=1)q=q+1&255,p=p+b[q]&255,a=b[q],b[q]=b[p],b[p]=a,f+=b[b[q]+b[p]&255]*k,k*=256;this.Gh=q;this.Ih=p;return f/1.8446744073709552E19};window.myRand=new q})();(function(){function q(){this.x=[];this.y=[];this.b=[];this.f=0;this.blue=this.green=this.red=255;this.sin=new Float32Array(2880);this.cos=new Float32Array(2880);this.c=Math.PI/180;this.h=180/Math.PI;for(var n=0;2880>n;)this.sin[n]=Math.sin(n/8*this.c),this.cos[n]=Math.cos(n/8*this.c),n+=1}q.prototype.ad=function(n,a,f,k){var b=0,q=0,p=0,J=0,w=a*a+f*f;myRand.ad(Date.now().toString());this.f=n;for(b=0;b<n;b+=1){J=b/n*(b/n)*(b/n)*(b/n)*k+1;do q=3*(myRand.random()*a-a/2),p=3*(myRand.random()*f-f/2);
while(q*q+p*p>w);this.x[b]=q;this.y[b]=p;this.b[b]=J}};q.prototype.Ek=function(n,a,f,k,b,q,p,J){var w=0,d=0,l=0,e=0,v=e=l=l=d=0,g=0,m=0,c=l=0,z=0;littleEndian?(m=J>>16&255,g=J>>8&255,v=J&255):(v=J>>24&255,g=J>>16&255,m=J>>8&255);for(w=0;w<this.f;w+=1)d=this.x[w]+n,l=this.y[w]+a,0!==k&&(e=Math.sqrt(d*d+l*l),l=Math.atan2(l,d)*this.h,l+=k,0>l?l+=360:360<=l&&(l-=360),l*=8,l|=0,d=e*this.cos[l],l=e*this.sin[l]),e=this.b[w]/f*2,d=b/2+d/e|0,l=q/2+l/e|0,0<d&&d<b-1&&0<l&&l<q-1&&(d+=l*b,e=1536/e|0,255<e&&(e=
255),e/=255,p[d]===J&&(l=v+(this.red-v)*e,c=g+(this.green-g)*e,z=m+(this.blue-m)*e,l=littleEndian?-16777216|z<<16|c<<8|l:l<<24|z<<16|c<<8|255,p[d]=l),e/=2,l=v+(this.red-v)*e,c=g+(this.green-g)*e,z=m+(this.blue-m)*e,l=littleEndian?-16777216|z<<16|c<<8|l:l<<24|z<<16|c<<8|255,--d,p[d]===J&&(p[d]=l),d+=2,p[d]===J&&(p[d]=l),--d,d-=b,p[d]===J&&(p[d]=l),d+=b+b,p[d]===J&&(p[d]=l))};window.Stars=q})();(function(){function q(){this.Y=this.X=0;this.zb=this.We=this.re=this.qe=this.pe=this.Ud=this.Ke=this.Wd=this.Vd=this.Gc=-1;this.he=!1;this.Ei=0;this.za=!1;this.od=0;this.uk=.01;this.J=null;this.ya=[80,80,80];this.B=!1;this.Qg=null;this.ua="";this.He=this.Va=this.Ac=!1;this.oa=new Stars;this.oa.ad(1E4,8192,8192,1024);this.Cb=!1;this.h=1;this.Od=0;this.Ca=this.Jh=!1;this.D=new WaypointManager;this.rg="";this.Oh=-1;this.wb=this.pb=!1;this.I=1;this.Ch=this.Bd=this.Db=0;this.Na=e.fl;this.Ki=0;this.Eb=
this.Oa=-1;this.bb=this.P=this.Ha=this.ia=0;this.rc=this.sc=null;this.ye=this.Jb="";this.vd=!1;this.c=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.Bb=this.rb=-1;this.qb="";this.sb=[];this.ac=!1;this.w=[];this.$a=[];this.mb=[];this.U=1;this.u=0;this.ze=100;this.la=10;this.qg=this.Dj=1;this.f=64;this.Ra=this.Le=-1;this.De=this.rd=this.Ya=this.Za=this.Ta=this.Wa=!1;this.Fd=this.Yc=this.Cd=-1;this.a=null;this.bc=!0;this.elapsedTime=0;this.j=5000;this.g=5000;this.oc=this.Pc=this.Ja=!1;this.R=this.Wb=this.gg=this.Sc=
this.Xf=this.Rc=this.Bg=this.Ed=this.Qb=this.kg=this.Hd=this.Ye=this.se=this.pd=this.df=this.Gb=this.Qa=this.pa=this.A=this.va=this.ib=this.zc=this.La=this.W=null;this.ue=this.te=-1;this.wheelDelta=0;this.lb=this.Md=this.xc=this.o=this.Eg=null;this.Tb=60;this.H=this.i=null;this.oe=this.ne=this.le=this.ud=this.Id=0;this.xd=this.Ji=1;this.wh=60;this.me=this.hg=1;this.uh=.1;this.Qd=this.Pd=this.Zh=0;this.vf=1;this.Pg=this.fa=this.Vc=this.Uc=this.Xc=!1;this.Ee=this.tf=this.Gd=this.rf=0;this.Gg=!1}function n(g,
a,c,d){for(var b=0,f=a.parentNode,h=null,k=null,b=0;b<v.ob.length&&!k;)v.ob[b][0].tabIndex===a.tabIndex?k=v.ob[b][1]:b+=1;k||(k=new q,k.Cb=d,l.tg&&(k.Na=c&-8,k.Na<e.dd&&(k.Na=e.dd)),a.tabIndex=v.ob.length+1,k.Ug(a),"none"===f.style.display&&(h=new PopupWindow(f,k.i)),v.ob[v.ob.length]=[a,k,h]);d||k.Hj(g,!1)}function a(g){g=g.parentNode;for(var a=!1;!a;)"div"!==g.localName||g.className!==l.jg&&"codebox"!==g.className||(a=!0),a||(g=g.parentNode);return g}function f(){var g=v.fi(),a=g[1],c=g[2];g[0].parentNode.style.display=
"none";c.zd=!1;a.Ja&&(a.R.current=a.pc(e.Ea,!0,a))}function k(g){f();g.stopPropagation&&g.stopPropagation();g.preventDefault();return!1}function b(g){return g.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").trim()}function I(g){var m=a(g);g=b(m.getElementsByTagName(l.qf)[0]);m=m.getElementsByTagName("form")[0];m.getElementsByTagName("input")[0].value=g;
m.submit()}function p(g){var m=a(g);g=b(m.getElementsByTagName(l.qf)[0]);var c=v.fi(),d=m=m=null,f=null,p=null,h=null,t=null,q=null;c||(m=document.createElement("canvas"),m.width=e.dd,m.height=e.nf+80,m.style.display="block",f=document.createElement("a"),f.setAttribute("href","#"),f.innerHTML="&nbsp;X&nbsp;",f.style.textDecoration="none",f.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif",f.style.color="#FFFFFF",f.style.backgroundColor="#C75050",f.style.cssFloat="right",q=document.createElement("a"),
q.innerHTML="&nbsp;X&nbsp;",q.style.textDecoration="none",q.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif",q.style.visibility="hidden",q.style.cssFloat="left",t=document.createElement("div"),t.style.textAlign="center",h=document.createTextNode("LifeViewer"),t.appendChild(h),registerEvent(f,"click",k,!1),d=document.createElement("div"),d.style.display="none",d.style.position="fixed",d.style.border="1px solid white",d.style.left="2048px",d.style.top="0px",d.style.width=e.dd+"px",
d.style.textAlign="right",d.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)",d.style.margin="1px",p=document.createElement("div"),p.className="codebox",p.appendChild(q),p.appendChild(f),p.appendChild(t),d.appendChild(p),d.appendChild(m),document.body.appendChild(d),n(g,m,e.dd,!0),v.ei=v.ob.length-1,c=v.fi(),c[1].Qg=h);m=c[0].parentNode;""!==m.style.display&&(m.style.display="");c[1].j=e.dd;c[1].g=e.nf+80;c[1].resize();c[1].i.notification.clear(!0,!0);c[1].i.notification.clear(!1,
!0);c[1].Hj(g,!0);m=c[2];m.zd=!0;m.zj(m);return!1}function J(g){I(this);g.stopPropagation&&g.stopPropagation();g.preventDefault();return!1}function w(g){p(this);g.stopPropagation&&g.stopPropagation();g.preventDefault();return!1}var d={xa:'"',xf:"[[",ai:"]]",yh:"DELETERANGE",ci:"SHOWTIMING",bi:"SHOWGENSTATS",Vh:"POI",Ne:"TITLE",Af:"STARS",Df:"CUSTOM",Vg:"XOFFSET",Yg:"YOFFSET",Qj:"BACKGROUND",ki:"ALIVE",Pj:"ALIVERAMP",li:"DEAD",Rj:"DEADRAMP",zi:"BOUNDARY",Vf:"AUTOFIT",Mg:"STEP",Qh:"NOSTEPBACK",Og:"T",
Uh:"PAUSE",af:"GRID",$e:"GRIDMAJOR",ji:"TEXT",rj:"OFF",tj:"ON",Vi:"HISTORY",dj:"MARK1",hj:"MARKOFF",fj:"MARK2",$i:"KILL",Ba:"COLOR",oh:"COLOUR",hi:"STRICT",Sg:"VIEWONLY",mi:"THUMBNAIL",Ef:"THEME",Wf:"AUTOSTART",ug:"LOOP",Ng:"STOP",Uf:"ANGLE",sg:"LAYERS",ig:"DEPTH",ng:"GPS",ae:"ZOOM",Wg:"X",Zg:"Y",si:"WIDTH",Dh:"HEIGHT"},l={tagName:"LifeViewer",jg:"rle",qf:"code",zg:37,Fh:!0,tg:!0,Mk:"codebox"},e={nj:1,jj:16,Ii:3,ke:0,je:1,$f:2,wd:3,bg:4,cg:5,dg:6,eg:8,fg:9,ag:10,sj:0,uj:1,Wi:2,ej:3,ij:4,gj:5,aj:6,
Fa:[0,6,2,5,3,4,1],Ol:"Off On History Mark1 MarkOff Mark2 Kill".split(" "),Nl:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),Th:12,nl:0,ml:160,vj:10,Ri:19,cm:!1,Bh:1800,em:"LifeViewer",$h:"LifeViewer Image",Zj:"LifeViewer Plugin",Yj:174,Xj:"Chris Rowett",xg:1,vg:10,pj:0,jl:1,Ea:2,we:3,im:30,am:1.25,wg:0,kj:10,yd:10,Xa:.0625,kc:32,il:-16,cl:-1,Vb:1,cd:60,pf:1,jc:32,Da:null,fontSize:18,lg:"18px Courier",Se:"18px Arial",cf:"rgb(32,255,255)",Eh:"#000000",Xe:"rgb(255,96,96)",og:"rgb(128,128,128)",
dd:450,fl:1024,oj:240,mj:800,nf:480,Qk:64,gi:0,Jj:1,Kj:2,hl:0,bl:16},v={ob:[],ei:-1,fi:function(){var g=null;-1!==this.ei&&(g=this.ob[this.ei]);return g},Yl:function(){for(var g=null,a=0,c=0,c=0;c<this.ob.length;c+=1)g=this.ob[c][1],g.Ja&&(a+=1);return a},Pl:function(){for(var g=null,a=0,c=0,a=0;a<this.ob.length;a+=1)g=this.ob[a][1],g.Ja&&(g.R.current=g.pc(e.Ea,!0,g),c+=1);return c},Ql:function(g){for(var a=null,c=0,d=0,c=0;c<this.ob.length;c+=1)a=this.ob[c][1],a!==g&&a.Ja&&(a.R.current=a.pc(e.Ea,
!0,a),d+=1);return d}};q.prototype.Hl=function(g){g.Gg||(g.Gg=!0)};q.prototype.xk=function(g){var a=g.Md.toDataURL("image/png"),c=window.open("",e.$h);c?(c.width=g.j+20,c.height=g.g+20,c.document.open(),c.document.write('<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>'+e.$h+'</title>\n\t</head>\n\t<body>\n\t\t<img width="'+g.j+'" height="'+g.g+'" src="'+a+'" alt="'+e.$h+'"/>\n\t</body>\n</html>\n'),c.document.close(),g.i.notification.O("Image Captured",300,!0)):g.i.notification.O("Could not open Image window!",
e.Bh,!0);g.Gg=!1};q.prototype.$g=function(g,a,c){for(var d=0,b=0,f=this.a.ub,h=this.a.ka,k=this.a.yb,l=g.width,p=g.height,n=(l-1>>4)+1,q=a>>4,v=this.a.na,u=this.a.na>>4,w=this.a.ra,A=a&15,I=null,x=null,C=null,y=null,I=null,x=0,B=this.Ya,b=0;b<p;b+=1){I=g.Z[b];x=f[b+c&w];if(B)for(C=g.kb[b],y=h[b+c&w],d=0;d<l;d+=1)y[d+a&v]=C[d];if(A)for(d=0;d<n;d+=1)x[d+q&u]|=I[d]>>A,x[d+1+q&u]|=I[d]<<16-A;else for(d=0;d<n;d+=1)x[d+q&u]|=I[d]}if(k)for(b=0;b<p;b+=1)for(C=g.kb[b],I=k[b+c&w],d=0;d<l;d+=1)(x=C[d])&&(I[d+
a&v]=e.Fa[x]+128)};q.prototype.Ab=function(g,a,c){var d=0,b=0;a?(c.wb=!0,c.a.zoom=e.Xa*Math.pow(e.kc/e.Xa,g[0]),d=g[0]):d=Math.log(c.a.zoom/e.Xa)/Math.log(e.kc/e.Xa);b=c.a.zoom;1>b&&(b=-1/b);return[d,b]};q.prototype.tk=function(g){var a=g/6E4|0;g=g%6E4/1E3;var c="";0<a&&(c=a+":",10>g&&(c+="0"));return c+=g.toFixed(2)};q.prototype.Ad=function(g,a){var c=this.a.Ad(this.j,this.g-80,e.Xa,e.kc,e.am,this.ia,this.Ha,this.Za&&this.ui),d=this.a.zoom,b=this.a.F,f=this.a.G,h=0,k=0,l=0;this.za&&!g?(this.a.zoom=
(5*this.a.zoom+c[0])/6,this.a.F=(5*this.a.F+c[1])/6,this.a.G=(5*this.a.G+c[2])/6,h=this.a.zoom>d?this.a.zoom/d-1:d/this.a.zoom-1,k=this.a.F>b?this.a.F-b:b-this.a.F,l=this.a.G>f?this.a.G-f:f-this.a.G,this.od=h,k>this.od&&(this.od=k),l>this.od&&(this.od=l),.01>=this.od&&(this.a.zoom=c[0],this.a.F=c[1],this.a.G=c[2])):(this.Vd=this.a.width/2-this.a.F,this.Wd=this.a.height/2-this.a.G,this.Ke=this.a.zoom,this.Ud=this.a.s,this.pe=this.a.width/2-c[1],this.qe=this.a.height/2-c[2],this.re=c[0],this.We=this.Ud,
a?this.zb=0:(this.zb=e.Th,this.Wj()));this.A&&(this.A.current=this.Ab([this.a.zoom,this.a.zoom],!1,this));this.va&&(this.va.current=this.Pf([this.a.s,this.a.s],!1,this))};q.prototype.Xg=function(g){var a=(this.a.width-g.width>>1)+this.X,c=(this.a.height-g.height>>1)+this.Y;!this.Za&&this.B||!PatternManager.Fb||(this.Za=this.Ya=!0);this.$g(g,a,c)};q.prototype.Lg=function(g){var a=g+String();1E6<=g?a=(g/1E6|0)+"M":1E5<=g&&(a=(g/1E3|0)+"K");return a};q.prototype.fh=function(g,a,c){var d=c,b=!1,f=this.h;
g&&("#000000"===g.fillStyle&&(b=!0),0<=f&&f<=0+this.la&&(g.font=e.lg,b||(g.fillStyle=1<(this.u|0)?e.cf:e.og),g.fillText("Up",a,c),b||(g.fillStyle=e.cf),g.fillText(" / ",a+g.measureText("Up").width,c),b||(g.fillStyle=(this.u|0)<this.ze-this.la?e.cf:e.og),g.fillText("Down",a+g.measureText("Up / ").width,c),b||(g.fillStyle=e.cf),g.font=e.Se,g.fillText("scroll help",a+this.f,c),d+=19));this.h+=1;return d};q.prototype.K=function(g,a,c,d,b,f,h){var k,l=this.h,p=null;d&&(k=13,l>=h&&l<=h+this.la&&(p=d.fillStyle,
p!==e.Eh&&(d.fillStyle="rgb("+g+","+a+","+c+")"),d.fillRect(b,f-(k>>1)-1,k,k),d.fillStyle=p))};q.prototype.b=function(g,a,c,d,b,f){var h=b,k=this.h;c&&k>=f&&k<=f+this.la&&(g.length?(c.font=e.lg,c.fillText(g,d,b),c.font=e.Se,c.fillText(a,d+this.f,b)):(c.font=e.Se,c.fillText(a,d,b)),h+=19);this.h+=1;return h};q.prototype.Ua=function(g,a,c){for(var d=ColourManager.sb,e=Object.keys(d),b="    "+g+" "+a+" "+c,h=!1,f=null,k=0;k<e.length&&!h;)f=d[e[k]],f[1]===g&&f[2]===a&&f[3]===c?(b+=" "+f[0],h=!0,k=e.length):
k+=1;return b};q.prototype.jb=function(g){return this.Ua(g.red,g.green,g.blue)};q.prototype.Yh=function(g,a,c,b){var f=c,k="Player",h="",l=h="",p="",n="",n=h=0,l=this.a.nb[this.a.gc],n=this.sb;this.h=1;this.f=108;c=this.b("",e.Zj+" build "+e.Yj+" by "+e.Xj,g,a,c,b);c=this.b("","",g,a,c,b);c=this.b("","",g,a,c,b);this.f=124;c=this.b("","Keyboard commands",g,a,c,b);c=this.b("","",g,a,c,b);c=this.b("","Playback controls:",g,a,c,b);this.Ya?c=this.b("R","reset",g,a,c,b):(c=this.b("Enter","toggle play/pause",
g,a,c,b),c=this.b("Space","pause if playing otherwise step forward",g,a,c,b),c=this.b("B","pause if playing otherwise step back",g,a,c,b),c=this.b("Esc","pause if playing",g,a,c,b),c=this.b("R","reset to generation 0",g,a,c,b),c=this.b("-","decrease generation speed",g,a,c,b),c=this.b("+","increase generation speed",g,a,c,b),c=this.b("Shift -","minimum generation speed",g,a,c,b),c=this.b("Shift +","maximum generation speed",g,a,c,b),c=this.b("D","decrease step size",g,a,c,b),c=this.b("E","increase step size",
g,a,c,b),c=this.b("Shift D","minimum step size",g,a,c,b),c=this.b("Shift E","maximum step size",g,a,c,b),this.pb&&(c=this.b("W","toggle waypoint playback",g,a,c,b)));c=this.b("Z","stop playback in all other LifeViewers",g,a,c,b);c=this.b("Shift Z","stop playback in all LifeViewers",g,a,c,b);c=this.b("","",g,a,c,b);c=this.b("","Camera controls:",g,a,c,b);if(this.g>=e.nf||(this.fa&&this.Gd)>=e.nf)c=this.b("M","toggle navigation menu",g,a,c,b);c=this.b("V","restore saved camera position",g,a,c,b);c=
this.b("Shift V","save current camera position",g,a,c,b);this.D.Kb.length&&(c=this.b("J","jump to next point of interest",g,a,c,b),c=this.b("Shift J","jump to previous point of interest",g,a,c,b));c=this.b("F","fit pattern to display",g,a,c,b);c=this.b("Shift F","toggle autofit",g,a,c,b);c=this.b("[","zoom out",g,a,c,b);c=this.b("]","zoom in",g,a,c,b);c=this.b("Shift [","halve zoom",g,a,c,b);c=this.b("Shift ]","double zoom",g,a,c,b);c=this.b("1","1x zoom",g,a,c,b);c=this.b("2","2x zoom",g,a,c,b);
c=this.b("4","4x zoom",g,a,c,b);c=this.b("8","8x zoom",g,a,c,b);c=this.b("6","16x zoom",g,a,c,b);c=this.b("3","32x zoom",g,a,c,b);c=this.b("Shift 2","-2x zoom",g,a,c,b);c=this.b("Shift 4","-4x zoom",g,a,c,b);c=this.b("Shift 8","-8x zoom",g,a,c,b);c=this.b("Shift 6","-16x zoom",g,a,c,b);c=this.b("Left","pan left",g,a,c,b);c=this.b("Right","pan right",g,a,c,b);c=this.b("Up","pan up",g,a,c,b);c=this.b("Down","pan down",g,a,c,b);c=this.b("Shift Left","pan north west",g,a,c,b);c=this.b("Shift Right","pan south east",
g,a,c,b);c=this.b("Shift Up","pan north east",g,a,c,b);c=this.b("Shift Down","pan south west",g,a,c,b);c=this.b("<","rotate left",g,a,c,b);c=this.b(">","rotate right",g,a,c,b);c=this.b("Shift <","rotate left 90 degrees",g,a,c,b);c=this.b("Shift >","rotate right 90 degrees",g,a,c,b);c=this.b("","",g,a,c,b);this.Ya||(c=this.b("","View controls:",g,a,c,b),c=this.b("Q","increase number of layers",g,a,c,b),c=this.b("A","decrease number of layers",g,a,c,b),c=this.b("P","increase layer depth",g,a,c,b),c=
this.b("L","decrease layer depth",g,a,c,b),c=this.b("C","cycle colour theme",g,a,c,b),c=this.b("Shift C","default theme",g,a,c,b),c=this.b("","",g,a,c,b));c=this.b("","Display controls:",g,a,c,b);this.Ya||(c=this.b("G","toggle generation statistics",g,a,c,b));c=this.b("T","toggle timing information",g,a,c,b);c=this.b("I","toggle pattern and engine information",g,a,c,b);c=this.b("X","toggle grid lines",g,a,c,b);this.Pg&&(c=this.b("N","toggle thumbnail view",g,a,c,b));c=this.b("S","toggle stars",g,
a,c,b);c=this.b("O","open screenshot in separate window",g,a,c,b);c=this.b("","",g,a,c,b);c=this.b("","Help controls:",g,a,c,b);c=this.b("Up","scroll up one line",g,a,c,b);c=this.b("Down","scroll down one line",g,a,c,b);c=this.b("Page Up","scroll up one page",g,a,c,b);c=this.b("Page Down","scroll down one page",g,a,c,b);c=this.b("Home","go to first help page",g,a,c,b);c=this.b("End","go to last help page",g,a,c,b);c=this.b("","",g,a,c,b);this.f=246;c=this.b("","",g,a,c,b);this.Dj=this.h;c=this.b("",
"Scripts",g,a,c,b);c=this.b("","",g,a,c,b);c=this.b("","Scripts must be embedded in pattern comments",g,a,c,b);c=this.b("","Commands must be surrounded by whitespace",g,a,c,b);c=this.b("","",g,a,c,b);c=this.b("","Commands:",g,a,c,b);c=this.b(d.xf,"start script section",g,a,c,b);c=this.b(d.ai,"end script section",g,a,c,b);c=this.b(d.hi,"enable strict script validation",g,a,c,b);c=this.b(d.Wf,"start play automatically",g,a,c,b);c=this.b(d.ug+" <1..>","loop at generation",g,a,c,b);c=this.b(d.Ng+" <1..>",
"stop at generation",g,a,c,b);c=this.b(d.Og+" <0..>","waypoint at generation",g,a,c,b);c=this.b(d.Uh+" <0.0..>","pause for time",g,a,c,b);c=this.b(d.Vh,"define point of interest",g,a,c,b);c=this.b(d.xa+"<string>"+d.xa,"define message",g,a,c,b);c=this.b(d.Sg,"disable playback",g,a,c,b);c=this.b(d.Ne+" "+d.xa+"<string>"+d.xa,"set window title",g,a,c,b);c=this.b(d.Qh,"disable step back",g,a,c,b);c=this.b(d.mi,"start at quarter size",g,a,c,b);c=this.b(d.af,"display grid lines",g,a,c,b);c=this.b(d.$e+
" <0..16>","set major grid line interval",g,a,c,b);c=this.b(d.Af,"display stars",g,a,c,b);c=this.b(d.Ef+" <0.."+(this.a.xb-1)+"> | "+d.Df,"set theme",g,a,c,b);c=this.b(d.Ba+" "+d.Qj+" R G B","set theme background",g,a,c,b);c=this.b(d.Ba+" "+d.ki+" R G B","set theme alive color",g,a,c,b);c=this.b(d.Ba+" "+d.Pj+" R G B","set theme alive ramp",g,a,c,b);c=this.b(d.Ba+" "+d.li+" R G B","set theme dead color",g,a,c,b);c=this.b(d.Ba+" "+d.Rj+" R G B","set theme dead ramp",g,a,c,b);c=this.b(d.Ba+" "+d.zi+
" R G B","set boundary color",g,a,c,b);c=this.b(d.Ba+" <0..> R G B","set state color",g,a,c,b);c=this.b(d.Ba+" "+d.rj+" R G B","set [R]History state color "+e.sj,g,a,c,b);c=this.b(d.Ba+" "+d.tj+" R G B","set [R]History state color "+e.uj,g,a,c,b);c=this.b(d.Ba+" "+d.Vi+" R G B","set [R]History state color "+e.Wi,g,a,c,b);c=this.b(d.Ba+" "+d.dj+" R G B","set [R]History state color "+e.ej,g,a,c,b);c=this.b(d.Ba+" "+d.hj+" R G B","set [R]History state color "+e.ij,g,a,c,b);c=this.b(d.Ba+" "+d.fj+" R G B",
"set [R]History state color "+e.gj,g,a,c,b);c=this.b(d.Ba+" "+d.$i+" R G B","set [R]History state color "+e.aj,g,a,c,b);c=this.b(d.Ba+" "+d.af+" R G B","set grid color",g,a,c,b);c=this.b(d.Ba+" "+d.$e+" R G B","set grid major color",g,a,c,b);c=this.b(d.Ba+" "+d.Af+" R G B","set star color",g,a,c,b);c=this.b(d.Ba+" "+d.ji+" R G B","set waypoint message color",g,a,c,b);c=this.b(d.oh,"same as COLOR",g,a,c,b);c=this.b(d.ng+" <"+e.Vb+".."+e.cd+">","set steps per second",g,a,c,b);c=this.b(d.Mg+" <"+e.pf+
".."+e.jc+">","set generations per step",g,a,c,b);c=this.b(d.Uf+" <0..359>","set camera angle",g,a,c,b);c=this.b(d.Wg+" <-"+(this.a.wa>>1)+".."+(this.a.wa>>1)+">","set camera x position",g,a,c,b);c=this.b(d.Zg+" <-"+(this.a.wa>>1)+".."+(this.a.wa>>1)+">","set camera y position",g,a,c,b);c=this.b(d.ae+" <"+e.Xa.toFixed(1)+".."+e.kc.toFixed(1)+">","set camera zoom",g,a,c,b);c=this.b(d.Vf,"fit pattern to display",g,a,c,b);c=this.b(d.sg+" <"+e.xg+".."+e.vg+">","set number of layers",g,a,c,b);c=this.b(d.ig+
" <"+e.wg.toFixed(1)+".."+e.kj.toFixed(1)+">","set layer depth",g,a,c,b);c=this.b(d.Vg+" <-"+(this.a.wa>>1)+".."+(this.a.wa>>1)+">","set pattern x offset",g,a,c,b);c=this.b(d.Yg+" <-"+(this.a.wa>>1)+".."+(this.a.wa>>1)+">","set pattern y offset",g,a,c,b);c=this.b(d.si+" <"+e.dd+".."+this.Na+">","set LifeViewer width",g,a,c,b);c=this.b(d.Dh+" <"+e.oj+".."+e.mj+">","set LifeViewer height",g,a,c,b);c=this.b(d.ci,"show timing information",g,a,c,b);c=this.b(d.bi,"show generation statistics",g,a,c,b);c=
this.b(d.yh+" <"+e.nj+".."+e.jj+">","set boundary delete range",g,a,c,b);c=this.b("","",g,a,c,b);this.f=128;c=this.b("","",g,a,c,b);this.qg=this.h;c=this.b("","Information",g,a,c,b);c=this.b("","",g,a,c,b);c=this.b("","Display:",g,a,c,b);c=this.b("Size",this.j+" x "+this.g,g,a,c,b);c=this.b("View","X "+(this.a.width/2-this.a.F|0)+"  Y "+(this.a.height/2-this.a.G|0)+"  ZOOM "+this.a.zoom.toFixed(2)+"  ANGLE "+this.a.s.toFixed(0),g,a,c,b);c=this.b("Saved View","X "+(this.a.width/2-this.Pd|0)+"  Y "+
(this.a.height/2-this.Qd|0)+"  ZOOM "+this.vf.toFixed(2)+"  ANGLE "+this.Zh.toFixed(0),g,a,c,b);this.Za?k=this.Ya?"Multi-State Viewer":"Viewer":this.B&&(k="History Player");c=this.b("Mode",k,g,a,c,b);c=this.b("","",g,a,c,b);c=this.b("","Pattern:",g,a,c,b);c=this.b("Size",this.ia+" x "+this.Ha,g,a,c,b);c=this.b("Offset","X "+this.X+" Y "+this.Y,g,a,c,b);this.Va?(h=RuleManager.Dg(this.ud).name,this.B&&(h+=" + History")):(h=this.ye,""===h&&(h="(none)"));c=this.b("Rule",h,g,a,c,b);h=this.P;2<this.P&&
this.bb!==this.P&&(h=this.bb+" of "+h);c=this.b("States",h,g,a,c,b);if(this.sc&&this.rc)for(h=1;h<this.P;h+=1)this.sc[h]&&(c=this.b("State "+h,this.rc[h],g,a,c,b));c=this.b("Decoder",this.Jb,g,a,c,b);c=this.b("","",g,a,c,b);c=this.b("","Grid:",g,a,c,b);c=this.b("Size",this.a.width+" x "+this.a.height,g,a,c,b);c=this.b("Maximum",this.a.wa+" x "+this.a.wa,g,a,c,b);c=this.a.m?this.bc?this.b("Area",this.a.v.da-this.a.v.ba+1+" x "+(this.a.v.ga-this.a.v.aa+1),g,a,c,b):this.b("Area","0 x 0",g,a,c,b):this.b("Area",
this.ia+" x "+this.Ha,g,a,c,b);c=0!==(this.a.count&1)?this.b("Tiles",this.a.Ff(this.a.gb)+" + "+this.a.Ff(this.a.cb),g,a,c,b):this.b("Tiles",this.a.Ff(this.a.$)+" / "+this.a.Ff(this.a.cb),g,a,c,b);this.a.nc&&(c=this.b("State6",this.a.Ff(this.a.nc),g,a,c,b));c=this.b("Tile Size",(this.a.Gf<<3)+" x "+this.a.Hf,g,a,c,b);c=this.b("DeleteRange",this.a.Cg,g,a,c,b);c=this.b("","",g,a,c,b);c=this.b("","Step back:",g,a,c,b);c=this.b("Enabled",this.Ac?"Off":"On",g,a,c,b);this.Ac||(c=this.b("Snapshots",this.a.Nb.Vl()+
"/"+this.a.Nb.vc.length,g,a,c,b),c=this.b("Buffer",(this.a.Nb.bufferSize()>>10)+"K",g,a,c,b),c=this.b("Next",this.a.Kd,g,a,c,b));c=this.b("","",g,a,c,b);c=this.b("","Engine:",g,a,c,b);c=this.b("Name",e.Zj,g,a,c,b);c=this.b("Build",e.Yj,g,a,c,b);c=this.b("Author",e.Xj,g,a,c,b);c=this.b("Decoders","Cells, Life 1.05, Life 1.06, RLE",g,a,c,b);c=this.b("Formats","Moore + [R]History",g,a,c,b);c=this.b("Viewers",v.ob.length,g,a,c,b);c=this.b("Playing",v.Yl(),g,a,c,b);c=this.b("","",g,a,c,b);if(this.Ya)for(c=
this.b("","Set:",g,a,c,b),c=this.b("Name",this.qb,g,a,c,b),c=this.b("Used",this.bb,g,a,c,b),h=0;h<n.length;h+=1)this.$a[h]!==e.gi&&(l=this.Ua(n[h]>>16&255,n[h]>>8&255,n[h]&255),p=String(h),this.$a[h]!==e.Jj||this.ac||(p+="*"),this.K(n[h]>>16,n[h]>>8&255,n[h]&255,g,a+this.f,c,b),c=this.b(p,l,g,a,c,b));else if(c=this.b("","Theme:",g,a,c,b),n=this.a.gc===this.a.xb?"(custom)":String(this.a.gc),c=this.b("Name",n,g,a,c,b),this.K(l.Ma.red,l.Ma.green,l.Ma.blue,g,a+this.f,c,b),c=this.b("Background",this.jb(l.Ma),
g,a,c,b),this.K(l.ja.L.red,l.ja.L.green,l.ja.L.blue,g,a+this.f,c,b),c=this.b("Alive",this.jb(l.ja.L),g,a,c,b),l.ja.L.red!==l.ja.M.red||l.ja.L.green!==l.ja.M.green||l.ja.L.blue!==l.ja.M.blue?(this.K(l.ja.M.red,l.ja.M.green,l.ja.M.blue,g,a+this.f,c,b),c=this.b("AliveRamp",this.jb(l.ja.M),g,a,c,b)):c=this.b("AliveRamp","    (none)",g,a,c,b),this.K(l.ha.L.red,l.ha.L.green,l.ha.L.blue,g,a+this.f,c,b),c=this.b("Dead",this.jb(l.ha.L),g,a,c,b),l.ha.L.red!==l.ha.M.red||l.ha.L.green!==l.ha.M.green||l.ha.L.blue!==
l.ha.M.blue?(this.K(l.ha.M.red,l.ha.M.green,l.ha.M.blue,g,a+this.f,c,b),c=this.b("DeadRamp",this.jb(l.ha.M),g,a,c,b)):c=this.b("DeadRamp","    (none)",g,a,c,b),this.B)for(h=3;6>=h;h+=1)n=128+e.Fa[h],l=this.Ua(this.a.gd[n],this.a.Zc[n],this.a.Tc[n]),p=e.Ol[h],this.K(this.a.gd[n],this.a.Zc[n],this.a.Tc[n],g,a+this.f,c,b),c=this.b(p,l,g,a,c,b);this.K(this.ya[0],this.ya[1],this.ya[2],g,a+this.f,c,b);c=this.b("Boundary",this.Ua(this.ya[0],this.ya[1],this.ya[2]),g,a,c,b);this.J&&(this.K(this.J[0],this.J[1],
this.J[2],g,a+this.f,c,b),c=this.b("Text",this.Ua(this.J[0],this.J[1],this.J[2]),g,a,c,b));c=this.b("","",g,a,c,b);c=this.b("","Grid Lines:",g,a,c,b);n=this.a.Ia?"On":"Off";this.a.Ia&&(4>this.a.zoom||0!==this.a.s)&&(n+=" (Hidden)");c=this.b("Enabled",n,g,a,c,b);n="Line Color";-1!==this.rb&&(n+="*");this.K(this.a.Jc>>16,this.a.Jc>>8&255,this.a.Jc&255,g,a+this.f,c,b);c=this.b(n,this.Ua(this.a.Jc>>16,this.a.Jc>>8&255,this.a.Jc&255),g,a,c,b);n="Major Color";-1!==this.Bb&&(n+="*");this.K(this.a.Ic>>16,
this.a.Ic>>8&255,this.a.Ic&255,g,a+this.f,c,b);c=this.b(n,this.Ua(this.a.Ic>>16,this.a.Ic>>8&255,this.a.Ic&255),g,a,c,b);n=-1!==this.a.$c?String(this.a.$c):"Off";c=this.b("Interval",n,g,a,c,b);c=this.b("","",g,a,c,b);c=this.b("","Stars:",g,a,c,b);c=this.b("Enabled",this.He?"On":"Off",g,a,c,b);this.K(this.oa.red,this.oa.green,this.oa.blue,g,a+this.f,c,b);c=this.b("Color",this.jb(this.oa),g,a,c,b);c=this.b("","",g,a,c,b);c=this.b("","Script:",g,a,c,b);c=this.b("Commands",this.Db,g,a,c,b);c=this.b("Errors",
this.Bd,g,a,c,b);if(this.pb)for(c=this.b("","",g,a,c,b),c=this.b("","Waypoints:",g,a,c,b),c=this.b("Enabled",this.Ta?"Off":"On",g,a,c,b),c=this.b("Number",this.D.S.length,g,a,c,b),h=0;h<this.D.S.length;h+=1)n=String(h),h===this.D.kd&&(n=this.D.lh(this.elapsedTime)?n+">":n+"*"),c=this.b(n,this.D.Zl(h,d.xa),g,a,c,b);if(this.D.Kb.length)for(c=this.b("","",g,a,c,b),c=this.b("","Points of interest:",g,a,c,b),c=this.b("Number",this.D.Kb.length,g,a,c,b),h=0;h<this.D.Kb.length;h+=1)n=String(h),c=this.b(n,
this.D.ol(h,d.xa),g,a,c,b);-1!==this.Ra&&(c=this.b("","",g,a,c,b),c=this.b("","Loop:",g,a,c,b),c=this.b("Enabled",this.Wa?"Off":"On",g,a,c,b),this.b("Generation",this.Ra,g,a,c,b));this.ze=this.h-1;this.h=1;this.f=120;c=f+19*(this.la+2);c=this.fh(g,a,c);this.b("H / Esc","close help",g,a,c,0)};q.prototype.Ni=function(a){var b=a.lb;a.la=(a.g/19|0)-6;b.fillStyle="black";b.globalAlpha=.5;b.fillRect(0,0,b.canvas.width,b.canvas.height);b.globalAlpha=1;b.fillStyle=e.Eh;a.Yh(b,6,14,a.u|0);b.fillStyle=e.cf;
a.Yh(b,4,12,a.u|0)};q.prototype.eh=function(a,b,c){var d=c,f=0,k=!1,h=this.h;"#000000"===a.fillStyle&&(k=!0);0<=h&&h<=0+this.la&&(a.font=e.lg,k||(a.fillStyle=1<(this.U|0)?e.Xe:e.og),a.fillText("Up",b,c),k||(a.fillStyle=e.Xe),a.fillText(" / ",b+a.measureText("Up").width,c),k||(a.fillStyle=(this.U|0)<this.mb.length-this.la?e.Xe:e.og),a.fillText("Down",b+a.measureText("Up / ").width,c),this.f&&(f=this.f),k||(a.fillStyle=e.Xe),a.font=e.Se,a.fillText("scroll errors",b+f,c),d+=19);return d};q.prototype.qc=
function(a,b,c,d,f,k){var h=f,l=0,p=this.h;p>=k&&p<=k+this.la&&(a.length&&(c.font=e.lg,c.fillText(a,d,f),l=c.measureText(a+" ").width),this.f&&(l=this.f),c.font=e.Se,c.fillText(b,d+l,f),h+=19);this.h+=1;return h};q.prototype.xj=function(a,b,c,d){var f=0,k=this.mb,h=c;this.h=1;this.f=0;a.font=e.Se;c=this.qc("","Script errors:",a,b,c,d);for(f=0;f<k.length;f+=1)c=this.qc(k[f][0],k[f][1],a,b,c,d);this.f=120;this.h=1;c=h+19*(this.la+2);c=this.eh(a,b,c);c=this.qc("Esc","clear messages",a,b,c,0);this.qc("H  ",
"help on script commands",a,b,c,0)};q.prototype.Li=function(a){var b=a.lb;a.la=(a.g/19|0)-7;b.fillStyle="black";b.globalAlpha=.5;b.fillRect(0,0,b.canvas.width,b.canvas.height);b.globalAlpha=1;b.fillStyle=e.Eh;a.xj(b,6,14,a.U|0);b.fillStyle=e.Xe;a.xj(b,4,12,a.U|0)};q.prototype.uc=function(a,b){var c=this.i.Nc,d=this.i.Oc,f=a+b,k=-this.a.s,h=Math.sin(k/180*Math.PI),k=Math.cos(k/180*Math.PI),l=0,p=0;0>f?f=0:1<f&&(f=1);a=e.Xa*Math.pow(e.kc/e.Xa,a);f=e.Xa*Math.pow(e.kc/e.Xa,f);c-=this.j/2;d-=this.g/2;
l=(c-f/a*c)/f;p=(d-f/a*d)/f;this.a.F-=l*k+p*-h;this.a.G-=l*h+p*k};q.prototype.Ul=function(a,b){a.Wb.current=a.a.m/b*100;a.Wb.N=!1;a.Gb.Rb=0};q.prototype.Tl=function(a){var b=!1,c=!1,d=0,e=0,f=!1;a.Wa||-1===a.Ra||(b=!0);!a.Ta&&a.pb&&(c=!0);if(b||c){f=!1;if(c&&b)e=a.elapsedTime/a.D.Pi(a.Ra);else if(c){if(d=a.D.al().sa)e=a.elapsedTime/d,1<e&&(f=!0)}else 0<a.Ra&&(e=a.a.m/a.Ra);1<e&&(e=1);a.Wb.current=100*e}else f=!0;(a.Wb.N=f)?a.Gb.Rb=a.H.Rb:a.Gb.Rb=0};q.prototype.Nk=function(){this.oa.Ek(this.a.width/
2-this.a.F,this.a.height/2-this.a.G,this.a.zoom,this.a.s,this.a.j,this.a.g,this.a.eb,this.a.Bc[0])};q.prototype.Jl=function(){var a=Math.floor((this.H.yc-this.j/2)/this.a.zoom-(this.a.width/2-this.a.F)+Math.round(this.ia/2)),b=Math.floor((this.H.ed-this.g/2)/this.a.zoom-(this.a.height/2-this.a.G)+Math.round(this.Ha/2)),c="",d="";-1===this.H.yc||0!==this.a.s?this.Qb.Lb="XY - -":(c=-9999>a||9999<a?(a/1E4).toFixed(1)+"K":a+"",d=-9999>b||9999<b?(b/1E4).toFixed(1)+"K":b+"",this.Qb.Lb="XY "+c+" "+d);this.Qb.enabled=
this.oc||this.R.current===e.Ea&&-1!==this.H.yc?this.u||this.U||0===this.ia?!1:!0:!1};q.prototype.Xl=function(a,b){var c=b.wheelDelta,d=0,f=0,d=performance.now(),k=b.D.current,h=0,h=0,l=!1,p=!1,h="",h=f=!1;b.Ca=!1;f=d-b.Id;b.Jh&&(b.Jh=!1,a=f=0);b.Za||b.Tl(b);b.R.current!==e.Ea?(a>e.Ri&&(a=e.Ri,p=!0),b.elapsedTime+=a):b.Pc&&(h=!0,b.elapsedTime=a<f?b.elapsedTime+a:b.elapsedTime+f);b.Ja&&(f>1E3/b.Tb||b.Tb===e.cd)&&(b.Id=d,b.Pc=!0);b.I=b.La.current[0];b.Pc&&b.a.m===b.Ra&&!b.Wa&&(b.elapsedTime=0,b.reset(b));
b.pb&&!b.Ta&&(b.R.current!==e.Ea||h?(!b.wb||b.D.lh(b.elapsedTime)||h||(b.wb=!1,b.elapsedTime=b.D.Fi(b.a.width/2-b.a.F,b.a.height/2-b.a.G,b.a.zoom,b.a.s,b.a.l,b.a.vb*e.yd,b.a.gc,b.Tb,b.I,b.a.m,b.elapsedTime)),k.Sb&&(b.Ad(!0,!1),b.wb=!1,k.x=b.a.width/2-b.a.F,k.y=b.a.height/2-b.a.G,k.zoom=b.a.zoom),(f=b.D.update(b.elapsedTime,b.a.m))?(b.Ca=!1,k.Sb=!1):(h||(b.Ca=!0),b.a.F=b.a.width/2-k.x,b.a.G=b.a.height/2-k.y,b.a.zoom=k.zoom,b.fa&&(b.a.zoom=b.a.zoom/4),b.A&&(b.A.current=b.Ab([b.a.zoom,b.a.zoom],!1,b)),
b.a.s=k.s,b.va&&(b.va.current=[b.a.s,b.a.s]),b.a.l=k.l,b.Qa&&(b.Qa.current=[b.a.l,b.a.l]),b.a.vb=k.depth/e.yd+e.wg,b.pa&&(b.pa.current=[Math.sqrt(b.a.vb),b.a.vb*e.yd]),b.Tb=k.qa,b.W&&(b.W.current=[Math.sqrt((k.qa-e.Vb)/(e.cd-e.Vb)),k.qa]),b.I=k.step,b.La.current=[b.I,b.I],k.ea>b.a.m?(b.Pc=!0,b.I=k.ea-b.a.m|0,1>b.I&&(b.I=1),b.I>e.jc&&(b.I=e.jc)):b.Pc=!1,k.hb!==b.rg&&(""===k.hb?b.i.notification.clear(!1,!1):b.i.notification.O(k.hb,1E3,!1),b.rg=k.hb),k.ta!==b.Oh&&(b.a.jd(k.ta,b.a.Ci),b.ib&&(b.ib.current=
[k.ta,k.ta]),b.Oh=k.ta))):b.Ca=!1);b.Ca&&(b.zb=-1);b.pd.locked=b.Ca;b.Ye.locked=b.Ca;b.W.locked=b.Ca;b.La.locked=b.Ca;b.ib.locked=b.Ca;b.A.locked=b.Ca;b.va.locked=b.Ca;b.Qa.locked=b.Ca;b.pa.locked=b.Ca;if(b.Pc){if(b.bc){for(h=0;h<b.I;h+=1){if(b.a.m===b.Ra-1&&!b.Wa||b.a.m===b.Le-1)h=b.I-1;b.oc&&h===b.I-1?b.a.Jd(!0,b.elapsedTime,b.Ac):b.a.Jd(!1,b.elapsedTime,b.Ac);if(b.a.Sj||h===b.I-1)b.bc=b.a.ie()}b.bc||(b.Ch=e.Qk,b.Ki=b.a.m)}else b.Ch&&(--b.Ch,h=b.a.m,b.a.m=b.Ki,b.a.ie(),b.a.m=h),b.a.m+=1;b.a.m===
b.Le&&(b.R.current=b.pc(e.Ea,!0,b))}c&&(b.wheelDelta=0,0<b.u?0<c?b.Kg(b,3):b.Jg(b,3):0<b.U?0<c?b.Ig(b,3):b.Hg(b,3):b.Ca||(b.za?b.qd(b):(d=b.A.current[0],0>c?0<d&&(b.uc(d,-.05),d-=.05,0>d&&(d=0)):1>d&&(b.uc(d,.05),d+=.05,1<d&&(d=1)),b.A&&(b.A.current=b.Ab([d,d],!0,b)))));b.za&&!b.Ca&&b.Ad(!1,!1);b.a.tl();b.He&&b.Nk();b.a.Mi();b.Gg&&b.xk(b);b.a.m&&b.bc&&b.a.zk()&&(b.ne+=b.a.width>>2,b.oe+=b.a.height>>2,b.Pd+=b.a.width>>2,b.Qd+=b.a.height>>2);b.u?b.Ni(b):b.mb.length&&!b.fa&&b.Li(b);b.Gb.lower[0]="T "+
b.Lg(b.a.m);b.kg.Lb=b.tk(b.elapsedTime);b.Bg.Lb=b.Lg(b.a.lc);b.Xf.Lb=b.Lg(b.a.fc);b.gg.Lb=b.Lg(b.a.hc);p?b.Od<e.ml&&(b.Od+=e.vj):b.Od>e.nl&&(b.Od-=e.vj);h="rgb("+b.Od+",0,0)";b.W.cc=h;b.La.cc=h;b.Pc=!1;b.Jl();-1!==b.zb&&b.Wj();b.u||b.U?(b.pd.N=!0,b.A.N=!0,b.Ye.N=!0,b.se.N=!0):(b.pd.N=!1,b.A.N=!1,b.Ye.N=!1,b.se.N=!1);b.A.locked=b.za?!0:b.Ca;if(b.Ja||b.za&&b.od>b.uk||-1!==b.zb)l=!0;b.i.Sd(l)};q.prototype.Wl=function(a){for(var b=a.Ei,c=performance.now(),d=!0,e=a.a.Nb.dl*LifeConstants.zf;a.a.m<b-1&&
13>performance.now()-c;)d=b-1-a.a.m<=e?!1:!0,a.a.Jd(!1,0,d),a.a.ie();a.a.m===b-1?(a.a.Jd(a.oc,0,!1),a.bc=a.a.ie(),a.he=!1,a.i.notification.clear(!0,!1),a.H.locked=!1):a.H.locked=!0;a.Ul(a,b);a.a.Mi();a.u?a.Ni(a):a.mb.length&&!a.fa&&a.Li(a);a.i.Sd(!0)};q.prototype.jh=function(a,b){b.he?b.Wl(b):b.Xl(a,b)};q.prototype.kh=function(a){a.a.m=0;a.elapsedTime=0;a.a.F=a.a.width>>1;a.a.G=a.a.height>>1;a.a.F&=a.a.width-1;a.a.G&=a.a.height-1;a.Id=performance.now();a.Eg.Lb=RuleManager.Dg(a.ud).name;a.bc=!0;a.Jh=
!0};q.prototype.oi=function(a,b){b.i.yf=a[0];b.i.Sd(!0)};q.prototype.$j=function(a,b,c){b?(b=a[0]+.5|0,c.a.gc!==b&&(c.a.jd(b,c.a.Ci),c.vd&&b===c.a.xb?c.i.notification.O("Custom Theme",40,!0):c.i.notification.O("Theme "+b,40,!0)),a=a[0]):a=c.a.gc;return[a,c.a.gc]};q.prototype.Tg=function(a,b,c){b&&(c.I=a[0]+.5|0);return[c.I,c.I]};q.prototype.$d=function(a,b,c){b?(c.Tb=e.Vb+a[0]*a[0]*(e.cd-e.Vb),a=a[0]):a=Math.sqrt((c.Tb-e.Vb)/(e.cd-e.Vb));return[a,c.Tb]};q.prototype.Cj=function(a){a.vf=a.a.zoom;a.fa&&
(a.vf=4*a.vf);a.Zh=a.a.s;a.Pd=a.a.F;a.Qd=a.a.G};q.prototype.yl=function(a){a.Vd=a.a.width/2-a.a.F;a.Wd=a.a.height/2-a.a.G;a.Ke=a.a.zoom;a.Ud=a.a.s;a.pe=a.a.width/2-a.Pd;a.qe=a.a.height/2-a.Qd;a.re=a.vf;a.We=a.Zh;a.zb=0};q.prototype.vl=function(a){var b=0;a.a.zoom=a.Ji;a.fa&&(a.a.zoom=a.a.zoom/4);a.A&&(a.A.current=a.Ab([a.a.zoom,a.a.zoom],!1,a));a.a.s=a.le;a.va&&(a.va.current=[a.le,a.le]);a.a.F=a.ne;a.a.G=a.oe;a.a.jd(a.xd,1);a.ib.current=[a.xd,a.xd];a.Ya&&(a.a.td=0);b=Math.sqrt((a.wh-e.Vb)/(e.cd-e.Vb));
a.W.current=a.$d([b,b],!0,a);a.I=a.hg;a.La.current=[a.I,a.I];a.a.l=a.me;a.Qa.current=[a.me,a.me];b=Math.sqrt(a.uh);a.pa.current=a.Zd([b,b],!0,a)};q.prototype.reset=function(a){var b=!1,c=!1;0===a.elapsedTime&&(b=!0);a.Wa||a.a.m===a.Ra&&(c=!0);!c&&a.pb&&(a.Ta=!0);a.Wa=!a.pb||c?!1:!0;a.elapsedTime=0;b&&(a.vl(a),a.pb&&(a.Ta=!1),a.Wa=!1);a.Ya||(a.a.Aj(a.Ac),a.bc=!0);a.rg="";a.Oh=-1;a.wb=!1;a.D.kd=0;a.i.notification.clear(!1,!1)};q.prototype.Ej=function(a){this.R.icon[2]=a?e.Da.icon("pause"):e.Da.icon("stepforward")};
q.prototype.pc=function(a,b,c){var d=a,f=c.Wa,k=c.Ta,h=null,l="",p=40;if(b){switch(a){case e.pj:c.rd&&0===c.a.m&&0===c.elapsedTime?(c.Ja=!0,a=e.we,c.Id=performance.now()):(c.Ja=!1,a=e.Ea);c.reset(c);h="Reset";!c.Wa&&f&&-1!==c.Ra&&(p=120,l="(Loop On");c.Wa&&!f&&-1!==c.Ra&&(p=120,l="(Loop Off");!c.Ta&&k&&(p=120,l=(""===l?"(":l+", ")+"Waypoints On");c.Ta&&!k&&(p=120,l=""===l?"(":l+", ",l+="Waypoints Off");""!==l&&(l+=")",h+=" "+l);c.i.notification.O(h,p,!0);break;case e.we:c.R.current!==e.we&&(c.Ja=
!0,c.i.notification.O("Play",40,!0),c.Id=performance.now());break;case e.jl:c.Ja?(c.Ja=!1,c.Wa||c.pb||-1===c.Ra?c.i.notification.O("Pause",40,!0):(c.Wa=!0,c.i.notification.O("Pause (Loop Off)",120,!0))):0<c.a.m&&c.Fg(c.a.m-c.I);a=e.Ea;break;case e.Ea:c.Ja?(c.Ja=!1,c.Wa||c.pb||-1===c.Ra?c.i.notification.O("Pause",40,!0):(c.Wa=!0,c.i.notification.O("Pause (Loop Off)",120,!0))):(c.Pc=!0,c.Id=performance.now())}d=a;c.Ej(c.Ja)}return d};q.prototype.Pf=function(a,b,c){b&&(c.wb=!0,c.a.s=a[0]);return[c.a.s,
c.a.s]};q.prototype.pi=function(a,b,c){b?(c.wb=!0,c.a.l=a[0]+.5|0,a=a[0]):a=c.a.l;return[a,c.a.l]};q.prototype.Zd=function(a,b,c){return b?(c.wb=!0,c.a.vb=a[0]*a[0],[a[0],c.a.vb*e.yd]):[Math.sqrt(c.a.vb),c.a.vb*e.yd]};q.prototype.Lf=function(a,b,c,d){var f=0,k=0,h=0,l=0,h=0;c?(-1!==d.te&&(d.u?(k=d.ue-b,k/=e.fontSize,0<k?d.Jg(d,k):0>k&&d.Kg(d,-k)):d.U?(k=d.ue-b,k/=e.fontSize,0<k?d.Hg(d,k):0>k&&d.Ig(d,-k)):(f=(d.te-a)/d.a.zoom,k=(d.ue-b)/d.a.zoom,h=-d.a.s,l=Math.sin(h/180*Math.PI),h=Math.cos(h/180*
Math.PI),d.Ca||(d.za?d.qd(d):(d.wb=!0,d.a.F+=f*h+k*-l,d.a.G+=f*l+k*h)))),d.te=a,d.ue=b):(d.te=-1,d.ue=-1)};q.prototype.fd=function(a,b){this.ue=this.te=0;this.Lf(a,b,!0,this);this.te=-1};q.prototype.ah=function(a){var b=new Image,c=null;b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAAoCAIAAABcqPdaAAAABnRSTlMAAAAAAABupgeRAAAFzklEQVR4nO2dsW7jRhBAh4EFSD4oKVToADcsqBSH1CnoL+C5ceUfCKArrhBd5CtSiC5SSEAqFwaucmPqC6wvOFwRqVCZFG5OuDsjPmBSUKJIkSKX5C53uZoHNyKXOzO7nOXsztIEIAiCIAiCcF1X6PGTcmoRhMqYiHtHVoZRQ82y5NYPDRyEtohwrexhQq7cOvlBtgIEIYSVYQh1MBMxdYCQJbdmaOAgtEWcD2d7ryy5dUIDB6EzInyYxXtlya0NGjgIzeHrw+zeK0tuPRxUBRENGYrigbY+pEzR8rmVVLFaVqOJIGiT0Bwu7cxSz55cIpdDGVNxeJ538BxuqVGfmNw9eJXPraSi2uyXmIh8/8ppzmgOl3ZmqUfWjacZovdx5E9VqBezKdc+IhbPeNWpSHcrogaRCusaBw0fSbRsE6UsUkoZIkqxDWBI808A0PeGVtAu1GjZiIW9sFGpBdEoZbIqWj5pGeFlu+jNhSVQtk+VVeyYKb/l/NiiD+63r1IPE8Wd89jiDvWpuo/jGKIP7W1shHVVlGx7CxPxzLM56qM43tdxLOm28NpZxYd347GJfjftXB8xeYrPS266Rh+N8KiKNMjGsnGH/erCAoDWxVXbnT+zXdP18fTe+HdaXFrtJDOmt+/HXSt+yBq9xtH6HACuUzOsdwAADgC67nWakNgppn0cRWG2t5hcXuVzK8muVrT5NcNuDi97Swsq38K2d4bY930TFz2mmMPuLdBE7A8Li1KBILwyEXfG2t5ZEHf4wxL7OFIjjoPk9h/n3s2Ty6u8CGPLyZW+AayQOdXtZayHbyPDxpEWPXvYRzT9cDAYxv0h/LkZNfYi/NAbq0x5WPqr8qa+wJBFz45fO/QDW1zXDcv0/cCobePsWmPXCP0hpg4cot5VKXdXHQ/SN4A1uneKKG+/urBg+fBlPv06A3AuWZ+cEbo+vh7tQv/W6DEyACmG/eYEAJYPX+bx49O3q4Ebn6ZZHScwavFfrLDdWzyGM53OBDppcuglN0Jr7Ku2BbD49Aywvp8BOKc5Lj9/GpyvlwAA394Zq4H7bHs/OgCwXJ8bK8NYnd+8AIAzUXQi88vPrdjveACF/l/eODz3cnO+MoyV8XYdu+KqbcHO3nfpckQNHIZh6LdWqhON7h125dtXFy0AcCYmojlxAKBzWdDjA1ec/fEUPJbn7ucZAMDJGyVzNB//fmEtunz+ME85vGfvFL6lXcx/4Gj6kFGP/ipsAGtoNxVRe5NPiVFqttIY5p++A4A1+mkzPM6fBpFAqQZY1qgqrpMVksurfG4lLJWLboQ6YTSHl72lBZURF2QTIlsYun6YLgmWAzepk+3a52YJMFIsTElsMzJ7P9UjJauytchEvwsYWUANz0cWR+MGtj000xZH+ezjaOizK5fAriYOB+wYhtEUA4veZsE85eXhQ7gouL6f9RynczmE6cfvSwALOhM0J+mXdyZo/n7zz8D9PBv1HKv7iDvnCSP5aiTfTCnxrsp+JnX15+1y3LUgpnDAzPnNvQY4vQMAsKJbM3b7OH69vl1Cy4rby30fR65VRSkqiItiVQSJbpB6yDWHl721CQKA3iIZGiQfrUFwEc9HDv1wNTE4wiUdmySZfK2cjt0yjGfrt2FXNB2bHnEAsKRjDyLLQ4qK46Ie+4WymqUGss3hZW9uPZq1ajbiBg4VP8ik68SEBY6TF+5bOSouuCo7Zznm+01ZimVVmp4x4UX1dpC+ASwVBTtXQZUIYI84qP+SaLl0qlTcof1dlwwSlfpnCxnkRxwUZWSjX/soYo4iahCpZA0c+rmEOIq2lQobwDKQ3u/SFSCyoe4hNMSMf77I5Pc1o+yapchV67sqBNFcouvE3NehMyqXJTeJ/O+qEERz4fjMD2H5tqMsubVBAwehLSK8NyDbh2XJrRMaOAg9Eee9AYd8WJbcmuHzkhtBKEjUwTguUiort05o4CA0RNwzP7tmWXIJgiAawP+awJSGKI4vJwAAAABJRU5ErkJggg==";
c=new IconManager(b,a);c.add("play",40,40);c.add("pause",40,40);c.add("tostart",40,40);c.add("menu",40,40);c.add("stepback",40,40);c.add("stepforward",40,40);c.add("autofit",40,40);c.add("fit",40,40);c.add("grid",40,40);return c};q.prototype.Of=function(a,b){a.i.hasFocus&&(a.he||(b.wheelDelta?a.wheelDelta=b.wheelDelta/120:b.detail&&(a.wheelDelta=-b.detail/3),a.i.Sd(!0)),b.preventDefault())};q.prototype.Wj=function(){var a=this.D.yi(this.zb/e.Th),b=this.Ud,c=this.We;this.a.F=this.a.width/2-(this.Vd+
a*(this.pe-this.Vd));this.a.G=this.a.height/2-(this.Wd+a*(this.qe-this.Wd));this.a.zoom=this.Ke*Math.pow(this.re/this.Ke,a);180<c-b?b+=360:-180>c-b&&(c+=360);this.a.s=(b+a*(c-b))%360;this.zb+=1;this.zb>e.Th&&(this.zb=-1,this.a.zoom=this.re,this.a.s=c,this.a.F=this.a.width/2-this.pe,this.a.G=this.a.height/2-this.qe);this.A&&(this.A.current=this.Ab([this.a.zoom,this.a.zoom],!1,this));this.va&&(this.va.current=this.Pf([this.a.s,this.a.s],!1,this))};q.prototype.Il=function(a,b){var c=this.D.Kb[b];a.Vd=
a.a.width/2-a.a.F;a.Wd=a.a.height/2-a.a.G;a.Ke=a.a.zoom;a.Ud=a.a.s;a.pe=c.x;a.qe=c.y;a.re=c.zoom;a.We=c.s;a.zb=0;a.i.notification.O("POI "+b,60,!0);""!==c.hb?a.i.notification.O(c.hb,180,!1):a.i.notification.clear(!1,!0)};q.prototype.wc=function(a,b){a.za?a.qd(a):(a.Vd=a.a.width/2-a.a.F,a.Wd=a.a.height/2-a.a.G,a.Ke=a.a.zoom,a.Ud=a.a.s,a.pe=a.Vd,a.qe=a.Wd,a.re=b,a.We=a.Ud,a.zb=0)};q.prototype.Rf=function(a){a.Ad(!0,!0);a.R.current===e.Ea&&(a.wb=!0)};q.prototype.Uj=function(a,b,c){b&&(c.a.Ia=a[0],c.a.Ec()||
c.i.notification.O("Grid Lines "+(c.a.Ia?"On":"Off"),40,!0));return[c.a.Ia]};q.prototype.Tj=function(a,b,c){b&&(c.za=a[0],c.i.notification.O("AutoFit "+(c.za?"On":"Off"),40,!0));return[c.za]};q.prototype.Jf=function(a,b,c){b&&(c.u=a[0]);return[c.u]};q.prototype.ri=function(a,b,c){b&&(c.oc=a[0],c.oc&&(c.bc?0===c.a.m?(c.a.lc=c.a.Cc.lc,c.a.fc=c.a.Cc.fc,c.a.hc=c.a.Cc.hc):(--c.a.m,c.a.Jd(!0,c.elapsedTime,c.Ac)):(c.a.lc=0,c.a.fc=0,c.a.hc=0)));c.i.Sd(!0);return[c.oc]};q.prototype.Ig=function(a,b){1<a.U&&
(a.U-=b,1>a.U&&(a.U=1))};q.prototype.Hg=function(a,b){a.U<a.mb.length-a.la&&(a.U+=b,a.U>a.mb.length-a.la&&(a.U=a.mb.length-a.la))};q.prototype.Kg=function(a,b){1<a.u&&(a.u-=b,1>a.u&&(a.u=1))};q.prototype.Jg=function(a,b){a.u<a.ze-a.la&&(a.u+=b,a.u>a.ze-a.la&&(a.u=a.ze-a.la))};q.prototype.Fg=function(a){this.Ac?this.i.notification.O("Step back disabled",40,!0):(0>a&&(a=0),this.bc=this.a.Fg(a,this.oc,this.elapsedTime),this.elapsedTime=this.a.elapsedTime,a!==this.a.m&&(this.he=!0,this.Ei=a,this.a.Aj(!1),
this.i.notification.O("Computing previous generations",1E4,!0)))};q.prototype.qd=function(a){a.i.notification.O("AutoFit is On",120,!0)};q.prototype.rl=function(a,b,c){var d=!0,f=0;if(c.ctrlKey||c.metaKey||c.altKey)b=-1;switch(b){case 66:a.Za||(a.R.current===e.Ea?0<a.a.m&&a.Fg(a.a.m-a.I):a.R.current=a.pc(e.Ea,!0,a));break;case 13:a.Za||(a.R.current=a.R.current===e.we?a.pc(e.Ea,!0,a):a.pc(e.we,!0,a));break;case 32:a.Za||(a.Ja?a.R.current=a.pc(e.Ea,!0,a):(a.Pc=!0,a.Id=performance.now()));break;case 87:a.pb&&
(a.Ta=!a.Ta,-1!==a.Ra?(a.Wa=a.Ta,a.i.notification.O("Loop "+(a.Wa?"Off":"On")+", Waypoints "+(a.Ta?"Off":"On"),40,!0)):a.i.notification.O("Waypoints "+(a.Ta?"Off":"On"),40,!0),a.Ta?a.i.notification.clear(!1,!1):a.D.lh(a.elapsedTime)||(a.D.Sk(a.a.m),a.elapsedTime=a.D.Pi(a.a.m),a.elapsedTime=a.D.Fi(a.a.width/2-a.a.F,a.a.height/2-a.a.G,a.a.zoom,a.a.s,a.a.l,a.a.vb*e.yd,a.a.gc,a.Tb,a.I,a.a.m,a.elapsedTime),a.wb=!1));break;case 69:!a.La.locked&&a.I<e.jc&&(c.shiftKey?a.I=e.jc:a.I+=1,a.La.current=a.Tg([a.I,
a.I],!0,a));break;case 68:!a.La.locked&&a.I>e.pf&&(c.shiftKey?a.I=e.pf:--a.I,a.La.current=a.Tg([a.I,a.I],!0,a));break;case 90:c.shiftKey?(f=v.Pl(),0===f?a.i.notification.O("No LifeViewers playing",100,!0):1<f&&a.i.notification.O("Paused all LifeViewers",100,!0)):(f=v.Ql(a),0===f?a.i.notification.O("No other LifeViewers playing",100,!0):1<f?a.i.notification.O("Paused "+f+" other LifeViewers",100,!0):a.i.notification.O("Paused "+f+" other LifeViewer",100,!0));break;case 88:a.a.Ia=!a.a.Ia;a.se.current=
a.Uj([a.a.Ia],!0,a);break;case 80:!a.Ya&&a.pa&&(a.pa.current=.99>=a.pa.current[0]?a.Zd([a.pa.current[0]+.01,a.pa.current[1]],!0,a):a.Zd([1,a.pa.current[1]],!0,a));break;case 76:!a.Ya&&a.pa&&(a.pa.current=.01<=a.pa.current[0]?a.Zd([a.pa.current[0]-.01,a.pa.current[1]],!0,a):a.Zd([0,a.pa.current[1]],!0,a));break;case 81:!a.Ya&&a.Qa&&a.Qa.current[0]<e.vg&&(a.Qa.current=a.pi([a.a.l+1,a.Qa.current[1]],!0,a));break;case 65:!a.Ya&&a.Qa&&a.Qa.current[0]>e.xg&&(a.Qa.current=a.pi([a.a.l-1,a.Qa.current[1]],
!0,a));break;case 82:a.R.current=a.pc(e.pj,!0,a);break;case 83:a.He=!a.He;break;case 78:a.Pg&&(a.fa?a.ii():(a.Lj(),a.u&&(a.u=0)),a.resize());break;case 86:c.shiftKey?(a.Cj(a),a.i.notification.O("Saved camera position",100,!0)):a.Ca||(a.za?a.qd(a):(a.yl(a),a.i.notification.O("Restored camera position",100,!0),a.R.current===e.Ea&&(a.wb=!0)));break;case 221:a.za?a.qd(a):c.shiftKey?(a.a.zoom<=e.kc/2?(a.uc(a.A.current[0],Math.log(2*a.a.zoom/e.Xa)/Math.log(e.kc/e.Xa)-a.A.current[0]),a.a.zoom*=2):(a.uc(a.A.current[0],
1-a.A.current[0]),a.a.zoom=e.kc),a.A.current=a.Ab([a.a.zoom,a.a.zoom],!1,a)):.99>=a.A.current[0]?(a.uc(a.A.current[0],.01),a.A.current=a.Ab([a.A.current[0]+.01,a.A.current[1]],!0,a)):(a.uc(a.A.current[0],1-a.A.current[0]),a.A.current=a.Ab([1,a.A.current[1]],!0,a));break;case 219:a.za?a.qd(a):c.shiftKey?(a.a.zoom>=2*e.Xa?(a.uc(a.A.current[0],Math.log(a.a.zoom/2/e.Xa)/Math.log(e.kc/e.Xa)-a.A.current[0]),a.a.zoom/=2):(a.uc(a.A.current[0],-a.A.current[0]),a.a.zoom=e.Xa),a.A.current=a.Ab([a.a.zoom,a.a.zoom],
!1,a)):.01<=a.A.current[0]?(a.uc(a.A.current[0],-.01),a.A.current=a.Ab([a.A.current[0]-.01,a.A.current[1]],!0,a)):(a.uc(a.A.current[0],-a.A.current[0]),a.A.current=a.Ab([0,a.A.current[1]],!0,a));break;case 48:a.a.s=0;a.va&&(a.va.current=[a.a.s,a.a.s]);break;case 49:a.wc(a,1);break;case 50:c.shiftKey?a.wc(a,.5):a.wc(a,2);break;case 51:a.wc(a,32);break;case 52:c.shiftKey?a.wc(a,.25):a.wc(a,4);break;case 54:c.shiftKey?a.wc(a,.0625):a.wc(a,16);break;case 56:c.shiftKey?a.wc(a,.125):a.wc(a,8);break;case 189:!a.Za&&
a.W&&(a.W.current=.01<=a.W.current[0]&&!c.shiftKey?a.$d([a.W.current[0]-.01,a.W.current[1]],!0,a):a.$d([0,a.W.current[1]],!0,a));break;case 187:!a.Za&&a.W&&(a.W.current=.99>=a.W.current[0]&&!c.shiftKey?a.$d([a.W.current[0]+.01,a.W.current[1]],!0,a):a.$d([1,a.W.current[1]],!0,a));break;case 188:a.va&&(f=a.va.current[0],c.shiftKey?f-=90:--f,0>f&&(f+=360),a.va.current=a.Pf([f,f],!0,a));break;case 190:a.va&&(f=a.va.current[0],f=c.shiftKey?f+90:f+1,360<=f&&(f-=360),a.va.current=a.Pf([f,f],!0,a));break;
case 74:a.D.Kb.length?a.za?a.qd(a):(c.shiftKey?(--a.Gc,0>a.Gc&&(a.Gc=a.D.Kb.length-1)):(a.Gc+=1,a.Gc>=a.D.Kb.length&&(a.Gc=0)),a.Il(a,a.Gc)):a.i.notification.O("No POIs defined",80,!0);break;case 84:a.oi([!a.i.yf],a);break;case 71:a.Za||(a.ri([!a.oc],!0,a),a.Gb&&(a.Gb.current=[a.oc],a.i.Oe=!0));break;case 70:a.Ca||(c.shiftKey?(a.za=!a.za,a.pd.current=a.Tj([a.za],!0,a)):(a.Ad(!0,!0),a.i.notification.O("Fit Zoom",80,!0),a.R.current===e.Ea&&(a.wb=!0)));break;case 79:a.Hl(a);break;case 37:c.shiftKey?
a.fd(a.a.zoom,a.a.zoom):a.fd(a.a.zoom,0);break;case 38:a.u?a.Kg(a,1):a.U?a.Ig(a,1):c.shiftKey?a.fd(-a.a.zoom,a.a.zoom):a.fd(0,a.a.zoom);break;case 39:c.shiftKey?a.fd(-a.a.zoom,-a.a.zoom):a.fd(-a.a.zoom,0);break;case 40:a.u?a.Jg(a,1):a.U?a.Hg(a,1):c.shiftKey?a.fd(a.a.zoom,-a.a.zoom):a.fd(0,-a.a.zoom);break;case 77:a.zc&&!a.zc.N&&(a.zc.current[0]=!a.zc.current[0],a.i.Oe=!0);break;case 67:a.Ya||!a.ib||a.ib.locked||(c.shiftKey?f=a.xd:(f=a.ib.current[0],f+=1,a.vd?f>=a.a.xb+1&&(f=0):f>=a.a.xb&&(f=0)),a.ib.current=
a.$j([f,f],!0,a));break;case 72:a.mb.length?a.u?a.u=0:a.u=a.Dj:a.u?a.u=0:a.fa||(a.u=1);a.df.current=a.Jf([a.u],!0,a);break;case 73:a.u?a.u!==a.qg?a.u=a.qg:a.u=0:a.fa||(a.u=a.qg);a.df.current=a.Jf([a.u],!0,a);break;case 27:a.u?a.u=0:a.U?(a.mb=[],a.U=0):a.Ja?a.R.current=a.pc(e.Ea,!0,a):a.pb&&!a.Ta&&(a.Ta=!0,a.i.notification.O("Waypoints "+(a.Ta?"Off":"On"),40,!0));a.u=0;a.df.current=a.Jf([a.u],!0,a);break;case 33:a.u?a.Kg(a,a.la):a.U&&a.Ig(a,a.la);break;case 34:a.u?a.Jg(a,a.la):a.U&&a.Hg(a,a.la);break;
case 36:a.u?a.u=1:a.U&&(a.U=1);break;case 35:a.u?a.u=a.ze-a.la:a.U&&(a.U=a.mb.length-a.la);break;default:d=!1}return d};q.prototype.sl=function(a,b,c){var d=!0;if(c.ctrlKey||c.metaKey||c.altKey)b=-1;switch(b){case 84:a.oi([!a.i.yf],a);break;default:d=!1}return d};q.prototype.bh=function(a,b){var c=b.charCode||b.keyCode,d=!1;if(d=a.he?a.sl(a,c,b):a.rl(a,c,b))a.i.Sd(!0),b.preventDefault()};q.prototype.Qf=function(){this.H=this.i.Gk(this.jh,this.kh,this);this.H.zh=this.Lf;this.df=this.H.be(this.Jf,Menu.Sh,
-40,0,40,["?"],[!1],Menu.xe);this.pd=this.H.be(this.Tj,Menu.qj,0,0,40,[""],[!1],Menu.xe);this.pd.icon=[e.Da.icon("autofit")];this.Ye=this.H.rk(this.Rf);this.Ye.icon=e.Da.icon("fit");this.se=this.H.be(this.Uj,Menu.Sh,-85,0,40,[""],[!1],Menu.xe);this.se.icon=[e.Da.icon("grid")];this.Wb=this.H.sk();this.Wb.locked=!0;this.A=this.H.nd(this.Ab,Menu.Rh,0,0,292,40,0,1,.1,"Zoom ","x",1);this.Qa=this.H.nd(this.pi,Menu.$l,30,0,40,292,e.vg,e.xg,1,"Layers ","",0);this.pa=this.H.nd(this.Zd,Menu.Oi,-70,0,40,292,
1,0,.1,"Depth ","",2);this.va=this.H.nd(this.Pf,Menu.Rh,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.zc=this.H.be(null,Menu.mc,-40,-40,40,[""],[!1],Menu.xe);this.zc.icon=[e.Da.icon("menu")];this.ib=this.H.nd(this.$j,Menu.Gj,0,-90,390,40,0,this.a.xb-1,1,"Theme ","",0);this.W=this.H.nd(this.$d,Menu.mc,-375,-40,80,40,0,1,0,"","gps",0);this.La=this.H.nd(this.Tg,Menu.mc,-290,-40,80,40,e.pf,e.jc,1,"x","",0);this.R=this.H.be(this.pc,Menu.mc,-205,-40,160,["","","",""],e.Ea,Menu.di);this.R.icon=[e.Da.icon("tostart"),
e.Da.icon("stepback"),e.Da.icon("pause"),e.Da.icon("play")];this.zc.vi([this.Qa,this.pa,this.va,this.ib]);this.Hd=this.H.tc(Menu.Td,0,-120,90,"Time");this.Hd.textAlign=Menu.left;this.kg=this.H.tc(Menu.Td,90,-120,90,"");this.kg.textAlign=Menu.right;this.Qb=this.H.tc(Menu.Td,0,-80,180,"");this.Qb.textAlign=Menu.left;this.Gb=this.H.be(this.ri,Menu.Td,0,-40,100,[""],[this.oc],Menu.xe);this.Ed=this.H.tc(Menu.mc,-180,-160,90,"Alive");this.Ed.textAlign=Menu.left;this.Bg=this.H.tc(Menu.mc,-90,-160,90,"");
this.Bg.textAlign=Menu.right;this.Rc=this.H.tc(Menu.mc,-180,-120,90,"Births");this.Rc.textAlign=Menu.left;this.Xf=this.H.tc(Menu.mc,-90,-120,90,"");this.Xf.textAlign=Menu.right;this.Sc=this.H.tc(Menu.mc,-180,-80,90,"Deaths");this.Sc.textAlign=Menu.left;this.gg=this.H.tc(Menu.mc,-90,-80,90,"");this.gg.textAlign=Menu.right;this.Eg=this.H.tc(Menu.Td,0,-160,180,RuleManager.Dg(this.ud).name);this.Gb.vi([this.Ed,this.Bg,this.Rc,this.Xf,this.Sc,this.gg,this.Hd,this.kg,this.Eg])};q.prototype.Ug=function(a){var b=
this;this.o=a;this.o.getContext&&(this.o.width!==this.Na&&l.tg&&(this.o.width=this.Na),this.o.width&=-8,this.xc=this.o.getContext("2d",{alpha:!1}),this.xc.globalAlpha=1,this.xc.fillStyle="black",this.xc.fillRect(0,0,this.o.width,this.o.height),this.Md=document.createElement("canvas"),this.Md.width=this.o.width,this.Md.height=this.o.height,this.lb=this.Md.getContext("2d",{alpha:!1}),this.j=this.o.width,this.g=this.o.height,this.a=new Life(this.lb,this.j,this.g,1024,1024),this.a.Zk(this.lb,this.j,this.g),
this.lb.textAlign="left",this.lb.textBaseline="middle",e.Da=this.ah(this.lb),this.i=new MenuManager(this.xc,this.lb,"24px Arial",e.Da,this,this.Sf),this.i.yf=!1,this.Qf(),this.Cd=this.R.x,this.Yc=this.W.x,this.Fd=this.La.x,registerEvent(this.o,"DOMMouseScroll",function(a){b.Of(b,a)},!1),registerEvent(this.o,"mousewheel",function(a){b.Of(b,a)},!1),this.i.notification.enabled=!0,this.i.qk(this.H),registerEvent(this.o,"keydown",function(a){b.bh(b,a)},!1))};q.prototype.ve=function(a){var b=!0;switch(a){case d.ji:case d.bi:case d.ci:case d.yh:case d.Vh:case d.Ne:case d.Qh:case d.Af:case d.Vf:case d.Og:case d.Mg:case d.Uh:case d.af:case d.$e:case d.hi:case d.Ba:case d.oh:case d.Wg:case d.Zg:case d.Vg:case d.Yg:case d.ae:case d.ug:case d.Sg:case d.mi:case d.Wf:case d.xf:case d.ai:case d.Uf:case d.Ef:case d.ng:case d.Ng:case d.sg:case d.ig:case d.si:case d.Dh:b=
!0;break;default:b=!1}return b};q.prototype.ab=function(a,b,c,d){var e=a.Ag();""===e||this.ve(e)?b[b.length]=[c,d+" missing"]:(b[b.length]=[c+" "+e,d+" must be a number"],a.C())};q.prototype.V=function(a,b,c,d){var f=!0,k=0,h=0,l=0,p=null,n=null,q=a.C();if(a.ca()){k=parseFloat(a.C())|0;if(0>k||255<k)b[b.length]=[d+" "+q+" "+k,"RED out of range"];if(a.ca()){h=parseFloat(a.C())|0;if(0>h||255<h)b[b.length]=[d+" "+q+" "+k+" "+h,"GREEN out of range"];a.ca()?(l=parseFloat(a.C())|0,0>l||255<l?b[b.length]=
[d+" "+q+" "+k+" "+h+" "+l,"BLUE out of range"]:f=!1):this.ab(a,b,d+" "+q+" "+k+" "+h,"BLUE")}else this.ab(a,b,d+" "+q+" "+k,"GREEN")}else p=a.Ag(),n=ColourManager.sb[p.toLowerCase()],void 0!==n?(a.C(),k=n[1],h=n[2],l=n[3],f=!1):""===p||this.ve(p)?b[b.length]=[d+" "+q,"name missing"]:(b[b.length]=[d+" "+q+" "+p,"name not known"],a.C());f||(-1!==this.c[c]&&(b[b.length]=[d+" "+q+" "+k+" "+h+" "+l,"overwrites ("+(this.c[c]>>16)+" "+(this.c[c]>>8&255)+" "+(this.c[c]&255)+")"]),this.c[c]=k<<16|h<<8|l,
c===e.cg?this.rb=this.c[c]:c===e.dg?this.Bb=this.c[c]:c===e.eg?(this.oa.red=k,this.oa.green=h,this.oa.blue=l):c===e.fg?this.J=[k,h,l]:c===e.ag?(this.ya=[k,h,l],this.a.fe=this.a.lf?-16777216|l<<16|h<<8|k:k<<24|h<<16|l<<8|255):this.vd=!0)};q.prototype.hh=function(a,b){var c=!0,f=0,k=this.a.nb[this.a.xb];-1===this.c[e.je]&&(a[a.length]=[b+" "+d.ki,"missing"],c=!1);-1===this.c[e.ke]&&-1===this.c[e.wd]&&(a[a.length]=[b+" "+d.li,"missing"],c=!1);c&&(f=this.c[e.ke],-1===f&&(f=this.c[e.wd]),k.Ma.red=f>>16,
k.Ma.green=f>>8&255,k.Ma.blue=f&255,f=this.c[e.je],k.ja.L.red=f>>16,k.ja.L.green=f>>8&255,k.ja.L.blue=f&255,f=this.c[e.$f],-1===f&&(f=this.c[e.je]),k.ja.M.red=f>>16,k.ja.M.green=f>>8&255,k.ja.M.blue=f&255,f=this.c[e.wd],-1===f&&(f=this.c[e.ke]),k.ha.M.red=f>>16,k.ha.M.green=f>>8&255,k.ha.M.blue=f&255,f=this.c[e.bg],-1===f&&(f=this.c[e.wd]),k.ha.L.red=f>>16,k.ha.L.green=f>>8&255,k.ha.L.blue=f&255,this.a.jd(this.a.xb,1))};q.prototype.ih=function(a){var b=this.D.Tk();b.md||(b.x=this.a.width/2-this.a.F);
b.Qc||(b.y=this.a.height/2-this.a.G);b.Ob||(b.zoom=this.a.zoom);b.Te||(b.s=this.a.s);b.kf||(b.l=this.a.l);b.Ve||(b.depth=this.a.vb);b.Ze||(b.qa=this.Tb);b.Bf||(b.step=this.I);b.Xd||(b.ta=this.a.gc);this.D.ql(a)};q.prototype.Pb=function(a,b){var c=a;a.length>b&&(c=a.substr(0,b-1)+"...");return c};q.prototype.Cf=function(a,b,c){var e=a.indexOf("\\n");-1!==e&&(c?b[b.length]=[d.Ne+" "+d.xa+this.Pb(a,23)+d.xa,"only one line allowed"]:(e=a.substr(e+2).indexOf("\\n"),-1!==e&&(b[b.length]=[d.xa+this.Pb(a,
23),"only two lines allowed"])))};q.prototype.Ce=function(a,b,c){var e=d.Ef+" ",f="overwrites (",e=b>=this.a.xb?e+d.Df:e+b,f=c>=this.a.xb?f+d.Df:f+c;a[a.length]=[e,f+")"]};q.prototype.Ga=function(a,b,c,d,e,f){var h=0,k=0,l=0;if(a.ca()){h=parseFloat(a.C())|0;if(0>h||255<h)b[b.length]=[d+" "+f+" "+h,"RED out of range"],e=!0;if(a.ca()){k=parseFloat(a.C())|0;if(0>k||255<k)b[b.length]=[d+" "+f+" "+h+" "+k,"GREEN out of range"],e=!0;a.ca()?(l=parseFloat(a.C())|0,0>l||255<l?b[b.length]=[d+" "+f+" "+h+" "+
k+" "+l,"BLUE out of range"]:e||(-1!==this.w[c]&&(b[b.length]=[d+" "+f+" "+h+" "+k+" "+l,"overwrites ("+(this.w[c]>>16)+" "+(this.w[c]>>8&255)+" "+(this.w[c]&255)+")"]),this.w[c]=h<<16|k<<8|l)):this.ab(a,b,d+" "+f+" "+h+" "+k,"BLUE")}else this.ab(a,b,d+" "+f+" "+h,"GREEN")}else this.ab(a,b,d+" "+f,"RED")};q.prototype.dh=function(a,b){var c=new Script(a),f=!1,k="",l="",h=!1,p="",n=0,q=!1,v=!1,r=this.mb,w=null,u=l=w=0,D="",u=this.D.Zf(),A=!1,I=!1,q=!1;this.Bd=this.Db=k=0;this.vd=!1;this.c[e.ke]=-1;
this.c[e.je]=-1;this.c[e.$f]=-1;this.c[e.wd]=-1;this.c[e.bg]=-1;this.c[e.cg]=-1;this.c[e.dg]=-1;this.c[e.eg]=-1;this.c[e.fg]=-1;this.c[e.ag]=-1;this.w=[];if(c.Qi(d.xf)){for(k=0;256>k;k+=1)this.w[k]=-1;for(k=c.C();""!==k;){if(h)k[k.length-1]===d.xa?(p=p+" "+k.substr(0,k.length-1),h=!1,this.Cf(p,r,f),f?(""!==this.ua&&(r[r.length]=[d.Ne+" "+d.xa+this.Pb(p,20)+d.xa,"overwrites "+d.xa+this.ua+d.xa]),this.ua=p,f=!1):(u.hb=p,u.Oj=!0)):p=p+" "+k;else if(k[0]===d.xa)p=k.substr(1),h=!0,k[k.length-1]===d.xa&&
(h=!1,p=p.substr(0,p.length-1),this.Cf(p,r,f),f?(""!==this.ua&&(r[r.length]=[d.Ne+" "+d.xa+this.Pb(p,20)+d.xa,"overwrites "+d.xa+this.ua+d.xa]),this.ua=p,f=!1):(u.hb=p,u.Oj=!0));else{q=v=!1;this.Db+=1;switch(k){case d.Ne:q=f=!0;break;case d.Qh:q=this.Ac=!0;break;case d.Af:q=this.He=!0;break;case d.Vf:q=u.Sb=!0;break;case d.af:q=this.a.Ia=!0;break;case d.$e:c.ca()&&(v=!0,n=parseFloat(c.C())|0,n>=e.hl&&n<=e.bl&&(this.a.$c=n,q=!0));break;case d.Ba:case d.oh:D=k;q=!1;if(c.ca()){l=parseFloat(c.C())|0;
if(0>l||255<=l)r[r.length]=[k+" "+l,"STATE out of range"],q=!0;this.Ga(c,r,l,k,q,l)}else switch(l=c.Ag(),l){case d.rj:l=c.C();this.Ga(c,r,e.sj,k,!1,l);break;case d.tj:l=c.C();this.Ga(c,r,e.uj,k,!1,l);break;case d.Vi:l=c.C();this.Ga(c,r,e.Wi,k,!1,l);break;case d.dj:l=c.C();this.Ga(c,r,e.ej,k,!1,l);break;case d.hj:l=c.C();this.Ga(c,r,e.ij,k,!1,l);break;case d.fj:l=c.C();this.Ga(c,r,e.gj,k,!1,l);break;case d.$i:l=c.C();this.Ga(c,r,e.aj,k,!1,l);break;case d.Qj:this.V(c,r,e.ke,D);break;case d.ki:this.V(c,
r,e.je,D);break;case d.Pj:this.V(c,r,e.$f,D);break;case d.li:this.V(c,r,e.wd,D);break;case d.Rj:this.V(c,r,e.bg,D);break;case d.af:this.V(c,r,e.cg,D);break;case d.$e:this.V(c,r,e.dg,D);break;case d.Af:this.V(c,r,e.eg,D);break;case d.ji:this.V(c,r,e.fg,D);break;case d.zi:this.V(c,r,e.ag,D);break;default:r[r.length]=[k+" "+l,"illegal element"],c.C()}q=!0;break;case d.ai:c.Qi(d.xf);q=!0;--this.Db;break;case d.Sg:q=this.Za=!0;break;case d.hi:q=this.De=!0;break;case d.Wf:q=this.rd=!0;break;case d.ug:c.ca()&&
(v=!0,n=parseFloat(c.C())|0,0<n&&(this.Ra=n,q=!0));break;case d.Ng:c.ca()&&(v=!0,n=parseFloat(c.C())|0,0<n&&(this.Le=n,q=!0));break;case d.Uf:c.ca()&&(v=!0,n=parseFloat(c.C())|0,0<=n&&359>=n&&(u.Te&&(r[r.length]=[d.Uf+" "+n,"overwrites ("+u.s+")"]),u.s=n,q=u.Te=!0));break;case d.sg:c.ca()&&(v=!0,n=parseFloat(c.C())|0,n>=e.xg&&n<=e.vg&&(u.kf&&(r[r.length]=[d.sg+" "+n,"overwrites ("+u.l+")"]),u.l=n,q=u.kf=!0));break;case d.ig:c.ca()&&(v=!0,n=parseFloat(c.C()),n>=e.wg&&n<=e.kj&&(u.Ve&&(r[r.length]=[d.ig+
" "+n+"overwrites ("+u.depth+")"]),u.depth=n,q=u.Ve=!0));break;case d.Vg:c.ca()&&(v=!0,n=parseFloat(c.C()),n>=-this.a.wa/2&&n<=this.a.wa/2&&(this.X=n,q=!0));break;case d.Yg:c.ca()&&(v=!0,n=parseFloat(c.C()),n>=-this.a.wa/2&&n<=this.a.wa/2&&(this.Y=n,q=!0));break;case d.Wg:c.ca()&&(v=!0,n=parseFloat(c.C()),n>=-this.a.wa/2&&n<=this.a.wa/2&&(u.md&&(r[r.length]=[d.Wg+" "+n,"overwrites ("+u.x+")"]),u.x=n,q=u.md=!0));break;case d.Zg:c.ca()&&(v=!0,n=parseFloat(c.C()),n>=-this.a.wa/2&&n<=this.a.wa/2&&(u.Qc&&
(r[r.length]=[d.Zg+" "+n,"overwrites ("+u.y+")"]),u.y=n,q=u.Qc=!0));break;case d.ae:c.ca()&&(v=!0,n=parseFloat(c.C()),n>=e.Xa&&n<=e.kc?(u.Ob&&(r[r.length]=1>u.zoom?[d.ae+" "+n,"overwrites ("+-(1/u.zoom)+")"]:[d.ae+" "+n,"overwrites ("+u.zoom+")"]),u.zoom=n,q=u.Ob=!0):n>=e.il&&n<=e.cl&&(u.Ob&&(r[r.length]=1>u.zoom?[d.ae+" "+n,"overwrites ("+-(1/u.zoom)+")"]:[d.ae+" "+n,"overwrites ("+u.zoom+")"]),u.zoom=-(1/n),q=u.Ob=!0));break;case d.ng:c.ca()&&(v=!0,n=parseFloat(c.C())|0,n>=e.Vb&&n<=e.cd&&(u.Ze&&
(r[r.length]=[d.ng+" "+n,"overwrites ("+u.qa+")"]),u.qa=n,q=u.Ze=!0));break;case d.mi:this.Cb||(this.Pg=this.fa=!0);q=!0;break;case d.Ef:c.ca()?(v=!0,n=parseFloat(c.C())|0,0<=n&&n<this.a.xb&&(u.Xd&&this.Ce(r,n,u.ta),u.ta=n,q=u.Xd=!0)):(l=c.Ag(),l===d.Df&&(c.C(),this.vd?(u.Xd&&this.Ce(r,this.a.xb,u.ta),u.ta=this.a.xb,u.Xd=!0):r[r.length]=[d.Ef+" "+d.Df,"no custom THEME defined"],q=!0));break;case d.xf:r[r.length]=[k,"already in a script block"];q=!0;break;case d.ci:this.oi([!0],this);q=!0;break;case d.bi:this.ri([!0],
!0,this);this.Gb&&(this.Gb.current=[this.oc],this.i.Oe=!0);q=!0;break;case d.yh:c.ca()&&(v=!0,n=parseFloat(c.C())|0,n>=e.nj&&n<=e.jj&&(q=!0,this.a.Cg=n));break;case d.Vh:I=!0;this.D.add(u);u=this.D.Zf();q=u.Zi=!0;break;case d.Og:c.ca()&&(v=!0,n=parseFloat(c.C())|0,0<=n&&(A||(A=!0),0<n&&(this.D.add(u),u=this.D.Zf()),u.ea=n,q=u.Mj=!0));break;case d.Mg:c.ca()&&(v=!0,n=parseFloat(c.C())|0,n>=e.pf&&n<=e.jc&&(u.Bf&&(r[r.length]=[d.Mg+" "+n,"overwrites ("+u.step+")"]),u.step=n,q=u.Bf=!0));break;case d.Uh:c.ca()&&
(v=!0,n=parseFloat(c.C()),0<n&&(A||(A=!0),this.D.add(u),u=this.D.Zf(),u.sa=n,q=u.Nj=!0));break;case d.si:c.ca()&&(v=!0,n=parseFloat(c.C())|0,n>=e.dd&&(q=!0,this.Cb||(this.Oa=n)));break;case d.Dh:c.ca()&&(v=!0,n=parseFloat(c.C())|0,n>=e.oj&&n<=e.mj&&(q=!0,this.Cb||(this.Eb=n)));break;default:r[r.length]=[k,"unknown or misspelt command"],q=!0}q||(v?r[r.length]=[k+" "+n,"argument out of range"]:this.ab(c,r,k,"argument"))}""!==k&&(k=c.C())}h&&(r[r.length]=[d.xa+p,"unterminated string"]);(A||
I)&&this.D.add(u);if(A)for(u=this.D.S[0],this.pb=!0,k=0;k<this.D.S.length;k+=1)u=this.D.S[k],u.Sb&&(u.md||u.Qc||u.Ob)&&(p="",u.md?(p="X "+u.x,u.Qc?p=u.Ob?p+(", Y "+u.y+" and ZOOM "+u.zoom):p+(" and Y "+u.y):u.Ob&&(p+=" and ZOOM "+u.zoom)):u.Qc?(p="Y "+u.y,u.Ob&&(p+=" and ZOOM "+u.zoom)):u.Ob&&(p="ZOOM "+u.zoom),r[r.length]=[d.Vf,"overwrites "+p]);else u.Sb&&(this.za=!0),u.md&&(this.a.F=this.a.width/2-u.x),u.Qc&&(this.a.G=this.a.height/2-u.y),u.Ob&&(this.a.zoom=u.zoom),u.Te&&(this.a.s=u.s),u.Xd&&this.a.jd(u.ta,
1),u.Ve&&(this.a.vb=u.depth/e.yd+e.wg),u.kf&&(this.a.l=u.l),u.Ze&&(this.Tb=u.qa),u.Bf&&(this.I=u.step);A||(u.Ob&&(this.Xc=!0),u.md&&(this.Uc=!0),u.Qc&&(this.Vc=!0));for(k=0;k<b;k+=1)-1!==this.w[k]&&(w+=1);if(0<w){this.ac=!0;for(k=0;k<b;k+=1)PatternManager.Zb[k]?-1===this.w[k]?(u=this.sb[k],this.De&&(r[r.length]=this.B?[D+" "+e.Nl[k],"definition missing (used "+(u>>16)+" "+(u>>8&255)+" "+(u&255)+")"]:[D+" "+k,"definition missing (used "+(u>>16)+" "+(u>>8&255)+" "+(u&255)+")"]),this.w[k]=u,this.ac=
!1,this.$a[k]=e.Kj):this.$a[k]=e.Jj:this.$a[k]=e.gi;this.qb=this.ac?"(custom)":this.qb+" (custom*)"}else this.w=[];this.vd&&this.hh(r,D);-1!==this.rb&&(this.a.Jc=this.rb);-1!==this.Bb&&(this.a.Ic=this.Bb);2<b&&!this.B&&(this.Za=!0);this.Za&&(w="not possible due to "+d.Sg,this.rd&&(r[r.length]=[d.Wf,w],this.rd=!1),-1!==this.Le&&(r[r.length]=[d.Ng+" "+this.Le,w]),-1!==this.Ra&&(r[r.length]=[d.ug+" "+this.Ra,w]));this.ia+e.jc+2*Math.abs(this.X)>=this.a.wa&&(r[r.length]=[d.Vg+" "+this.X,"pattern does not fit on grid at this offset"],
this.X=0);this.Ha+e.jc+2*Math.abs(this.Y)>=this.a.wa&&(r[r.length]=[d.Yg+" "+this.Y,"pattern does not fit on grid at this offset"],this.Y=0);this.Bd=r.length}this.vd&&this.ib&&(this.ib.upper=this.a.xb)};q.prototype.gh=function(){this.pb=!1;this.Ra=this.Le=-1;this.rd=!1;this.w=[];this.J=null};q.prototype.ii=function(){this.j=this.rf;this.g=this.Gd;this.a.zoom=this.tf;this.A&&(this.A.current=this.Ab([this.a.zoom,this.a.zoom],!1,this));this.u=this.Ee;this.fa=!1;this.i.fa=!1;this.H.N=!1};q.prototype.Sf=
function(a){a.fa&&(a.ii(),a.resize())};q.prototype.resize=function(){this.o.width=this.j;this.o.height=this.g;this.Md.width=this.j;this.Md.height=this.g;this.lb.textBaseline="middle";this.a.yj(this.j,this.g)};q.prototype.Lj=function(){this.rf=this.j;this.Gd=this.g;this.tf=this.a.zoom;this.Ee=this.u;this.j>>=2;this.g>>=2;this.a.zoom=this.a.zoom/4;this.j&=-8;this.H.N=!0;this.fa=this.i.fa=!0};q.prototype.Hj=function(a,b){var c=null,d=0,f=0,k=0,h=!1,d=0;this.B=!1;this.mb=[];try{if(c=PatternManager.create("new",
a))for(this.ia=c.width,this.Ha=c.height,this.Jb=c.Jb,""===this.Jb&&(this.Jb="(none)"),this.P=c.Ae,this.bb=c.Be,this.ye=c.Mb,this.Va=PatternManager.Va,this.B=c.ef,this.sc=new Uint8Array(this.P),this.rc=new Uint32Array(this.P),d=0;d<this.P;d+=1)this.sc[d]=PatternManager.Zb[d],this.rc[d]=PatternManager.Ij[d];else this.bb=this.P=this.Ha=this.ia=0,this.Jb="(none)"}catch(l){c=null,this.bb=this.P=this.Ha=this.ia=0,this.Jb="(failed)"}this.a.Cg=e.Ii;this.Y=this.X=0;this.zb=this.Gc=-1;this.he=!1;this.za=this.H.locked=
!1;this.a.Uk();this.a.Vk();this.B&&((PatternManager.Zb[2]||PatternManager.Zb[3]||PatternManager.Zb[4]||PatternManager.Zb[5]||PatternManager.Zb[6])&&this.a.Ik(),PatternManager.Zb[6]&&this.a.Jk());this.ua="";this.He=!1;ColourManager.ad();this.a.Ak();this.B?this.a.jd(10,1):this.a.jd(1,1);this.Tb=60;this.I=1;this.a.l=1;this.a.vb=.1;this.a.s=0;this.a.zoom=6;this.a.F=this.a.width/2;this.a.G=this.a.height/2;this.Vc=this.Uc=this.Xc=!1;this.Eb=this.Oa=-1;this.c[e.ke]=-1;this.c[e.je]=-1;this.c[e.$f]=-1;this.c[e.wd]=
-1;this.c[e.bg]=-1;this.c[e.cg]=-1;this.c[e.dg]=-1;this.c[e.eg]=-1;this.c[e.fg]=-1;this.c[e.ag]=-1;this.fa&&(this.ii(),this.resize());this.Pg=!1;this.Za=this.rd=this.Ya=this.i.fa=!1;this.a.Ia=!1;this.R.N=!1;this.Gb.N=!1;this.W.N=!1;this.La.N=!1;this.zc.N=!1;this.Qa.N=!1;this.pa.N=!1;this.ib.N=!1;this.H.N=!1;this.Wb.N=!1;this.zc.current=[!1];this.Gb.current=[!1];this.U=this.u=0;this.df.current=this.Jf([this.u],!0,this);this.a.Jc=this.a.Ti;this.a.Ic=this.a.Si;this.a.$c=10;this.rb=this.Bb=-1;this.ya=
[96,96,96];this.a.fe=this.a.lf?4284506208:1616929023;this.D.reset();this.Ac=this.pb=!1;if(c){if(PatternManager.Fb||c.ef)c.ef?(this.sb=ColourManager.Di("LifeHistory"),this.sb[2]=96):this.sb=ColourManager.Di(c.Mb),this.sb.length?this.qb=c.Mb:(this.sb=ColourManager.sh,this.qb="(default)");this.gh();c.title&&(this.dh(c.title,c.Ae),this.mb.length&&(this.U=1),this.fa&&b&&(this.fa=!1),-1<this.Oa&&(this.Oa&=-8,this.Oa!==this.j&&(this.j=this.Oa,h=!0)),-1<this.Eb&&this.Eb!==this.g&&(this.g=this.Eb,h=!0));for(;this.a.width<
this.a.wa&&(c.width+e.jc+2*Math.abs(this.X)>=this.a.width||c.height+e.jc+2*Math.abs(this.Y)>=this.a.height);)this.a.Ui(),this.ne+=this.a.width>>2,this.oe+=this.a.height>>2,this.Pd+=this.a.width>>2,this.Qd+=this.a.height>>2;this.B&&PatternManager.Zb[6]&&this.a.pl(c,this.X,this.Y);this.J?this.i.notification.nh="rgb("+this.J[0]+","+this.J[1]+","+this.J[2]+")":this.i.notification.nh=this.i.notification.wj;if(0===this.w.length)for(d=0;d<this.sb.length;d+=1)this.$a[d]=PatternManager.Zb[d]?e.Kj:e.gi;this.a.yb?
(this.a.Fk(this.sb,this.w),this.a.Hc=!0):this.a.Hc=!1;this.Xg(c);this.a.Rl(c.ec,c.Dc);this.ud=RuleManager.Cl(this.a.dc,this.a.$b);-1===this.ud&&(RuleManager.add(RuleManager.Bj(this.a.dc,this.a.$b),RuleManager.Bj(this.a.dc,this.a.$b)),this.ud=RuleManager.length()-1);this.Eg.Lb=RuleManager.Dg(this.ud).name}this.pd.current=[this.za];this.se.current=[this.a.Ia];this.a.ul(this.B);this.elapsedTime=this.a.m=0;this.Ya?(c&&0<this.w.length&&(this.sb=this.w),this.a.Hk(this.sb),this.a.Nb.reset()):(this.a.wl(this.a.ub),
this.B&&PatternManager.Zb[2]&&this.a.Dk(c,this.X,this.Y),this.a.xl(this.a.ub),this.a.Fl(this.Ac));c&&(c.kb=null);this.Ta=this.Wa=!1;d=this.a.zoom;f=this.a.F;k=this.a.G;this.Ad(!0,!1);this.Xc&&(this.a.zoom=d);this.Uc&&(this.a.F=f);this.Vc&&(this.a.G=k);this.pb&&this.ih(this.mb);this.Ji=this.a.zoom;this.A&&(this.A.current=this.Ab([this.a.zoom,this.a.zoom],!1,this));this.ne=this.a.F;this.oe=this.a.G;this.le=this.a.s;this.va&&(this.va.current=[this.le,this.le]);this.xd=this.a.gc;this.ib&&(this.ib.current=
[this.xd,this.xd]);this.wh=this.Tb;d=Math.sqrt((this.wh-e.Vb)/(e.cd-e.Vb));this.W&&(this.W.current=this.$d([d,d],!0,this));this.hg=this.I;this.La&&(this.La.current=this.Tg([this.hg,this.hg],!0,this));this.me=this.a.l;this.Qa&&(this.Qa.current=[this.me,this.me]);this.uh=this.a.vb;d=Math.sqrt(this.uh);this.pa&&(this.pa.current=this.Zd([d,d],!0,this));this.bc=!0;this.rd?(this.Ja=!0,this.R.current=e.we):(this.Ja=!1,this.R.current=e.Ea);this.Ej(this.Ja);this.g<e.nf?(this.zc.N=!0,this.R.x=this.Cd+50,this.R.Xb=
this.R.x,this.W.x=this.Yc+50,this.W.Xb=this.W.x,this.La.x=this.Fd+50):(this.R.x=this.Cd,this.R.Xb=this.R.x,this.W.x=this.Yc,this.W.Xb=this.W.x,this.La.x=this.Fd);this.La.Xb=this.La.x;if(h||this.fa)this.fa&&this.Lj(),this.resize();c||(PatternManager.ld?this.i.notification.O("Pattern too big!",e.Bh,!1):this.i.notification.O("Invalid pattern!",e.Bh,!1));this.mb.length?this.u=0:this.U=0;this.Va||(this.Za=!0);this.Za&&(this.R.N=!0,this.Gb.N=!0,this.Wb.N=!0,this.W.N=!0,this.La.N=!0,this.Ya&&(this.Qa.N=
!0,this.pa.N=!0,this.ib.N=!0,this.a.l=1));this.Yh(null,6,14,0);this.wb=!1;this.rg="";this.Cj(this);this.i.Oe=!0;this.i.Sd(!0);this.Cb&&this.Qg&&(""===this.ua?this.Qg.nodeValue="LifeViewer":this.Qg.nodeValue=this.Pb(this.ua,30))};registerEvent(window,"load",function(){for(var a=document.getElementsByTagName("div"),d=0,c=null,e=c=null,f=null,k=f=e=null,e=f=null,e=!1,d=document.getElementsByTagName("meta"),f=c=0,f=null,f="",e=null,k="",c=0;c<d.length;c+=1)if(f=d[c],f.name===l.tagName&&(l.Fh=!1,l.tg=
!1,f=f.content,e=f.match(/\S+/g),2<=e.length&&5>=e.length))for(l.jg=e[0],l.qf=e[1],f=2;f<e.length;f+=1)switch(e[f]){case "hide":l.Fh=!0;break;case "limit":l.tg=!0;break;default:k=e[f],!isNaN(parseFloat(k))&&isFinite(k)&&(l.zg=parseFloat(k)|0)}for(d=0;d<a.length;d+=1)if(f=a[d],f.className===l.jg)c=f.getElementsByTagName(l.qf)[0],f=f.getElementsByTagName("canvas")[0],typedArrays&&f&&f.getContext?c&&(e=b(c),-1<l.zg&&c.clientHeight>l.zg&&(c.style.height=l.zg+"px"),n(e,f,c.offsetWidth,!1)):l.Fh&&f&&(f.style.display=
"none");else if(typedArrays&&f.className===l.Mk&&f.parentNode.className!==l.jg&&(c=f.getElementsByTagName(l.qf)[0])){var e=b(c),c=null,k=!1,h=null;try{h=PatternManager.create("new",e),h.Z&&(k=!0)}catch(p){}if(e=k)c=f.getElementsByTagName("a")[0],e=document.createElement("a"),e.setAttribute("href","#"),e.innerHTML="Show in Viewer",registerEvent(e,"click",w,!1),k=document.createTextNode(" / "),c.parentNode.appendChild(k),c.parentNode.appendChild(e);e=!1}},!1);window.Keywords=d;window.ViewConstants=
e;window.updateViewer=p;window.hideViewer=f;window.launchInMolly=I})();
